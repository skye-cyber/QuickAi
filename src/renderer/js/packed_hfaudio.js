/*! For license information please see packed_hfaudio.js.LICENSE.txt */
(()=>{"use strict";var t,e,n,r,o={94117:(t,e,n)=>{n.a(t,(async(t,e)=>{try{var r=n(11981);function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function H(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=B(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function B(t,e){if(t){if("string"==typeof t)return S(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(t,e):void 0}}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function j(){j=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var a=e&&e.prototype instanceof g?e:g,i=Object.create(a.prototype),s=new S(r||[]);return o(i,"_invoke",{value:_(t,n,s)}),i}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",y="executing",h="completed",m={};function g(){}function w(){}function v(){}var b={};u(b,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(O([])));k&&k!==n&&r.call(k,i)&&(b=k);var E=v.prototype=g.prototype=Object.create(b);function A(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function n(o,a,i,s){var c=d(t[o],t,a);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==T(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,i,s)}),(function(t){n("throw",t,i,s)})):e.resolve(l).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function _(e,n,r){var o=f;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=y;var u=d(e,n,r);if("normal"===u.type){if(o=r.done?h:p,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=h,r.method="throw",r.arg=u.arg)}}}function C(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=d(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function H(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function B(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(H,this),this.reset(!0)}function O(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(T(e)+" is not iterable")}return w.prototype=v,o(E,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:w,configurable:!0}),w.displayName=u(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,c,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},A(L.prototype),u(L.prototype,s,(function(){return this})),e.AsyncIterator=L,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new L(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},A(E),u(E,c,"Generator"),u(E,i,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=O,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(B),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),B(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;B(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:O(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function O(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function I(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){O(a,r,o,i,s,"next",t)}function s(t){O(a,r,o,i,s,"throw",t)}i(void 0)}))}}var o=await window.electron.HUGGINGHUB_API_KEY(),a=new r.Uy(o),i=null,s=null,c=null;document.addEventListener("DOMContentLoaded",(function(){i=new window.Timer}));var u=new CustomEvent("LoaderHandler",{detail:{message:"Loader outdid its purpose!"}});function M(t){return P.apply(this,arguments)}function P(){return(P=I(j().mark((function t(e){var n;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.automaticSpeechRecognition({data:e,model:"openai/whisper-large-v3-turbo",provider:"hf-inference"});case 2:return n=t.sent,console.log(n),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var l=document.getElementById("chatArea"),d=document.getElementById("AutoScroll");function U(t){t.target.remove()}function N(t){return $.apply(this,arguments)}function $(){return($=I(j().mark((function t(e){var n;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,document.getElementById("suggestions")&&document.getElementById("suggestions").classList.add("hidden"),i.trackTime("start"),window.HandleProcessingEventChanges("show"),f=e,p=void 0,y=void 0,h=void 0,m=void 0,p=document.createElement("section"),y=document.createElement("audio"),h=document.createElement("div"),(m=document.createElement("div")).classList.add("flex","justify-end"),p.classList.add("flex","justify-end","items-center","p-2","w-fit","rounded-lg","bg-blue-300","dark:bg-gray-700","my-2"),h.classList.add("animate-spin","rounded-full","h-12","w-12","border-t-2","border-blue-500","ml-2"),y.src=f,y.controls=!0,h.innerHTML="",p.appendChild(y),p.appendChild(h),m.appendChild(p),l.appendChild(m),d.checked&&scrollToBottom(l),h.addEventListener("LoaderHandler",U),s=h,c=p,t.next=7,window.electron.readFileData(e);case 7:return n=t.sent,t.next=10,M(n);case 10:return r=t.sent,o=void 0,void 0,o=document.createElement("div"),a="msg_".concat(Math.random().toString(30).substring(3,9)),o.classList.add("flex","justify-start","mb-12","overflow-wrap"),l.appendChild(o),o.innerHTML='\n\t<section class="relative w-fit max-w-full lg:max-w-6xl mb-8 p-2">\n\t<div class="'.concat(a,' bg-gray-200 py-4 text-gray-800 dark:bg-[#28185a] dark:text-white rounded-lg px-4 mb-6 pb-4">\n\t<p style="color: #333;">').concat(window.marked(r),'</p>\n\t</div>\n\t<section class="options flex absolute bottom-2 left-0 space-x-4 cursor-pointer">\n\t<div class="p-1 border-none" id="exportButton" onclick="toggleExportOptions(this);" title="Export">\n\t<svg class="fill-black dark:fill-gray-700 text-gray-600 bg-[#5555ff] dark:bg-white w-6 h-6 rounded-full" viewBox="0 0 24 24">\n\t<path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>\n\t</svg>\n\t</div>\n\t<div class="rounded-lg p-1 cursor-pointer" aria-label="Copy" title="Copy" id="copy-all" onclick="CopyAll(\'.').concat(a,'\');">\n\t<svg class="w-5 md:w-6 h-5 md:h-6" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t<path class="fill-black dark:fill-pink-300" fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z"/></path>\n\t</svg>\n\t</div>\n\t</section>\n\t<div id="exportOptions" class="hidden block absolute bottom-10 left-0 bg-white dark:bg-gray-800 p-2 rounded shadow-md z-50 transition-300">\n\t<ul class="list-none p-0">\n\t<li class="mb-2">\n\t<a href="" class="text-blue-500 dark:text-blue-400" onclick="HTML2Pdf(event, \'.').concat(a,'\')">Export to PDF</a>\n\t</li>\n\t<li class="mb-2">\n\t<a href="" class="text-blue-500 dark:text-blue-400" onclick="HTML2Jpg(event, \'.').concat(a,'\')">Export to JPG</a>\n\t</li>\n\t<li>\n\t<a href="" class="text-blue-500 dark:text-blue-400" onclick="HTML2Word(event, \'.').concat(a,'\')">Export to DOCX</a>\n\t</li>\n\t<li>\n\t<a href="" class="cursor-not-allowed text-blue-500 dark:text-blue-400 decoration-underline" onclick="SuperHTML2Word(event, \'.').concat(a,"')\">Word Export Advance</a>\n\t</li>\n\t</ul>\n\t</div>\n\t</section>\n\t"),d.checked&&scrollToBottom(l),window.addCopyListeners(),window.debounceRenderMathJax(a),window.HandleProcessingEventChanges("hide"),i.trackTime("stop"),s.dispatchEvent(u),D(),t.abrupt("return",!0);case 19:t.prev=19,t.t0=t.catch(0),q(t.t0,e),console.log(t.t0);case 23:case"end":return t.stop()}var r,o,a,f,p,y,h,m}),t,null,[[0,19]])})))).apply(this,arguments)}function q(t,e){s.dispatchEvent(u),window.HandleProcessingEventChanges("hide"),i.trackTime("interrupt");var n=document.getElementById("errorContainer"),r=document.getElementById("errorArea"),o=document.getElementById("closeEModal"),a=document.getElementById("retryBt");o.addEventListener("click",(function(t){t.stopPropagation(),f()})),function(){setTimeout((function(){n.classList.remove("hidden"),n.classList.add("left-1/2","opacity-100","pointer-events-auto")}),200);var e="Failed to fetch"===t.message?"Connection Error: Check your Internet!":t.message;r.textContent=e}();var l=a.cloneNode(!0);a.replaceWith(l);var d=document.getElementById("retryBt");function f(){return p.apply(this,arguments)}function p(){return(p=I(j().mark((function t(){return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:setTimeout((function(){n.classList.remove("left-1/2","-translate-x-1/2"),n.classList.add("-translate-x-full","opacity-0","pointer-events-none")}),0),setTimeout((function(){n.classList.remove("opacity-100","-translate-x-full"),n.classList.add("hidden","-translate-x-1/2")}),0);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(){return h.apply(this,arguments)}function h(){return(h=I(j().mark((function t(){return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f();case 2:c.remove(),N(e);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}d.removeEventListener("click",y),d.addEventListener("click",(function(){y()}))}function D(){var t,e=!1,n=H(document.getElementsByTagName("script"));try{for(n.s();!(t=n.n()).done;)if(t.value.src.includes("packed_utility.js"))return console.log("Utility script already exits. Not adding"),e=!0}catch(t){n.e(t)}finally{n.f()}return console.log("Utility missing. Adding"),window.electron.send("toMain",{message:"set-Utitility-Script"}),e}var f,p,y,h=document.getElementById("microphone"),m=document.getElementById("microphoneSVG"),g=document.getElementById("recordingModal"),w=document.getElementById("recordingTime"),v=document.getElementById("pauseButton"),b=document.getElementById("startButton"),x=document.getElementById("finishButton"),k=document.getElementById("cancelButton"),E=[],A=!1,L=0,_=!1,C=!0;function G(){return R.apply(this,arguments)}function R(){return R=I(j().mark((function t(){var e,n,r,o=arguments;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=o.length>0&&void 0!==o[0]?o[0]:null,t.prev=1,n=function(){var t=I(j().mark((function t(){return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{r.getTracks().forEach((function(t){return t.stop()})),console.log("Media device released.")}catch(t){}case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),"release"!==e){t.next=8;break}return t.next=6,n();case 6:return x.classList.add("cursor-not-allowed"),t.abrupt("return");case 8:return m.classList.add("animate-pulse"),x.classList.remove("cursor-not-allowed"),t.next=12,navigator.mediaDevices.getUserMedia({audio:!0});case 12:r=t.sent,(f=new MediaRecorder(r)).ondataavailable=function(t){E.push(t.data)},f.onstop=function(){var t=I(j().mark((function t(e){var r,o;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!C){t.next=10;break}return r=new Blob(E,{type:"audio/wav"}),m.classList.remove("animate-pulse"),t.next=5,window.electron.saveRecording(r);case 5:return o=t.sent,console.log(o),t.next=9,n();case 9:N(o);case 10:E=[];case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f.start(),p=Date.now(),A=!0,b.classList.add("hidden"),v.classList.remove("hidden"),F(),t.next=27;break;case 24:t.prev=24,t.t0=t.catch(1),console.error("Error accessing microphone:",t.t0);case 27:case"end":return t.stop()}}),t,null,[[1,24]])}))),R.apply(this,arguments)}function z(){A&&(f.pause(),v.classList.add("hidden"),b.classList.remove("hidden"),clearInterval(y),A=!1,_=!0,m.classList.remove("animate-pulse"),console.log("paused",_))}function V(){f.stop(),clearInterval(y),w.textContent="00:00:00",v.classList.add("hidden"),b.classList.remove("hidden"),A=!1,C=!0,console.log("Finished Recording"),X(),G("release"),m.classList.remove("animate-pulse")}function W(){f.stop(),clearInterval(y),w.textContent="00:00:00",v.classList.add("hidden"),b.classList.remove("hidden"),A=!1,_=!1,C=!1,console.log("Recording Cancelled"),X(),G("release"),m.classList.remove("animate-pulse")}function F(){p=!0===(arguments.length>0&&void 0!==arguments[0]&&arguments[0])?Date.now()-L:p,y=setInterval((function(){var t,e,n,r,o,a=(t=L=Date.now()-p,n=(e=Math.floor(t/1e3))%60,r=Math.floor(e/60)%60,o=Math.floor(e/3600),"".concat(J(o),":").concat(J(r),":").concat(J(n)));w.textContent=a}),1e3)}function J(t){return(t<10?"0":"")+t}function X(){g.classList.add("hidden")}b.addEventListener("click",(function(){_?(m.classList.add("animate-pulse"),f.resume(),v.classList.remove("hidden"),b.classList.add("hidden"),F(!0),A=!0,_=!1,console.log("Resumed",_)):G()})),v.addEventListener("click",z),x.addEventListener("click",V),k.addEventListener("click",W),h.addEventListener("click",(function(){g.classList.remove("hidden")})),e()}catch(Q){e(Q)}}),1)},11981:(t,e,n)=>{n.d(e,{Uy:()=>X});var r=Object.defineProperty,o={};function a(t,e){const n=Array.isArray(e)?e:[e];return function(t,e){return Object.assign({},...e.map((e=>{if(void 0!==t[e])return{[e]:t[e]}})))}(t,Object.keys(t).filter((t=>{return e=t,!n.includes(e);var e})))}function i(t){return/^http(s?):/.test(t)||t.startsWith("/")}((t,e)=>{for(var n in e)r(t,n,{get:e[n],enumerable:!0})})(o,{audioClassification:()=>w,audioToAudio:()=>x,automaticSpeechRecognition:()=>v,chatCompletion:()=>R,chatCompletionStream:()=>z,documentQuestionAnswering:()=>V,featureExtraction:()=>B,fillMask:()=>S,imageClassification:()=>k,imageSegmentation:()=>E,imageToImage:()=>T,imageToText:()=>A,objectDetection:()=>L,questionAnswering:()=>j,request:()=>h,sentenceSimilarity:()=>O,streamingRequest:()=>m,summarization:()=>I,tableQuestionAnswering:()=>M,tabularClassification:()=>J,tabularRegression:()=>F,textClassification:()=>P,textGeneration:()=>N,textGenerationStream:()=>$,textToImage:()=>_,textToSpeech:()=>b,tokenClassification:()=>q,translation:()=>D,visualQuestionAnswering:()=>W,zeroShotClassification:()=>G,zeroShotImageClassification:()=>H});var s=new Map,c=6e5,u=1e3,l="https://huggingface.co";async function d(t,e,n){if(i(t))return null;const r=`${t}:${e}`;let o=s.get(r);if(o&&o.date<new Date(Date.now()-c)&&(s.delete(r),o=void 0),void 0===o){const a=await(n?.fetch??fetch)(`${l}/api/models/${t}?expand[]=pipeline_tag`,{headers:e?{Authorization:`Bearer ${e}`}:{}}).then((t=>t.json())).then((t=>t.pipeline_tag)).catch((()=>null));if(!a)return null;o={task:a,date:new Date},s.set(r,{task:a,date:new Date}),s.size>u&&s.delete(s.keys().next().value)}return o.task}var f="https://api-inference.huggingface.co",p=null;async function y(t,e){const{accessToken:n,endpointUrl:r,...o}=t;let{model:s}=t;const{forceTask:c,includeCredentials:u,taskHint:d,wait_for_model:y,use_cache:h,dont_load_model:m,chatCompletion:g}=e??{},w={};if(n&&(w.Authorization=`Bearer ${n}`),!s&&!p&&d){const t=await fetch(`${l}/api/tasks`);t.ok&&(p=await t.json())}if(!s&&p&&d){const t=p[d];t&&(s=t.models[0].id)}if(!s)throw new Error("No model provided, and no default model found for this task");const v="data"in t&&!!t.data;v||(w["Content-Type"]="application/json"),y&&(w["X-Wait-For-Model"]="true"),!1===h&&(w["X-Use-Cache"]="false"),m&&(w["X-Load-Model"]="0");let b,x=(()=>{if(r&&i(s))throw new TypeError("Both model and endpointUrl cannot be URLs");return i(s)?(console.warn("Using a model URL is deprecated, please use the `endpointUrl` parameter instead"),s):r||(c?`${f}/pipeline/${c}/${s}`:`${f}/models/${s}`)})();return g&&!x.endsWith("/chat/completions")&&(x+="/v1/chat/completions"),"string"==typeof u?b=u:!0===u&&(b="include"),{url:x,info:{headers:w,method:"POST",body:v?t.data:JSON.stringify({...o.model&&i(o.model)?a(o,"model"):o}),...b&&{credentials:b},signal:e?.signal}}}async function h(t,e){const{url:n,info:r}=await y(t,e),o=await(e?.fetch??fetch)(n,r);if(!1!==e?.retry_on_error&&503===o.status&&!e?.wait_for_model)return h(t,{...e,wait_for_model:!0});if(!o.ok){if(o.headers.get("Content-Type")?.startsWith("application/json")){const n=await o.json();if([400,422,404,500].includes(o.status)&&e?.chatCompletion)throw new Error(`Server ${t.model} does not seem to support chat completion. Error: ${n.error}`);if(n.error)throw new Error(JSON.stringify(n.error))}throw new Error("An error occurred while fetching the blob")}return o.headers.get("Content-Type")?.startsWith("application/json")?await o.json():await o.blob()}async function*m(t,e){const{url:n,info:r}=await y({...t,stream:!0},e),o=await(e?.fetch??fetch)(n,r);if(!1!==e?.retry_on_error&&503===o.status&&!e?.wait_for_model)return yield*m(t,{...e,wait_for_model:!0});if(!o.ok){if(o.headers.get("Content-Type")?.startsWith("application/json")){const n=await o.json();if([400,422,404,500].includes(o.status)&&e?.chatCompletion)throw new Error(`Server ${t.model} does not seem to support chat completion. Error: ${n.error}`);if(n.error)throw new Error(n.error)}throw new Error(`Server response contains error: ${o.status}`)}if(!o.headers.get("content-type")?.startsWith("text/event-stream"))throw new Error("Server does not support event stream content type, it returned "+o.headers.get("content-type"));if(!o.body)return;const a=o.body.getReader();let i=[];const s=function(t){let e,n,r,o=!1;return function(a){void 0===e?(e=a,n=0,r=-1):e=function(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}(e,a);const i=e.length;let s=0;for(;n<i;){o&&(10===e[n]&&(s=++n),o=!1);let a=-1;for(;n<i&&-1===a;++n)switch(e[n]){case 58:-1===r&&(r=n-s);break;case 13:o=!0;case 10:a=n}if(-1===a)break;t(e.subarray(s,a),r),s=n,r=-1}s===i?e=void 0:0!==s&&(e=e.subarray(s),n-=s)}}(function(){let t={data:"",event:"",id:"",retry:void 0};const e=new TextDecoder;return function(n,r){if(0===n.length)o=t,i.push(o),t={data:"",event:"",id:"",retry:void 0};else if(r>0){const o=e.decode(n.subarray(0,r)),a=r+(32===n[r+1]?2:1),i=e.decode(n.subarray(a));switch(o){case"data":t.data=t.data?t.data+"\n"+i:i;break;case"event":t.event=i;break;case"id":t.id=i;break;case"retry":const e=parseInt(i,10);isNaN(e)||(t.retry=e)}}var o}}());try{for(;;){const{done:t,value:e}=await a.read();if(t)return;s(e);for(const t of i)if(t.data.length>0){if("[DONE]"===t.data)return;const e=JSON.parse(t.data);if("object"==typeof e&&null!==e&&"error"in e)throw new Error(e.error);yield e}i=[]}}finally{a.releaseLock()}}var g=class extends TypeError{constructor(t){super(`Invalid inference output: ${t}. Use the 'request' method with the same parameters to do a custom call with no type checking.`),this.name="InferenceOutputError"}};async function w(t,e){const n=await h(t,{...e,taskHint:"audio-classification"});if(!Array.isArray(n)||!n.every((t=>"string"==typeof t.label&&"number"==typeof t.score)))throw new g("Expected Array<{label: string, score: number}>");return n}async function v(t,e){const n=await h(t,{...e,taskHint:"automatic-speech-recognition"});if("string"!=typeof n?.text)throw new g("Expected {text: string}");return n}async function b(t,e){const n=await h(t,{...e,taskHint:"text-to-speech"});if(!(n&&n instanceof Blob))throw new g("Expected Blob");return n}async function x(t,e){const n=await h(t,{...e,taskHint:"audio-to-audio"});if(!Array.isArray(n)||!n.every((t=>"string"==typeof t.label&&"string"==typeof t.blob&&"string"==typeof t["content-type"])))throw new g("Expected Array<{label: string, blob: string, content-type: string}>");return n}async function k(t,e){const n=await h(t,{...e,taskHint:"image-classification"});if(!Array.isArray(n)||!n.every((t=>"string"==typeof t.label&&"number"==typeof t.score)))throw new g("Expected Array<{label: string, score: number}>");return n}async function E(t,e){const n=await h(t,{...e,taskHint:"image-segmentation"});if(!Array.isArray(n)||!n.every((t=>"string"==typeof t.label&&"string"==typeof t.mask&&"number"==typeof t.score)))throw new g("Expected Array<{label: string, mask: string, score: number}>");return n}async function A(t,e){const n=(await h(t,{...e,taskHint:"image-to-text"}))?.[0];if("string"!=typeof n?.generated_text)throw new g("Expected {generated_text: string}");return n}async function L(t,e){const n=await h(t,{...e,taskHint:"object-detection"});if(!Array.isArray(n)||!n.every((t=>"string"==typeof t.label&&"number"==typeof t.score&&"number"==typeof t.box.xmin&&"number"==typeof t.box.ymin&&"number"==typeof t.box.xmax&&"number"==typeof t.box.ymax)))throw new g("Expected Array<{label:string; score:number; box:{xmin:number; ymin:number; xmax:number; ymax:number}}>");return n}async function _(t,e){const n=await h(t,{...e,taskHint:"text-to-image"});if(!(n&&n instanceof Blob))throw new g("Expected Blob");return n}function C(t){if(globalThis.Buffer)return globalThis.Buffer.from(t).toString("base64");{const e=[];return t.forEach((t=>{e.push(String.fromCharCode(t))})),globalThis.btoa(e.join(""))}}async function T(t,e){let n;n=t.parameters?{...t,inputs:C(new Uint8Array(t.inputs instanceof ArrayBuffer?t.inputs:await t.inputs.arrayBuffer()))}:{accessToken:t.accessToken,model:t.model,data:t.inputs};const r=await h(n,{...e,taskHint:"image-to-image"});if(!(r&&r instanceof Blob))throw new g("Expected Blob");return r}async function H(t,e){const n={...t,inputs:{image:C(new Uint8Array(t.inputs.image instanceof ArrayBuffer?t.inputs.image:await t.inputs.image.arrayBuffer()))}},r=await h(n,{...e,taskHint:"zero-shot-image-classification"});if(!Array.isArray(r)||!r.every((t=>"string"==typeof t.label&&"number"==typeof t.score)))throw new g("Expected Array<{label: string, score: number}>");return r}async function B(t,e){const n=t.model?await d(t.model,t.accessToken,e):void 0,r=await h(t,{...e,taskHint:"feature-extraction",..."sentence-similarity"===n&&{forceTask:"feature-extraction"}});let o=!0;const a=(t,e,n=0)=>!(n>e)&&(t.every((t=>Array.isArray(t)))?t.every((t=>a(t,e,n+1))):t.every((t=>"number"==typeof t)));if(o=Array.isArray(r)&&a(r,3,0),!o)throw new g("Expected Array<number[][][] | number[][] | number[] | number>");return r}async function S(t,e){const n=await h(t,{...e,taskHint:"fill-mask"});if(!Array.isArray(n)||!n.every((t=>"number"==typeof t.score&&"string"==typeof t.sequence&&"number"==typeof t.token&&"string"==typeof t.token_str)))throw new g("Expected Array<{score: number, sequence: string, token: number, token_str: string}>");return n}async function j(t,e){const n=await h(t,{...e,taskHint:"question-answering"});if("object"!=typeof n||!n||"string"!=typeof n.answer||"number"!=typeof n.end||"number"!=typeof n.score||"number"!=typeof n.start)throw new g("Expected {answer: string, end: number, score: number, start: number}");return n}async function O(t,e){const n=t.model?await d(t.model,t.accessToken,e):void 0,r=await h(t,{...e,taskHint:"sentence-similarity",..."feature-extraction"===n&&{forceTask:"sentence-similarity"}});if(!Array.isArray(r)||!r.every((t=>"number"==typeof t)))throw new g("Expected number[]");return r}async function I(t,e){const n=await h(t,{...e,taskHint:"summarization"});if(!Array.isArray(n)||!n.every((t=>"string"==typeof t?.summary_text)))throw new g("Expected Array<{summary_text: string}>");return n?.[0]}async function M(t,e){const n=await h(t,{...e,taskHint:"table-question-answering"});if(!("string"==typeof n?.aggregator&&"string"==typeof n.answer&&Array.isArray(n.cells)&&n.cells.every((t=>"string"==typeof t))&&Array.isArray(n.coordinates)&&n.coordinates.every((t=>Array.isArray(t)&&t.every((t=>"number"==typeof t))))))throw new g("Expected {aggregator: string, answer: string, cells: string[], coordinates: number[][]}");return n}async function P(t,e){const n=(await h(t,{...e,taskHint:"text-classification"}))?.[0];if(!Array.isArray(n)||!n.every((t=>"string"==typeof t?.label&&"number"==typeof t.score)))throw new g("Expected Array<{label: string, score: number}>");return n}function U(t){return Array.isArray(t)?t:[t]}async function N(t,e){const n=U(await h(t,{...e,taskHint:"text-generation"}));if(!Array.isArray(n)||!n.every((t=>"string"==typeof t?.generated_text)))throw new g("Expected Array<{generated_text: string}>");return n?.[0]}async function*$(t,e){yield*m(t,{...e,taskHint:"text-generation"})}async function q(t,e){const n=U(await h(t,{...e,taskHint:"token-classification"}));if(!Array.isArray(n)||!n.every((t=>"number"==typeof t.end&&"string"==typeof t.entity_group&&"number"==typeof t.score&&"number"==typeof t.start&&"string"==typeof t.word)))throw new g("Expected Array<{end: number, entity_group: string, score: number, start: number, word: string}>");return n}async function D(t,e){const n=await h(t,{...e,taskHint:"translation"});if(!Array.isArray(n)||!n.every((t=>"string"==typeof t?.translation_text)))throw new g("Expected type Array<{translation_text: string}>");return 1===n?.length?n?.[0]:n}async function G(t,e){const n=U(await h(t,{...e,taskHint:"zero-shot-classification"}));if(!Array.isArray(n)||!n.every((t=>Array.isArray(t.labels)&&t.labels.every((t=>"string"==typeof t))&&Array.isArray(t.scores)&&t.scores.every((t=>"number"==typeof t))&&"string"==typeof t.sequence)))throw new g("Expected Array<{labels: string[], scores: number[], sequence: string}>");return n}async function R(t,e){const n=await h(t,{...e,taskHint:"text-generation",chatCompletion:!0});if("object"!=typeof n||!Array.isArray(n?.choices)||"number"!=typeof n?.created||"string"!=typeof n?.id||"string"!=typeof n?.model||"string"!=typeof n?.system_fingerprint||"object"!=typeof n?.usage)throw new g("Expected ChatCompletionOutput");return n}async function*z(t,e){yield*m(t,{...e,taskHint:"text-generation",chatCompletion:!0})}async function V(t,e){const n={...t,inputs:{question:t.inputs.question,image:C(new Uint8Array(t.inputs.image instanceof ArrayBuffer?t.inputs.image:await t.inputs.image.arrayBuffer()))}},r=U(await h(n,{...e,taskHint:"document-question-answering"}))?.[0];if("string"!=typeof r?.answer||"number"!=typeof r.end&&void 0!==r.end||"number"!=typeof r.score&&void 0!==r.score||"number"!=typeof r.start&&void 0!==r.start)throw new g("Expected Array<{answer: string, end?: number, score?: number, start?: number}>");return r}async function W(t,e){const n={...t,inputs:{question:t.inputs.question,image:C(new Uint8Array(t.inputs.image instanceof ArrayBuffer?t.inputs.image:await t.inputs.image.arrayBuffer()))}},r=(await h(n,{...e,taskHint:"visual-question-answering"}))?.[0];if("string"!=typeof r?.answer||"number"!=typeof r.score)throw new g("Expected Array<{answer: string, score: number}>");return r}async function F(t,e){const n=await h(t,{...e,taskHint:"tabular-regression"});if(!Array.isArray(n)||!n.every((t=>"number"==typeof t)))throw new g("Expected number[]");return n}async function J(t,e){const n=await h(t,{...e,taskHint:"tabular-classification"});if(!Array.isArray(n)||!n.every((t=>"number"==typeof t)))throw new g("Expected number[]");return n}var X=class{accessToken;defaultOptions;constructor(t="",e={}){this.accessToken=t,this.defaultOptions=e;for(const[n,r]of Object.entries(o))Object.defineProperty(this,n,{enumerable:!1,value:(n,o)=>r({...n,accessToken:t},{...e,...o})})}endpoint(t){return new Q(t,this.accessToken,this.defaultOptions)}},Q=class{constructor(t,e="",n={}){for(const[r,a]of Object.entries(o))Object.defineProperty(this,r,{enumerable:!1,value:(r,o)=>a({...r,accessToken:e,endpointUrl:t},{...n,...o})})}}}},a={};function i(t){var e=a[t];if(void 0!==e)return e.exports;var n=a[t]={exports:{}};return o[t](n,n.exports,i),n.exports}t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=t=>{t&&t.d<1&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},i.a=(o,a,i)=>{var s;i&&((s=[]).d=-1);var c,u,l,d=new Set,f=o.exports,p=new Promise(((t,e)=>{l=e,u=t}));p[e]=f,p[t]=t=>(s&&t(s),d.forEach(t),p.catch((t=>{}))),o.exports=p,a((o=>{var a;c=(o=>o.map((o=>{if(null!==o&&"object"==typeof o){if(o[t])return o;if(o.then){var a=[];a.d=0,o.then((t=>{i[e]=t,r(a)}),(t=>{i[n]=t,r(a)}));var i={};return i[t]=t=>t(a),i}}var s={};return s[t]=t=>{},s[e]=o,s})))(o);var i=()=>c.map((t=>{if(t[n])throw t[n];return t[e]})),u=new Promise((e=>{(a=()=>e(i)).r=0;var n=t=>t!==s&&!d.has(t)&&(d.add(t),t&&!t.d&&(a.r++,t.push(a)));c.map((e=>e[t](n)))}));return a.r?u:i()}),(t=>(t?l(p[n]=t):u(f),r(s)))),s&&s.d<0&&(s.d=0)},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i(94117)})();
//# sourceMappingURL=packed_hfaudio.js.map