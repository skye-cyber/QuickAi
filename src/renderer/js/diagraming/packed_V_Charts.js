/*! For license information please see packed_V_Charts.js.LICENSE.txt */
(()=>{"use strict";var t={260:function(t,e,i){t=i.nmd(t),function(e){function n(t,e){function i(){this.constructor=t}kp(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function r(t,e,i,n){var r,o=arguments.length,s=3>o?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(r=t[a])&&(s=(3>o?r(s):3<o?r(e,i,s):r(e,i))||s);return 3<o&&s&&Object.defineProperty(e,i,s),s}function o(t){var e="function"==typeof Symbol&&t[Symbol.iterator],i=0;return e?e.call(t):{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}}}function s(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;t=i.call(t);var n,r=[];try{for(;(void 0===e||0<e--)&&!(n=t.next()).done;)r.push(n.value)}catch(t){var o={error:t}}finally{try{n&&!n.done&&(i=t.return)&&i.call(t)}finally{if(o)throw o.error}}return r}function a(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t}function h(t){return void 0!==t}function l(t,e){return Op.call(t,e)}function u(t,e){return-1<(e=t&&t.indexOf(e))&&t.splice(e,1),e}function c(t,e){if(e){e=e.split(".");for(var i=0;void 0!==t&&i<e.length;i++)t=t[e[i]]}return t}function p(t,e){if(e)for(var i=0;void 0!==t&&i<e.length;i++)t=t[e[i]];return t}function f(t){return null===t}function d(t){var e=typeof t;if("undefined"!==e){if("boolean"===e)return"boolean";if("number"===e)return"number";if("function"===e)return"function";if(t&&t.pop)return"array";if("string"===e)return"string";if(null===t)return"null";if("object"===e)return t&&t.getUTCMilliseconds?"date":"object"}return"undefined"}function m(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Fp.call(t)}function g(t,e){return function(i){return t(e(i))}}function v(t){return null!=t&&"object"==typeof t}function y(t){return null==t?"":ot(t)}function x(t){return!(!v(t)||"[object Object]"!=m(t))&&(null===(t=Vp(t))||"function"==typeof(t=Lp.call(t,"constructor")&&t.constructor)&&t instanceof t&&Ip.call(t)==Np)}function b(t,e){for(var i=-1,n=null==t?0:t.length,r=0,o=[];++i<n;){var s=t[i];e(s,i,t)&&(o[r++]=s)}return o}function w(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}function A(t){return v(t)&&"[object Arguments]"==m(t)}function C(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||Kp.test(t))&&-1<t&&0==t%1&&t<e}function S(t){return"number"==typeof t&&-1<t&&0==t%1&&9007199254740991>=t}function k(t){return function(e){return t(e)}}function _(t,e){var i,n=Rp(t),r=!n&&Hp(t),o=!n&&!r&&Xp(t),s=!n&&!r&&!o&&ef(t),a=(r=(n=n||r||o||s)?w(t.length,String):[]).length;for(i in t)!e&&!Lp.call(t,i)||n&&("length"==i||o&&("offset"==i||"parent"==i)||s&&("buffer"==i||"byteLength"==i||"byteOffset"==i)||C(i,a))||r.push(i);return r}function M(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Bp)}function T(t){if(!M(t))return nf(t);var e,i=[];for(e in Object(t))Lp.call(t,e)&&"constructor"!=e&&i.push(e);return i}function O(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function z(t){return!!O(t)&&("[object Function]"==(t=m(t))||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t)}function D(t){return null!=t&&S(t.length)&&!z(t)}function E(t){return D(t)?_(t):T(t)}function P(t,e){var i=[];return rf(t,(function(t,n,r){e(t,n,r)&&i.push(t)})),i}function B(t,e){return t===e||t!=t&&e!=e}function L(t,e){for(var i=t.length;i--;)if(B(t[i][0],e))return i;return-1}function R(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function F(t){if(null!=t){try{return Ip.call(t)}catch(t){}return t+""}return""}function V(t,e){return(e=!(!O(t=null==t?void 0:t[e])||hf&&hf in t)&&(z(t)?uf:lf).test(F(t)))?t:void 0}function I(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function N(t,e){t=t.__data__;var i=typeof e;return("string"==i||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==e:null===e)?t["string"==typeof e?"string":"hash"]:t.map}function j(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function W(t){this.size=(this.__data__=new R(t)).size}function H(t){var e=-1,i=null==t?0:t.length;for(this.__data__=new j;++e<i;)this.add(t[e])}function Y(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}function U(t,e){return t.has(e)}function G(t,e,i,n,r,o){var s=1&i,a=t.length,h=e.length;if(a!=h&&!(s&&h>a))return!1;if((h=o.get(t))&&o.get(e))return h==e;h=-1;var l=!0,u=2&i?new H:void 0;for(o.set(t,e),o.set(e,t);++h<a;){var c=t[h],p=e[h];if(n)var f=s?n(p,c,h,e,t,o):n(c,p,h,t,e,o);if(void 0!==f){if(f)continue;l=!1;break}if(u){if(!Y(e,(function(t,e){if(!u.has(e)&&(c===t||r(c,t,i,n,o)))return u.push(e)}))){l=!1;break}}else if(c!==p&&!r(c,p,i,n,o)){l=!1;break}}return o.delete(t),o.delete(e),l}function Z(t){var e=-1,i=Array(t.size);return t.forEach((function(t,n){i[++e]=[n,t]})),i}function X(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=t})),i}function q(t,e){for(var i=-1,n=e.length,r=t.length;++i<n;)t[r+i]=e[i];return t}function K(t,e,i){return e=e(t),Rp(t)?e:q(e,i(t))}function Q(){return[]}function $(t){return K(t,E,vf)}function J(t,e,i,n,r){if(t===e)return!0;if(null==t||null==e||!v(t)&&!v(e))return t!=t&&e!=e;t:{var o=Rp(t),s=Rp(e),a=o?"[object Array]":Mf(t),h=s?"[object Array]":Mf(e),l="[object Object]"==(a="[object Arguments]"==a?"[object Object]":a);if(s="[object Object]"==(h="[object Arguments]"==h?"[object Object]":h),(h=a==h)&&Xp(t)){if(!Xp(e)){e=!1;break t}o=!0,l=!1}if(h&&!l)r||(r=new W),e=o||ef(t)?G(t,e,i,n,J,r):function(t,e,i,n,r,o,s){switch(i){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)break;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":if(t.byteLength!=e.byteLength||!o(new ff(t),new ff(e)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return B(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=Z;case"[object Set]":if(a||(a=X),t.size!=e.size&&!(1&n))break;return(i=s.get(t))?i==e:(n|=2,s.set(t,e),e=G(a(t),a(e),n,r,o,s),s.delete(t),e);case"[object Symbol]":if(mf)return mf.call(t)==mf.call(e)}return!1}(t,e,a,i,n,J,r);else if(1&i||(o=l&&Lp.call(t,"__wrapped__"),a=s&&Lp.call(e,"__wrapped__"),!o&&!a))if(h)e:if(r||(r=new W),o=1&i,a=$(t),s=a.length,h=$(e).length,s==h||o){for(l=s;l--;){var u=a[l];if(!(o?u in e:Lp.call(e,u))){e=!1;break e}}if((h=r.get(t))&&r.get(e))e=h==e;else{h=!0,r.set(t,e),r.set(e,t);for(var c=o;++l<s;){var p=t[u=a[l]],f=e[u];if(n)var d=o?n(f,p,u,e,t,r):n(p,f,u,t,e,r);if(void 0===d?p!==f&&!J(p,f,i,n,r):!d){h=!1;break}c||(c="constructor"==u)}h&&!c&&(i=t.constructor)!=(n=e.constructor)&&"constructor"in t&&"constructor"in e&&!("function"==typeof i&&i instanceof i&&"function"==typeof n&&n instanceof n)&&(h=!1),r.delete(t),r.delete(e),e=h}}else e=!1;else e=!1;else t=o?t.value():t,e=a?e.value():e,r||(r=new W),e=J(t,e,i,n,r)}return e}function tt(t,e){return function(i){return null!=i&&i[t]===e&&(void 0!==e||t in Object(i))}}function et(t){var e=function(t){for(var e=E(t),i=e.length;i--;){var n=e[i],r=t[n];e[i]=[n,r,r==r&&!O(r)]}return e}(t);return 1==e.length&&e[0][2]?tt(e[0][0],e[0][1]):function(i){return i===t||function(t,e,i,n){var r=i.length,o=r,s=!n;if(null==t)return!o;for(t=Object(t);r--;){var a=i[r];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<o;){var h=(a=i[r])[0],l=t[h],u=a[1];if(s&&a[2]){if(void 0===l&&!(h in t))return!1}else{if(a=new W,n)var c=n(l,u,h,t,e,a);if(void 0===c?!J(u,l,3,n,a):!c)return!1}}return!0}(i,t,e)}}function it(t){return"symbol"==typeof t||v(t)&&"[object Symbol]"==m(t)}function nt(t,e){if(Rp(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!it(t))||Of.test(t)||!Tf.test(t)||null!=e&&t in Object(e)}function rt(t,e){for(var i=-1,n=null==t?0:t.length,r=Array(n);++i<n;)r[i]=e(t[i],i,t);return r}function ot(t){if("string"==typeof t)return t;if(Rp(t))return rt(t,ot)+"";if(it(t))return Rf?Rf.call(t):"";var e=t+"";return"0"==e&&1/t==-Lf?"-0":e}function st(t,e){return Rp(t)?t:nt(t,e)?[t]:Bf(y(t))}function at(t){if("string"==typeof t||it(t))return t;var e=t+"";return"0"==e&&1/t==-Lf?"-0":e}function ht(t,e){for(var i=0,n=(e=st(e,t)).length;null!=t&&i<n;)t=t[at(e[i++])];return i&&i==n?t:void 0}function lt(t){return t}function ut(t){return function(e){return null==e?void 0:e[t]}}function ct(t,e){return"function"==typeof t?t:null==t?lt:"object"==typeof t?Rp(t)?function(t,e){return nt(t)&&e==e&&!O(e)?tt(at(t),e):function(i){var n=null==i?void 0:ht(i,t);if(void 0===(n=void 0===n?void 0:n)&&n===e){if(n=null!=i){for(var r=-1,o=(n=st(n=t,i)).length,s=!1;++r<o;){var a=at(n[r]);if(!(s=null!=i&&null!=i&&a in Object(i)))break;i=i[a]}n=s||++r!=o?s:!!(o=null==i?0:i.length)&&S(o)&&C(a,o)&&(Rp(i)||Hp(i))}a=n}else a=J(e,n,3);return a}}(t[0],t[1]):et(t):nt(t)?ut(at(t)):function(t){return function(e){return ht(e,t)}}(t)}function pt(t,e,i,n){var r=t.length;for(i+=n?1:-1;n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function ft(t){if("number"==typeof t)return t;if(it(t))return Ff;if(O(t)&&(t=O(t="function"==typeof t.valueOf?t.valueOf():t)?t+"":t),"string"!=typeof t)return 0===t?t:+t;t=t.replace(Vf,"");var e=Nf.test(t);return e||jf.test(t)?Wf(t.slice(2),e?2:8):If.test(t)?Ff:+t}function dt(t){var e=(t=t?(t=ft(t))===Lf||t===-Lf?17976931348623157e292*(0>t?-1:1):t==t?t:0:0===t?t:0)%1;return t==t?e?t-e:t:0}function mt(t,e,i){var n=null==t?0:t.length;return n?(0>(i=null==i?0:dt(i))&&(i=Hf(n+i,0)),pt(t,ct(e),i)):-1}function gt(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function vt(t,e,i){"__proto__"==e&&Uf?Uf(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function yt(t,e,i){var n=t[e];Lp.call(t,e)&&B(n,i)&&(void 0!==i||e in t)||vt(t,e,i)}function xt(t,e,i,n){var r=!i;i||(i={});for(var o=-1,s=e.length;++o<s;){var a=e[o],h=n?n(i[a],t[a],a,i,t):void 0;void 0===h&&(h=t[a]),r?vt(i,a,h):yt(i,a,h)}return i}function bt(t,e,i){return e=Hf(void 0===e?t.length-1:e,0),function(){for(var n=arguments,r=-1,o=Hf(n.length-e,0),s=Array(o);++r<o;)s[r]=n[e+r];for(r=-1,o=Array(e+1);++r<e;)o[r]=n[r];return o[e]=i(s),gt(t,this,o)}}function wt(t){return function(){return t}}function At(t,e){return Zf(bt(t,e,lt),t+"")}function Ct(t,e,i){if(!O(i))return!1;var n=typeof e;return!!("number"==n?D(i)&&C(e,i.length):"string"==n&&e in i)&&B(i[e],t)}function St(t){return At((function(e,i){var n=-1,r=i.length,o=1<r?i[r-1]:void 0,s=2<r?i[2]:void 0;for(o=3<t.length&&"function"==typeof o?(r--,o):void 0,s&&Ct(i[0],i[1],s)&&(o=3>r?void 0:o,r=1),e=Object(e);++n<r;)(s=i[n])&&t(e,s,n,o);return e}))}function kt(t){if(D(t))t=_(t,!0);else if(O(t)){var e=M(t),i=[];for(n in t)("constructor"!=n||!e&&Lp.call(t,n))&&i.push(n);t=i}else{var n=[];if(null!=t)for(e in Object(t))n.push(e);t=n}return t}function _t(t,e,i,n){return void 0===t||B(t,Bp[i])&&!Lp.call(n,i)?e:t}function Mt(t,e,i){(void 0===i||B(t[e],i))&&(void 0!==i||e in t)||vt(t,e,i)}function Tt(t,e){return e?t.slice():(e=t.length,e=qp?qp(e):new t.constructor(e),t.copy(e),e)}function Ot(t){var e=new t.constructor(t.byteLength);return new ff(e).set(new ff(t)),e}function zt(t,e){return e=e?Ot(t.buffer):t.buffer,new t.constructor(e,t.byteOffset,t.length)}function Dt(t,e){var i=-1,n=t.length;for(e||(e=Array(n));++i<n;)e[i]=t[i];return e}function Et(t){return"function"!=typeof t.constructor||M(t)?{}:Qf(Vp(t))}function Pt(t){return v(t)&&D(t)}function Bt(t,e,i,n,r){t!==e&&jp(e,(function(o,s){if(O(o)){r||(r=new W),o=r;var a=t[s],h=e[s],l=o.get(h);if(!l){var u=void 0===(l=n?n(a,h,s+"",t,e,o):void 0);if(u){var c=Rp(h),p=!c&&Xp(h),f=!c&&!p&&ef(h);l=h,c||p||f?Rp(a)?l=a:Pt(a)?l=Dt(a):p?(u=!1,l=Tt(h,!0)):f?(u=!1,l=zt(h,!0)):l=[]:x(h)||Hp(h)?(l=a,Hp(a)?l=xt(a,kt(a)):(!O(a)||i&&z(a))&&(l=Et(h))):u=!1}u&&(o.set(h,l),Bt(l,h,i,n,o),o.delete(h))}Mt(t,s,l)}else void 0===(a=n?n(t[s],o,s+"",t,e,r):void 0)&&(a=o),Mt(t,s,a)}),kt)}function Lt(t,e,i,n,r,o){return O(t)&&O(e)&&(o.set(e,t),Bt(t,e,void 0,Lt,o),o.delete(e)),t}function Rt(t,e){for(var i=-1,n=null==t?0:t.length;++i<n&&!1!==e(t[i],i,t););return t}function Ft(t){return K(t,kt,td)}function Vt(t,e){return t.set(e[0],e[1]),t}function It(t,e,i,n){var r=-1,o=null==t?0:t.length;for(n&&o&&(i=t[++r]);++r<o;)i=e(i,t[r],r,t);return i}function Nt(t,e){return t.add(e),t}function jt(t,e,i,n,r,o){var s,a=1&e,h=2&e,l=4&e;if(i&&(s=r?i(t,n,r,o):i(t)),void 0!==s)return s;if(!O(t))return t;if(n=Rp(t)){if(s=function(t){var e=t.length,i=t.constructor(e);return e&&"string"==typeof t[0]&&Lp.call(t,"index")&&(i.index=t.index,i.input=t.input),i}(t),!a)return Dt(t,s)}else{var u=Mf(t),c="[object Function]"==u||"[object GeneratorFunction]"==u;if(Xp(t))return Tt(t,a);if("[object Object]"==u||"[object Arguments]"==u||c&&!r){if(s=h||c?{}:Et(t),!a)return h?function(t,e){return xt(t,td(t),e)}(t,function(t,e){return t&&xt(e,kt(e),t)}(s,t)):function(t,e){return xt(t,vf(t),e)}(t,function(t,e){return t&&xt(e,E(e),t)}(s,t))}else{if(!id[u])return r?t:{};s=function(t,e,i,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return Ot(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return e=n?Ot(t.buffer):t.buffer,new t.constructor(e,t.byteOffset,t.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return zt(t,n);case"[object Map]":return It(e=n?i(Z(t),1):Z(t),Vt,new t.constructor);case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return(e=new t.constructor(t.source,ed.exec(t))).lastIndex=t.lastIndex,e;case"[object Set]":return It(e=n?i(X(t),1):X(t),Nt,new t.constructor);case"[object Symbol]":return mf?Object(mf.call(t)):{}}}(t,u,jt,a)}}if(o||(o=new W),r=o.get(t))return r;o.set(t,s),h=l?h?Ft:$:h?kt:E;var p=n?void 0:h(t);return Rt(p||t,(function(n,r){p&&(n=t[r=n]),yt(s,r,jt(n,e,i,r,t,o))})),s}function Wt(t){return"function"==typeof t?t:lt}function Ht(t,e){var i=-1,n=D(t)?Array(t.length):[];return rf(t,(function(t,r,o){n[++i]=e(t,r,o)})),n}function Yt(t,e,i,n,r){return r(t,(function(t,r,o){i=n?(n=!1,t):e(i,t,r,o)})),i}function Ut(t){return t!=t}function Gt(t,e,i){if(e==e)t:{--i;for(var n=t.length;++i<n;)if(t[i]===e){t=i;break t}t=-1}else t=pt(t,Ut,i);return t}function Zt(t,e){return!(null==t||!t.length)&&-1<Gt(t,e,0)}function Xt(t){return Rp(t)||Hp(t)||!!(sd&&t&&t[sd])}function qt(t,e,i,n,r){var o=-1,s=t.length;for(i||(i=Xt),r||(r=[]);++o<s;){var a=t[o];0<e&&i(a)?1<e?qt(a,e-1,i,n,r):q(r,a):n||(r[r.length]=a)}return r}function Kt(t,e,i){var n=-1,r=t.length;for(0>e&&(e=-e>r?0:r+e),0>(i=i>r?r:i)&&(i+=r),r=e>i?0:i-e>>>0,e>>>=0,i=Array(r);++n<r;)i[n]=t[n+e];return i}function Qt(t,e){var i;return(i=null==(t=2>(e=st(e,t)).length?t:ht(t,Kt(e,0,-1))))||(i=delete t[at((i=null==e?0:e.length)?e[i-1]:void 0)]),i}function $t(t){return Pt(t)?t:[]}function Jt(t){return x(t)?void 0:t}function te(t){return null!=t&&t.length?qt(t,1):[]}function ee(t,e,i){return t==t&&(void 0!==i&&(t=t<=i?t:i),void 0!==e&&(t=t>=e?t:e)),t}function ie(t,e){for(var i,n=-1,r=t.length;++n<r;){var o=e(t[n]);void 0!==o&&(i=void 0===i?o:i+o)}return i}function ne(t,e){for(var i={},n=0;n<t.length;n++){var r=t[n],o=e(r,n);h(o)&&(i[o]=r)}return i}function re(t,e,i,n,r,o,s){if(i&&(t.length||e.length)){var a=function(t){(t=i(t))&&e.push(t)},h=function(t){u(e,t),r&&r(t),t.destroy&&t.destroy()};if(!e.length)return Ad(t,a),e;for(var c in t=ne(t,o||Kd),s=ne(e,s||Kd),t)l(s,c)?n&&n(t[c],s[c]):a(t[c]);for(c in s)!l(t,c)&&h(s[c]);return e}}function oe(t,e,i){}function se(t,e,i){return t}function ae(t,e){return t.indexOf?-1<t.indexOf(e):l(t,e)}function he(t,e){var i;if(t){if(l(t,e))return e;t=ze(t),e=e.toLowerCase();try{for(var n=o(t),r=n.next();!r.done;r=n.next()){var s=r.value;if(s.toLowerCase()===e)return s}}catch(t){var a={error:t}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(a)throw a.error}}}}function le(t,e){for(var i in t)e(i)}function ue(t,e){for(var i in e)t[i]=e[i];return t}function ce(t,e){return ue(ue({},t),e)}function pe(t,e){return fe({},t,e)}function fe(t,e,i){if(!i)return ue(t,e);for(var n in e)tm.call(i,n)&&(t[n]=e[n]);return t}function de(t,e,i){if(!i)return ue(t,e);for(var n in e)tm.call(i,n)||(t[n]=e[n]);return t}function me(t,e,i){return de(ue({},t),e,i)}function ge(t,e,i){return fe(ue({},t),e,i)}function ve(t,e){var i,n={};for(i in t)tm.call(e,i)||(n[i]=t[i]);return n}function ye(t){for(var e={},i=0;i<t.length;i++)e[t[i]]=void 0;return e}function xe(t){return t.length?1===t.length?t[0]:Jd.apply([],t):[]}function be(t){return ye(t.split(","))}function we(t,e){return Cd(t,(function(t,i){return t+e[i]}))}function Ae(t){return t[t.length-1]}function Ce(t,e,i,n,r){var o,s=null;for(o in e){var a=null;tm.call(t,o)&&!(i&&tm.call(i,o)?a=!J(t[o],e[o]):t[o]!==e[o])||((s=s||{})[o]=a?xd(e[o]):e[o],n||(t[o]=s[o]))}if(r)for(o in t)tm.call(e,o)||((s=s||{})[o]=null,n||delete t[o]);return s}function Se(t,e,i,n,r){var o;for(t=arguments,o=0;o<t.length;o++){var s=t[o];if(h(s)&&null!==s)return s}}function ke(t,e,i,n,r){var o;for(t=arguments,o=0;o<t.length;o++){var s=t[o];if(h(s)&&null!==s&&(!isNaN(s)||Array.isArray(s)))return s}}function _e(t){return"string"==typeof t}function Me(t){return t&&"object"==typeof t}function Te(t){return void 0===t}function Oe(t){return null===t||Te(t)}function ze(t){return Object.keys(t)}function De(t,e){void 0===e&&(e=".");var i=function(t,n,r){if(void 0===r&&(r=[]),"object"!=typeof t)return n&&r.push(n),r;for(var o=Object.keys(t),s=0,a=o.length;s<a;s++){var h=o[s];i(t[h],(n?n+e:"")+h,r)}return r};return i(t)}function Ee(t,e){return!!gd(t,(function(t){return h(e[t])}))}function Pe(t,e){for(var i in t)if(tm.call(e,i))return!0;return!1}function Be(t,e){var i,n={};return Ad(e,(function(e){(i=c(t,e))&&(n[e]=i)})),n}function Le(t,e,i){if(t&&e&&void 0!==i){var n,r=(e=e.split(".")).length-1;for(n=0;n<r;n++){var o=e[n];t=void 0===t[o]?t[o]={}:t[o]}return t[e[r]]=i}}function Re(t,e,i){if(t&&e&&void 0!==i){var n,r=e.length-1;for(n=0;n<r;n++){var o=e[n];t=void 0===t[o]?t[o]={}:t[o]}return t[e[r]]=i}}function Fe(t,e,i,n,r,o){if(h(e=c(e,n)))return e=r?r(e):e,"function"==typeof i?i(t,e):Le(t,i,e),!0}function Ve(t,e,i,n){if(h(e=p(e,n)))return Re(t,i,e),!0}function Ie(t,e,i){for(var n=0,r=t.length;n<r;n++)if(t[n][e]===i)return t[n]}function Ne(t,e){if(!t||e.length!==t.length)return!1;for(var i=0,n=e.length;i<n;i++)if(e[i]instanceof Array&&t[i]instanceof Array){if(!e[i].equals(t[i]))return!1}else if(e[i]!=t[i])return!1;return!0}function je(t){var e=t.name;return e||(e=(t=t.toString().match($d))&&t[1]),e}function We(t){return window.eval(t)}function He(t){if(!t)return t;for(var e=[],i=0;i<t.length;i++){var n=t[i],r=n.toLowerCase(),o=" "===n;0<i&&(o||n!==r)&&e.push("-"),!o&&e.push(r)}return e.join("")}function Ye(t,e,i){return(t=Md(t)).split(e,i)}function Ue(t,e){return Ad(Ye(t,","),e)}function Ge(t){if(!t)return[0,0,0,0];if(4===t.length&&t.push)return t;switch(d(t)){case"number":return[t,t,t,t];case"object":return[t.top||0,t.right||0,t.bottom||0,t.left||0];case"array":return function(t){switch(t.length){case 1:var e=t[0]||0;return[e,e,e,e];case 2:return[e=t[0],t=t[1],e,t];case 3:return e=t[1],[t[0],e,t[2],e]}return t}(t);case"string":return Ge(Ze(t))}return t}function Ze(t){return Cd(t.match(hm),(function(t){return Number(t)}))}function Xe(t,e){for(var i=[],n=0;n<t;n++)i.push(e(n));return i}function qe(t,e,i){var n;(n=e)&&_e(n)&&(n=n.split(","));var r=n?function(t){if(-1<n.indexOf(t))return!0}:function(t){return!1};return Td(t,(function(t,e,o){if(!r(e)){var s=-1<e.indexOf("_")?e.replace(um,"$1."):e,a=d(t);if(-1<s.indexOf(".")){var h=c(o,s);Te(h)?Le(o,s,t):"object"===a&&Me(h)&&(t=wd(h,t)),delete o[e]}"object"===a?qe(t,i&&n):"array"===a&&Ad(t,(function(t){return qe(t,i&&n)}))}})),t}function Ke(t){return 0<t?1:0>t?-1:0}function Qe(t,e){return void 0===e&&(e=0),Math.round(t*Math.pow(10,e))/Math.pow(10,e)}function $e(t){t=t.slice();var e=md;return t.sort((function(i,n){return e(t,(function(t){return t===i})).length-e(t,(function(t){return t===n})).length})).pop()}function Je(t){(t=t.slice()).sort((function(t,e){return t-e}));var e=pm.floor(t.length/2);return t.length%2?t[e]:(t[e-1]+t[e])/2}function ti(t){return t.length&&Zd(t)/t.length}function ei(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)}function ii(t,e,i,n,r){return ci(i,n)?t:t+(r-i)/(n-i)*(e-t)}function ni(t){return null===t||0===(t=parseInt(t))||Qd(t)?"00":(t=Math.round(t),"0123456789ABCDEF".charAt((t-t%16)/16)+"0123456789ABCDEF".charAt(t%16))}function ri(t){if(t.pop){for(var e=0,i=t.length;e<i;e++)if(!oi(t[e]))return!1;return!0}return oi(t)}function oi(t){return!Qd(t)&&h(t)&&null!==t}function si(t,e){return t<e?-1:t>e?1:0}function ai(t,e){return t>e?t-e:e-t}function hi(t){return t*t*Math.PI}function li(t){return pm.max.apply(pm,a(Cd(t,(function(t){return gm(t)}))))}function ui(t,e){var i=t,n=[],r=function(){return(i=(9301*i+49297)%233280)/233280};for(-1===t&&(r=function(){return Math.random()}),t=0;t<e;t++)n[t]=r();return n}function ci(t,e,i){return void 0===i&&(i=vm),ai(t,e)<i}function pi(t){var e=t.charCodeAt(0);return 64<e&&91>e?String.fromCharCode(e+32).concat(t.substr(1)):t}function fi(t){void 0===t&&(t=7);for(var e="";t--;)e+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"[Math.floor(51*Math.random())];return e}function di(t){return!Qd(parseFloat(t))&&isFinite(parseFloat(t))}function mi(t,e,i,n){void 0===n&&(n=!0),i=i||e;for(var r=!1;!r;){r=t.indexOf(e);var o=t.indexOf(i,r+1);-1<r&&-1<o?(n?o++:r++,t=t.slice(0,r)+t.slice(o,t.length),r=!0):r=void 0,r=!r}return t}function gi(t){return 180*t/Math.PI}function vi(t){return t*Math.PI/180}function yi(t){return 360===t?t:(t+36e3)%360}function xi(t,e,i,n){return{x:t+n*Math.cos(i),y:e+n*Math.sin(i)}}function bi(t,e,i,n){return xi(t,e,vi(i),n)}function wi(t,e,i){return Ai(t,vi(e),i)}function Ai(t,e,i){return[t[0]+i*Math.cos(e),t[1]+i*Math.sin(e)]}function Ci(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}function Si(t,e,i){return void 0===i&&(i=.5),[t[0]+(e[0]-t[0])*i,t[1]+(e[1]-t[1])*i]}function ki(t,e){return t=Fi(t),e=Fi(e),(180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI+360)%360}function _i(t,e){t=Fi(t);var i=(e=Fi(e)).x-t.x;return t=e.y-t.y,Math.sqrt(i*i+t*t)}function Mi(t,e){var i=e[0]-t[0];return t=e[1]-t[1],Math.sqrt(i*i+t*t)}function Ti(t,e,i,n){t=Fi(t),e=Fi(e),i=Fi(i),n=Fi(n);var r=t.x;t=t.y;var o=i.x,s=i.y;i={x:null,y:null,onLine1:!1,onLine2:!1};var a=n.x-o;n=n.y-s;var h=e.x-r,l=e.y-t;if(0==(e=n*h-a*l))return!Ni(n)||!Ni(a)||Ni(h)&&Ni(l)||!Ni((o-r)*l-(s-t)*h)?!Ni(l)||!Ni(h)||Ni(a)&&Ni(n)||!Ni((r-o)*n-(t-s)*a)?i:{x:r,y:t,onLine1:!0,onLine2:!0}:{x:o,y:s,onLine1:!0,onLine2:!0};var u=h*(s=t-s)-l*(o=r-o);return s=(a*s-n*o)/e,o=u/e,i.x=r+s*h,i.y=t+s*l,0<s&&1>s&&(i.onLine1=!0),0<o&&1>o&&(i.onLine2=!0),i}function Oi(t,e,i){var n=ki(t,e);return _i(i=Fi(i),n=Ti(t,e,i,n=xi(i.x,i.y,vi(n+90),5)))}function zi(t,e){var i=t[0];t=t[1];for(var n=!1,r=0,o=e.length-1;r<e.length;o=r++){var s=e[r][0],a=e[r][1],h=e[o][0];a>t!=(o=e[o][1])>t&&i<(h-s)*(t-a)/(o-a)+s&&(n=!n)}return n}function Di(t,e){var i;try{for(var n=o(t),r=n.next();!r.done;r=n.next())if(zi(r.value,e))return!0}catch(t){var s={error:t}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(s)throw s.error}}}function Ei(t,e,i){return t=Fi(t),e=Fi(e),i=Fi(i),-1e-11>(t=(e.x-t.x)*(i.y-t.y)-(e.y-t.y)*(i.x-t.x))?-1:1e-11<t?1:0}function Pi(t,e,i,n){return function(r){if(0>=r){var o=0;return 0<t?o=e/t:!e&&0<i&&(o=n/i),o*r}if(1<=r)return o=0,1>i?o=(n-1)/(i-1):1===i&&1>t&&(o=(e-1)/(t-1)),1+o*(r-1);o=0;for(var s=1,a=0;o<s;){var h=3*t*(1-(a=(o+s)/2))*(1-a)*a+3*i*(1-a)*a*a+a*a*a;if(1e-5>Math.abs(r-h))break;h<r?o=a:s=a}return 3*e*(1-a)*(1-a)*a+3*n*(1-a)*a*a+a*a*a}}function Bi(t,e){void 0===e&&(e=1);var i=s(t[0],2),n=i[0];i=i[1];var r=s(t[1],2),o=r[0];r=r[1];var a=s(t[2],2),h=a[0];a=a[1];var l=s(t[3],2);t=l[0],l=l[1],e/=2;for(var u=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],c=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,f=0;12>f;f++){var d=e*u[f]+e,m=d*(d*(-3*n+9*o-9*h+3*t)+6*n-12*o+6*h)-3*n+3*o;d=d*(d*(-3*i+9*r-9*a+3*l)+6*i-12*r+6*a)-3*i+3*r,p+=c[f]*Math.sqrt(m*m+d*d)}return e*p}function Li(t,e){var i=s(t[0],2),n=i[0];i=i[1];var r=s(t[1],2),o=r[0],a=r[1],h=(r=s(t[2],2))[0],l=r[1],u=(o-n)*e+n,c=(a-i)*e+i,p=((o=(h-o)*e+o)-u)*e+u,f=((a=(l-a)*e+a)-c)*e+c;return[[n,i],[u,c],[p,f],[((o=((h=((t=(r=s(t[3],2))[0])-h)*e+h)-o)*e+o)-p)*e+p,((a=((l=((r=r[1])-l)*e+l)-a)*e+a)-f)*e+f],[o,a],[h,l],[t,r]]}function Ri(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=s(t[0],2);e=i[0],i=i[1];var n=s(t[1],2),r=n[0];n=n[1];var o=s(t[2],2),a=o[0];o=o[1];var h,l,u=(t=s(t[3],2))[0],c=t[1],p=h=Number.POSITIVE_INFINITY,f=l=Number.NEGATIVE_INFINITY;t=r-e;var d=n-i,m=a-r,g=o-n;u-=a,c-=o;for(var v=0;1.001>v;v+=.025){var y=e+v*t,x=i+v*d,b=r+v*m,w=n+v*g,A=a+v*u,C=o+v*c,S=b-y,k=w-x;b+=v*(A-=b),w+=v*(C-=w),b=(y+=v*S)+v*(b-=y),w=(x+=v*k)+v*(w-=x),p=Math.min(p,b),h=Math.min(h,w),f=Math.max(f,b),l=Math.max(l,w)}return[p,h,f-p,l-h]}function Fi(t){return t.pop&&(t={x:t[0],y:t[1]}),t}function Vi(t,e,i,n,r,o){return void 0===o&&(o=0),o=((0>r?i:n)[1]-o)/Math.abs(Math.sin(vi(r))),e-t<Math.min(o,(0<=r?i:n)[0])}function Ii(t){var e=yi(t);return 90<e&&270>e?yi(e+180):t}function Ni(t){return 1e-7>Math.abs(t)}function ji(t,e){return gd(t,(function(t){return Tm(t,e)}))}function Wi(t,e){return t=(e=s(Ki([Dm(t),Dm(e)]),2))[0],e=e[1],Om(t,e)?e:Om(e,t)?t:e[0]<t[1]?[e[0],t[1]]:void 0}function Hi(t,e){var i=[];return Qi(t,(function(t){return em(i,Wi(t,e))})),i}function Yi(t,e){var i=0,n=e[0]-t[0],r=t[1]-e[1],o=(t[1]+t[0])/2,s=(e[1]+e[0])/2;return e[1]-e[0]>t[1]-t[0]?i=o-s:0>n?i=-n:0>r&&(i=r),e[0]+=i,e[1]+=i,e}function Ui(t,e){for(var i=0;i<t.length;i++)if(Tm(Dm(t[i]),e))return i;return-1}function Gi(t,e,i){var n;i/=2;var r=[];try{for(var s=o(t),a=s.next();!a.done;a=s.next()){var h=a.value;r.push([qd(h-i,e[0],e[1]),qd(h+i,e[0],e[1])])}}catch(t){var l={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(l)throw l.error}}return r}function Zi(t,e){var i,n=[];if(t=$i(t)?t:Ki(t.slice(0)),$i(t))return e=e||function(t){return t=Xi(t),[Math.min.apply(Math,a(t)),Math.max.apply(Math,a(t))]}(t),Qi(t,(function(t,r,o){!r&&t[0]>e[0]?n.push([e[0],Math.min(t[0],e[1])]):r&&t[0]>e[0]&&i[1]!==t[0]&&n.push([Math.max(i[1],e[0]),Math.min(t[0],e[1])]),o&&t[1]<e[1]&&n.push([Math.max(e[0],t[1]),e[1]]),i=t})),n}function Xi(t){var e=[];return Qi(t,(function(t){return e.push.apply(e,a(t))})),e}function qi(t){var e=0;return Qi(t,(function(t){return e+=t[1]-t[0]})),e}function Ki(t,e){return void 0===e&&(e=!1),t.sort((function(t,i){return e?i[0]-t[0]:t[0]-i[0]}))}function Qi(t,e){for(var i=0,n=t.length;i<n&&!1!==e(t[i],i,i===t.length-1,i?t[i-1]:void 0);i++);}function $i(t){for(var e=0,i=t.length;e<i;e++)if(e&&t[e][0]<t[e-1][0])return!1;return!0}function Ji(t,e,i){i&&(t=tn(t,i),e=tn(e,i));var n=e;return 0==(i=(i=t)[2]*i[3]==n[2]*n[3]&&i[2]===n[2]?0:i<n?-1:i>n?1:0)&&t[0]===e[0]&&t[1]===e[1]?0:0===i?-1:i}function tn(t,e){return Cd(t,(function(t){return Qe(t,e)}))}function en(t,e){return[t[0]+e,t[1]+e,t[2]-2*e,t[3]-2*e]}function nn(t,e){return yn(ln(t),e)}function rn(t){var e,i=[];if(t&&t.length){for(var n=0,r=t.length;n<r;n++)(e=t[n])&&(i.push([e[0],e[1]]),i.push([e[0]+e[2],e[1]+e[3]]));return sn(i)}}function on(t){for(var e=t[0],i=1,n=t.length;i<n;i++)if(0>=(e=un(e,t[i]))[2]||0>=e[3]){e=null;break}return e}function sn(t){if(!t.length)return[0,0,0,0];var e=t[0],i=e[0],n=e[0],r=e[1];e=e[1];for(var o,s,a=0,h=t.length;a<h;a++){var l=t[a];(o=l[0])>n&&(n=o),o<i&&(i=o),(s=l[1])>e&&(e=s),s<r&&(r=s)}return[i,r,n-i,e-r]}function an(t,e){return yn(ln(t),[Math.max(t[2],e[0]),Math.max(t[3],e[1])])}function hn(t,e){var i=s(t,4);i[0],i[1],t=i[2];var n=i[3];(i=s(e,4))[0],i[1];var r=(e=i[2])/(t=n/t);return(n=t*(i=i[3]))>e?n=t*r:r>i&&(r=n/t),[r,n]}function ln(t){return[Rm(t),Fm(t)]}function un(t,e){return dn(t=fn(t=pn(t=cn(t=t.slice(0),(e=Ym(e))[0]),e[1]),e[2]),e[3])}function cn(t,e){var i=Pm(t);return t[0]=t[0]<e?e:t[0],t[2]=i<e?e-t[0]:i-t[0],t}function pn(t,e){var i=Em(t);return t[1]=t[1]<e?e:t[1],t[3]=i<e?e-t[1]:i-t[1],t}function fn(t,e){var i=Pm(t);return t[0]=t[0]>e?e:t[0],t[2]=i>e?e-t[0]:i-t[0],t}function dn(t,e){var i=Em(t);return t[1]=t[1]>e?e:t[1],t[3]=i>e?e-t[1]:i-t[1],t}function mn(t,e){return nn(t,[t[2]+e[0]+e[2],t[3]+e[1]+e[3]])}function gn(t,e){return mn(t,e.map((function(t){return-t})))}function vn(t){return[t.x,t.y,t.width,t.height]}function yn(t,e){return[t[0]-e[0]/2,t[1]-e[1]/2,e[0],e[1]]}function xn(t){var e;return t.length&&(e=t[0].pop?Cd(t,(function(t){return Hm(t)})).join(" "):Hm(t)),e}function bn(t,e,i,n,r,o){return e=An(t,e,[Im.x(i),Im.x(n),Im.y(r),Im.y(o)]),Xm(t,e)}function wn(t,e,i,n){return i=Vm.x(i),n=Vm.y(n),{box:Xm(t,An(t,e,[i[0],i[1],n[0],n[1]])),contentAlignment:[i[2],n[2]]}}function An(t,e,i){var n=i[0];n=(0,i[1])(e)-n(t);var r=i[2];return[n,t=(0,i[3])(e)-r(t)]}function Cn(t,e){return[t[0]-e[0],t[1]-e[1]]}function Sn(t,e,i,n){if(void 0===i&&(i="xy"),void 0===n&&(n="mcmc"),t.length){var r="xy"===i||"x"===i;i="xy"===i||"y"===i;var o=An(rn(t),e,Vm.default(n,"tltr"));o[0]=r?o[0]:0,o[1]=i?o[1]:0,t.forEach((function(t){return qm(t,o)}))}}function kn(t,e){for(var i=[],n=0,r=(t=On(t.slice(0),e)).length;n<r;n++){var o=t[n];if(n){var s=_n(o,i,e);o[0]=s[0],o[1]=s[1]}i.push(o)}return i}function _n(t,e,i){if(!Fn(e,t))return t;var n=[],r=!1,o="v"==={u:"v",d:"v",l:"h",r:"h"}[i],s=o?Lm:Bm;o=o?Pm:Em;for(var a=s(t),h=o(t),l=0,u=e.length;l<u;l++){var c=e[l];s(c)>h||o(c)<a||n.push(c)}for(n=On(n,i),e=0,t=t.slice(0);!r;){if(Rn(t,s=n[e++])&&(r=t,o=i,a=1<(s=[s]).length?rn(s):s[0],Fn(s,r)))switch(o){case"u":r[1]=a[1]-r[3];break;case"l":r[0]=a[0]-r[2];break;case"d":r[1]=Em(a);break;case"r":r[0]=Pm(a)}r=!Fn(n.slice(e),t)||e>=n.length}return t}function Mn(t,e){var i=ln(t),n=Ym(t);return Ad(e,(function(t){if(Rn(Um(n),t)){var e=ln(t);e=Cn(i,e),1<Math.abs(e[1])?0<e[1]?n[1]=Em(t):n[3]=t[1]:1<Math.abs(e[0])&&(0>e[0]?n[2]=t[0]:n[0]=Pm(t))}})),Um(n)}function Tn(t,e,i){if(t&&t.length){t=On(t.slice(0),e);var n={u:{getter:Em,next:Bm,perpRange:function(t){return[t[0],Pm(t)]},mustMove:function(t){return Em(t)>i},move:function(t,e){return 0<e&&qm(t,[0,-e])}},d:{getter:Bm,next:Em,perpRange:function(t){return[t[0],Pm(t)]},mustMove:function(t){return t[1]<i},move:function(t,e){return 0>e&&qm(t,[0,-e])}},l:{getter:Pm,next:Lm,perpRange:function(t){return[t[1],Em(t)]},mustMove:function(t){return Pm(t)>i},move:function(t,e){return 0<e&&qm(t,[-e,0])}},r:{getter:Lm,next:Pm,perpRange:function(t){return[t[1],Em(t)]},mustMove:function(t){return t[0]<i},move:function(t,e){return 0>e&&qm(t,[-e,0])}}}[e],r=i,o=n.perpRange(t[0]);return Ad(t,(function(t,e){e=n.perpRange(t);var s=n.getter(t);Wi(o,e)?n.move(t,s-r):n.mustMove(t)&&n.move(t,s-i),r=n.next(t),o=e})),t}}function On(t,e){var i=(e={u:{getter:Em,dir:"desc"},d:{getter:Bm},l:{getter:Pm,dir:"desc"},r:{getter:Lm}}[e]).getter,n=function(t,e){return(t=i(t))<(e=i(e))?-1:t>e?1:0};return t.sort("desc"===e.dir?function(t,e){return n(e,t)}:n),t}function zn(t,e){return En(t=Dn(t,e),e)}function Dn(t,e){return[(e=Yi([e[0],Pm(e)],[t[0],Pm(t)]))[0],t[1],e[1]-e[0],t[3]]}function En(t,e){return e=Yi([e[1],Em(e)],[t[1],Em(t)]),[t[0],e[0],t[2],e[1]-e[0]]}function Pn(t,e){var i=t[0],n=e[0];return(i=!(n<i||n+e[2]>i+t[2]))&&(i=t[1],i=!((n=e[1])<i||n+e[3]>i+t[3])),i}function Bn(t,e){return e[0]>t[0]&&e[0]<t[0]+t[2]&&e[1]>t[1]&&e[1]<t[1]+t[3]}function Ln(t,e,i){return e[0]-t[0]>i&&t[0]+t[2]-e[0]>i&&e[1]-t[1]>i&&t[1]+t[3]-e[1]>i}function Rn(t,e){var i=t[0],n=e[0];return i+.01<n+e[2]&&i+t[2]>n+.01&&t[1]+.01<e[1]+e[3]&&t[1]+t[3]>e[1]+.01}function Fn(t,e,i){for(var n=0,r=t.length;n<r;n++)if((!i||t[n].id!==i)&&Rn(t[n],e))return!0}function Vn(t){for(var e=0,i=t.length;e<i;e++)for(var n=e;n<i;n++)if(n!==e&&Rn(t[e],t[n]))return!0}function In(t,e){var i=[],n=function(t){(t=Ti(t[0],t[1],e[0],e[1])).onLine1&&t.onLine2&&i.push([t.x,t.y])},r=Nm(t,"bl,br"),o=Nm(t,"tl,tr"),s=Nm(t,"tr,br");return t=Nm(t,"tl,bl"),n(o),n(s),n(r),n(t),i.length?i:void 0}function Nn(t,e,i){return sn(jn(t,e,i))}function jn(t,e,i){var n=e[0],r=s(t,4);t=r[0];var o=r[1],a=t+r[2];r=o+r[3];var h=[t+e[1],o+e[2]];return e=[t,o],o=[a,o],a=[a,r],t=[t,r],i=Cd(i?[e,t]:[e,o,a,t],(function(t){return{x:t[0],y:t[1],angle:ki(h,t),len:_i(h,t)}})),Cd(i,(function(t){return[(t=bi(h[0],h[1],t.angle+n,t.len)).x,t.y]}))}function Wn(t,e){return Ad(t,(function(t){zd(t,(function(t){return t[3]})),t.reverse()})),function(t,e){var i,n,r=e.limitBox,o=Math.max.apply(Math,a(Cd(t,(function(t){return Ae(t)[2]}))));if(h(e.masterSet))var s=Cd(t[e.masterSet],(function(t){return[2]}));else s=[],Ad(t,(function(t){s.push.apply(s,a(Cd(t,(function(t){return t[2]}))))}));s=_d(md(s,(function(t){return t>=o})).sort((function(t,e){return t>e?1:-1})));var l=function(e){var i=[],n=Cd(t,(function(t){return t=t.slice(0),t=gd(t,(function(t){return t[2]<=e})),i.push(t[2]),t})),r=0;Ad(n,(function(t){return r+=t[3]}));var o=[0,0,Math.max.apply(Math,a(i)),r];return o.ids=Cd(n,(function(t){return t.id})),o};return Ad(s,(function(t){if((t=l(t))[3]<r[3])return i=t,!1;n=t})),i||n}(t,e)}function Hn(t){for(var e=[],i=1,n=Math.round(Math.sqrt(t));i<=n;i++)e.push([i,Math.ceil(t/i)]);return t=Cd(e,(function(t){return[t[1],t[0]]})).reverse(),e.push.apply(e,a(t)),e}function Yn(){if(ig)return ig;for(var t=$m.getElementsByTagName("script"),e=0;e<t.length;e++){var i=t[e],n=i.getAttribute("src");if(n&&0!==i.src.indexOf("file://")&&(i=n.split("?")[0],"jscharting.js"===(n=i.split("/").slice(-1)[0].toLowerCase())||0===n.indexOf("jscharting")&&n.indexOf(".js")===n.length-3))return ig=i.split("/").slice(0,-1).join("/")}}function Un(){return eg||(eg=Yn()||"https://code.jscharting.com/3.4.0")}function Gn(){var t=Qm.JSC;return!(Yn()||t&&t.chart)}function Zn(t,e,i,n){Xn(t,e,i,n,qn)}function Xn(t,e,i,n,r){!function(t,e){var i=new XMLHttpRequest,n=e||{};e=n.data;var r=n.success,o=n.error,s=d(e);if(n=!1!==n.async,i){if("function"===s)r=e,e=null;else if("object"===s){for(var a in s=[],e)e.hasOwnProperty(a)&&s.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));e=s.join("&")}i.open(e?"POST":"GET",t,n),e&&(i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.setRequestHeader("Api-Key","foobar")),i.onreadystatechange=function(){if(4===i.readyState){var t=i.status;if(t=200<=t&&300>t||304===t,r&&t&&r(i),o&&!t)return o(i)}},4===i.readyState||i.send(e)}}(t,{success:function(n){var o=n.responseText;if(o)try{o=r(o)}catch(e){i&&i({path:t,data:o,status:n.status,state:"parsererror",error:e})}e&&e({path:t,status:n.status,data:o})},error:function(e){i&&i({path:t,status:e.status})},async:!n})}function qn(t){var e=$m.createElement("script");e.type="text/javascript",e.text=t,$m.head.appendChild(e).parentNode.removeChild(e)}function Kn(t,e){var i=(new Date).getTime(),n={};return n.value=Qm.requestAnimationFrame((function r(){(new Date).getTime()-i>=e?t.call():n.value=Qm.requestAnimationFrame(r)})),n}function Qn(t){t&&t.value&&Qm.cancelAnimationFrame(t.value)}function $n(t,e){void 0===e&&(e=1);var i=e,n=function(){1>i?setTimeout(t,0):(i--,Qm.requestAnimationFrame(n))};n()}function Jn(t,e){return new ag.Intl.DateTimeFormat(t,e)}function tr(t,e){return new ag.Intl.NumberFormat(t,e)}function er(t,e){var i=ag.Intl.Collator;return i?new i(t,e):null}function ir(t,e,i){var n=i._getNumberFormat(i.locale,i.options);if(n){if(e||i.formatString){var r=e||i.formatString;e=sg.None;var o=pg.exec(r)[0];switch(o.toLowerCase()){case"c":e=sg.Currency;break;case"n":e=sg.Number;break;case"p":e=sg.Percent;break;case"f":e=sg.Float;break;case"d":e=sg.Decimal;break;case"e":e=sg.Exponential;break;case"g":e=sg.General;break;case"a":e=sg.NumericSymbol;break;case"t":e=sg.PowersOfTen;break;case"x":e=sg.Hexadecimal;var s=o===o.toLowerCase()?"lower":"upper"}if((s={type:e,specifier:r=null===(r=fg.exec(r))?null:parseInt(r[0]),charCase:s}).type)return function(t,e,i){var n=function(t,e){return function(i){return Math.min(Math.max(parseInt(i||0),t),e)}},r=function(t){return n(0,20)(t)},o=function(t){return n(1,21)(t)},s=ce({minimumFractionDigits:0,maximumFractionDigits:2},i.options),a=!0,h=ag.Intl.NumberFormat;if(!h)return e;switch(t.type){case sg.Number:case sg.Float:s.style="decimal",null!==t.specifier&&(s.maximumFractionDigits=r(t.specifier),s.minimumFractionDigits=r(t.specifier));break;case sg.Currency:s.style="currency",s.currency=Lg(i.locale),t=Oe(t.specifier)?2:t.specifier,s.minimumFractionDigits=r(t),s.maximumFractionDigits=r(t);break;case sg.Percent:s.style="percent",t.specifier&&(s.minimumFractionDigits=r(t.specifier));break;case sg.Decimal:s.style="decimal",s.useGrouping=s.useGrouping||!1,null!==t.specifier&&(s.maximumFractionDigits=r(t.specifier),s.minimumFractionDigits=r(t.specifier));break;case sg.Exponential:e=e.toExponential(t.specifier),a=!1;break;case sg.General:s.style="decimal",t.specifier&&(s.maximumSignificantDigits=o(t.specifier));break;case sg.Hexadecimal:e=e.toString(16),t.specifier&&(e=Tg(e,t.specifier)),"upper"===t.charCase&&(e=e.toUpperCase()),a=!1;break;case sg.NumericSymbol:e=Vg(e,t.specifier),a=!1;break;case sg.PowersOfTen:if(e){a=Math.floor(ei(Math.log(Math.abs(e))/Math.log(10),6)),r=e/Math.pow(10,a);var l=t.specifier||0;t=1e-5>Math.abs(Math.abs(r)-1),o=r%1?2:0,(Math.abs(e)>=Math.pow(10,l)||Math.abs(e)<=Math.pow(10,-l))&&(e="10<sup>"+a+"</sup>",e=(t?0>r?"-":"":r.toFixed(o)+"⋅")+e)}a=!1}return a?(delete s.specifier,new h(i.locale,s).format(e)):e.toString()}(s,t,i)}return n.format(t)}return null!==t?t.toLocaleString():""}function nr(t,e,i){if(void 0===e&&(e={}),!t)return"";var n=_e(e),r=n?e:e.formatString||i.formatString,o=Eg[r];if(o){var s=o.options;if(!s&&o.formatString)return rr(t,o.formatString,i);if(!s&&o.handler)return o.handler(t);e=ce(n?{}:e,s||{}),e=i._getDateTimeFormat(i.locale,e)}else e=i._getDateTimeFormat(i.locale,i.options);return e?r&&!o?rr(t,r,i):e.format(t):t.toLocaleDateString()}function rr(t,e,i){var n=function(t,e){i.dateTimeFormatters[e]||(i.dateTimeFormatters[e]=i._getDateTimeFormat(i.locale,t))};return e.replace(dg,(function(e){if(!e)return"";switch(e){case"h":case"hh":case"t":case"tt":n({hour12:!0,hour:"numeric"},e);break;case"MMM":n({month:"short"},e);break;case"MMMM":n({month:"long"},e);break;case"g":n({era:"short"},e);break;case"gg":n({era:"long"},e);break;case"ddd":n({weekday:"short"},e);break;case"dddd":n({weekday:"long"},e)}return zg[e](t,i.dateTimeFormatters[e])}))}function or(t,e,i,n){function r(t){function n(t){if(a&&"Point"===a.kind&&a.series.ctmIsType("calendar")&&!isNaN(t)){if(h){var e=h.calIndexer.viewRange;if(2===e.length&&(t<e[0].getTime()||t>e[1].getTime()))return}return gd(s,(function(e){return e.currentOptions.attributes.date<=t&&e.currentOptions.attributes.endDate>=t}))}}var r=d(t),s=e(),a=s[0],h=a&&a.chart;if("undefined"===r)return o();if("array"===r){if(hr(t)){r=i&&i.call(this,t);var l=o();return l.items=r||[],l}i&&i(t)}else{if("number"===r)return 0>t&&s.length&&(l=s[s.length+t]),l||s[t]||n(t);if("string"===r)return gd(s,(function(e){return e.currentOptions&&(e.currentOptions.name===t||e.currentOptions.id===t||e.currentOptions.key===t)||e.id===t||e.key===t||e.prefix===t}))||n(Date.parse(t));if("object"===r||"function"===r)return o().filter(t)}}var o=function(){return new t(e(),n)};return r.add=n?function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.push.apply(n,a(t)),o()}:o,r.splice=n?function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.splice.apply(n,a(t)),o()}:o,r.remove=n?function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return i=o(),(t=n.remove).call.apply(t,a([i],e)),i}:o,r}function sr(t,e){return function(){var i=[];return t.each((function(t){i.push.apply(i,a(e(t)))})),i}}function ar(t,e){return function(i){e(t,i)}}function hr(t){var e=function(t){return kd(t.map((function(t){return d(t)})))};if(t.pop){var i=e(t);if(function(t){return 1===(t=e(t)).length&&"string"===t[0]}(t))return{firstId:t[0],levels:1};if(1===i.length&&"array"===i[0]){var n=[];if(t.forEach((function(t){return n.push.apply(n,a(e(t)))})),1===(n=kd(n)).length&&"string"===n[0])return{firstId:t[0][0],levels:2}}}}function lr(t){return t.length&&"/"!==t[t.length-1]&&(t+="/"),t}function ur(t,e,i){if(void 0===e&&(e=null),void 0===i&&(i=null),t&&"none"!==t){var n=t.replace("{os}",ov),r=nv[n];return h(r)?r:(nv[n]=null,void 0===r&&Zn(function(t){if(!av){var e=sv?lr(sv)+"icons/":void 0;e||(e=(e=Un())?lr(e)+"icons/":null),av=e||"/dist/icons/"}return(av=lr(av))+t+".js"}(t),(function(t){if(e){var i=!sv&&Gn();t.displayCdnWarning=i,e(t)}}),(function(t){nv[n]=null,i&&i(t)}),!0),nv[n])}}function cr(t,e){if(void 0===e&&(e=!1),t)for(var i=ze(t),n=0;n<i.length;n++){var r=i[n];nv[r]&&!e||(nv[r]=t[r])}}function pr(t,e){return ue(ye(t),e)}function fr(t,e,i,n){void 0===n&&(n={});var r=n.noKerning||!1,o=n.delimiter||" ",s=new RegExp("([^"+o+"]+)"),a=e.fontSize||i.fontSize,h=Mv(e,i);_e(a)&&(a=parseInt(a));var l=a*h.height;h={descent:h.descent*l,leading:(h.height-h.descent)*l,height:l,fontSize:a},l=String.fromCharCode(8230);var u=Tv(l,e,i,r);if(a=t,t=Tv(t,e,i,r),n.ellipsisWidth&&t>n.ellipsisWidth){for(;a&&t+u>n.ellipsisWidth;)a=a.slice(0,a.length-1),t=Tv(a,e,i,r);a+=l,t+=u}if(n={width:t,metrics:h,text:a,style:e,delimiter:{text:o,width:Tv(o,e,i,r)},ellipsis:{text:l,width:u}},o=(s=a.split(s)).length)for(n.parts=[],t=0;t<o;t++)void 0!==(a=s[t])&&n.parts.push({text:a,width:Tv(a,e,i,r)});return n}function dr(t,e){var i={font:t.fontFamily},n=[].concat(Sv).concat(Av);n.push(". ."),n=gr(n,t,e);for(var r={},o={},s=0,a=Sv.length;s<a;s++)r[Sv[s]]=n[Sv[s]];r[" "]=n[". ."]-2*n["."];var h=!1;for(s=0,a=Av.length;s<a;s++){var l=Av[s],u=n[l[0]]+n[l[1]];.001<(u-=n[l])&&(h=!0)}if(h)for(t=gr(wv,t,e),s=0,a=wv.length;s<a;s++)u=n[(l=wv[s])[0]]+n[l[1]],.001<(u-=t[l])&&(o[l]=u);return i.stringWidths=r,i.kerning=o,i}function mr(t){return t.getComputedTextLength?t.getComputedTextLength():0}function gr(t,e,i){var n={},r=$m.createElementNS("http://www.w3.org/2000/svg","svg");i.fontFamily&&r.setAttribute("font-family",i.fontFamily),i.fontWeight&&r.setAttribute("font-weight",i.fontWeight),i.textRendering&&r.setAttribute("text-rendering",i.textRendering),i=$m.createDocumentFragment();var o=$m.createElementNS("http://www.w3.org/2000/svg","g");o.setAttribute("font-size","100px"),e.fontFamily&&o.setAttribute("font-family",e.fontFamily),e.fontWeight&&o.setAttribute("font-weight",e.fontWeight),i.appendChild(o),e=0;for(var s=t.length;e<s;e++)o.appendChild(vr(t[e]));for(r.appendChild(i),$m.body.appendChild(r),e=0,s=(i=r.childNodes[0].childNodes).length;e<s;e++)n[t[e]]=mr(i[e]);return r.parentNode.removeChild(r),n}function vr(t){var e=$m.createElementNS("http://www.w3.org/2000/svg","text");return e.textContent=t,e}function yr(t,e){if(!lg){ug||(ug=function(){var t=1,e=0,i=$m.createElementNS("http://www.w3.org/2000/svg","svg"),n=$m.createDocumentFragment(),r=function(t){var e=vr("m");e.setAttribute("font-size",t+"px"),n.appendChild(e)};i.setAttribute("text-rendering","geometricPrecision"),r(100);for(var o=[100],s=10;11>=s;)r(s),o.push(s),s+=.25;for(s=13;20>s;)r(s),o.push(s),s+=1;i.appendChild(n),$m.body.appendChild(i),r=!0;var a=!1;a=0;for(var h=[],l=[],u=mr((s=i.childNodes)[0]),c=1;6>c;c++){var p=mr(s[c]),f=o[c]*u/100,d=h.length?+!(.01>=Math.abs(h[h.length-1]-p)):0;.1>=Math.abs(f-p)||(r=!1),.01>=Math.abs(f-p)&&a++,h.push(p),l.push(d)}if(a=2<=a,!r)if(a){var m="fontSize";"01010"===(o=l.join(""))?t=.5:"00100"===o&&(t=1)}else for(e=o[6],m="width",t=1,c=6;13>c;c++)if(p=mr(s[c]),f=o[c]*u/100,.1>=Math.abs(f-p)){e=o[c];break}return i.parentNode.removeChild(i),{roundTarget:m,roundStep:t,roundThreshold:e}}());var i=ug,n="fontSize"===i.roundTarget?function(t){return Math.round(t/i.roundStep)*i.roundStep}:function(t){return t};lg=function(t,e){return t*=(e=n(e))/100,"width"===i.roundTarget&&(!i.roundThreshold||e<i.roundThreshold)?Math.round(t/i.roundStep)*i.roundStep:t}}return lg(t,e)}function xr(t,e){var i=function(t,e){function i(t){for(var e,i=t.length,n=[],r=[];null!==(e=Dv.exec(t));)r.push({text:e[0],index:e.index,end:e.index+e[0].length});e=function(e,i,r){n.push({type:e,text:t.substring(i,r),index:i,end:r})};var o=0,s=!1;if(r.length)for(;!s&&o<i;){var a=gd(r,(function(t){return t.index===o})),h=void 0;a?(e("number",o,a.end),o=a.end):(h=gd(r,(function(t){return t.index>o})))?(e("text",o,h.index),o=h.index):(e("text",o,i),s=!0)}else e("text",0,i);return n}var n=i(t),r=i(e),o=function(){for(var t=function(t,e){return gd(t,(function(t,i){return i>e&&"number"===t.type}))},e=0,i=0,o=!1,s=[];!o;){var a=n[e],h=r[i];if(!a&&!h){o=!0;break}a&&h?a.type===h.type?("text"===a.type?s.push(br(a.text,h.text)):s.push(wr(a.text,h.text)),e++,i++):"number"===a.type?(t(r,i)?s.push(br("",h.text)):(s.push(br(a.text,h.text)),e++),i++):t(n,e)?(s.push(br(a.text,"")),e++):(s.push(br(a.text,h.text)),e++,i++):(a?s.push(br(a.text,"")):s.push(br("",h.text)),e++,i++)}return s}();return function(i){return 0===(i=qd(ii(0,1,0,.8,i),0,1))?t:1===i?e:o.map((function(t){return t(i)})).join("")}}(t,e);return function(t){return 1===t?e:i(t)}}function br(t,e){if(t===e)return function(t){return e};var i=t.length,n=e.length,r=Math.max(i,n),o=n>i,s=Math.max(n-e.trimStart().length,i-t.trimStart().length);i=Math.max(n-e.trimEnd().length,i-t.trimEnd().length);var a="                      ".substr(0,s),h="                      ".substr(0,i);return function(i){if(0===i)return t;if(1<=i)return e;var n=[];i=Math.round(i*r),o||(i=r-1-i);for(var s=0;s<r;s++){var l=o?s:r-1-s;n[l]=l<i?o?e[l]:t[l]:o?t[l]:e[l]}return(n=a+n.join("").trim()+h).length>r?n.substring(0,r):n}}function wr(t,e){function i(t){var e=t.indexOf(","),i=t.indexOf("."),n=0===t.indexOf("0")?t.length:0;return{commas:-1<e,decimalPlaces:-1<i?t.length-1-i:0,leadingZero:n}}var n=/((-|\+?)([0-9]{1,3}(,?[0-9])*)(\.[0-9]+|\.)?|\.[0-9]+)/g,r=t.match(n)[0];e=e.match(n)[0];var o=(n=[t.indexOf(r),r.length])[0]+n[1],s=0<n[0]?t.substr(0,n[0]):"",a=o<t.length?t.substring(o,t.length):"",h=parseFloat(r.replace(/,/gi,"")),l=parseFloat(e.replace(/,/gi,"")),u=function(t,e){var i=t.decimalPlaces>e.decimalPlaces?t:e;return i.commas=t.commas||e.commas,i.leadingZero=t.leadingZero||e.leadingZero,i}(t=i(r),r=i(e));return function(t){return t=ii(h,l,0,1,t),t=Ig(t,(u.commas?"n":"d")+u.decimalPlaces),u.leadingZero&&"function"==typeof t.padStart&&(t=t.padStart(u.leadingZero,"0")),s+t+a}}function Ar(t){if("string"==typeof(t={chartType:{type:"enum",members:{vertical:{isDefault:!0,chain:"enum_seriesType"},horizontal:{chain:"enum_seriesType"},pie:{chain:"enum_pieType",enumAttributes:{seriesLayout:"visualShape",behavior:"colorByPoint,labelConnector,noNameGrouping"}},gauge:{chain:"enum_gaugeType",enumAttributes:{seriesLayout:"visualShape",behavior:"colorByPoint,noNameGrouping,snapToZero"}},radar:{chain:"enum_radarType",enumAttributes:{seriesLayout:"visualShape"}},funnel:{chain:"enum_funnelShapeType",enumAttributes:{seriesLayout:"visualShape",funnelNozzleType:"nozzle",behavior:"colorByPoint,labelConnector,noNameGrouping"}},pyramid:{chain:"enum_funnelOrientationType",enumAttributes:{funnelShapeType:"square",seriesLayout:"visualShape",behavior:"colorByPoint,labelConnector,noNameGrouping"}},cone:{chain:"enum_funnelOrientationType",enumAttributes:{funnelShapeType:"round",seriesLayout:"visualShape",behavior:"colorByPoint,labelConnector,noNameGrouping"}},heatmap:{chain:"enum_columnType",enumAttributes:{behavior:"colorByPoint"}},treemap:{chain:"enum_treemapMode",enumAttributes:{behavior:"noNameGrouping,tree"}},map:{chain:"enum_columnType",enumAttributes:{behavior:"noNameGrouping"}},organizational:{chain:"enum_organizationConnectorType",enumAttributes:{behavior:"annotation,tree,noNameGrouping,noLegend"}},venn:{chain:"enum_vennType",enumAttributes:{seriesLayout:"visualShape",behavior:"colorByPoint,noLegend"}},calendar:{chain:"enum_calendarType",enumAttributes:{}}},terminateAt:"enum_seriesType"},treemapMode:{members:{squarify:{isDefault:!0,chain:"enum_treemapDirection"},sliceanddice:{chain:"enum_treemapDirection"},stripes:{chain:"enum_treemapDirection"}}},treemapDirection:{members:{horizontal:{isDefault:!0,chain:"enum_columnType"},vertical:{chain:"enum_columnType"}}},radarType:{type:"enum",members:{auto:{isDefault:!0,chain:"enum_seriesType"},polar:{chain:"enum_seriesType"},spider:{chain:"enum_seriesType"}}},gaugeType:{type:"enum",members:{circular:{isDefault:!0,chain:"enum_circularGaugeType"},linear:{chain:"enum_linearGaugeType"}}},linearGaugeType:{type:"enum",members:{vertical:{isDefault:!0,chain:"enum_seriesType"},horizontal:{chain:"enum_seriesType"}}},seriesType:{type:"enum",members:{column:{chain:"enum_columnType",enumAttributes:{behavior:"snapToZero,clusters,drawRect"}},line:{isDefault:!0,chain:"enum_lineSeriesType",enumAttributes:{behavior:"drawMarker,drawLine"}},area:{chain:"enum_areaShadingType",enumAttributes:{behavior:"drawMarker,drawLine,drawArea,snapToZero"}},marker:{enumAttributes:{behavior:"drawMarker"}},bubble:{chain:"enum_bubbleSizingType",enumAttributes:{behavior:""}},ohlc:{enumAttributes:{behavior:"clusters"}},candlestick:{chain:"enum_columnType",enumAttributes:{behavior:"clusters,drawRect"}},map:{chain:"enum_columnType",enumAttributes:{behavior:"varyPalette"}},heatmap:{chain:"enum_columnType",enumAttributes:{}},calendar:{chain:"enum_calendarType",enumAttributes:{}},variwide:{chain:"enum_variwideType",enumAttributes:{behavior:"snapToZero,clusters,drawRect"}}}},bubbleSizingType:{type:"enum",members:{area:{isDefault:!0},width:{}}},areaShadingType:{type:"enum",members:{subtle:{isDefault:!0,chain:"enum_lineSeriesType"},none:{chain:"enum_lineSeriesType"}}},lineSeriesType:{type:"enum",members:{normal:{isDefault:!0},spline:{},step:{}}},circularGaugeType:{type:"enum",members:{clip:{isDefault:!0,chain:"enum_seriesType"},circle:{chain:"enum_seriesType"},arc:{chain:"enum_seriesType"}}},columnType:{type:"enum",members:{subtle:{isDefault:!0},solid:{},aqua:{},rounded:{},roundCaps:{},cushion:{}}},pieType:{type:"enum",members:{normal:{isDefault:!0},donut:{}}},vennType:{type:"enum",members:{normal:{isDefault:!0},colorbypoint:{}}},funnelOrientationType:{type:"enum",members:{normal:{isDefault:!0},inverted:{}}},funnelShapeType:{type:"enum",members:{round:{isDefault:!0,chain:"enum_funnelOrientationType"},square:{chain:"enum_funnelOrientationType"}}},organizationConnectorType:{type:"enum",members:{rightangle:{isDefault:!0,chain:"enum_organizationType"},straight:{chain:"enum_organizationType"}}},organizationType:{type:"enum",members:{down:{isDefault:!0},left:{},up:{},right:{}}},calendarType:{type:"enum",members:{auto:{isDefault:!0,chain:"enum_columnType"},decade:{chain:"enum_columnType"},years:{chain:"enum_columnType"},year:{chain:"enum_columnType"},quarter:{chain:"enum_columnType"},month:{chain:"enum_columnType"},week30min:{chain:"enum_columnType"},week:{chain:"enum_columnType"},dayminutes:{chain:"enum_columnType"},dayhours:{chain:"enum_columnType"},day30min:{chain:"enum_columnType"},day15min:{chain:"enum_columnType"},day5min:{chain:"enum_columnType"},day:{chain:"enum_columnType"},hourseconds:{chain:"enum_columnType"},hour30sec:{chain:"enum_columnType"},hour10sec:{chain:"enum_columnType"},hourminutes:{chain:"enum_columnType"},hour:{chain:"enum_columnType"},minute:{chain:"enum_columnType"}}},variwideType:{type:"enum",members:{subtle:{isDefault:!0},solid:{},aqua:{},rounded:{},roundCaps:{},cushion:{}}},nanoChartTypes:{type:"enum",members:"sparkline|arealine|bar|bullet|column|progress|pie|heatmap|scale|chart|barfull"},markerTypes:{type:"enum",members:"none|diamond|circle|arrow-down|arrow-up|five-point-star|four-point-star|merger|split-reverse|seven-point-star|six-point-star|spinoff|split|square|triangle|triangle-down"},emptyPointMode:{type:"enum",members:"default|ignore|treatAsZero"},projection:{type:"enum",members:"none|mercator|lambertConformalConic|lambertAzimuthalEqualArea|stereographic|orthographic"},scaleBreakType:{type:"enum",updated:"2.7",members:{zigzag:{isDefault:!0},gap:"",line:"",hidden:""}},scale:{type:"enum",updated:"2.6",members:{auto:{isDefault:!0},time:"",stacked:"",stackedFull:"",stackedLogarithmic:{},logarithmic:{},variwide:{}}},rangeMode:{type:"enum",updated:"2.8",members:{auto:{isDefault:!0},curly:"",measure:""}},colors:{type:"enum",caseInsensitive:!0,members:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},palette:{type:"enum",members:"default|spreadsheet|oceanMidtones|mutedRainbow|pastelContrast|rainforest|random|autumn|bright|lavender|midTones|mixed|pastel|poppies|spring|warmEarth|waterMeadow|darkRainbow|midRange|vividDark|fiveColor1|fiveColor2|fiveColor3|fiveColor4|fiveColor5|fiveColor6|fiveColor7|fiveColor8|fiveColor9|fiveColor10|fiveColor11|fiveColor12|fiveColor13|fiveColor14|fiveColor15|fiveColor16|fiveColor17|fiveColor18|fiveColor19|fiveColor20|fiveColor21|fiveColor22|fiveColor23|fiveColor24|fiveColor25|fiveColor26|fiveColor27|fiveColor28|fiveColor29|fiveColor30|fiveColor31|fiveColor32|fiveColor33|fiveColor34|fiveColor35|fiveColor36|fiveColor37|fiveColor38|fiveColor39|fiveColor40|fiveColor41|fiveColor42|fiveColor43|fiveColor44|fiveColor45|fiveColor46|colorVision1|colorVision2|colorVision3|colorVision4"},hatchStyle:{type:"enum",members:"none|horizontal|vertical|light-downward-diagonal|light-upward-diagonal|percent05|percent10|percent20|percent25|dashed-downward-diagonal|dashed-upward-diagonal|dashed-horizontal|dashed-vertical|forward-diagonal|backward-diagonal|large-horizontal|dark-downward-diagonal|dark-upward-diagonal|dark-horizontal|dark-vertical|wide-downward-diagonal|wide-upward-diagonal|narrow-horizontal|narrow-vertical|small-grid|large-grid|dotted-grid|cross-diagonal|outlined-diamond|dotted|dotted-diamond|solid-diamond|large-checker-board|small-checker-board|wave|zig-zag|diagonal-brick|horizontal-brick|weave"},cultures:{type:"enum",members:"af|af-ZA|ar|ar-AE|ar-BH|ar-DZ|ar-EG|ar-IQ|ar-JO|ar-KW|ar-LB|ar-LY|ar-MA|ar-OM|ar-QA|ar-SA|ar-SY|ar-TN|ar-YE|az|az-Cyrl-AZ|az-Latn-AZ|be|be-BY|bg|bg-BG|bs-Latn-BA|ca|ca-ES|cs|cs-CZ|cy-GB|da|da-DK|de|de-AT|de-DE|de-CH|de-LI|de-LU|dv|dv-MV|el|el-GR|en|en-029|en-AU|en-BZ|en-CA|en-GB|en-IE|en-JM|en-NZ|en-PH|en-TT|en-US|en-ZA|en-ZW|es|es-AR|es-BO|es-CL|es-CO|es-CR|es-DO|es-EC|es-ES|es-GT|es-HN|es-MX|es-NI|es-PA|es-PE|es-PR|es-PY|es-SV|es-UY|es-VE|et|et-EE|eu|eu-ES|fa|fa-IR|fi|fi-FI|fo|fo-FO|fr|fr-BE|fr-CA|fr-FR|fr-CH|fr-LU|fr-MC|gl|gl-ES|gu|gu-IN|he|he-IL|hi|hi-IN|hr|hr-BA|hr-HR|hu|hu-HU|hy|hy-AM|id|id-ID|is|is-IS|it|it-CH|it-IT|ja|ja-JP|ka|ka-GE|kk|kk-KZ|kn|kn-IN|ko|kok|kok-IN|ko-KR|ky|ky-KG|lt|lt-LT|lv|lv-LV|mi-NZ|mk|mk-MK|mn|mn-MN|mr|mr-IN|ms|ms-BN|ms-MY|mt-MT|nb-NO|nl|nl-BE|nl-NL|nn-NO|no|ns-ZA|pa|pa-IN|pl|pl-PL|pt|pt-BR|pt-PT|quz-BO|quz-EC|quz-PE|ro|ro-RO|ru|ru-RU|sa|sa-IN|se-FI|se-NO|se-SE|sk|sk-SK|sl|sl-SI|sma-NO|sma-SE|smj-NO|smj-SE|smn-FI|sms-FI|sq|sq-AL|sr|sr-Cyrl-BA|sr-Cyrl-CS|sr-Latn-BA|sr-Latn-CS|sv|sv-FI|sv-SE|sw|sw-KE|syr|syr-SY|ta|ta-IN|te|te-IN|th|th-TH|tn-ZA|tr|tr-TR|tt|tt-RU|uk|uk-UA|ur|ur-PK|uz|uz-Cyrl-UZ|uz-Latn-UZ|vi|vi-VN|xh-ZA|zh-CN|zh-HK|zh-CHS|zh-CHT|zh-MO|zh-SG|zh-TW|zu-ZA"},timeUnit:{type:"enum",members:"second|minute|hour|day|week|month|year"},zoomAxis:{type:"enum",members:"x|y|xy|none"},alignHorizontal:{type:"enum",members:"center|left|right"},alignVertical:{type:"enum",members:"top|middle|bottom"},directionalLayout:{type:"enum",members:"auto|vertical|horizontal"},orientation:{type:"enum",members:"none|left|right|top|bottom|topLeft|topRight|bottomRight|bottomLeft|opposite"},titlePosition:{type:"enum",members:"left|center|right|full"},placement:{type:"enum",members:"auto|inside|outside"},uiItemType:{type:"enum",updated:"2.7",members:{auto:{isDefault:!0},option:"",checkbox:"",toggle:"",radio:"",select:"",selectMultiple:"",range:"",file:""}},pointSelectionMode:{type:"enum",members:"auto|single|multiple"},hoverAction:{type:"enum",members:"none|highlightPoint|highlightSeries|highlightPointGroup"},fontWeight:{type:"enum",members:"normal|bold"},fontStyle:{type:"enum",members:"normal|italic"},fontFamily:{type:"enum",caseInsensitive:!0,members:"Tahoma|Arial|Verdana|Helvetica|Trebuchet MS|Arial Black|Comic Sans MS|Courier New|Georgia|Impact|Lucida Console|Lucida Sans Unicode|Lucida Grande|Geneva|Times New Roman|MS Sans Serif|MS Serif|Arial, Helvetica, sans-serif|Arial Black, Gadget, sans-serif|Comic Sans MS, cursive|Courier New, monospace|Georgia, serif|Impact, Charcoal, sans-serif|Lucida Console, Monaco, monospace|Lucida Sans Unicode, Lucida Grande, sans-serif|Palatino Linotype, Book Antiqua, Palatino, serif|Tahoma, Geneva, sans-serif|Times New Roman, Times, serif|Trebuchet MS, sans-serif|Verdana, Geneva, sans-serif|MS Sans Serif, Geneva, sans-serif|MS Serif, New York, serif"},textDecoration:{type:"enum",members:"overline|line-through|underline|underline overline"},cursor:{type:"enum",members:"none|default|pointer|help|crosshair|wait|progress|text|n-resize|ne-resize|nw-resize|e-resize|s-resize|se-resize|sw-resize|w-resize"},dashStyle:{type:"enum",caseInsensitive:!0,members:"Solid|ShortDash|ShortDot|ShortDashDot|ShortDashDotDot|Dot|Dash|LongDash|DashDot|DashDotDot|LongDashDot|LongDashDotDot"},boxCornerType:{type:"enum",members:"square|cut|round"},mimeType:{type:"enum",members:"image/png|image/jpeg|application/pdf|image/svg+xml"},animationEasing:{type:"enum",members:"easeInQuad|easeOutQuad|easeInCubic|easeOutCubic|easeInOutCubic|easeInQuart|easeOutQuart|easeInOutQuart|easeInQuint|easeOutQuint|easeInOutQuint|easeInSine|easeOutSine|easeInOutSine|easeInExpo|easeOutExpo|easeInOutExpo|easeInCirc|easeOutCirc|easeInOutCirc|easeInElastic|easeOutElastic|easeInOutElastic|easeInBack|easeOutBack|easeInOutBack|easeInBounce|easeOutBounce|easeInOutBounce"},calculation:{type:"enum",members:"sum|average|min|max"},funnelNozzleType:{type:"enum",members:{nozzle:{isDefault:!0},noNozzle:{}}},seriesLayout:{type:"enum",members:{XY:{isDefault:!0,chain:"enum_funnelOrientationType"},visualShape:{chain:"enum_funnelOrientationType"}}}}[t]).members){for(var e=t.members,i={},n=0,r=(e=e.split("|")).length;n<r;n++)i[e[n]]="";t.members=i}return t}function Cr(t,e){if(t&&t.pop){if("rgba"===(e=e||t.kind)&&!Qd(t[3]))return"rgba("+parseInt(t[0])+","+parseInt(t[1])+","+parseInt(t[2])+","+Qe(t[3],5)+")";if(2<t.length||"rgb"===e)return"rgb("+parseInt(t[0])+","+parseInt(t[1])+","+parseInt(t[2])+")"}return t}function Sr(t,e){return e.kind=t,e}function kr(t,e,i){function n(t,e,i){return 0>i&&(i+=1),1<i&&--i,i<1/6?t+6*(e-t)*i:.5>i?e:i<2/3?t+(e-t)*(2/3-i)*6:t}var r,o,a=1;if(t&&t.pop){var l=s(t,4);t=l[0],e=l[1],i=l[2],h(a=l[3])||(a=1)}if(0===e)l=r=o=i;else{var u=2*i-(o=.5>i?i*(1+e):i+e-i*e);l=n(u,o,t+1/3),r=n(u,o,t),o=n(u,o,t-1/3)}return(l=Sr("rgba",Rv([l,r,o,a]))).hsl=[t,e,i],l}function _r(t,e,i){t/=255,e/=255,i/=255;var n=Math.max(t,e,i),r=Math.min(t,e,i),o=(n+r)/2;if(n===r)var s=r=0;else{var a=n-r;switch(r=.5<o?a/(2-n-r):a/(n+r),n){case t:s=(e-i)/a+(e<i?6:0);break;case e:s=(i-t)/a+2;break;case i:s=(t-e)/a+4}s/=6}return Sr("hsl",[s,r,o])}function Mr(t,e,i,n){t&&t.pop&&(t=(n=s(t,4))[0],e=n[1],i=n[2],n=n[3]),t/=255,e/=255,i/=255;var r=Math.max(t,e,i),o=Math.min(t,e,i),a=r-o;if(r===o)var h=0;else{switch(r){case t:h=(e-i)/a+(e<i?6:0);break;case e:h=(i-t)/a+2;break;case i:h=(t-e)/a+4}h/=6}return Sr("hsv",[h,0===r?0:a/r,r,n])}function Tr(t,e,i,n){t&&t.pop&&(t=(n=s(t,4))[0],e=n[1],i=n[2],n=n[3]);var r=Math.floor(6*t),o=6*t-r;t=i*(1-e);var a=i*(1-o*e);return 1<(i=(r=s([[i,e=i*(1-(1-o)*e),t],[a,i,t],[t,i,e],[t,a,i],[e,t,i],[i,t,a]][r%6],3))[0])&&(i=1),1<(e=r[1])&&(e=1),1<(r=r[2])&&(r=1),Sr("rgba",Rv([i,e,r,n]))}function Or(t,e){var i,n,r,o;if(t){if(i=t.kind){if("rgba"===i)return t;if("rgb"===i)return 4>t.length&&(t[3]=1),t.kind="rgba",t}if("array"===(i=d(t)))return t.kind=4===t.length?"rgba":"rgb",t;if("string"===i){var s=Hv[t];if(s||("#"===t[0]?s=Gv(t):(i=Wv[t.toLowerCase()])&&(s=Gv(i)),s&&(Hv[t]=s)),!s)if("h"===t[0])"a"===t[3]?r=Zv.hsla.exec(t):n=Zv.hsl.exec(t);else{var a=Yv[t];if(!a&&(a=Zv.rgba.exec(t))&&(a=[parseInt(a[1]),parseInt(a[2]),parseInt(a[3]),parseFloat(a[4])],Yv[t]=a),!a){var h=Zv.rgb.exec(t);h||(s=Gv(t))||(o=Zv.hexShort.exec(t))}}}if(i="rgba",a)var l=a.slice(0);else if(s)l=s.slice(0),"rgb"!==e?l.push(1):i="rgb";else if(h)l=[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])],"rgb"!==e?l.push(1):i="rgb";else if(o)l=[17*parseInt(o[1],16),17*parseInt(o[2],16),17*parseInt(o[3],16)],"rgb"!==e?l.push(1):i="rgb";else{if(r)var u=[parseInt(r[1])/360,parseInt(r[2])/100,parseInt(r[3])/100,parseFloat(r[4])];else l=n?kr(u=[parseInt(n[1])/360,parseInt(n[2])/100,parseInt(n[3])/100,1]):"transparent"===t?[255,255,255,0]:[0,0,0,0];u&&(l=kr(u))}l.kind=i}return l}function zr(t,e,i,n){var r=function(t){return Math.round(ii(o[t],s[t],0,100,i))};if(t&&e){var o=Or(t),s=Or(e);if(t=r(0),e=r(1),r=r(2),n||(n=ii(o[3],s[3],0,100,i)),r=[t,e,r,n],h(n))return Sr(h(n)?"rgba":"rgb",r)}else{if(t)return t;if(e)return e}}function Dr(t){var e=[];if("object"==typeof t&&t.stops){for(var i=0,n=t.stops.length;i<n;i++)e[i]=t.stops[i][1];return Er(e)}return"function"==typeof t.pop?Er(t):t}function Er(t){return Cr(t=Cd(Od.apply(null,Cd(t,Or)),(function(t){return Xd(t)})))}function Pr(t,e,i){var n={};if(n.tweenID=i&&i.id?i.id:fi(5),n.from=Fr(t,n.tweenID),n.to=Fr(e,n.tweenID),n.from.isComplex||n.to.isComplex){if(n.from.isComplex)if(n.to.isComplex)n.stepFn="linear"===n.from.type?Br(n):Lr(n);else var r=n.to,o=n.from;else r=n.from,o=n.to;o?(n.stepFn="linear"===o.type?Br(n):Lr(n),r&&function(t,e){if("color"!==t.type)throw"matchStops called on a "+t.type;var i=t.stops[0].color,n=h(t.stops[0].opacity)?t.stops[0].opacity:1;t.stops=e.stops.slice(0),"linear"==e.type&&(t.linearGradient=xd(e.linearGradient)),"radial"==e.type&&(t.radialGradient=xd(e.radialGradient)),Ad(t.stops,(function(r,o){t.stops[o]={x:e.stops[o].x,color:i,opacity:n}}))}(r,o)):n.from.type!==n.to.type&&(t=Er([t=Dr(n.to.input),e=Dr(n.from.input)]),n.animations=[Pr(n.from.input,t),Pr(t,n.to.input)],n.stepFn=function(t){return function(e){return 1==e?t.to.input:(e=ii(0,t.animations.length,0,1,e),t.animations[Math.floor(e)](e%1))}}(n)),n.from.stops.length!=n.to.stops.length&&(t=n.from,e=n.to,t.stops.length!==e.stops.length&&(t.stops.length<e.stops.length&&(t=(e=s([e,t],2))[0],e=e[1]),r=Ir(t),o=Ir(e),i=Rd(r,o),r=Rd(o,r),Nr(e,i),t.stops.length!==e.stops.length&&Nr(t,r)))}return n.stepFn||function(t){return function(e){return 1==e?t.to.input:Cr(zr(t.from.stops[0].color,t.to.stops[0].color,100*e))}}(n)}function Br(t){return function(e){if(1==e)return t.to.input;var i=t.from.linearGradient,n=t.to.linearGradient;return i={linearGradient:[sy(i[0],n[0],e),sy(i[1],n[1],e),sy(i[2],n[2],e),sy(i[3],n[3],e)],stops:[]},Rr(t,i.stops,e),i.tweenId=t.tweenID,i}}function Lr(t){return function(e){if(1==e)return t.to.input;var i=t.from.radialGradient,n=t.to.radialGradient,r={radialGradient:{cx:sy(i.cx,n.cx,e),cy:sy(i.cy,n.cy,e),r:sy(i.r,n.r,e)},stops:[]};return h(n.fx)&&(r.radialGradient.fx=sy(Se(i.fx,.5),n.fx,e)),h(n.fy)&&(r.radialGradient.fx=sy(Se(i.fy,.5),n.fy,e)),Rr(t,r.stops,e),r.tweenId=t.tweenID,r}}function Rr(t,e,i){for(var n=function(t,e){return"rgb"===t.kind&&(e=h(e)?e:1,3<t.length?t[3]=e:t.push(e),t.kind="rgba"),t},r=0,o=t.from.stops.length;r<o;r++){var s=t.from.stops[r],a=t.to.stops[r],l=zr(n(s.color,s.opacity),n(a.color,a.opacity),100*i),u=void 0;"rgba"===l.kind&&(u="rgb"),e.push([100*sy(s.x,a.x,i)+"%",Cr(l,u),u?l[3]:sy(s.opacity,a.opacity,i)])}}function Fr(t,e){var i={input:t,stops:[],id:e};if(e=function(t,e,n){"rgba"===(t=Or(t,"rgb")).kind&&(t.kind="rgb",n=t[3]),i.stops.push({color:t,x:e,opacity:n})},"string"==d(t))e(t,0,1),i.type="color";else{for(var n=0,r=t.stops.length;n<r;n++){var o=t.stops[n],s=1;"string"==d(o[0])&&-1<o[0].indexOf("%")&&(s=100),e(o[1],parseFloat(o[0])/s,o[2])}i.isComplex=!0,t.linearGradient?(i.type="linear",i.linearGradient=Vr(i,t.linearGradient)):t.radialGradient&&(i.type="radial",i.radialGradient=Vr(i,t.radialGradient))}return i}function Vr(t,e){var i="radial"==t.type?{}:[];return Ad(e,(function(t,e){var n=["x1","y1","x2","y2"].indexOf(e);t="number"===d(t)?t:parseFloat(t)/(-1<t.indexOf("%")?100:1),i[-1===n?e:n]=t})),i}function Ir(t){for(var e=[],i=0,n=t.stops.length;i<n;i++)e.push(t.stops[i].x);return e}function Nr(t,e){for(var i=0,n=e.length;i<n;i++){var r=t,o=e[i],s=r.stops;if(1<s.length)for(var a=1,h=s.length;a<h;a++){var l=s[a],u=s[a-1];if(l.x>o&&u.x<o){var c=ii(0,1,u.x,l.x,o);l={color:zr(u.color,l.color,100*c),x:o,opacity:sy(u.opacity,l.opacity,c)},r.stops.splice(a,0,l)}}}}function jr(t,e,i){var n={};e=e.meta;var r=t&&t.meta&&t.meta.pattern;return n.pattern=e.pattern,n.colorAnim=Pr(r?t.meta.color:e.color,e.color,i),n.bgAnim=Pr(r?t.meta.backgroundColor:t,e.backgroundColor,i),function(t){return{pattern:n.pattern,color:n.colorAnim(t),backgroundColor:n.bgAnim(t)}}}function Wr(t){if(t)return t.pop?!(2!==t.length||!t[1].toFixed)&&io(Wr(t[0]),1-t[1]):t}function Hr(t){return"#"+Yr((t=Or(t))[0],t[1],t[2])}function Yr(t,e,i){return ni(qd(t,0,255))+ni(qd(e,0,255))+ni(qd(i,0,255))}function Ur(t){if(t){var e=t.pop?t:Or(t);return{hex:t="#"+Yr(e[0],e[1],e[2]),opacity:e=parseFloat(Se(e[3],1))}}return{hex:"none",opacity:1}}function Gr(t){t=Or(t);var e=s(Lv(t),3);t=e[0];var i=e[1];return e=e[2],.2126*(.03928>=t?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(.03928>=i?i/12.92:Math.pow((i+.055)/1.055,2.4))+.0722*(.03928>=e?e/12.92:Math.pow((e+.055)/1.055,2.4))}function Zr(t){return t=Or(t),Fv(Lv(t))}function Xr(t,e){t=Or(t);var i=Iv(Lv(t));return i[0]=e,e=jv(i),t[0]=255*e[0],t[1]=255*e[1],t[2]=255*e[2],t}function qr(t,e){var i=Zr(t);return Xr(t,qd(i+e,0,1))}function Kr(t,e){e=qd(e,-100,100);var i=function(t){return Math.floor(qd(t,0,255))},n=function(t){return i(o[t]+(255-o[t])*r)},r=e/100,o=Or(t);return 0<e?(t=n(0),e=n(1),n=n(2)):(r=1-(r*=-1),t=i(o[0]*r),e=i(o[1]*r),n=i(o[2]*r)),Sr("rgba",[t,e,n,o[3]])}function Qr(t,e,i){return ny(t,"hsv("+{h:(i=0<i?"+"+i:i)+",,",s:","+i+",",v:",,"+i}[e]+")")}function $r(t){var e=_r((t=Or(t))[0],t[1],t[2]);return e[2]+=.007*Math.pow(100*e[2]-100,2)/200,(e=kr(e[0],e[1],e[2]))[3]=t[3],e}function Jr(t,e){void 0===e&&(e=.7);var i=_r((t=Or(t))[0],t[1],t[2]);return i[2]+=Math.pow(i[2]-1,2)*e,(e=kr(i[0],i[1],i[2]))[3]=t[3],e}function to(t){var e=_r((t=Or(t))[0],t[1],t[2]);return e[2]-=.007*Math.pow(100*e[2],2)/100,(e=kr(e))[3]=t[3],e}function eo(t,e){return t=Or(t),1<e&&(e=ii(0,1,0,255,e)),[t[0],t[1],t[2],e]}function io(t,e){return e&&e.toFixed?(1>=e&&(e*=100),Sr("rgba",[(t=Or(t))[0],t[1],t[2],(100-e)/100*t[3]])):t}function no(t,e){return e&&e.toFixed?(1>=e&&(e*=100),Sr("rgba",[(t=Or(t))[0],t[1],t[2],1-e/100])):t}function ro(t,e){return mo(t,(function(t){return no(t,e)}))}function oo(t){var e=vi((t+360)%360+180),i=Math.cos(Math.abs((.5*(Math.floor(e/Math.PI*2)+2)+.25)*Math.PI-e))*Math.sqrt(2);t=i*Math.cos(e);var n=i*Math.sin(e);return e=0>n?1:0,i=0<=t?t:t+1,n=0<=n?n:n+1,[(0>t?1:0).toFixed(4),e.toFixed(4),i.toFixed(4),n.toFixed(4)]}function so(t,e,i,n){return e.length&&e[0][1].pop&&Ad(e,ao),n&&(t.hash=n),{linearGradient:t,stops:e}}function ao(t){var e=Ur(t[1]);return t[1]=e.hex,t[2]=e.opacity,t}function ho(t,e,i,n){var r=e.length,o=so(oo(t),[]);for(t=0;t<r;t++){var s=Or(Wr(i[t])||i[t]),a=Cr(s);o.stops.push([e[t]/100,Hr(a),s[3]])}return o.linearGradient.hash=n||"",o}function lo(t,e,i,n){return void 0===e&&(e=[0,0]),void 0===i&&(i=2),e={cx:.5+2*e[0],cy:.5+2*e[1],r:2.75-i},(t=[["0%",t=Jr(i=Or(t))],["100%",i=to(i)]]).length&&t[0][1].pop&&Ad(t,ao),{radialGradient:e,stops:t}}function uo(t,e,i,n){void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===n&&(n=!1);var r=["aqua",t,e,i,n].join(""),o=0;if("object"==typeof e&&null!==e)var s=!0;else{var a=oo(o=e?90:0);0}t=Or(t),i&&(a=oo(o+180));var h=n?zr(to(t),"#ffffff",10):to(t),l=n?zr($r(t),"#ffffff",10):Jr(t);i=zr(h,l,.8,t[3]),o=zr(h,l,40,t[3]);var u=zr(h,"#fefefe",70.5,t[3]),c=zr(h,i,50,t[3]);c=zr(c,"#fefefe",39.2,t[3]),h=zr(h,i,60,t[3]),h=zr(h,"#fefefe",39.2,t[3]);var p=zr(i,"#fefefe",39.2,t[3]);return n&&(l=zr(l,"#f7ffe0",60,1),o=zr(o,"#f7ffe0",40,1)),n=[["0%",u],["25%",c],["30%",h],["49.99%",p],["50%",i],["70%",o],["100%",l]],s?(25>(e=e.gradientDistance)?(n[3][0]="47%",n[4][0]="53%"):50>e?(n[3][0]="48%",n[4][0]="52%"):(n[3][0]="49.5%",n[4][0]="50.5%"),so(a,n,(t[3],t[3]))):so(a,n,(t[3],t[3]),r)}function co(t,e,i,n){void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===n&&(n=!1);var r=["rounded",t,e,i,n].join(""),o=0;if("object"==typeof e&&null!==e)var s=!0;else{var a=oo(o=e?90:0);e=e?0:90}t=Or(t),i&&(a=oo(o+180),e=0),i=n?zr(to(t),"#ffffff",5):to(t),o=n?zr($r(t),"#ffffff",50):Jr(t);var h=zr(i,"#fefefe",25,t[3]),l=zr(i,o,18.75,t[3]),u=zr(l,"#fefefe",62.745,t[3]);l=zr(l,"#fefefe",54.90196,t[3]);var c=zr(i,o,31.25,t[3]);t=zr(c,"#fefefe",11.764705,t[3]);var p=i;return s&&(p=h=u,i=o),n&&(i=zr(i,"#f7ffe0",50,1),p=zr(p,"#f7ffe0",60,1)),n=[["0%",p],["5%",h],["20%",u],["20%",l],["30%",t],["30%",c],["85%",o],["100%",i]],s?so(a,n):so(a,n,0,r)}function po(t,e,i,n){void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===n&&(n=!1);var r=oo(e?90:0);e="subtl"+t+e+i;var o=.03,s=t=Or(t),a=Zr(s),h=t[3];i&&(r=oo(180)),i=ny,t=oy("hsv(,,+"+o+")");var l=oy("hsv(,,-"+o+")");o=oy("hsv(,,-"+2*o+")");var u=t(s),c=l(s);return t=o(s),u===s&&(u=l(t="#"+Yr(c[0],c[1],c[2])),t=o(t)),n&&(.85<a?u=i(u,"hsv(,,"+(0>(o=1.4*-(a-.8))?"-":"+")+Math.abs(o)+")"):(s=zr(s,"#f7ffe0",20,1),u=zr(u,"#f7ffe0",50,1),t=zr(t,"#f7ffe0",70,1))),so(r,n=[["0%",no(u,1-h)],["50%",no(Cr(s),1-h)],["90%",no(c,1-h)],["100%",no(t,1-h)]],(s[3],s[3]),e)}function fo(t,e,i,n){void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===n&&(n=!1);var r=oo(e?90:0);e=e?0:90;var o="squ"+t+i+n,s=t=Or(t);return t=t[3],i&&(r=oo(180),e=0),so(r,i=[["0%",no(i=zr(s,n?"white":"black",20),1-t)],["49.99%",no(i,1-t)],["50%",no(s,1-t)],["100%",no(s,1-t)]],(s[3],s[3]),o)}function mo(t,e,i){void 0===i&&(i=["val"]);for(var n,r=0,o=0,s=i.length;o<s;o++)if("val"===i[o]){r=o;break}t.pop&&t.kind&&(t=Cr(t));var a=[];if("object"!=typeof t)return i[r]=t,e.apply(null,i);if(t.stops){var h=[];for(o=0,s=(n=Object.create(t)).stops.length;o<s;o++){var u=n.stops[o];i[r]=3===u.length?Cr(no(u[1],1-u[2])):u[1],u=ao([u[0],e.apply(null,i)]),a.push(u[1]),h.push(u)}return n.stops=h,(e=l(t,"linearGradient")?"linearGradient":l(t,"radialGradient")?"radialGradient":void 0)&&((t=n[e]=t[e].slice()).hash=h.join("")+t.join("")),n}return t.image?"url('"+t.image+"')":void 0}function go(t,e){return"none"===t?"rgba(0,0,0,0)":(t=Wr(t),h(e)&&(t=ro(t,e)),Cr(t))}function vo(t){return Ur(t=Or(Wr(t)))}function yo(t,e,i,n,r){if(!h(t))return t;var o,s=t.length,a=[],l=[];if(t.pop){if(o=Wr(t))return i?bo(i,io(o,e),n):Cr(io(o,e));if(2===s)return!0===t[1]?bo(i,io(Wr(t[0]),e),n):io(Wr(t[0]),e);if(2<s){var u=t.join(""),c=t[s-1],p=100/(s-2);for(n=Wr((t=t.slice(0))[0]),i=0;i<s-1;i++)t[i]=i||r?xo(t[i],r||n):t[i],o=io(Wr(t[i]),e),l.push(Cr(o)),a.push(p*i);return ho(c,a,l,u)}}else{if(t.linearGradient&&t.linearGradient.pop)return h(e)?wo(t,1-e):t;if(t.stops){if(t.hasOwnProperty("angle")&&t.stops){for(s=t.stops.length,n=(c=t.stops)[0][1],i=0;i<s;i++)void 0!==(o=c[i])[0]?a.push(100*o[0]):a.push(0),o=i||r?xo(o[1],r||n):o[1],l.push(io(Wr(o),e));return ho(t.angle,a,l)}}else{if(t.image)return"url('"+t.image+"')";if(t.charAt)return i?bo(i,io(t,e),n):io(t,e)}}}function xo(t,e){return mo(e,(function(e){t:if(e){if("currentColor"!==t){if($v(t))var i=ny(e,t);else{if(!ay[t]){e=t;break t}switch(t){case ay.crysDark:i=to(e);break;case ay.crysBright:case ay.select:i=Jr(e);break;case ay.hover:var n=e?1-Or(e)[3]:void 0;i=ro(i=Xr(e,.59>(i=Zr(e))?i+.15:i-.15),100*n);break;case ay.outline:i=function(t,e){function i(t){return Math.sqrt(t[0]*t[0]*.284+t[1]*t[1]*.72+t[2]*t[2]*.068)/255}void 0===e&&(e=.3);var n=t=Or(t);n[0]||n[1]||n[2]||(n[0]=n[1]=n[2]=5);var r=4.2*e;return e*=9,So(function(t,e){var n=i(t);n=qd(n+e,0,1),n-=e=i(t);var r=i(Kr(t,-10));return Kr(t,n/(r-e)*-10)}(n,e=.49>=(t=i(n))?ii(.008*r,.115*r,0,.49,t):ii(-.08*e,-.09*e,.49,1,t)))}(e,.07);case ay.outlineContrast:break;case ay.label:i=Kr(e,-40);break;case ay.labelContrast:var r=i=ny(e,"contrast");n=Gr(e),r=Gr(r),7>(n=(Math.max(n,r)+.05)/(Math.min(n,r)+.05))&&(i=zr(i,.5>(e=Vv(Or(e)))[0]?"#fff":"#000",(8-n)/8*100));break;case ay.seriesLine:i=qr(e,-.095);break;case ay.hueEffect:i=Qr(e,"h",-23.4);break;case ay.lightenDark:i=qr(e,.5>(i=Zr(e))?.095:-.125);break;default:i=e}}e=Cr(i)}}else e=void 0;return e}))}function bo(t,e,i){if(!e||void 0===e)return e;if("none"===e&&(e="rgba(0,0,0,0)"),e.linearGradient)return e;if(!1===e[1])return e[0];e.length&&!e.kind&&(e=go(e));var n=t,r=Or(e)[3],o=1-r,s=io(e,o);n+=e+(i||0);var a=e;switch(t){case hy.gaugePolarBack:i=io(zr(e,"#ffffff",20),o),a=s;var h=io(Qr(e,"v",-.02),o);a=so(oo(90),[["0%",i],["40%",a],["100%",h]],0,n);break;case hy.titleBox:i=io(zr(e,"#ffffff",20),o),a=s,h=io(Qr(e,"v",-.06),o),a=so(oo(90),[["0%",i],["40%",a],["100%",h]],0,n);break;case hy.box:i=io(zr(e,"#ffffff",20),o),h=a=s,a=so(oo(90),[["0%",i],["40%",a],["100%",h]],0,n);break;case hy.chartArea:i=io(zr(e,"#ffffff",20),o),r=h=a=s;var l=io(Kr(e,-5),o);a=so(oo(90),[["0%",i],["25%",a],["30%",h],["80%",r],["100%",l]],0,n);break;case hy.altGridFillRad:a=Cr(io(eo(e,105),o),"rgba");break;case hy.altGridFillY:case hy.altGridFillX:if(s=.04,0<i&&(s=Math.min(1.7/i,.34)),0===r)return go(e,100);i=io(eo("#ffffff",180),o),a=io(eo("#ffffff",180),o),h=io(eo(e,105),o),r=io(eo(e,30),o),l=io(eo(Kr(e,60),7.5),o),e=io(eo(e,82.5),o),a=so(oo("altGridFillY"===t?90:0),[["0%",i],[s+"%",a],[s+"%",h],["35%",r],["60%",l],["100%",e]],0,n);break;case hy.axisMarkerY:case hy.axisMarkerX:s=Or(e),r=Math.min(255*s[3]+20,255),i=io(io(eo(Qr(e,"v",-.04),r),7),o),a=io(io(e,7),o),a=so(oo("axisMarkerY"===t?90:0),[["0%",i],["20%",a],["80%",a],["100%",i]],0,n);break;case hy.jsButton:i=io(Kr(e,-10),o),a=io(Jr(e),o),h=io(Kr(e,-20),o),a=so(oo(90),[["0%",i],["20%",a],["70%",e],["85%",e],["100%",h]],0,n);break;case hy.jumpButton:i=io(Kr(e,-10),o),a=io(Jr(e),o),h=io(Kr(e,-20),o),a=so(oo(90),[["0%",i],["20%",e],["70%",a],["85%",e],["100%",h]],0,n);break;case hy.areaFill:i=io(e,o),h=Qr(e,"v",.1),a=so(oo(90),[["0%",h],["70%",i],["80%",i],["100%",i]],0,n);break;case hy.aqua:a=uo(e);break;case hy.rounded:a=co(e);break;case hy.subtle:a=po(e);break;case hy.cushion:a=lo(e);break;case hy.navBar:a=e}return a}function wo(t,e){return t?mo(t,(function(t){return h(e)&&e.toFixed&&(t=Sr("rgba",[(t=Or(t))[0],t[1],t[2],t[3]*e])),Cr(t)})):t}function Ao(t,e,i,n){return Cr(t=zr(t,e,i,n))}function Co(t){return Or(t=Wr(t))}function So(t,e){return Cr(t,e)}function ko(t,e){return void 0===e&&(e=1),"none"===t||(t=mo(t,(function(t){return Cr(t=Qr(t=Co(t),"s",-e))})))&&t.linearGradient&&(t.linearGradient.hash=t.linearGradient.hash+"DS"+e),t}function _o(t,e,i,n){function r(t){var n=[],r=function(t){switch(t){case"hue":return[a[0],1];case"saturation":return[a[1],1];case"lightness":return[a[2],1];case"r":return[s[0],255];case"g":return[s[1],255];case"b":return[s[2],255]}}(t),o=r[1];for(t=((r=function(t,e,i){function n(){r=i[1]-s[1],o=s[0]-i[0]}var r,o,s=[t-e/2,t+e/2];return n(),0>r?(s[0]+=r,s[1]+=r,n(),0>o&&(s[0]=i[0])):0>o&&(s[0]-=o,s[1]-=o,n(),0>r&&(s[1]=i[1])),s}(r=r[0],e[t],[0,o]))[1]-r[0])/i,o=0;o<i;o++)n[o]=r[0]+t*o;return n}var o=0===(n=h(n)?n:1),s=Or(t),a=_r(s[0],s[1],s[2]);for(c in t={},e)e.hasOwnProperty(c)&&(t[c]=r(c));for(var l=[],u=0;u<i;u++){var c=[a[0],a[1],a[2]];t.hue&&(c[0]=t.hue[u]),t.saturation&&(c[1]=t.saturation[u]),t.lightness&&(c[2]=t.lightness[u]),l[u]=Ur(kr(c[0],c[1],c[2])).hex}return o?l:function(t,e){e=h(e)?e:-1;var i,n=t.length;for(h(e)&&(i=ui(e,t.length+2));0!==n;){var r=Math.floor(i[n]*n);e=t[--n],t[n]=t[r],t[r]=e}return t}(l,n)}function Mo(){return{x:0,y:0,width:0,height:0}}function To(t,e,i){return h(e)&&(t.x-=(e-t.width)/2,t.width=e),h(i)&&(t.y-=(i-t.height)/2,t.height=i),t}function Oo(t,e){return To(t,t.width*e,t.height*e)}function zo(t,e){return{x:t.x+e,y:t.y+e,width:t.width-2*e,height:t.height-2*e,borderWidth:2*e}}function Do(t,e){return[t[0]+e[3],t[1]+e[0],t[2]-e[3]-e[1],t[3]-e[0]-e[2]]}function Eo(t,e,i){return{x:t.x+e,y:t.y+i,width:t.width,height:t.height}}function Po(t,e){return zo(t,e*Math.min(t.width,t.height)/2)}function Bo(t,e,i,n){return{x:t-i/2,y:e-n/2,width:i,height:n}}function Lo(t){return 0>t.width&&(t.x+=t.width,t.width=-t.width),0>t.height&&(t.y+=t.height,t.height=-t.height),t.right=t.x+t.width,t.bottom=t.y+t.height,t.cx=t.x+t.width/2,t.cy=t.y+t.height/2,t}function Ro(t){return[t.x,t.y,t.x+t.width,t.y+t.height]}function Fo(t){return{x:t[0],y:t[1],width:t[2]-t[0],height:t[3]-t[1]}}function Vo(t){return{x:t[0],y:t[1],width:t[2],height:t[3]}}function Io(t,e){var i=t.width*t.height,n=e.width*e.height;return 0===(i=i===n&&t.width===e.width?0:si(i,n))&&t.x===e.x&&t.y===e.y?0:0===i?-1:i}function No(t){return void 0===t&&(t=0),t.toFixed?t=Tp[t]:t.charAt?(t=t.toLowerCase(),t=Tp[uy.indexOf(t)]):t=Tp[0],t?("#"+t.match(/.{1,6}/g).join("#")).match(/.{1,7}/g):t}function jo(t,e,i,n){void 0===n&&(n={});var r=fy[t]=fy[t]||{};r.loaded&&e();var o=r.callbacks=r.callbacks||[];r.loading?o.push(e):(r.loading=!0,o.push(e),function(t,e,i,n){var r=n.baseUrl,o=n.notificationContainer,s=function(t,e){return t?(e||Un(),-1<t.indexOf("http:")||-1<t.indexOf("https:")?t+".js":(e||Un())+"/"+t+".js"):null}(t,r);Zn(s,e,(function(){i&&i.emit("warning","moduleLoader","libNotFound",{data:[s],container:o}),e()})),function(t,e,i,n){e=!e&&Gn(),t&&(e?t.emit("warning","moduleLoader","cdnLoad",{data:[i],container:n}):Un()&&"https://code.jscharting.com/3.4.0"===Un()||!function(t){return gd(["maps","toolbar","types"],(function(e){return~t.indexOf("modules/"+e)}))}(i)||t.emit("warning","moduleLoader","scriptLoad",{data:[i],container:n}))}(i,r,s,o)}(t,(function(){Ad(o,(function(t){return t()})),r.loading=!1,r.loaded=!0}),i,n))}function Wo(t){return t.id=t.id||fi()}function Ho(t,e){var i,n=t[e];return"object"===d(n)&&(i=t[e]=[n]),i||t[e]}function Yo(t,e){var i,n;"undefined"!==(n=d(i=c(t,e)))&&"string"===n&&Le(t,e,i.toLowerCase())}function Uo(t,e){var i;"undefined"!==d(i=c(t,e))&&go(i)&&Le(t,e,go(i))}function Go(t,e){return h(t)&&t.charAt?-1<t.indexOf("%")?(t=parseInt(t.match("-?[0-9]+")))/100*e:parseInt(t):t}function Zo(t,e){return Ev||(Ev=Qm.Promise||Xo),new Ev(t,e)}function Xo(t){return new gy("polyfill/promise",(function(){return new(Ev=Qm.Promise)(t)}))}function qo(t,e){return new gy(["polyfill/promise","polyfill/fetch"],(function(){return(Pv=Qm.fetch)(t,e)}))}function Ko(t){if(t&&t.unit){var e=Se(t.multiplier,t.count);return void 0===e&&(t.multiplier=1),e=Se(e,1),Cy[t.unit]/1*e}return 0}function Qo(t,e){var i=e.unit,n=Se(e.multiplier,e.count,1);if("quarter"===i&&(i="month",n*=3),t.getMonth||(t=new Date(t)),t=new Date(t.getTime()),e&&i){if("decade"!==i)return"month"===i?new Date(t.getFullYear(),t.getMonth()+n,t.getDate()):"year"===i?(t.setFullYear(t.getFullYear()+n),new Date(t.getTime())):"day"===i?(t.setDate(t.getDate()+n),new Date(t.getTime())):new Date(t.getTime()+Ko(e));t.setFullYear(t.getFullYear()+10*n)}return t}function $o(t,e,i){i.getMonth||(i=new Date(i)),i=new Date(i.getTime());var n=t.unit?t.unit:t;switch(e=t.multiplier?t.multiplier:1,"minute"===n&&1<e&&(n="hour"),n){case"decade":i.setFullYear(10*Math.floor(.1*i.getFullYear()));case"year":i.setMonth(0);case"month":i.setDate(1);case"week":if("week"===n){i.setDate(i.getDate()-i.getDay()+xy);break}case"day":i.setHours(0);case"hour":i.setMinutes(0);case"minute":i.setSeconds(0)}return i.setMilliseconds(0),i}function Jo(t,e){return{year:{year:e?"2-digit":"numeric"},month:{month:e?"numeric":"short"},day:{day:"numeric"},weekday:{weekday:"short"},hour:{hour:"numeric"},minute:e?{minute:"2-digit"}:{hour:"numeric",minute:"2-digit"},second:e?{second:"2-digit"}:{hour:"numeric",minute:"2-digit",second:"2-digit"},millisecond:"fff"}[t]}function ts(t){var e=Cd(t,Dy);t=Math.min.apply(Math,a(e)),e=Math.max.apply(Math,a(e));for(var i=[];t<e+1;t++)i.push(Jo(Oy[t]));return i}function es(t){var e=t.pair,i=e.major,n=e.minor,r=t.sigUnits,o=t.intervals,s=e=Jo(i.unit),h=n=Jo(n.unit);return r.major.length&&r.minor.length?1===t.intervals[0].length?(i=Math.min.apply(Math,a(Cd(r.major,Dy))),r=Math.min.apply(Math,a(Cd(r.minor,Dy))),3<=--r&&r--,r>i&&(s=wd.apply(null,ts([Oy[i],Oy[r]])))):(t=ts(r.major),r=ts(r.minor),3<t.length&&t.pop(),"day"===i.unit&&o[1].length>=o[0].length&&wd(e,Jo("month")),t.length&&o[1][0]>o[0][0]&&(s=wd.apply(null,t)),r.length&&(h=n=wd.apply(null,r))):!r.major.length&&r.minor.length&&1===r.minor.length&&"day"===r.minor[0]&&(h=wd(Jo("month"),h)),{major:e,minor:n,majorFirst:s,minorFirst:h}}function is(t){var e=s(t,2);return t=e[1],{major:e=kd(Cd(e[0],Py)),minor:t=kd(Cd(t,Py))}}function ns(t,e,i,n){var r=[],s=[],a=[];n=n.getTime();var l=i.getTime();l=n-l;var u={exists:0,close:0},c=i;c.getMonth||(c=new Date(c));var p=t.unit?t.unit:t,f=t.multiplier?t.multiplier:1,d=$o(t,1,c);if(d.getTime()!==c.getTime())for(;d.getTime()<c.getTime();)d=Qo(d,{unit:p,multiplier:f});for(c=p=d;c.getTime()<=n;)s.push(c.getTime()),c=Qo(c,t);if(r.push(s),e){var m;for((c=p).getMonth||(c=new Date(c)),"week"===e.unit&&(c=$o(e,1,c));c>i;)c=Qo(c,{unit:e.unit,multiplier:-Se(e.multiplier,1)});for((i=Qo(c,e)).setMilliseconds(0),c=i;c.getTime()<=n;){f=p=t=void 0,d=c.getTime();var g=s;if(i=l/20,0>g.indexOf(d)){if(g.length){try{for(var v=o(g),y=v.next();!y.done;y=v.next()){var x=y.value;(void 0===t||ai(x,d)<ai(t,d))&&(t=x)}}catch(t){f={error:t}}finally{try{y&&!y.done&&(p=v.return)&&p.call(v)}finally{if(f)throw f.error}}t=ai(t,d)}else t=void 0;i=h(t)&&(t>=i?void 0:"close")}else i="exists";(m=i)?u[m]++:a.push(c.getTime()),c=Qo(c,e)}1<a.length&&r.push(a),r.minorRemoval=u}return r}function rs(t,e){var i,n=(e=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]])[e.length-1],r=Cy[n[0]];for(t.unit&&(t=Ko(t)),i=0;i<e.length;i++){n=e[i],r=Cy[n[0]];var o=n[1];if(e[i+1]&&t<=(r*o[o.length-1]+Cy[e[i+1][0]])/2)break}return{unitRange:r,count:Math.max(1,Math.round(t/r)),unit:n[0]}}function os(t,e,i,n){return void 0===n&&(n=!0),e=(t=new Ly(t)).isInterval?n?t.setRangeSnap(e,i):t.setRange(e,i):t.getRanges(e,i),Cd(e,(function(t){return Cd(t,(function(t){return t.getTime()}))}))}function ss(t,e){var i;return(i=t.offset)?e.map((function(t){return t.map((function(t){return vy(t.getTime()+i)}))})):e}function as(t,e,i){if(void 0===e&&(e="sum"),(!t||!t.length)&&h(i))return i;switch(e){case"sum":return Zd(t);case"average":return null===(e=Zd(t))?NaN:e/t.length;case"min":return Math.min.apply(Math,a(t));case"max":return Math.max.apply(Math,a(t))}}function hs(t,e){var i="function"==typeof e,n=i?function(t,i){return e(i,t)}:se,r=function(){n=function(t){return as(t,e)}};if("function"==typeof t.pop)return!i&&Vy((function(e){t.forEach((function(t){return e(t.values)}))}))&&r(),t.map((function(t){if(i)t=n(t.values,t.key);else{var e=t.key;t={x:"string"==typeof e&&e.match(ym)?parseFloat(e):e,y:n(t.values,t.key)}}return t}));var o=Object.keys(t);!i&&Fy(c(t,o[0]))&&r();var s=[];return o.forEach((function(e){return s.push(i?n(t[e],e):{x:e,y:n(t[e],e)})})),s}function ls(t,e,i){return"object"==typeof e&&e.pattern?function(t,e,i){return e=(t=function(t,e,i){var n,r=e.pattern,s=e.range,h=Iy(e.key);if(e=[],!r)throw"CalendarPattern Required";var l=new Ly(r),u="numeric"===l.intervalType?se:function(t){return t.getTime()};if(s)var c=[vy(s[0]),vy(s[1])],p=l.setRange(vy(s[0]),vy(s[1]));else{try{for(var f=o(t),d=f.next();!d.done;d=f.next()){var m=yy(h(d.value));Qd(m)||e.push(m)}}catch(t){var g={error:t}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(g)throw g.error}}g=Math.min.apply(Math,a(e)),n=Math.max.apply(Math,a(e)),c=[vy(g),vy(n)],p=l.setRangeSnap(vy(g),vy(n))}return g=p.map((function(t){return u(t[0])})),t=us(t,(function(t,e){if(t=yy((e||h)(t)),-1===(e=l.isInside(t))){if(!Tm(c,t))return null;Qd(yy(t))||(e=p.length-1)}return u(p[e][0])}),g,i),"numeric"===l.intervalType&&(t.notDates=!0),t}(t,e,i)).notDates?parseInt:function(t){return vy(parseInt(t))},delete t.notDates,jy(t,e)}(t,e,i):jy(us(t,e,void 0,i))}function us(t,e,i,n){e=Iy(e);var r={};i&&i.forEach((function(t){r[t]=[]})),i=0;for(var o=t.length;i<o;i++){var s=t[i],a=e(s);null!==a&&Ry(r,a,s)}return n&&Ad(r,(function(t,e){return t=Ny(n),r[e]=t(r[e])})),r}function cs(t){for(var e,i,n,r=function(t,r){if("key"===t[0]){var o=void 0;if(!i&&e?(i=!0,o=function(i){return ls(i,t[1],e[1])}):o=function(e){return ls(e,t[1],r)},i=!0,n){var s=o,a=n[1];o=function(t){return t=zd(s(t),(function(t){return t.key})),!0===a&&t.reverse(),t},n=void 0}return o}return"rollup"===t[0]?(e=t,se):"sortKey"===t[0]?(n=t,se):"reverse"===t[0]?function(t){return t.reverse()}:void 0},o=(t=t.calls.slice(0)).length-1,s=se;-1<o;)s=r(t[o--],s);return s}function ps(t){return Cd(t,(function(t){if(t.match(Yy))t="number";else if(t.match(Uy))t="dirtyNumber";else{var e=(e=t.match(/\d/gm))?e.length:0,i=(i=t.match(/\d\D{1,2}\d/gm))?i.length:0;t=(t=2<e&&i&&!Qd(new Date(t).getTime())?-1===t.indexOf("%"):void 0)?"date":"string"}return t}))}function fs(t){if(1<t.length){var e=ps(t[0]),i=ps(t[1]);if(function(t){return!gd(t,(function(t){return"string"!==t}))}(e)){if(3>t.length)return!Ne(e,i);if(2<t.length)return!Ne(e,t=ps(t[2]))}}}function ds(t){var e=Math.min(3,t.length),i=[];if(Fd(e,(function(e){return i[e]=ps(t[e])})),!gd(i,(function(t){return gd(t,(function(t){}))}))){for(var n=void 0,r=0;r<i.length-1&&!(n=!Ne(i[r],i[r+1]));r++);var o=["date","number","string","dirtyNumber","undefined"];if(n){var s=[];return Fd(i[0].length,(function(t){var n=[];Fd(e,(function(e){n.push(i[e][t])})),n.sort((function(t,e){return si(o.indexOf(t),o.indexOf(e))})),s.push(n)})),Cd(s,(function(t){return t[0]}))}return i[0]}return[]}function ms(t,e,i){void 0===e&&(e=",");var n,r,o,s=[],a=!1;for(n=r=o=0;o<t.length;o++){var h=t[o],l=t[o+1];s[n]=s[n]||[],s[n][r]=s[n][r]||"",'"'===h&&a&&'"'===l?(s[n][r]+=h,++o):'"'===h?a=!a:h!==e||a?"\r"!==h||"\n"!==l||a?"\n"===h&&!a||"\r"===h&&!a?(++n,r=0):s[n][r]+=h:(++n,r=0,++o):++r}return!i&&fs(s)&&(s.shift(),fs(s)&&s.shift()),s}function gs(t,e){var i={number:function(t){return t=parseFloat(t),Qd(t)?null:t},dirtyNumber:function(t){return t=parseFloat(t.replace(/[^0-9.-]+/g,"")),Qd(t)?null:t},string:function(t){return t},date:function(t){return new Date(t).getTime()},"":function(t){return t}},n=!1;if(t.length)return Fd(3,(function(e){return function(e){Ad(t[e],(function(t){if("number"===(t=d(t))||"dirtyNumber"===t||"date"===t||"object"===t)return n=!0,!1}))}(e)})),n?t:(e=e||ds(t),Cd(t,(function(t){return Cd(t,(function(t,n){return i[e[n]](t)}))})))}function vs(t,e){"string"===d(t)&&e&&(t={mapTo:t,data:e});var i,n={number:function(t){return parseFloat(t)},string:function(t){return t},dateNumber:function(t){return new Date(parseInt(t))},date:function(t){return new Date(t)},"":function(t){return t}},r=t.csv,o=t.data;e=t.intervals;var s=d(o),a=t.types,h=t.newline||Hy,l=t.mapTo||"x,y,z",u=t.delimiter||",";a&&(a=a.split(","));var c=function(t){return di(t)?"number":"string"},p=function(t,e){return"date"===a[e]?{number:"dateNumber",string:"date"}[c(t)]:a[e]};if(r||"string"!==s||(r=o),r){r=r.split(h),t.header&&(r=r.splice(0,1)),a=function(t){return Cd(t,a?p:c)}(r[Math.min(1,r.length-1)].split(u));var f=Cd(a,(function(t){return n[t]}));o=Cd(r,(function(t){return Cd(t.split(u),(function(t,e){return f[e](t)}))}))}return o&&(i=ys(l,o)),e&&Ad(e,(function(t,e){var r=t.start,o=t.step,s=n[t.type||""];Ad(i,(function(t,i){return t[e]=s(r+o*i)}))})),i}function ys(t,e){function i(t,e,i){t[e]=i}function n(t,e,i){Le(t,e,i)}var r,o,s,a=[],h=[],l=0;for(r=(t=t.split(",")).length;l<r;l++)t[l]=t[l].trim(),h[l]=-1<t[l].indexOf(".")?n:i;var u=0;for(o=e.length;u<o;u++){l={};var c=0;for(s=(r=e[u]).length;c<s;c++)h[c](l,t[c],r[c]);a[u]=l}return a}function xs(t,e){void 0===e&&(e={});var i=[],n=ms(t,e.delimiter,!0);Fd(2,(function(t){return fs(n)&&i.push(n.shift())}));var r=ds(n);return t={raw:t,headers:i,types:r.map(Gy),split:n},e.skipCoerce||(t.data=gs(n,r)),t}function bs(t,e,i){void 0===i&&(i={}),t=xs(t,{delimiter:e,skipCoerce:!!i.coerce});var n=i;void 0===n&&(n={}),i=n.map,e=n.coerce;var r=t.data,o=t.headers,s=t.types;if(n.columns&&(o=[n.columns]),r=r||t.split,0<o.length&&o[0].length&&r[0].length===o[0].length){var a=o[0];n=[];for(var h=0;h<r.length;h++){for(var l=r[h],u={},c=0;c<l.length;c++)u[a[c]]=l[c];l=i?i(u):u,n.push(e?e(l,h,s):l)}n.columns=a,1<o.length&&(n.headers=o)}else n=t.data;return n&&(n.types=t.types),n}function ws(t,e,i){void 0===i&&(i={}),(i=i.map)&&(t=t.map(i));var n=ze(t[0]);return t=t.map((function(t,i){return function(t,e){return e.map((function(e){return t[e]}))}(t,n).join(e)})),t.splice(0,0,n.join(e)),t.join("\n")}function As(t){return t?(qy[t]||(qy[t]=0),"_jsc_"+t+qy[t]++):"_jsc"+Xy++}function Cs(t){return(t||"")+Math.random().toFixed(5).slice(2)}function Ss(t,e){return e=e||1,t&&t.pop?[Qe(t[0],e),Qe(t[1],e)]:h(t.x)?{x:Qe(t.x,e),y:Qe(t.y,e)}:t}function ks(t,e,i){if(t=Ss(t.slice(0),i),e=Ss(e.slice(0),i),t[0]===e[0]&&t[1]===e[1])return!0}function _s(t,e,i,n,r){return(r=Math.min((t-e)/2,r))/(Ky*e)*Qy>Math.abs(i-n)&&(r=(n-i)/Qy*e*Ky),{cornerR:r,oCornerR:(t+e)/2/e*r}}function Ms(t,e){var i=e[0]-t[0];return t=e[1]-t[1],Math.sqrt(i*i+t*t)}function Ts(t,e,i,n,r,o,s,a,h,l){var u=Math.PI,c=120*u/180,p=u/180*(+r||0),f=[],d=function(t,e,i){return{x:t*$y.cos(i)-e*$y.sin(i),y:t=t*$y.sin(i)+e*$y.cos(i)}};if(l){y=l[0];var m=l[1];o=l[2],v=l[3]}else{t=(m=d(t,e,-p)).x,e=m.y,a=(m=d(a,h,-p)).x,h=m.y,1<(v=(m=(t-a)/2)*m/(i*i)+(y=(e-h)/2)*y/(n*n))&&(i*=v=$y.sqrt(v),n*=v),v=i*i;var g=n*n;o=(v=(o==s?-1:1)*$y.sqrt(Jy((v*g-v*y*y-g*m*m)/(v*y*y+g*m*m))))*i*y/n+(t+a)/2;var v=v*-n*m/i+(e+h)/2,y=$y.asin(((e-v)/n).toFixed(9));m=$y.asin(((h-v)/n).toFixed(9)),0>(y=t<o?u-y:y)&&(y=2*u+y),0>(m=a<o?u-m:m)&&(m=2*u+m),s&&y>m&&(y-=2*u),!s&&m>y&&(m-=2*u)}if(Jy(m-y)>c&&(f=m,u=a,g=h,m=y+c*(s&&m>y?1:-1),f=Ts(a=o+i*$y.cos(m),h=v+n*$y.sin(m),i,n,r,0,s,u,g,[m,f,o,v])),o=m-y,r=$y.cos(y),c=$y.sin(y),s=$y.cos(m),u=$y.sin(m),i=4/3*i*(m=$y.tan(o/4)),m*=4/3*n,n=[t,e],t=[t+i*c,e-m*r],e=[a+i*u,h-m*s],a=[a,h],t[0]=2*n[0]-t[0],t[1]=2*n[1]-t[1],l)return[t,e,a].concat(f);for(f=[t,e,a].concat(f).join().split(","),l=[],a=0,h=f.length;a<h;a++)l[a]=a%2?d(f[a-1],f[a],p).y:d(f[a],f[a+1],p).x;return l}function Os(t){return Cd(t,(function(t){return[t.x,t.y]}))}function zs(t,e,i){if(h(c(t,"0.0")))for(var n=[],r=0,o=t.length;r<o;r++)n.push(zs[(t[r],e[r],i)]);else for(n=[],r=0,o=t.length;r<o;r++)n.push(ii(t[r],e[r],0,1,i));return n}function Ds(t){return t.join?t.join(" ").replace(/,/g," "):t}function Es(t,e,i){var n=0;for(t=t.shapes;n<t.length;n++){for(var r=t[n],o=0,s=r.items;o<s.length;o++)e(s[o],o,n);i&&i(r,n)}}function Ps(t,e){var i,n="";return Es(t,(function(t,r,o){var s=t[0];if(n+=i!==s?ex[s]:" ",1!==(i=s))for(s=2;s<t.length;s++){var a=e?e(t[s],s,r,o):t[s];n+=(2<s?" ":"")+a[0]+" "+a[1]}})),n}function Bs(t){if(t.bboxValue)return t.bboxValue;var e={};return Ad(t.items,(function(t){ix[t[0]]&&ix[t[0]](e,t)})),t.bboxValue=[e.xMin,e.yMin,e.xMax-e.xMin,e.yMax-e.yMin],t.minMaxResult=e,t.bboxValue}function Ls(t,e){var i=s(e,2);e=i[0],i=i[1];var n=Te(t.xMax);return(e>t.xMax||n)&&(t.xMax=e),(e<t.xMin||n)&&(t.xMin=e),(i>t.yMax||n)&&(t.yMax=i),(i<t.yMin||n)&&(t.yMin=i),t}function Rs(t,e){return Ls(t,e[2])}function Fs(t,e){var i=t.bbox(),n=function(t,e){var i=s(t,4);return i[0],i[1],t=i[2],i=i[3],(e=s(e,4))[0],e[1],[t*(e=Math.min(e[3]/i,e[2]/t)),i*e]}(i,e),r=vn(e=To(Vo(e),n[0],n[1]));return Ps(t,(function(t){return tx(r,i,t)}))}function Vs(t,e,i){var n=0;for(i&&t.clearCache(!0),i=0,t=t.shapes;i<t.length;i++)n+=Is(t[i],e);return n}function Is(t,e){if(h(t.lengthValue))return t.lengthValue;for(var i=0,n=0,r=t.items;n<r.length;n++){var o=r[n],s=o;if(h(o.lengthValue))o=o.lengthValue;else t:{var a=e;switch(o[0]){case 1:case 2:o=Ms(o[1],o[2]);break t;case 3:o=a?Bi(o.slice(1)):(Ms(o[1],o[2])+Ms(o[4],o[3])+Ms(o[3],o[2])+Ms(o[1],o[4]))/2;break t;default:o=0}}i+=s=s.lengthValue=o}return t.lengthValue=i}function Ns(t,e){if(3===t[0]){var i=t[1],n=t[4];if(0===e)e=i;else if(1===e)e=n;else{var r=(t=s([i,t[2],t[3],n],4))[1],o=t[2];n=t[3],t=(i=s(t[0],2))[0],i=i[1];var a=s(n,2);n=a[0],a=a[1];var h=s(r,2);r=h[0],h=h[1];var l=s(o,2);o=l[0],l=l[1];var u=1-e,c=km(u,3),p=km(u,2),f=e*e*e;e=[c*t+3*p*e*r+3*u*e*e*o+f*n,c*i+3*p*e*h+3*u*e*e*l+f*a]}return e}return zs(t[1],t[2],e)}function js(t){t.length();var e=[],i=0;for(t=t.shapes;i<t.length;i++)e.push.apply(e,Ws(t[i]));return e}function Ws(t){if(t.flatPoints)return t.flatPoints;var e=[];Is(t);for(var i,n=0,r=t.items;n<r.length;n++){var o=r[n];if(3===o[0]){i=Math.max(2,Math.floor(o.lengthValue/10));var s=o.lengthValue/(i+1);s=ii(0,1,0,o.lengthValue,s);for(var a=1;a<=i;a++)e.push(Ns(o,a*s));e.push(o[4])}else e.push(o[2])}return t.flatPoints=e}function Hs(t,e){if(void 0===e&&(e=6),t.positions)return t.positions;for(var i=[],n=Is(t),r=0,o=0,s=t.items;o<s.length;o++){var a=s[o];r+=a.lengthValue,a=a.position=h(a.position)?a.position:Qe(r/n,e),i.push(a)}return t.positions=i}function Ys(t,e,i){var n=[];return 3!==t[0]?(n.push(Ti(t[1],t[2],e,i)),n):(t=function(t,e,i,n,r,o){var s=[];t:{var a=t[0];t=t[1];var h=e[0];e=e[1];var l=i[0];i=i[1];var u=n[0];n=n[1];var c=r[0];r=r[1];var p=o[0];o=o[1];var f,d=Math.min(c,p),m=Math.min(r,o),g=Math.max(c,p),v=Math.max(r,o),y=r-o,x=p-c;x=f=(y=[y*(-1*a+3*h+-3*l+u)+x*(-1*t+3*e+-3*i+n),y*(3*a+-6*h+3*l)+x*(3*t+-6*e+3*i),y*(-3*a+3*h)+x*(-3*t+3*e),y*a+x*t+(c*o-p*r)]).length-1;for(var b=[],w=0;w<=f&&1e-8>=Math.abs(y[w]);w++)f--;switch(f){case 1:void 0===(w=b)&&(w=[]),0!==(f=y[x-1])&&w.push(-y[x]/f);break;case 2:var A=y[x-2];void 0===(f=b)&&(f=[]),0<(y=(w=y[x-1]/A)*w-y[x]/A*4)?(y=Math.sqrt(y),f.push(.5*(-w+y)),f.push(.5*(-w-y))):0===y&&f.push(.5*-w);break;case 3:var C=y[x-3];void 0===(f=b)&&(f=[]),A=y[x-2]/C;var S=y[x-1]/C;w=(3*S-A*A)/3,x=(2*A*A*A-9*S*A+y[x]/C*27)/27,y=A/3,A=x*x/4+w*w*w/27,x/=2,1e-6>=Math.abs(A)&&(A=0),0<A?(A=0<=(w=-x+(C=Math.sqrt(A)))?Math.pow(w,1/3):-Math.pow(-w,1/3),A=0<=(w=-x-C)?A+Math.pow(w,1/3):A-Math.pow(-w,1/3),f.push(A-y)):0>A?(w=Math.sqrt(-w/3),A=Math.atan2(Math.sqrt(-A),-x)/3,x=Math.cos(A),A=Math.sin(A),C=Math.sqrt(3),f.push(2*w*x-y),f.push(-w*(x+C*A)-y),f.push(-w*(x-C*A)-y)):(w=0<=x?-Math.pow(x,1/3):Math.pow(-x,1/3),f.push(2*w-y),f.push(-w-y))}for(f=0;f<b.length;f++)if(0<=(y=b[f])&&1>=y)if(C=a+(h-a)*y,A=t+(e-t)*y,w=(C+=((w=h+(l-h)*y)-C)*y)+(w+(l+(u-l)*y-w)*y-C)*y,y=(A+=((x=e+(i-e)*y)-A)*y)+(x+(i+(n-i)*y-x)*y-A)*y,1e-7>Math.abs(c-p)){if(m<=y&&y<=v){if(!s)break t;s.push([w,y])}}else if(1e-7>Math.abs(r-o)){if(d<=w&&w<=g){if(!s)break t;s.push([w,y])}}else if(w>=d&&y>=m&&w<=g&&y<=v){if(!s)break t;s.push([w,y])}}return s}(t[1],t[2],t[3],t[4],e,i)).length?(Ad(t,(function(t){Qd(t[0])||n.push({x:t[0],y:t[1],onLine1:!0,onLine2:!0})})),n):(n.push({x:0,y:0,onLine1:!1,onLine2:!1,isNaN:!0}),n)}function Us(t,e,i,n){var r,s;void 0===n&&(n=6);for(var a=Hs(t,n),h=Is(t),l=[],u=[],c=1,p=(t=t.items).length;c<p;c++){var f=t[c],d=f.lengthValue,m=Ys(f,e,i),g=a[c-1];try{for(var v=(r=void 0,o(m)),y=v.next();!y.done;y=v.next()){var x=y.value;if(!x.isNaN)if(x.onLine1&&x.onLine2){var b=Ms(f[1],[x.x,x.y]);Gs(c,x,Qe(b/d,n),Qe(g+b/h,n),u,l)}else{var w=Ae(f);m=i,0===Ei(Ss(e),Ss(w),Ss(m))&&Gs(c,x,1,Qe(g+d/h,n),u,l)}}}catch(t){r={error:t}}finally{try{y&&!y.done&&(s=v.return)&&s.call(v)}finally{if(r)throw r.error}}}return u}function Gs(t,e,i,n,r,o){var s=Ss([e.x,e.y]).join(" ");r.push({i:t,intersect:e,percOfSegment:i,percOfShape:n}),o.push(s)}function Zs(t){if(t.vertices)return t.vertices;var e=[],i=t.items,n=i.length-1;return Ad(i,(function(t,r){var o=Ae(t);r===n?1===t[0]||ks(o,Ae(i[0]))||e.push(o):r&&ks(t[1],o)||e.push(o)})),t.vertices=e}function Xs(t){return t.center||(t.center=ln(Bs(t))),t.center}function qs(t,e,i){return i=i||Bs(t),t=Xs(t),tx(e,i,t)}function Ks(t,e){return e?Xs(t):zi(e=function(t){if(t.centroid)return t.centroid;var e=Zs(t),i=e.length,n=0,r=0;return Ad(e,(function(t){n+=t[0],r+=t[1]})),t.centroid=[n/i,r/i],t.centroid}(t),Zs(t))?e:Xs(t)}function Qs(t){if(h(t.direction))return t.direction;for(var e=Zs(t),i=0,n=0,r=e.length;n<r;n++){var o=e[n],s=e[(n+1)%e.length];i+=(s[0]-o[0])*(s[1]+o[1])}return t.direction=0<i?"cw":"ccw",t.direction}function $s(t,e){return h(t.orientation)||(e=Ks(t,e),t.orientation=ki(e,Ae(t.items[0]))),t.orientation}function Js(t,e,i,n){var r=t[0];return 0===r?[]:3===r||1===r&&3===e[0]?(t=3===r?[t[1],t[2],t[3],t[4]]:[t[1],t[1],t[2],t[2]],0<i&&(t=(i=Li(t,i)).slice(3,i.length)),1>n&&(t=(n=Li(t,n)).slice(0,4)),t):[Ns(t,i),Ns(t,n)]}function ta(t){t.lengthValue=void 0}function ea(t){t.lengthValue=void 0,t.flatPoints=void 0}function ia(t,e){return[2*e[0]-t[0],2*e[1]-t[1]]}function na(){return new rx({hasErrors:!0})}function ra(t,e,i,n){var r=t.args;e=e||0;for(var o=r.length;o-e>i-1;e+=i)n(t,e,r)}function oa(t,e,i,n){ra(t,n,2*e,(function(t,n){i(t,1===e?sa(t,n):Xe(e,(function(e){return sa(t,n+2*e)})))}))}function sa(t,e){return t.isRelative?[t.args[e]+(t.endPoint?t.endPoint[0]:0),t.args[e+1]+(t.endPoint?t.endPoint[1]:0)]:[t.args[e],t.args[e+1]]}function aa(t){var e;if(!(t=function(t){var e,i=[];if(t=t.match(ox))try{for(var n=o(t),r=n.next();!r.done;r=n.next()){var s=r.value,a=s.match(sx);a=a?a.map((function(t){return Number(t)})):[],i.push([s[0],a])}}catch(t){var h={error:t}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(h)throw h.error}}return i}(t)).length)return na();var i={firstCommand:!0,shapes:[]};try{for(var n=o(t),r=n.next();!r.done;r=n.next()){var s=r.value,a=hx[s[0]];if(i.args=s[1],i.isRelative=a.isRelative,i.cIsClosed&&"M"!==a.command&&xa(i),i.args.length<a.argsCount)return na();if(lx[a.command](i),i.firstCommand&&!i.startPoint)return na();i.lastCommand=s,i.firstCommand=!1}}catch(t){var h={error:t}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(h)throw h.error}}return ua(i)}function ha(t,e,i){if(!e||1===i||0===i||3!==t[0])return i;var n=void 0;void 0===n&&(n=1),void 0===(i=void 0)&&(i=.01);var r,o=n/2;for(r=Bi(t=t.slice(1),n-=o);Math.abs(r-e)>i;)r=Bi(t,n+=(r<e?1:-1)*(o/=2));return n}function la(t,e){switch(e[0]){case 0:ba(t,e[2]);break;case 1:wa(t);break;case 2:fa(t,e[2]);break;case 3:da(t,e.slice(2))}}function ua(t){pa(t);var e=t.startPoint,i=t.endPoint;return new rx({hasCurves:t.hasCurves,hasLines:t.hasLines,isClosed:e[0]===i[0]&&e[1]===i[1],shapes:t.shapes})}function ca(t,e,i){if(e[0][0].length)for(var n=0;n<e.length;n++)ca(t,e[n],i);else{for(ba(t,e[0]),n=1;n<e.length;n++)fa(t,e[n]);!0!==i&&wa(t)}}function pa(t){t.cShape.hasLines=t.cHasLines,t.cShape.hasCurves=t.cHasCurves,t.cShape.isClosed=t.cIsClosed,t.cHasLines=t.cHasCurves=t.cStartPoint=t.cIsClosed=void 0}function fa(t,e){ya(t,2,[e]),t.hasLines=t.cHasLines=!0}function da(t,e){ya(t,3,e),t.hasCurves=t.cHasCurves=!0,t.lastCurve=e}function ma(t,e){var i=t.lastCurve&&3===Ae(t.cShape.items)[0]?ia(t.lastCurve[1],t.endPoint):t.endPoint;e.unshift(i),da(t,e)}function ga(t,e){var i=t.endPoint[0],n=t.endPoint[1],r=e[0][0],o=e[0][1],s=e[1][0],a=e[1][1];t.lastQ=e[0],da(t,[[i+2*(r-i)/3,n+2*(o-n)/3],[s+2*(r-s)/3,a+2*(o-a)/3],e[1]])}function va(t,e){ga(t,[ia(t.lastQ,t.endPoint),e])}function ya(t,e,i){(e=[e,t.endPoint]).push.apply(e,i),t.endPoint=Ae(i),t.cShape&&t.cShape.items.push(e)}function xa(t,e){t.cShape&&pa(t),e&&(t.endPoint=e),t.cStartPoint=t.endPoint,t.lastCurve=null,t.cShape={cStartPoint:t.cStartPoint,items:[]},t.shapes.push(t.cShape)}function ba(t,e){xa(t,e||sa(t,0)),t.firstCommand&&(t.startPoint=t.cStartPoint),ya(t,0,[t.endPoint]),e||oa(t,1,fa,2)}function wa(t){ya(t,1,[t.cStartPoint]),t.cIsClosed=!0}function Aa(t,e,i){e=sa(t,e+5);var n=t.endPoint;if(n[0]===e[0]&&n[1]===e[1])return!0;var r=Ts(n[0],n[1],i[0],i[1],i[2],i[3],i[4],e[0],e[1]);for(i=function(t){return[r[t],r[t+1]]},n=r.length,r[n-2]=e[0],r[n-1]=e[1],e=0;5<n-e;e+=6)da(t,[i(e),i(e+2),i(e+4)])}function Ca(t){return t?aa(t.join?t.join(" "):t):new rx}function Sa(t){var e;if(t)if(t.length&&t[0].push){var i={firstCommand:!0,shapes:[]};try{for(var n=o(t),r=n.next();!r.done;r=n.next())la(i,r.value)}catch(t){var s={error:t}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}t=ua(i)}else t=na();else t=new rx;return t}function ka(t,e,i){if(1<i){var n=1>e?ka(t,e,1):"",r=0<i%1?ka(t,0,i%1):"";if(i=Ae(t.shapes).isClosed,n)if(r){t=Ca(n),n=Ca(r),t=t.items(),r=n.items();var o=Ae(t);n="",e=0;for(var s=r.length;e<s;e++){var a=r[e];i&&e===s-1?(n="Z",3!==a[0]&&(ks(Ae(t[0]),Ae(a))||ks(Ae(a),Ae(h)))||t.push(a)):e?ks(Ae(a),Ae(h))||t.push(a):ks(Ae(a),Ae(o))||t.push(a);var h=a}for(i=[],h=0,r=t.length;h<r;h++){o=t[h],h===t.length-1?3!==o[0]&&ks(Ae(o),Ae(t[0]))||i.push(o):h&&ks(Ae(o),Ae(l))||i.push(o);var l=o}l=Sa(i).toString()+n}else l=n;else l=r;return l}if(s=_a(l=t.items(),h=t.length(),e),h=_a(l,h,i),a=l[s.i],r=l[h.i],o=s.i,n=[],0<e){if(e=Js(l[s.i],l[s.i-1],s.percOfSegment,1),n.push("M",e[0].join(" ")),e.shift(),1===a[0]?(a=l[s.i-1],n.push(ex[a[0]])):n.push(ex[a[0]]),n.push(e.join(" ").replace(/,/g," ")),o++,h.i===s.i&&1===h.percOfSegment)return n.join(" ")}else n=["M",s.xy.join(" ")];for(e=o,s=h.i;e<s;e++)n.push(Ta(l[e])),o++;return 1>i?((e=Js(l[h.i],l[h.i-1],0,h.percOfSegment)).shift(),1===r[0]?(a=l[h.i-1],n.push(ex[a[0]])):n.push(ex[r[0]]),n.push(e.join(" ").replace(/,/g," "))):1===(i=l[o=h.i])[0]?t.hasCurves?(t=Ae(i),n.push("C",Ae(l[h.i-1]).join(" "),t.join(" "),t.join(" "))):n.push("L",Ae(i).join(" ")):n.push(Ta(i)),n.join(" ")}function _a(t,e,i){return(e=Ma(t,e,i)).xy=Ns(t[e.i],e.percOfSegment),e}function Ma(t,e,i){if(0===i)return{i:1,percOfSegment:i};if(1===i)return{i:t.length-1,percOfSegment:i};e*=i,i=0;for(var n,r=1,o=t.length;r<o;r++){var s=t[r];if(s.lengthValue){var a=void 0;if(void 0===a&&(a=vm),a=i<e||ci(i,e,a)){a=i+s.lengthValue;var h=void 0;void 0===h&&(h=vm),a=a>e||ci(a,e,h)}if(a){var l=Qe(ii(0,1,i,i+s.lengthValue,e),6),u=r;n=e-i;break}i+=s.lengthValue}}return 1===l&&u<t.length-1&&(n=l=0,u++),{i:u,percOfSegment:l,toLen:n}}function Ta(t){return 1===t[0]?"Z":Ds([ex[t[0]],t.slice(2).join(" ")])}function Oa(t,e){if(t)if(void 0===e&&(e={}),t.length&&t[0].push){var i={firstCommand:!0,shapes:[]};ca(i,t,e.isOpen),pa(i),t=ua(i)}else t=na();else t=new rx;return t}function za(t){var e=function(t){return 0===t[2]&&0===t[3]},i="string"==typeof t;return!(t&&!t.hasErrors)||(!i&&t.bbox?e(t.bbox()):t.arcShape?0===t.arcShape.r:!i&&!t.push||e(px(t)))}function Da(t){if(Te(t.isClose)){var e,i=Ae(t.items),n=t.items[0];!(e=1===i[0])&&(e=2<t.items.length)&&(n=n[1],i=Ae(i),e=n[0]===i[0]&&n[1]===i[1]),t.isClose=e}return t.isClose}function Ea(t,e,i,n,r){var o=r.start,s=r.skipEndFix?r.end:r.end-.001,l=r.caps||{},u=r.r||i||n;i=r.innerR,n=r.open;var c=(l.start||l.left||"").toLowerCase();l=(l.end||l.right||"").toLowerCase();var p=r.end-o<fx?0:1,f=r.cornerR,d=f&&"gap"!==c&&"flat"!==c,m=f&&"gap"!==l&&"flat"!==l;if(f&&(d||m)){var g=[t,e],v=_s(u,i,o,s,f),y=v.cornerR,x=v.oCornerR;v=u-x;var b=i+y,w=vi(y/(dx*i)*360),A=vi(x/(dx*u)*360);y=Ai(g,o,v),x=Ai(g,s,v),v=Ai(g,o,b),b=Ai(g,s,b);var C=Ai(g,o+w,i),S=Ai(g,s-w,i);w=Ai(g,o+A,u),g=Ai(g,s-A,u)}var k=Math.cos(o),_=Math.sin(o),M=Math.cos(s),T=Math.sin(s);r=r.ccw;var O=m?g:[t+u*M,e+u*T];A=["M",(g=d?w:[t+u*k,e+u*_])[0],g[1],"A",u,u,0,p,r?0:1,O[0],O[1]];var z="insideround"===l;return h(i)&&(u-=i,M=m?S:[t+i*M,e+i*T],t=d?C:[t+i*k,e+i*_],"round"===l||z?(s=Pa((e=Ci(O,M))[0],e[1],u/2,s,s+fx,z),A.push.apply(A,a(s))):"gap"===l?A.push.apply(A,a(["M",M[0],M[1]])):m?A.push.apply(A,a(["A",f,f,0,0,1,x[0],x[1],"L",b[0],b[1],"A",f,f,0,0,1,S[0],S[1]])):A.push.apply(A,a([n?"M":"L",M[0],M[1]])),A.push.apply(A,a(["A",i,i,0,p,r?1:0,t[0],t[1]])),z="insideround"===c,"round"===c||z?(s=Pa((e=Ci(g,t))[0],e[1],u/2,o+fx,o,z),A.push.apply(A,a(s))):d?A.push("A",f,f,0,0,1,v[0],v[1],"L",y[0],y[1],"A",f,f,0,0,1,w[0],w[1]):"gap"!==c&&"gap"===l&&A.push.apply(A,a(["L"],g)),"gap"===l||"gap"===c)&&(n=!0),A.push(n?"":"Z"),A}function Pa(t,e,i,n,r,o){return Ea(t,e,i,i,{start:n,end:r,open:!0,ccw:o}).slice(3,11)}function Ba(t,e,i,n,r){return Oa([[t,e],[t+i,e],[t+i,e+n],[t,e+n]],r)}function La(t,e,i,n,r){void 0===r&&(r={});var o=s(Ra(i,n,r),2);return function(t,e,i,n,r,o,l){var u,c,p,f,d,m,g,v,y=Math.PI,x=(t=s(Ym([t,e,i,n]),4))[0],b=t[1],w=t[2],A=t[3],C=[],S="";l&&(l.pop||(l=[l]),Ad(l,(function(t){var e=t.position;t=t.size,c=wi([0,0],45,t[0])[0];var i=s([mx(e[0]),mx(e[1])],2),n=i[0];i=i[1],S+=(i?0===e[1]?"T":"B":"")+(n?0===e[0]?"L":"R":""),h(v=gx[S])?o[v]={type:"callout",size:t,radius:c}:u=i?e[0]:n?e[1]:void 0,C.push({name:S,pos:u,size:t})}))),l=function(t){f=A-t,d=x+t,m=w-t,g=b+t,p=t};var k,_,M,T,O=[],z=[];return t=function(t,e,i,n,r,o,s){switch(O.push(O.length?"L":"M",e),t.type||t){case"square":O.push("L",i,"L",n);break;case"round":O.push.apply(O,a(Pa(r[0],r[1],p,o,s)));break;case"cut":O.push("L",n);break;case"callout":z.push(T=Ai(r,(o+s)/2,t.size[1])),O.push("L",T,"L",n)}},e=function(t,e,i){k=t.size[0]/2,_=ii(e+k,i-k,0,1,t.pos),M=ii(e,i,0,1,t.pos)},i=function(t,e,i){z.push(e),O.push("L",t,"L",e,"L",i)},l((n=o[0]).radius||r),t(n,[x,g],[x,b],[d,b],[d,g],y,3*y/2),(n=gd(C,{name:"T"}))&&(e(n,d,m),i([_-k,b],[M,b-n.size[1]],[_+k,b])),l((n=o[1]).radius||r),t(n,[m,b],[w,b],[w,g],[m,g],-y/2,0),(n=gd(C,{name:"R"}))&&(e(n,g,f),i([w,_-k],[w+n.size[1],M],[w,_+k])),l((n=o[2]).radius||r),t(n,[w,f],[w,A],[m,A],[m,f],0,y/2),(n=gd(C,{name:"B"}))&&(e(n,d,m),i([_+k,A],[M,A+n.size[1]],[_-k,A])),l((n=o[3]).radius||r),t(n,[d,A],[x,A],[x,f],[d,f],y/2,y),(n=gd(C,{name:"L"}))&&(e(n,g,f),i([x,_+k],[x-n.size[1],M],[x,_-k])),O.length&&O.push("Z"),Ds(O)}(t,e,i,n,o[0],o[1],r.callout)}function Ra(t,e,i){t=Math.min(t/2,e/2);var n=Math.min(Se(i.r,i.radius,5),t);return e=Te(Se(i.r,i.radius))?"square":"round",i=Cd(i.corners||[e,e,e,e],(function(t){return t.r?(n=t.r,t.type):t})),[Math.min(n,t),i]}function Fa(t){void 0===t&&(t={});var e=t.type;if(wx[e])return wx[e](t);var i=Se(t.lineWidth,1),n=Go(Se(t.size,10*i),i);e=Se(t.overflow,!1);var r=Go(Se(t.width,n),i);return i=Go(Se(t.height,n),i),n=!1===e?Se(t.centerWidth,r/2):0,ue(fe({},t,vx),{width:r,height:i,overflow:0<n||e,centerWidth:n})}function Va(t){return t&&"none"!==t?_e(t)?{shape:t}:pe(t):null}function Ia(t,e){(e=e||[]).push(Cx(t[0])),1<t.length&&e.push("L");for(var i=1,n=t.length;i<n;i++)e.push(t[i][0]+" "+t[i][1]);return e}function Na(t){var e=[];return Ad(t,(function(t){Ia(t,e)})),e}function ja(t,e){void 0===e&&(e=.8);var i=function(t){return t.join(" ")},n=["M",i(t[0])],r=[];if(3>t.length)r=t.slice(0);else for(var o=1,s=t.length-1;o<s;o++)r[o]=Wa(t,o,e);if(2===t.length)n.push("C",t[0],t[1],t[1]);else for(o=0,s=t.length-1;o<s;o++)o?o===s-1?n.push("C",i(r[o][1]),i(t[o+1]),i(t[o+1])):n.push("C",i(r[o][1]),i(r[o+1][0]),t[o+1]):n.push("C",i(t[o]),i(r[o+1][0]),i(t[o+1]));return Ds(n)}function Wa(t,e,i){void 0===i&&(i=.8);var n=t[e-1],r=t[e],o=t[e+1];return i=1-i,e=ki(r,n),t=ki(r,o),n=Ms(n,r),o=Ms(r,o),o=Math.min(n,o),n=xi(r[0],r[1],vi(e),o),t=xi(r[0],r[1],vi(t),o),i*=Ms([n.x,n.y],[t.x,t.y]),n=ki(n,t),[t=Os([xi(r[0],r[1],vi(n-180),i)])[0],r=Os([xi(r[0],r[1],vi(n),i)])[0]]}function Ha(t){var e=s(t.points,3),i=t.angles,n=t.cxy,r=t.radius;return e=0>Ei(e[0],e[1],e[2]),t=t.angles.map((function(t){return vi(t)})),t[0]=e&&"0270"===i.join("")?2*Math.PI:t[0],Pa(n[0],n[1],r,t[0],t[1],e)}function Ya(t,e,i,n,r,o){var s=Mi(t,e),a=Mi(e,i);return r=Math.min(r?s:s/2,o?a:a/2),t=[ki(i,e),ki(t,e)],n=h(n)?Math.min(n,r):r,{points:e=[wi(e,t[1]+180,n),e,wi(e,t[0]+180,n)],radius:n,angles:t,cxy:wi(e[0],t[0]+180,n)}}function Ua(t,e){var i=[];return 2===t.length?(i.push(Cx(t[0])),i.push(Sx(t[1]))):function(t,e){var i=t.length;if(2<i)for(var n=1;n<t.length-1;n++)e(t[n-1],t[n],t[n+1],1===n,n===i-2,n-1)}(t,(function(t,n,r,o,s,h){n=Ya(t,n,r,e.pop?e[qd(h,0,e.length-1)]:e,o,s),o&&i.push(Cx(t)),i.push(Sx(n.points[0])),i.push.apply(i,a(Ha(n))),s&&!ks(n.points[2],r)&&i.push(Sx(r))})),i.join(" ")}function Ga(t,e){void 0===e&&(e=[0,0,0,0]);var i=[],n=function(t){return 0>t?t+4:t%4},r=function(r,o){void 0===o&&(o=Sx),e[r]?(r=Ya(t[n(r-1)],t[r],t[n(r+1)],e[r],!1,!1),i.push(o(r.points[0])),i.push.apply(i,a(Ha(r)))):i.push(o(t[r]))};return r(0,Cx),r(1),r(2),r(3),i.push("Z"),i.join(" ")}function Za(t,e,i,n,r){function o(t){return t&&t.join?t.join(" ").replace(/,/g," "):t}function s(t){switch(t){case"b":var e=[[m,g],["L"],[a-1.1*c,g],["L"],[a-.35*c,g-1.25*c],["L"],[a+.45*c,g+.65*c],["L"],[a+.8*c,g],["L"],[m+i,g]];e=e.reverse();break;case"r":e=[[m,g],["L"],[m,h-1.12*p],["L"],[m-1.25*p,h-.35*p],["L"],[m+.65*p,h+.45*p],["L"],[m,h+.8*p],["L"],[m,g+n]];break;case"t":e=(e=[[m+i,g],["L"],[a+1.15*c,g],["L"],[a+.35*c,g+1.25*c],["L"],[a-.45*c,g-.65*c],["L"],[a-.85*c,g],["L"],[m,g]]).reverse();break;case"l":e=[[m,g+n],["L"],[m,h+1.15*p],["L"],[m+1.25*p,h+.35*p],["L"],[m-.65*p,h-.45*p],["L"],[m,h-.85*p],["L"],[m,g]]}return e.splice(0,0,"M"),e}var a=t+i/2,h=e+n/2,l=(r=r||{}).zigWidth||0,u=1.6*(l||10),c=Math.min(u,i/2),p=Math.min(u,n/2);l/=2,u=r.lines;var f=t+i,d=e+n,m=t,g=e,v=!r.open,y=[];switch(r.zigSides){case"t":g=e+l,y=r=s("t"),u.push(o(r)),v&&y.push(["L",f,d,"L",t,d]);break;case"b":g=d-l,v&&y.push(["M",t,e,"L",f,e]),r=o(s("b")),u.push(o(r)),y.push(v?r.replace("M","L"):r);break;case"m":g=e+l,y=r=s("t"),u.push(o(r)),g=d-l,r=o(s("b")),u.push(r),y.push(v?r.replace("M","L"):r);break;case"r":m=f-l,y=r=s("r"),u.push(o(r)),v&&y.push(["L",t,d,"L",t,e]);break;case"l":m=t+l,v&&y.push(["M",f,e,"L",f,d]),r=o(s("l")),u.push(o(r)),y.push(v?r.replace("M","L"):r);break;case"c":m=f-l,y=r=s("r"),u.push(o(r)),m=t+l,r=o(s("l")),u.push(r),y.push(v?r.replace("M","L"):r)}return o(y).split(" ")}function Xa(t,e,i,n,r,o){return bx[t]||"needle"===t?bx["needle"===t?"square":t](e,i,n,r,o):function(t,e,i,n){var r=ue({size:n,x:e,y:i},_e(t)?{name:t}:t);return(e=(t=r.path)||(r.name?ur(r.name,(function(t){Wg.emit("warning","dom","scriptLoad",{data:[t.path]})}),(function(t){Wg.emit("warning","dom","iconNotFound",{data:[r.name]})})):null))?Ax(e,[r.x||0,r.y||0,r.width||0,r.height||0,r.size],Va(r.outerShape),r.padding,!!t)[0]:null}(t,e,i,n)}function qa(t,e,i){var n=t.pointerType;return n||(n=(n=t.type.match(/^mouse|touch/i))?n[0]:null),{el:e,eventArgs:t,eventName:i,device:n||"other",pointers:t.pointers}}function Ka(t,e){return h(e)&&(t._s4=e),t._s4}function Qa(t){return t&&(t=/url\(#(.*)\)/g.exec(t))?t[1]:null}function $a(t,e,i){e&&(Ad(e.childNodes,(function(e){return $a(t,e,i)})),e.refNodes.length&&Ad(e.refNodes,(function(e){return $a(t,e,i)})),le(Gx,(function(n){return Ja(t,n,e.attr(n),null,i)})))}function Ja(t,e,i,n,r){l(Gx,e)&&(e=Qa(i),n=Qa(n),t=t._s0,null!==n&&(l(t,n)?t[n]++:t[n]=1),null!==e&&(l(t,e)&&t[e]--,l(t,e)&&1>t[e]&&(delete t[e],r(e))))}function th(t,e){return l(t=t._s1,e)?t[e]:null}function eh(t,e){var i=t._s1;l(i,e)&&delete i[e],i=t._s2,l(t=t._s3,e)&&(delete i[t[e]],delete t[e])}function ih(t,e,i){var n=nh(t);return(e=function(t,e,i){var n=(i=i||{}).id&&th(t,i.id);return n||rh(t,e,i,i.hash)}(t,e,i)).updateAttr=function(e){return e.el?e.el.attr(e.attr):e.el=t.element(e).add(n),e},e}function nh(t){var e;return(e=Ka(t))||(e=t.element("defs"),!t._noRender&&e.add(),e=Ka(t,e)),e}function rh(t,e,i,n,r){var o=Te(i.id),s=t._s1,a=t._s2;return(s=l(a,n)?s[a[n]]:null)?s:(s=i,o?s=ue(xd(i),{id:As()}):oh(t,i.id),e={tag:e,attr:Vd(s,["hash","meta"]),isDef:!0,hash:n,val:r},i=s.id,r=e,t._s1[i]=r,n&&(r=t._s3,t._s2[n]=i,r[i]=n),e)}function oh(t,e){var i=th(t,e);if(i){var n=i.isDef?i.el:i;n&&n.destroy(),delete i.el,eh(t,e)}else(t=t.query("#"+e))&&t.destroy()}function sh(t){var e=t||{};return e.color=e.color||"black",e.backgroundColor=e.backgroundColor||"none",e.strokeWidth=h(e.strokeWidth)?e.strokeWidth:1,e.granualWidth=t.granualWidth||t.size||5,e.granualHeight=t.granualHeight||t.size||5,e}function ah(t,e,i){return t={hash:"#"+t+":"+i.color+", "+i.backgroundColor+", "+i.strokeWidth,width:i.granualWidth,height:i.granualHeight,patternUnits:"userSpaceOnUse",x:0,y:0,childNodes:e},i.patternTransform&&(t.patternTransform=i.patternTransform),i.transform&&(t.transform=i.transform),t}function hh(t,e,i){return e.unshift({tag:"rect",attr:{width:i.granualWidth,height:i.granualHeight,fill:i.backgroundColor||"none"}}),ah(t,e,i)}function lh(t){(t=ue(t,Xx[t.pattern])).omit=["childNodes"];var e=t.template;return e||(l(t,"c")?e="line":l(t,"d")?e="path":l(t,"p")&&(e="point")),qx[e](t)}function uh(t,e){var i=t.items,n=Ks(t,t.hasCurves),r=Bs(t),o=Is(t);r=Math.max(r[2],r[3]),Hs(t),t=[n,Os([bi(n[0],n[1],e,r)])[0]],r=1;for(var s=i.length;r<s;r++){var a=i[r],l=Ae(a),u=i[r-1];if(!ks(l,a[1])){var c=ki(n,a[1]);l=Ys(a,t[0],t[1]);for(var p=0;p<l.length;p++){var f=l[p];if(f.onLine2&&f.onLine1||c===e){var d=c===e&&f.isNaN?0:Ms(a[1],[f.x,f.y]);d=0===d?u.position:d==a.lengthValue?a.position:d/o+u.position;break}}if(h(d))break}}return e=Sa(i),h(d)?ka(e,d%=1,1+d):e.toString()}function ch(t,e,i){var n=t.bboxValue;if(0===n[2]&&0===n[3])return[t=Sa(t.items),t];if(1<(i=Us(t,e,i)).length&&0===Qe(i[0].percOfShape+1-i[i.length-1].percOfShape,2)&&i.pop(),1<i.length)e=i[0].percOfShape,i=Ae(i).percOfShape;else if(1===i.length){if(e=i[0].percOfShape,1!==Ae(t.items)[0]){var r=Sa(t.items);return[ka(r,0,e),ka(r,e,1)]}i=((e=.5<e?1-e:e)+.5)%1}else{e=0,i=.5;var o=3!==Ae(Ae(t.items))[0]}return r=Sa(t.items),t=function(t,e){return t=ka(r,t,e),o||(t=-1===t.indexOf("Z")?t+"Z":t),t},[t(e,i),t(i,1+e)]}function ph(t,e,i){for(var n=0,r=e.length;n<r;n++){var o=t,s=e[n],a=o.items,h=Is(o),l=Hs(o),u=0;if(!(0===s||1===s||-1<l.indexOf(s))){var c=!1;l=1;for(var p=a.length;l<p;l++){var f=a[l],d=a[l-1],m=u+f.lengthValue/h;if(c)f[1]=Ae(d),f.lengthValue=void 0,f.position=void 0;else{if(u<s&&s<m){c=ii(0,1,u,m,s);var g=f[0];u=1===g,3===g||u&&3===d[0]?((c=Li(u?[f[1],f[1],f[2],f[2]]:[f[1],f[2],f[3],f[4]],c)).slice(0,4),c.slice(4),d=[3,f[1],c[1],c[2],c[3]],f=u?[1,d[4],f[2]]:[3,d[4],c[4],c[5],c[6]]):(d=[2,f[1],Ns(f,c)],f=u?[1,d[2],f[2]]:[2,d[2],Ns(f,1)]),a.splice(l,1,d,f),l++,p++,c=!0}u=m}}o.lengthValue=void 0,o.positions=void 0}if(i&&t.items.length===i)break}}function fh(t){for(var e=[],i=t.items.length-1;0<=i;i--){var n=t.items[i];0!==i&&1!==n[0]&&ks(n[1],Ae(n))||e.unshift(n)}return{items:e}}function dh(t,e){var i=Da(t),n=Da(e);if(t.items.length!==e.items.length&&i!==n&&(i=i?e:t).items.push([1,Ae(Ae(i.items)),i.items[0][2]]),t.items.length!==e.items.length&&(t=fh(t),e=fh(e),t.items.length!==e.items.length)){if(t.items.length<e.items.length){t=(e=s([e,t],2))[0],e=e[1];var r=!0}n=Hs(t);var o=Hs(e);i=Rd(n,o),n=Rd(o,n),ph(e,i,t.items.length+n.length),t.items.length!==e.items.length&&ph(t,n,e.items.length)}return{from:r?e:t,to:r?t:e}}function mh(t){if(t.hasCurves&&!t.hasLines)return t;for(var e=0,i=(t=t.items()).length;e<i;e++){var n=t[e],r=n[0];2!==r&&1!==r||(t[e]=[3,n[1],n[1],n[2],n[2]]),1===r&&(t.splice(e+1,0,[1,n[2],n[2]]),i++,e++)}return Sa(t)}function gh(t,e){var i=[0,0,1,1],n=qs(t.shapes[0],i,t.bbox()),r=Ms(n,qs(e.shapes[0],i,e.bbox()));i=Ms(n,qs(e.shapes[e.shapes.length-1],i,e.bbox())),e=e.shapes.slice(0),r>i&&(e=e.reverse()),r=[],i=[],n=0;for(var o=e.length;n<o;n++){var s=vh(t.shapes[n],e[n],!1,!1);r=r.concat(s.from.items),i=i.concat(s.to.items)}return{from:{items:r},to:{items:i}}}function vh(t,e,i,n){if(Qs(t)!==Qs(e)){var r=[],o={hasCurves:t.hasCurves,hasLines:t.hasLines,isClosed:t.isClosed,items:r},s=Ae(t.items),a=1===s[0],h=a?s[1]:Ae(s),l=t.items.length-(a?2:1);for(r.push([0,h,h]),h=l;0<h;h--)switch(l=t.items[h],l[0]){case 2:r.push([l[0],l[2],l[1]]);break;case 3:r.push([3,l[4],l[3],l[2],l[1]])}a&&r.push([1,s[2],s[1]]),t=o}var u;if(r=Qe($s(t,t.hasCurves)),(o=Qe($s(e,e.hasCurves)))!==r&&(t.items.length===e.items.length&&45>Math.abs(r-o)&&(u=!0),u||(i&&!n?t=Ca(uh(t,o)).shapes[0]:e=1==(i=Ca(uh(e,r))).shapes.length?i.shapes[0]:e)),e=(i=dh(t,e)).from,i=i.to,e.items.length!==i.items.length&&e.items.length!==i.items.length&&(u=Hs(e),t=Hs(i),n=Rd(u,t),(u=Rd(t,u)).length<n.length?ph(i,n,e.items.length):ph(e,u,i.items.length)),e.items.length!==i.items.length){if(e.items.length>i.items.length){e.items.splice(Math.floor(e.items.length/2),1);var c=e,p=i.items.length}else e.items.length<i.items.length&&(i.items.splice(Math.floor(i.items.length/2),1),c=i,p=e.items.length);for(;c.items.length>p;)c.items.splice(Math.floor(c.items.length/2),1)}return{from:e,to:i}}function yh(t,e){var i=t.shapes[0],n=t.shapes[1],r=[Xs(i),Xs(n)],o=ki(r[0],r[1]),s=rn([Bs(i),Bs(n)]);s=Math.max(s[2],s[3]),n=xh(n.items,r[0],o);var a=xh(i.items,r[1],o);return a=Ti(r[0],r[1],a,bi(a[0],a[1],o+90,10)),r=Ti(r[0],r[1],n,bi(n[0],n[1],o+90,10)),i=null===a.x&&null===a.y&&null===r.x&&null===r.y?i.center:zs((i=Os([a,r]))[0],i[1],.5),o=Os(o=[bi(i[0],i[1],o-90,2*s),bi(i[0],i[1],o+90,2*s)]),s=t.bbox(),ks(t=tx(e,s,o[0]),e=tx(e,s,o[1]))?o:[t,e]}function xh(t,e,i){for(var n,r=Number.MAX_VALUE,o=0,s=t.length;o<s;o++){var a=Ae(t[o]),h=bi(a[0],a[1],i+90,10);(h=Oi(a,h,e))<r&&(n=a,r=h)}return n}function bh(t,e,i){var n=i.count-i.del,r="step"===i.type?2:1,o=s(t.items.length<e.items.length?[t,e]:[e,t],2),a=o[0],h=o[1];Hs(a),Is(a),o=function(t,e){return[e=(-1<--e?e:0)*r,t.length-2-e]};var l=o(a.items,i.at),u=[],c=function(t,e,i){void 0===i&&(i=-1);var n=1e-4*i;Fd(e,(function(e){u.push(t+(e+1)*n)}))};return t.items.length!==e.items.length?0>n?bh(e,t,{action:"splice",at:i.at,count:-n,del:0,type:i.type,shapeName:i.shapeName}):("area"==i.shapeName?(c(a.items[l[0]].position,r,-1),c(a.items[l[1]].position,r,1)):c(a.items[l[0]].position,r,-1),ph(a,u),u=[]):i.shift&&("area"===i.shapeName?(Hs(h),c((n=e.items)[(a=o(n,1))[0]].position,r,1),c(n[a[1]].position,r,-1),ph(e,u),u=[],c((n=t.items)[(a=o(n,i.pointsLen))[0]].position,r,1),c(n[a[1]].position,r,-1),ph(t,u)):(c(1,r,-1),ph(t,u),u=[],c(0,r,1),ph(e,u)),u=[]),{from:t,to:e}}function wh(t,e,i){void 0===i&&(i={});var n,r={};if(t&&e&&i.simple)return r.final=e,r.from=t.items(!0),r.to=e.items(!0),Ch(r);if(r.final=Sa(e.items()),t.hasErrors)return Ah(r);if(e.hasErrors)return r.final=t,Ah(r);if((n=i.slice)&&n.from&&n.to)r.slice=n,r.stepFn=function(t){return function(e){if(1===e)return t.final.toString();var i=t.slice.from,n=t.slice.to;return Ds(Ea((i=(e={cxy:Qx(i.cxy,n.cxy,e),start:$x(i.start,n.start,e),end:$x(i.end,n.end,e),open:n.open,r:$x(i.r,n.r,e),innerR:$x(i.innerR,n.innerR,e),caps:n.caps}).cxy)[0],i[1],e.r,e.r,e))}}(r);else if((n=i.needle)&&n.from&&n.to)r.needle=n,r.stepFn=function(t){return function(e){if(1===e)return t.final.toString();var i=t.needle.from,n=t.needle.to;return e={arc:{cxy:Qx(i.arc.cxy,n.arc.cxy,e),angle:$x(i.arc.angle,n.arc.angle,e)},xyz:[0,0,$x(i.xyz[2],n.xyz[2],e)],xyzs:[0,0,$x(i.xyzs[2],n.xyzs[2],e)]},Ds(t.needle.gen(e))}}(r);else if((n=i.xlat)&&n.from&&n.to)r.xlat=n,r.stepFn=Ch(r);else if(!i.simple)if(i.action){var o=t;n=e,(o.hasCurves||n.hasCurves)&&(o=mh(o),n=mh(n)),o=o.items(),n=n.items(),o=i.at>Math.min(o.length,n.length)-1?null:bh({items:o},{items:n},i)}else o=kh(r,t,e);return r.from=o?o.from.items:t.items(),r.to=o?o.to.items:e.items(),r.stepFn||Ch(r)}function Ah(t){return function(){return t.final.toString()}}function Ch(t){return function(e){if(1===e)return t.final.toString();var i=t.invertStep?tb:Jx,n=t.xlat;n=n?n.fn(e):[0,0];for(var r,o,s,a="",h=0;h<t.from.length;h++){var l=t.from[h],u=o=t.to[h]||o,c=l[0];if(a+=r!==c?ex[c]:" ",1!==(r=c))for(c=2;c<l.length;c++)s=u[c]||s,a+=(2<c?" ":"")+(i(l[c][0],s[0],e)+n[0])+" "+(i(l[c][1],s[1],e)+n[1])}return a}}function Sh(t){return function(e){return 1===e?t.final.toString():(t.invertStep&&(e=1-e),ka(t.final,0,e))}}function kh(t,e,i){if(!e||0===e.shapes.length){var n=Ks(e={items:i.items()},i.hasCurves);e=i.items();var r=[],o=s(n,2);n=o[0],o=o[1];for(var h=0;h<e.length;h++){for(var l=e[h].slice(0),u=1;u<l.length;u++)l[u]=[n,o];r.push(l)}return(t=kh(t,e=Sa(r),i))?t:{from:{items:e.items()},to:{items:i.items()}}}if(_h(e,i))t.stepFn=Sh(t);else{if(!_h(i,e))return function(t,e){function i(t){var e=Ca(t.join(""));return 3===e.shapes.length&&2!==(e=Ca(t[0])).shapes.length?Ca(t[1]):e}var n,r,o=t.length(),s=e.length();if(!o||!s)return null;if(t.hasCurves||e.hasCurves){var h=!t.hasCurves||t.hasLines,l=!e.hasCurves||e.hasLines;t=mh(t),e=mh(e)}s=t.shapes.length;var u,c=e.shapes.length;if(s===c)return 1===s?t.isClosed||e.isClosed?vh(t.shapes[0],e.shapes[0],h,l):dh(t={items:t.items()},e={items:e.items()}):gh(t,e);for(s<c&&(u=!0),h=s>c?e:t,l=Math.abs(s-c),o=0,s=s>c?t:e;0<l--;)c=yh(s,h.bbox()),c=ch(h.shapes.splice(2*o,1)[0],c[0],c[1]),u?(t=i(c),(n=h.shapes).splice.apply(n,a([2*o,0],t.shapes)),t.shapes=h.shapes,h=t):(e=i(c),(r=h.shapes).splice.apply(r,a([2*o,0],e.shapes)),e.shapes=h.shapes,h=e),o=2*(o+1)>h.shapes.length-1?0:o+1;return gh(t,e)}(e,i);t.stepFn=Sh(t),t.invertStep=!0}}function _h(t,e){return 1===t.shapes.length&&1===t.shapes[0].items.length&&(1<e.shapes.length||1<e.shapes[0].items.length)}function Mh(t){var e=t?ce(cb,Nd(t)?{duration:t}:t):cb;return"linear"!==e.easing&&(e.easingFunction=function(t){if("linear"===t)return null;var e=ab.exec(t);return e?Pi.apply(this,e.slice(1).map(Number)):(e=hb.exec(t))?lb(Number(e[1]),{start:1,middle:.5,end:0}[e[2]]):(t={ease:Pi(.25,.1,.25,1),"ease-in":Pi(.42,0,1,1),"ease-out":Pi(0,0,.58,1),"ease-in-out":Pi(.42,0,.58,1),"step-start":lb(1,1),"step-middle":lb(1,.5),"step-end":lb(1,0)}[t])?t:null}(e.easing)||ub),e.activeDuration=Math.abs((0===e.duration||0===e.iterations?0:e.duration*e.iterations)/e.playbackRate),e.totalDuration=e.delay+e.activeDuration+e.endDelay,t=function(t){if(null==t)var i=0;else i=e.delay+e.activeDuration+e.endDelay,i=t<Math.min(e.delay,i)?1:t>=Math.min(e.delay+e.activeDuration,i)?2:3;t:{switch(i){case 1:if("backwards"===e.fill||"both"===e.fill){t=0;break t}break;case 3:t-=e.delay;break t;case 2:if("forwards"===e.fill||"both"===e.fill){t=e.activeDuration;break t}}t=null}if(null===t)i=null;else{var n=e.iterationStart;0===e.duration?1!==i&&(n+=e.iterations):n+=t/e.duration;var r=1/0===n?e.iterationStart%1:n%1;0!==r||2!==i||0===e.iterations||0===t&&0!==e.duration||(r=1),t=r,n=2===i&&1/0===e.iterations?1/0:1===t?Math.floor(n)-1:Math.floor(n),"normal"!==(i=e.direction)&&"reverse"!==i&&("alternate-reverse"===i&&(n+=1),i="normal",1/0!==n&&0!=n%2&&(i="reverse")),i=e.easingFunction("normal"===i?t:1-t)}return i},t.options=e,t}function Th(t){return Id(t)?Cd(t,(function(t){return Th(t)})):parseFloat(Hd(t,"px",""))}function Oh(t,e){if(e.linearGradient)var i="linearGradient";else{if(!e.radialGradient)return;i="radialGradient"}var n=mb[i],r=n.argsToAttrs(e),o=r.attrs;r=r.stops;var a=[];return o.hash||a.push(n.toString(o)),r=Cd(r,(function(t){if(Id(t)){var e=(t=s(t,3))[0],i=t[1];t=t[2]}else e=t.offset,i=t.color,t=t.opacity;return e={offset:Te(e)?"0%":e,color:Te(i)?"black":i,opacity:Te(t)?"1":t},o.hash||a.push(mb.stopToString(e)),e})),n=o.hash||n.keyPrefix+"("+Pd(a,", ")+")",(t=rh(t,i,o,n,e)).attr.childNodes=Cd(r,(function(t){var e={offset:t.offset,"stop-color":t.color};return 0<=(t=t.opacity)&&1>t&&(e["stop-opacity"]=t),{tag:"stop",attr:e}})),t.updateAttr=zh,t}function zh(t,e,i){var n=t.el,r=i.renderer;if(t.isDestroyed||n&&n.isDestroyed)t=Oh(r,t.val);else if(n)return t;if((e=i.data.vals[e])&&e.attr&&t.tag===e.tag&&(i=e.el,n=r._s0[e.attr.id]||0,i&&1===n)){n=t.attr;var o=i.data.attrs.id;if(o===n.id)return t.el=i,t;e.isDestroyed=!0,eh(r,n.id),eh(r,o),e=t;var s=t.hash;return r._s1[o]=e,s&&(e=r._s3,r._s2[s]=o,e[o]=s),n.id=o,function(t,e){var i=e.childNodes,n=t.childNodes;t.attr(Vd(e,["childNodes"])),re(i,n,(function(e){return t.renderer.element(e).add(t)}),(function(t,e){return e.attr(t.attr)}),(function(t){return t.destroy()}),(function(t){return i.indexOf(t)}),(function(t){return n.indexOf(t)}))}(i,n),t.el=i,t}return t.el=r.element(t).add(nh(r)),t}function Dh(t,e){Ad(t,(function(t){return gb[t]=e}))}function Eh(t,e,i,n,r){if(l(xb,t)){if(!n)return xb[t];n[xb[t]]=i}}function Ph(t,e,i,n,r){if(!n)return"attr";ue(n,i)}function Bh(t,e,i,n,r){if(!n)return"d";t=i&&e&&Me(i)&&!0!==i.isElement&&Id(i)?Pd(i," "):i,n.d=t}function Lh(t,e,i,n,r){"overflow"===t&&n&&e&&i&&(t=e.data.vals["clip-path"],"visible"===i?t&&(n["clip-path"]=null):"hidden"===i&&(t||(t=ih(e.renderer,"clipRect")),n["clip-path"]=t))}function Rh(t,e,i,n,r){"clipPath"===t&&n&&e&&!l(n,"clip-path")&&(t=e.data.vals["clip-path"],i?(i=ge(r,_e(i)||i.isPath?{d:i}:i,bb),t?t.attr=ue(t.attr,i):t=ih(e.renderer,"clipPath",i),n["clip-path"]=t,e.shadowEl&&function(t,e){var i=e.d;t.childNodes.length?Ad(t.childNodes,(function(t){return Fh(t,i)})):Fh(t,i)}(e.shadowEl,i)):t&&(n["clip-path"]=null))}function Fh(t,e){var i=t.shadowTranslate,n=i[0],r=i[1];i=Ca(e).translate((function(t){return[t[0]+n,t[1]+r]})),t.attr({d:e+i}),(t=t.data.vals["clip-path"])&&(t.attr=ue(t.attr,{d:i}),t.updateAttr(t))}function Vh(t,e,i,n,r){if("shadow"===t&&n&&e){r&&l(r,"clipPath")&&!l(n,"clip-path")&&Rh("clipPath",e,r.clipPath,n,r);var o=e.shadowEl;!i&&o?Nh(e):i&&(!0===i&&(i=pe({mode:"interpolation",x:5,y:5,color:"rgba(0,0,0,.075)",toColor:"rgba(0,0,0,.025)",interpolationSteps:2,interpolationFunc:"linear"})),i.mode=i.mode||"simple",t=i.mode+" "+(i.x||0)+" "+(i.y||0)+" "+(i.blur||0)+" "+(i.color||"black")+" "+(i.toColor||"white")+" "+(i.interpolationSteps||0)+" "+(i.interpolationFunc||"linear")+" "+(i.inset?"inset":""),o&&o.data.shadowConfig.val===t||(o&&o.data.shadowConfig.mode===i.mode||(o&&Nh(e),e.shadowEl=o=function(t,e,i){return"interpolation"===t.mode?e.renderer.element("g"):Ih(e,i["clip-path"])}(i,e,n),e.isPatched&&e.renderer.addBefore(o,e),e.refNodes.push(o),o.ownerAttrsChanged=function(t){return function(t,e,i){if(!i.data.vals["clip-path"]){var n=me({},ve(e,wb),{fill:void 0,stroke:void 0});t.childNodes.length?Ad(t.childNodes,(function(t){return t.attr(n)})):t.attr(n)}}(o,t,e)},o.alignBeforeOwner=!0),o.data.shadowConfig=ce(i,{val:t}),function(t,e,i,n){if("radial"===t.mode&&t.blur)e.renderer.attr(e,{translate:[t.x,t.y],fill:{radialGradient:{},stops:[["0%",t.color],[100-t.blur+"%",t.color],["100%",t.toColor||"white"]]}});else if("interpolation"===t.mode){var r=t.interpolationSteps||1,o=t.interpolationFunc||"linear",s=Pr(t.color||"black",t.toColor||"white");o=function(t,e,i){var n=Mh({duration:100,easing:i});return function(i){return i=n(i),{current:fb(t,e,i),timeFraction:i}}}([0,0],[t.x,t.y],o);var a=100/r,h=!1;e.childNodes.length!==r&&(e.childNodes.length&&Ad(Bd(e.childNodes),(function(t){return t.destroy()})),h=!0);for(var l=(n=i.data.vals["clip-path"]||n["clip-path"])?n.attr.d:null,u=0;u<r;u++){var c=h?Ih(i,n).add(e):e.childNodes[u],p=0===u?{timeFraction:1,current:[t.x,t.y]}:o(a*(r-u)),f=p.current;p=s(p.timeFraction),l?(c.shadowTranslate=f,c.attr({fill:p}),Fh(c,l)):c.attr({translate:f,fill:p})}}else e.renderer.attr(e,{translate:[t.x,t.y],fill:t.color})}(i,o,e,n)))}}function Ih(t,e){return(e=e||t.data.vals["clip-path"])?(e=e.attr.d,t.renderer.element("path",{d:e,"fill-rule":"evenodd",clipPath:e,stroke:"none"})):(e=ce(ve(t.data.attrs,wb),{fill:"none",stroke:"none"}),t.renderer.element(t.nodeName,e))}function Nh(t){var e=t.shadowEl,i=t.refNodes;if(i.length){var n=i.indexOf(e);-1<n&&i.splice(n,1)}e.destroy(),delete t.shadowEl}function jh(t,e,i,n,r){if(l(Ab,t)){if(t=Ab[t],e&&e.isHtml&&(t=Cb[t]),!n)return t;l(n,t)||(n[t]=Wh(t,i,r,e))}}function Wh(t,e,i,n){if(!e||!n||!_e(e)&&!Me(e)||e.isElement)return e;t:if(i&&"fill"===t&&!e.pattern&&!p(e,["meta","pattern"])&&!p(e,["val","meta","pattern"])){if(t=n.data,!Ee(["hatch","hatchPattern"],i)){if(!l(t,"hatch"))break t;i.hatchPattern=t.hatchPattern,i.hatch=t.hatch}var r=i.hatch||"black";t.hatchPattern=""+(i.hatchPattern||"horizontal"),t.hatch=r,e="none"===i.hatchPattern||"none"===i.hatch?e:{pattern:""+(i.hatchPattern||"horizontal"),color:i.hatch||"black",backgroundColor:i.fill}}return _e(e)?function(t,e){var i=/(.*)\((.*)\)/g.exec(t);if(!i)return t;var n=s(i,3);if(n[0],i=n[1],n=n[2],!i||!n)return t;var r=Ye(n,", "),o=function(){return Cd(Bd(r,1),(function(t){return Ld(Ye(t," "))}))};return n=function(t){var i=o();return i[t]=Ye(r[0]," "),Oh(e.renderer,i)},"linear-gradient"===i?n("linearGradient"):"radial-gradient"===i?n("radialGradient"):"url"===i&&"#"!==r[0].charAt(0)?function(t,e){var i=e.renderer;return Hh(e,{hash:"#image:"+(t=Yd(t,"'\"")),width:"100%",height:"100%",patternContentUnits:"objectBoundingBox",childNodes:[i.image({src:t,width:1,height:1,preserveAspectRatio:"none"})]})}(r[0],e):t}(e,n):Me(e)?i=e.linearGradient||e.radialGradient?Oh(n.renderer,e):e.pattern?function(t,e,i){return(i=function(t,e,i,n){if(!l(Xx,t.pattern))return null;var r=ue({},t);if(t.backgroundColor&&!_e(t.backgroundColor)){var o=void 0;n&&n.d&&(o=Vo((n=(n=n.d).isPath?n:Ca(n)).bbox())),o=o||e.box(),r.width=t.width=o.width,r.height=t.height=o.height;var s=t.backgroundColor;n=t.width,o=t.height,(t=pe(t)).backgroundColor="none",t=lh(t),e=ih(e.renderer,"pattern",t),i=i(s),e.val=t,t=i.isDef?i.attr.id:i.attr("id"),i={hash:"#complexPattern:"+e.attr.id+", "+t+", "+n+", "+o,x:0,y:0,width:"100%",height:"100%",childNodes:[{tag:"rect",attr:{x:0,y:0,width:n,height:o,fill:i}},{tag:"rect",attr:{x:0,y:0,width:"100%",height:"100%",fill:e}}]}}else i=lh(t);return r.hash=i.hash,i.meta=r,i}(t,e,(function(t){return Wh("fill",t,null,e)}),i))?Hh(e,i):t}(e,n,i):e:e}function Hh(t,e){return(t=ih(t.renderer,"pattern",e)).val=e,t}function Yh(t,e,i,n,r){if(t=e&&e.isHtml?"border-width":"stroke-width",!n)return t;l(n,t)||(n[t]=i)}function Uh(t,e,i,n,r){if(!n||!e)return t;if("text"!==e.nodeName&&"tspan"!==e.nodeName)n[t]=Wh("stroke",i,r,e);else{var o=e.strokeEl;!i&&o?Gh(e):i&&!1!==i.visible&&(t=_e(i)?{stroke:i}:i,i=JSON.stringify(t),o&&o.data.strokeHash===i||(o&&Gh(e),e.strokeEl=o=e.renderer.element(e.nodeName,ue({x:r.x,y:r.y},e.data.vals)),e.isPatched&&(e.renderer.addBefore(o,e),o.el.style.stroke=function(t,e){return $v(t)?ny(p(e,["parentNode","data","attrs","fill"])||"black",t):t}(t.stroke,e),o.el.style.strokeWidth=t["stroke-width"]||r.strokeWidth,o.el.style.strokeDasharray=t["stroke-dasharray"],o.el.style.strokeOpacity=t["stroke-opacity"],o.el.style.strokeLinejoin="round",o.el.innerHTML=e.el.innerHTML),e.refNodes.push(o),o.ownerAttrsChanged=function(t){o.el.innerHTML=e.el.innerHTML},o.alignBeforeOwner=!0,o.data.strokeHash=i))}}function Gh(t){var e=t.strokeEl;e.destroy(),delete e.ownerAttrsChanged,delete t.strokeEl}function Zh(t,e,i,n,r){if(l(_b,t)){if(!n)return _b[t];if(r&&!l(n,"transform"))if(_e(r.transform)||null===r.transform)n.transform=r.transform;else{var o;e&&(t=e.attr("transform"))&&l(t,"val")&&(o=t),o=o||{},r.transform&&ue(o,r.transform),le(Kx,(function(t){l(r,t)&&(o[t]=r[t])}));var s=[];le(Kx,(function(t){if(l(o,t)&&null!==o[t]){var e=Kx[t][1](o[t]);null!=e&&s.push(t+"("+Pd(e,",")+")"),o[t]=e}})),(t=s.length?Pd(s," "):null)&&(o.val=t),n.transform=t?o:null}}}function Xh(t,e,i,n,r){if(l(Mb,t)){if(!n)return Mb[t];t=Mb[t],i&&e&&(e.data.zIndex=i),n[t]=i}}function qh(t,e,i,n,r){if(!n)return"easing";t=i&&_e(i)&&l(Tb,i)?Tb[i]:i,n.easing=t}function Kh(t,e,i,n,r){if("mask"===t){if(!n)return t;e&&!l(n,"mask")&&(i?(t=e.data.vals.mask,i=ge(r,_e(i)?{d:i}:i,Ob),t?t.attr=ue(t.attr,i):t=ih(e.renderer,"mask",i),n.mask=t):n.mask=null)}}function Qh(t,e,i,n,r){if(!n)return"text";n.text=e.isHtml?i:i.replace(zb," ")}function $h(t){return function(e){Wb[t]=e}}function Jh(t){return!(!t.type||0!==t.type.indexOf("touch"))||"buttons"in(t=t||window.event)&&1===t.buttons||1===(t.which||t.button)}function tl(t,e){function i(){return n=e.getBoundingClientRect()}void 0!==t.eventData.clientX&&void 0!==t.eventData.clientY||(t.eventData.clientX=t.clientX,t.eventData.clientY=t.clientY);var n=null,r=null;t.eventData.coordinates={getPageXY:function(){var o=t.eventData.pageX,s=t.eventData.pageY;return void 0!==o&&void 0!==s||(n||(n=i()),r||(r=e.getBBox?e.getBBox():null),o=t.eventData.clientX-n.left+(r?r.x:0),s=t.eventData.clientY-n.top+(r?r.y:0)),{x:o,y:s}},getOuterBox:i}}function el(t,e){return e?e.querySelector(t):$m.querySelector(t)}function il(t,e,i){ol(t,e,{reorder:i}),t.el.appendChild(e.el),e.refNodes.length&&Ad(e.refNodes,(function(t){return t.alignBeforeOwner&&nl(t,e)}))}function nl(t,e,i){var n=e.parentNode;n&&(ol(n,t,{index:n.childNodes.indexOf(e),reorder:i}),e.el.parentNode.insertBefore(t.el,e.el),t.refNodes.length&&Ad(t.refNodes,(function(e){return e.alignBeforeOwner&&nl(e,t)})))}function rl(t,e,i){var n=e.parentNode;if(n){var r=n.childNodes,o=r.indexOf(e)+1;ol(n,t,{index:o===r.length?null:o,reorder:i}),e.el.parentNode.insertBefore(t.el,e.el.nextSibling),t.refNodes.length&&Ad(t.refNodes,(function(e){return e.alignBeforeOwner&&nl(e,t)}))}}function ol(t,e,i){var n=(i=i||{reorder:!1,index:null}).reorder;i=i.index,e&&(t!==e.parentNode||n)&&(-1<(n=sl(e))&&n<i&&i--,t&&(n=t.childNodes,0===i?n.unshift(e):i?n.splice(i,0,e):n.push(e),e.parentNode=t))}function sl(t){if(!t.parentNode)return-1;var e=t.parentNode.childNodes,i=e.indexOf(t);if(0>i)return-1;var n=t.parentNode;if(n.childNodes.length){n=n.zIndexHash;var r=t.data.zIndex||0;n[r]&&delete n[r]}else n.zIndexHash={};return e.splice(i,1),t.parentNode=null,i}function al(t,e,i){if(!t||t instanceof Mx)return t;var n,r,s=(i=new Mx(t,e,i)).data.attrs,a={};if(t.hasAttributes()){var h=t.attributes;try{for(var l=o(h),u=l.next();!u.done;u=l.next()){var c=u.value;a[c.name]=c.value}}catch(t){var p={error:t}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(p)throw p.error}}}ue(s,a),t.parentNode&&(i.parentNode=new Mx(t.parentNode,e,void 0)),t=[],e=i.el.childNodes;try{for(var f=o(e),d=f.next();!d.done;d=f.next()){var m=d.value;1===m.nodeType&&t.push(al(m,i.renderer))}}catch(t){var g={error:t}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(g)throw g.error}}return i.childNodes=t,i}function hl(t,e,i,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),{x:t,y:e,width:i,height:n}}function ll(t,e,i){var n,r=t.childNodes,o=parseFloat(e.attr("z-index"));i>t.zIndexMax?t.zIndexMax=i:((n=t.zIndexHash[i])?rl(e,n,!0):(n=gd(r,(function(t){return(t.data.zIndex||0)>i})))&&nl(e,n,!0),n&&(t.zIndexMax=r[r.length-1].data.zIndex)),o!==i&&t.zIndexHash[o]===e&&delete t.zIndexHash[o],t.zIndexHash[i]=e,n||il(t,e,!0)}function ul(t,e,i,n){var r=t.el,o=t.data.attrs,s=o[e];if(hw[e]===i&&(i=null),s!=i){if("z-index"===e)r=parseFloat(i),t.parentNode&&ll(t.parentNode,t,r);else if("text"===e)r.textContent=i;else if("value"===e)r.value=i;else if("innerHTML"===e)r.innerHTML=i;else if(ew(r.tagName)&&"type"===e)r.type=i;else if(ew(r.tagName)&&"accept"===e)r.accept=i;else if(null==(t=i))aw(r,e)?r.style&&(r.style[e]=""):r.removeAttribute(e);else if(aw(r,e))r.style&&(r.style[e]=t);else{var a=sw(e);a?r.setAttributeNS(a,e,t):r.setAttribute(e,t)}o[e]=i,n&&n(e,s,i)}}function cl(t,e){var i=ue({},t.data.attrs),n="path"===t.nodeName,r=function(i,n){e&&l(e,i)||ul(t,i,n)};le(i,(function(t){(!n||"fill"!==t&&"stroke"!==t)&&r(t,null)})),n&&(r("fill","none"),r("stroke","none"))}function pl(t,e){var i=t.data.attrs,n=t.el,r=void 0;return"transform"===e?ue({},t.data[e])||null:("path"!==t.nodeName||"fill"!==e&&"stroke"!==e||(r="none"),(t=i[e]||r||hw[e])||(e="text"===e?n.firstChild?n.firstChild.nodeValue:"":aw(n,e)?!(n=n.style)||jd(n[e])?null:n[e]:(t=sw(e))?n.getAttributeNS(t,e):n.getAttribute(e),t=e),t)}function fl(t){return t&&(t.start&&t.start.type||t.end&&t.end.type)}function dl(t,e){var i=function(t,e){return 2>e||!ks(t[e],t[e+1])?e:i(t,e-1)},n=function(t){return ki((t=t.shapes[0].items[1]||t.shapes[0].items[0])[2],t[1])},r=function(t){t=Ae(Ae(t.shapes).items);var e=i(t,t.length-2);return ki(t[e],t[e+1])},o=(t=function(t){if(1>t.shapes.length||1===t.shapes.length&&2>t.shapes[0].items.length)return t;t:for(var e=[0,0],i=0;i<t.shapes.length;i++)for(var n=t.shapes[i],r=0===i?1:0;r<n.items.length;r++){var o=n.items[r];if(e=[i,r],!ks(o[1],Ae(o)))break t}i=t.shapes.length-1;t:for(;0<=i;i--)for(n=t.shapes[i],r=n.items.length-1;0<=r;r--){var s=[i,r];if(!ks((o=n.items[r])[1],Ae(o)))break t}for(i=[t.shapes[0].items[0]],n=e[0];n<=s[0];n++)for(r=t.shapes[n],o=n==e[0]?e[1]:0;o<=(n==s[0]?s[1]:r.items.length-1);o++)i.push(r.items[o]);return Sa(i)}(t)).length(),s=function(t){return ml(t)?Se(t.centerWidth,0):0},a=function(t){return ml(t)?Se(t.centerWidth&&t.width,0):0},h=a(e.start),l=a(e.end),u=(a=s(e.start))/o,c=(e=s(e.end))/o;if((s=u||c)&&h+l>o)return null;var p=(o=s?function(t,e,i,n){var r=t.items();if(0===e&&0===i)return Sa(r);n="caps"===(n&&n.mode);var o=Vs(t,!0,!0);t=Ma(r,o,e/o),i=Ma(r,o,(o-i)/o),e={firstCommand:!0,shapes:[]};var s=!1;o=!1;var a=t.i,h=i.i;n&&(1<a&&(t.i=2,t.percOfSegment=0,s=!0),h<r.length-1&&(i.i=r.length-2,i.percOfSegment=1,o=!0)),n=t.i===i.i;var l=r[t.i];for(s?(0!==l[0]&&ba(e,l[1]),a=1):(ba(e,(t=Js(l,r[t.i-1],ha(l,t.toLen,t.percOfSegment),n?ha(l,i.toLen,i.percOfSegment):1))[0]),3===l[0]?da(e,t.slice(1)):fa(e,t[1])),o&&(h=3===r[r.length-1][0]?r.length:r.length-1),t=a+1;t<h;t++)la(e,r[t]);return o||n||(n=Js(r[i.i],r[i.i-1],0,ha(r[i.i],i.toLen,i.percOfSegment)),3===r[i.i][0]?da(e,n.slice(1)):fa(e,n[1])),ua(e)}(t,a,e,{mode:"caps"}):t).shapes[0].items[0][2],f=Ae(Ae(Ae(o.shapes).items));return h=t.shapes[0].items[0][2],l=Ae(Ae(Ae(t.shapes).items)),n=u&&!ks(p,h)?ki(p,h):n(o),r=c&&!ks(f,l)?ki(f,l):r(o),c=[p,f],a&&(c[0]=wi(h,n-180,a)),e&&(c[1]=wi(l,r-180,e)),{clipLen:[a,e],points:c,angles:[n,r],d:s?o:t}}function ml(t){return t&&t.type&&"none"!==t.type}function gl(t){var e={},i=pv;return le(t,(function(n){if(l(i,n)){var r=i[n];2<r.length?e[r]=t[n]:e[r[0]]=r[1](t[n])}else e[n]=t[n]})),e}function vl(t,e,i){t[e]=i}function yl(t,e,i){return Al(t,e,i)&&{updateGlobalCoordinates:!0}}function xl(t,e,i){return Al(t,e,i)&&{updateSharedAttrs:!0}}function bl(t,e,i){return wl(t,e,parseFloat(i)||1/0)}function wl(t,e,i){return Al(t,e,i)&&{needRecalc:!0}}function Al(t,e,i){if(!J(t[e],i))return t[e]=i,!0}function Cl(t,e,i){return i="auto"===i||null===i||Qd(i)?Fw():Rw(i,{isMutable:!1}),wl(t,Xw[e],i)}function Sl(t,e,i){return wl(t,e,i=Vw(i,t.width?t.width.px:0))}function kl(t,e,i,n){for(var r="string"==typeof t,o=[],s=0,a=(t=r?[{val:t}]:t).length;s<a;s++){var l=t[s];l.textVariants||(l.textVariants=_l(l.val,n.ignoreCategories));var u=l.textVariants,c=r?e.personal:l,p=r?e.own:ce(e.own,c),f=[];l=function(t,o){var a,l=u[t].completeString;n.preserveStartSpaces||0!==s||(l=l.replace(AA.startSpaces,"")),n.preserveSpaces||(l=l.replace(AA.spaces," ")),l=fr(l,t=Ol(p,r?e.parent:e.own,i),i,{ellipsisWidth:n.ellipsisWidth}),1===o&&h(t.width)&&(a=parseFloat(t.width))&&(delete t.width,Ad(l.parts,(function(t){t.text&&(t.width=a,a=0)}))),l.style=r?e.personal:ce(e.personal,c),f.push(l)};for(var d=0,m=u.length;d<m;d++)l(d,m);o.push(f)}return o}function _l(t,e){if(-1<t.indexOf("&ors;")){var i=[{completeString:"",variantsUsed:[]}],n=[],r={},o=[],s=function(t){var e=new String(t);return-1<t.indexOf("&ors;")&&le(CA,(function(t){var i=CA[t],n=parseInt(t);AA["char_"+t]||(AA["char_"+t]=new RegExp("&#"+t+";?"+(i?"|&"+i+";?":""),"ig")),e=e.replace(AA["char_"+t],String.fromCharCode(n))})),e}(t).split(AA.variants);t=[];for(var a=0,h=s.length;a<h;a++)a%2?t.push(s[a]):t=t.concat(s[a].split(AA.space));for(a=0,h=t.length;a<h;a++)if(s=t[a]){var l=(s=s.split(SA.orc))[1];l=l?l.split(":"):[],s=s[0].split(SA.or),o.push(1<s.length&&!e?{versions:s,category:{variantsNumber:s.length,name:l[0]||"",priority:l[1]||0}}:s[0])}for(t=0,a=o.length;t<a;t++)if(s=(h=o[t]).versions){var u=1;(l=r[(h=h.category).name])||(l=i.length,h.name&&!e&&(r[h.name]=l),u=s.length);for(var c=[],p=0;p<u;p++)c=c.concat(Tl(i));for(i=c,u=0;u<i.length;u++)c=Math.floor(u/l)%s.length,i[u].completeString+=s[c],i[u].variantsUsed.push(c);n.push(h.priority)}else for(s=0,l=i.length;s<l;s++)i[s].completeString+=h;return function(t,e){for(var i=[],n=0,r=e.length;n<r;n++){var o=e[n];o&&(i[parseInt(o)-1]=n)}e=function(){var e=i[s];t.sort((function(t,i){return t.variantsUsed[e]>i.variantsUsed[e]}))};var s=0;for(n=i.length;s<n;s++)e();return t}(i,n)}return[{completeString:t,variantsUsed:[]}]}function Ml(t){for(var e=[],i=0,n=t.length;i<n;i++){var r=t[i];r&&null!=r.length?e.push(Ml(r)):e.push(ue({},r))}return e}function Tl(t){for(var e=[],i=0,n=t.length;i<n;i++){var r=t[i];e.push({completeString:r.completeString,variantsUsed:r.variantsUsed.slice()})}return e}function Ol(t,e,i){e=e.fontSize;var n=i.fontSize;if("number"==typeof(i=t.fontSize||e))e=i;else{if(AA.fontSize.test(i)&&(n=parseFloat(i)))switch(i.replace(n,"")){case"em":if(!e){n=0;break}n*=parseFloat(e);break;case"pt":n=4*n/3}e=n}return t.fontSize=e,t.fontFamily=t.fontFamily,t}function zl(t,e){var i=t.length-1;if(e<t[i].minSize.width.px)return t[i];if(e>t[0].minSize.width.px)return t[0];for(var n=0;n<=i;){var r=Math.floor((n+i)/2);if(e>t[r].minSize.width.px)i=r-1;else{if(!(e<t[r].minSize.width.px))return t[r].minSize.width.px;n=r+1}}return t[n]}function Dl(t,e,i){var n=_e(t),r=n?$m.getElementById(t):t;t=n?t:t.getAttribute&&t.getAttribute("id"),n=i&&i.preserve;var o=!t||!sC[t];if(o||!n)var s=new aC({container:r,staticSize:!0,skipDomDestroy:!n});return o?((r=s.textStack(e)).attr(ue(oC,i)),r.add().refresh(),t&&n&&(sC[t]=r)):(r=sC[t]).attr(ue(oC,i)).val(e).refresh(),e=r.setPreliminarySize().getBbox(),(i=r.renderer.root.el).setAttribute("width",e.width+1),i.setAttribute("height",e.height+1),n||(r.destroy(),s.destroyChildren(),s.destroy(),t&&delete sC[t]),i}function El(t){if(t.type){var e=s(t.type.split(":"),2),i=e[1];t.type=e[0],t.subType=i}else t.type="panel"}function Pl(t,e,i){uC=uC||{};var n,r,o=e.split(",");if(n=uC[e=t+e+i])return n;var s=0;for(r=o.length;s<r;s++){var a=void 0;n=t;var l=Yd(o[s]).replace("enum_",""),u=!1,c={sequence:[],explicit:[]};for(c.setting=n,n=n.toLowerCase();!u;){var p=void 0;a=void 0;var f,d=void 0,m=void 0,g=void 0,v=n,y=Ar(l),x=ze(y.members);v=Yd(v);var b=0;for(f=x.length;b<f;b++){if(0===v.indexOf(x[b].toLowerCase())&&(v.length===x[b].length||y.members[x[b]].chain)){d=x[b];break}0!==v.indexOf(x[b].toLowerCase())||v.length===x[b].length||y.members[x[b]].chain?y.members[x[b]].isDefault&&(m=x[b]):p=x[b]}if(!d&&p&&(d=p),d?g=!0:(d=m,a=!0),d?(p=0===v.indexOf(d.toLowerCase())?v.replace(d.toLowerCase(),""):v,a={match:d,isDefault:a,explicit:g,chain:y.members[d].chain,value:p,attributes:y.members[d].enumAttributes}):a={invalid:v},h(a.invalid))a.value=a.invalid,u=!0;else{if((!a.isDefault||!i)&&(c[l]=a.match,c.sequence.push(l),a.attributes))for(var w in a.attributes)c[w]=a.attributes[w];a.explicit&&c.explicit.push(l),l=a.chain,n=a.value,l||0!==n.length?l?l=l.replace("enum_",""):l||(u=!0):u=!0}}if(c.sequence=c.sequence.join(","),c.explicit=c.explicit.join(","),0<a.value.length&&(c.invalid=a.value),!(n=c).invalid)break}return uC[e]=n}function Bl(t,e){return(e=Ge(e).slice(0)).unshift(e.pop()),(t=Ym(t))[0]+=e[0],t[1]+=e[1],t[2]-=e[2],t[3]-=e[3],Um(t)}function Ll(t,e){var i={},n=Se(t.visible,!0),r=Se(t.width,1),o=Se(t.opacity,1)*Se(e,1),s=vo(t.color||"black");if(e=Se(t.caps,"butt"),o*=s.opacity,n&&!Te(t.color)?(i.stroke=s.hex,i["stroke-opacity"]=o):(i.stroke="none",r=0),!Te(n=t.dashStyle)){if(t=r,n=n.toLowerCase(),n=dC[n].split(",")){for(o=0,s=n.length;o<s;o++)n[o]*=t;t=n.join(",")}else t="none";i["stroke-dasharray"]=t}return i.fill="none",i["stroke-width"]=r,i["stroke-linejoin"]="round",_e(e)?i["stroke-linecap"]=e:i.caps=e,i}function Rl(t){return 0===t["stroke-width"]&&(delete t["stroke-linejoin"],delete t["stroke-linecap"],delete t.stroke,delete t["stroke-opacity"]),t}function Fl(t,e){var i,n={};return e=Se(t.opacity,1)*Se(e,1),Te(i=t.outline)||(n=Ll(i,e)),Te(i=t.fill||t.color)||Ul(n,i,e),n["fill-rule"]="evenodd",Yl(n,t.hatch,n.stroke||"rgb(50,50,50)"),!1===t.visible&&(n.opacity=0),Te(i=t.d||t.path)||(n.d=i),Te(i=t.size)?Te(i=t.radius)||(n.r=i):n.r=(parseInt(i)||0)/2,n}function Vl(t,e,i){var n,r=Se(t.opacity,1)*Se(e,1),o={},s={},a={},h={};return!1===t.boxVisible?(o.fill=!1===t.boxPointerEvents?"transparent":"none",o.stroke="none",o.shadow=!1):(Te(n=t.outline)||(e=Ll(n,r),wd(o,e),wd(a,e)),Te(n=t.fill)||Ul([h,o],n,r,i),yC(t,o,"radius","r",void 0),yC(t,o,"shadow",void 0,void 0)),yC(t,s,"margin","margin",Ge),yC(t,s,"padding","padding",Ge),yC(t,s,"width",void 0,void 0),yC(t,s,"height",void 0,void 0),Te(n=t.height)?s.height=void 0:s.height=n,Te(n=t.style)||wd(s,n),yC(t,s,"zIndex",void 0,void 0),{bg:o,root:s,stroke:a,fill:h}}function Il(t){var e=t.animation,i=c(t,"label.style"),n=c(t,"label.align"),r=t.outline,o=function(e,i,n){yC(t,a,e,i,n)},s=function(t){return t+"px"},a={position:"absolute",whiteSpace:"nowrap"};return o("radius","radius",s),o("padding","padding",s),o("fill","background"),o("offsetX","left",s),o("offsetY","top",s),o("width","width",s),o("height","height",s),o("radius","borderRadius",s),o("text-align","text-align"),o("background-color","background-color"),o("border","border"),o("click","onclick"),o("visibility","visibility"),o("left","left"),o("top","top"),o("zIndex","zIndex"),n&&(a.textAlign=n),h(i)&&(yC(i,a,"color","color"),yC(i,a,"fontSize","fontSize"),yC(i,a,"fontFamily","fontFamily"),yC(i,a,"fontWeight","fontWeight"),yC(i,a,"textDecoration","textDecoration"),yC(i,a,"fontStyle","fontStyle")),h(r)&&(a.border=r.color+" solid "+r.width+"px"),h(e)&&(a.transitionProperty=e?"left, top":null,a.transitionDuration=e?(e.duration||0)/1e3+"s":null,a.transitionTimingFunction=e?e.easing:null),!1===t.boxVisible&&(a.background="none",a.border="none"),a}function Nl(t,e){var i=Vl(t,void 0,e);i=wd(i.bg,i.root);var n,r=[];if(Te(n=t.corners))Te(n=t.radius)||(Fd(4,(function(){r.push({type:"round",r:n})})),o={corners:r});else var o={corners:jl(n,t)};return i.shape=ue(t.shape||{},o),"titleBox"===e&&i.shape&&Ad(i.shape.corners,(function(t,e){1<e&&(t.type="square")})),i}function jl(t,e){var i=t,n=[];switch(d(t)){case"string":Fd(4,(function(){n.push({type:i,r:e.radius})}));break;case"array":if(4!==i.length)for(i=i.slice(0);4>i.length;)i.push("round");n=Cd(i,(function(t){return{type:t,r:e.radius}}));break;case"object":n=[{type:i.topleft||"round",r:e.radius||3},{type:i.topright||"round",r:e.radius||3},{type:i.bottomright||"round",r:e.radius||3},{type:i.bottomleft||"round",r:e.radius||3}]}return n}function Wl(t,e,i){var n,r,o={};return t=e?Vd(t,e):t,e=function(e,i,n){yC(t,o,e,i,n)},Te(n=t.color)&&Te(n=p(t,["style","color"]))||(r=n),r&&(i=i&&i.color||r,o.fill="%color"===r?i:xo(r,i)),e("margin","margin",Ge),e("padding","padding",Ge),e("visible","display",(function(t){return t?"block":"none"})),e("align","xAlignment"),"outside"===t.placement&&t.align&&"center"!==t.align?o.xContentAlignment="left"===t.align?"right":"left":e("align","xContentAlignment"),e("verticalAlign","yAlignment",(function(t){return t.replace("middle","center")})),e("cssClass","className"),e("rotate","rotate"),e("width"),e("height"),e("textOverflow"),e("maxWidth"),e("strategy"),e("autoWrap","autoWrap",(function(t){return!1===t?"none":Se(t,"auto")})),e("opacity"),e("animation"),!Te(n=t.offset)&&(n=Hl(n))&&(o.offsetX=n[0],o.offsetY=n[1]),Te(n=t.outline)||($v(n.color)&&(n=wd({},n,{color:ny(o.fill,n.color)})),de(o,Ll(n),{fill:!0})),Te(n=t.style)||wd(o,n),o}function Hl(t){var e=d(t);if("string"===e){if(2===(t=t.split(",")).length)return[parseInt(t[0]),parseInt(t[1])]}else{if("number"===e)return[t,t];if("array"===e)return t}}function Yl(t,e,i){return e&&(yC(e,t,"style","hatchPattern"),i&&(e=wd({color:xo("contrast",i)},e)),yC(e,t,"color","hatch",go),"none"===t.hatchPattern&&(delete t.hatchPattern,delete t.hatch,t.stroke="none")),t}function Ul(t,e,i,n){void 0===i&&(i=1);var r=d(e);if("undefined"!==r){if("object"!==r)if("none"!==e){var o=wo(yo(e),i);n&&"string"==typeof o&&(o=bo(n,o))}else o="transparent";else o=yo(e,1-i);t.pop?Ad(t,(function(t){return t.fill=o})):t.fill=o}}function Gl(t){var e,i="none"!==t.color,n=!1===t.visible;return(e=n)&&(e=!((e=t&&t.caps)&&(e.end||e.start||e.type))),e=e&&!t.color,t=0!==t.width,!n&&!(e||!t)&&i}function Zl(t){var e=t.outline;return t.fill&&"none"!==t.fill||e&&"none"!==e&&0!==e.width}function Xl(t){var e=0!==p(t,["text","length"]);return!1!==t.visible&&!!e}function ql(t,e,i,n){void 0===n&&(n={}),n.tickLimit;var r,s=n.minIntervalGap=Se(n.minIntervalGap,.3),h=n.axOptions||{},l=h.scale||{};if(i.length){var u=i[0];i=i[1]}var p=l.type&&0===l.type.toLowerCase().indexOf("log");l=l.logBase||10;var f={interval:0,min:0,max:0,range:0},d=xC(n.userMax)?n.userMax:n.snapZero&&0>e?0:e,m=xC(n.userMin)?n.userMin:n.snapZero&&0<=t?0:t,g=li([d,m]),v=Math.abs(d-m);return(r=n.breaks)&&(v=qi(v=function(t,e){return Qi(e,(function(e){var i;try{for(var n=o(t),r=n.next();!r.done;r=n.next()){var s=r.value,h=s,l=e;if(Mm(h,l[0])||Mm(h,l[1])){if(Mm(h=s,(l=e)[0])&&Mm(h,l[1]))var u=s,c=[[s[0],e[0]],[e[1],s[1]]];else var p=s;break}}}catch(t){var f={error:t}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(f)throw f.error}}return u&&(f=t.indexOf(u),t.splice.apply(t,a([f,1],c))),p&&(c=t.indexOf(p),e=Mm(p,e[0])?[p[0],e[0]]:Mm(p,e[1])?[e[1],p[1]]:void 0,t[c]=e),t})),t}([[m,d]],r))),f.range=v=Qe(v,g),(g=n.minInterval||u&&v/u)&&(g.unit||_e(g))&&(g=(g=rs(g.unit?g:{unit:g})).count*g.unitRange),u=(g=Kl(v,bC,g,i)).best.interval,g.best.interval.tickCount,"auto"===n.userMinorInterval&&(g=Xl(c(h,"defaultMinorTick.label")),h=Gl(c(h,"defaultMinorTick.gridLine")),f.minorInterval=c(Kl(u,wC,n.minInterval,g||h?2:i),"best.interval")),g=li([t,e,v,u]),r=Math.log(Math.abs(e))/Math.log(l),i=Math.log(Math.abs(t))/Math.log(l),h=function(t){var e=Math.floor(t);return t-e<s?e-1:e},v=function(t){var e=Math.ceil(t);return e-t<s?e+1:e},r=0>e?h(r):v(r),i=0>t?v(i):h(i),xC(n.userMax)?(n.userMax<t&&(f.error=AC.badMax),f.max=n.userMax):p?f.max=Math.pow(l,r)*Ke(e):n.snapZero&&0>=e?f.max=0:(f.max=Math.ceil(e/u)*u,0!==f.max&&e>f.max-u*s&&(f.max+=u)),xC(n.userMin)?(n.userMin>e&&(f.error=AC.badMin),f.min=n.userMin):p?f.min=Math.pow(l,i)*Ke(t):n.snapZero&&0<=t?f.min=0:(f.min=Math.floor(t/u)*u,0!==f.min&&t<f.min+u*s&&(f.min-=u)),p?f.log=[i,r]:(f.min=Qe(f.min,g),f.max=Qe(f.max,g)),f.range=f.max-f.min,f.interval=u,f}function Kl(t,e,i,n){var r,o,s,a,h,l=-1,u=[],c=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),p=function(){for(l=-1,s=0,a=e.length;s<a;s++){r=c/e[s],o=t/r+1,u[s]={interval:r,tickCount:o},h=o<n;var p=Te(i)||r>=i;if(-1===l&&(h&&p||s===a-1)){l=s;break}}};return p(),h||(c*=10,p()),{prev:0<l?u[l-1]:void 0,best:u[l],next:l<a-1?u[l-1]:void 0}}function Ql(t){function e(t){return 0<t.length?t[0]:"!@!@!"}function i(t,e){return t[e]?t[e]:0}function n(t){for(var e=0;e<s;e++)o[e].propNames[0]===t&&o[e].propNames.shift();u(m,t)}var r,o=[],s=t.length,h=!1,l="!@!@!",c=0,p="",f=[],d=!1,m=[];for(Ad(t,(function(t){return m.push.apply(m,a(t))})),m=kd(m),function(){for(var e=0;e<s;e++){var i={propNames:[],nCounts:{}},n=t[e],r=n.length;r>c&&(c=r);for(var a=0;a<r;a++)i.propNames.push(n[a]),i.nCounts[n[a]]?i.nCounts[n[a]]++:i.nCounts[n[a]]=1;o.push(i)}}();!h;){for(l="!@!@!",r=0;r<s;r++)p=e(o[r].propNames),("!@!@!"===l||l!==p&&0<i(o[r].nCounts,l))&&(l=p);if("!@!@!"===l||f.length>=c*s)h=!0;else if(f.length>=c){for(d=!0,r=0;r<s;r++)if(p=e(o[r].propNames),"!@!@!"!==l){d=!1;break}h=d}h||(f.push(l),n(l))}return m.length&&f.push.apply(f,a(m)),f}function $l(t,e,i,n){return CC.abs((t-e[n])/(e[i]-e[n])*100)}function Jl(t,e,i){return e=e[i],t&&e?CC.abs(t/e*100):0}function tu(t){return l(t,"ye")&&!l(t,"y")}function eu(t){return tu(t)?ai(t.ye,t.ys):t.y}function iu(t,e){var i,n="y"===e,r=t.pOptions,o=t.scCache,s=t.yVal;if((i=t.series[e+"Axis"])&&t.chart.chartItemManager.exists(i.id))return t=h(i.min)?i.range:ql(o[n?"min":e+"Min"],o[n?"max":e+"Max"],10),CC.abs(((n?r[s]-(r.low||0):r[e])-t.min)/(t.max-t.min)*100)}function nu(t,e){var i="y"===e;return Jl(i?eu(t.indexedData):t.pOptions[e],t.cache,i?"yRangeSumAbs":e+"SumAbs")}function ru(t,e){var i="y"===e,n=i?"yRangeSumAbs":e+"SumAbs";return Jl(t.pOptions?i?eu(t.indexedData):t.pOptions[e]:t.cache[n],t.scCache,n)}function ou(t,e){var i="y"===e,n=i?"yRangeSumAbs":e+"SumAbs",r=t.pgCache;return r[n]?Jl(i?eu(t.indexedData):t.pOptions[e],r,n):t.pOptions[e]?100:0}function su(t,e){var i="y"===e,n=t.pOptions[i?t.yVal:e];return h(n)?function(t,e){var i,n=e.length;if(0===n)return 0;for(t.pop&&(t=Zd(t)/t.length),(e=e.slice()).sort((function(t,e){return t-e})),i=0;i<n&&!(e[i]>t);i++);return i/n*100}(n,t.cache[i?"averList":e+"AverList"]):0}function au(t){var e=t.pOptions.y;return h(e)&&"string"==typeof e&&!t.fOptions.yIsTime?e:tu(t.indexedData)?t.indexedData.ye:t.indexedData.y}function hu(t,e){return(t.val.pop?t.val[1]-t.val[0]:0)/e}function lu(t,e,i){if(void 0===i&&(i="x"),t.pgCalcCache=t.pgCalcCache||[],!t.pgCalcCache[e._i]){var n=t.chartArea.chartAreaSet.series(),r=t.indexer.getValue(i,e._i),o=new hC,s=0;Ad(n,(function(t){var e=t.indexer.findValue_i(i,r);t=t.indexer.getItem(e),o.indexObject(t,s),s++})),n=o.getKey("y");var a=o.getKey("z"),h=o.hasKey("yr")?"yr":"y",l=HC(o,"sum"),u=HC(o,"sumAbs");t.pgCalcCache[e._i]={list:n,sum:l("y"),sumAbs:u("y"),yRangeSum:l(h),yRangeSumAbs:u(h),zList:a,zSum:l("z"),xSum:l("x"),zSumAbs:u("z"),xSumAbs:u("x"),average:n.length?l("y")/n.length:void 0,zAverage:a.length?l("z")/a.length:void 0}}return t.pgCalcCache[e._i]}function uu(t,e,i){var n=i.atribs;if(n)if("function"==typeof n.pop){for(var r=0,o=n.length;r<o;r++)if(t===n[r][0].toLowerCase())return xu(n[r][1])}else{o=r=void 0;for(var s=t.split("."),a=function(t,e){for(var i=ze(t),n=0,r=i.length;n<r;n++){var o=i[n];if(e===o.toLowerCase())return t[o]}},l=void 0;(o=s.shift())&&h(l=a(r||n,o));)r=l;if(h(r))return xu(r)}return(t=e[t])?((e=t.val?t.val(i):t(i))!=e&&(e=0),h(e)?(c(i.fOptions,"y.isTime")&&t.yVal&&(e=new Date(e)),xu(e)):"-"):"INVALID TOKEN"}function cu(t,e,i){var n=i.fOptions||{},r=","+t+",",o={fStr:n.fStr,culture:n.culture,isTime:n.isTime};return-1<",min,max,average,rangesum,lasty,sum,median,mode,value,ysum,yaverage,ymedian,ymode,ymin,ymax,ymaxsum,maxsum,yminsum,minsum,yrangesum,yvalue,ystart,yrange,open,high,low,close,".indexOf(r)?n.y||o:-1<",xvalue,xsum,xmin,xmax,xmaxsum,xminsum,xaverage,lastx,xrange,lastx,xmode,xmedian".indexOf(r)?n.x||o:-1<",complete,".indexOf(r)?{fStr:"p",culture:n.y.culture}:-1<",zvalue,zsum,zmin,zmax,zmaxsum,zminsum,zaverage,lastz,zrange,zmode,zmedian,".indexOf(r)?n.z||o:(t=e[t])&&t.axis?{fStr:t.fStr||"n",culture:n[t.axis]?n[t.axis].culture:i.chart?i.chart.currentOptions.defaultCultureName:"en-US"}:i.gOptions?{culture:i.gOptions.cultureName}:o}function pu(t){return{text:t=t.token||t.attr||t,result:t&&0<t.length&&(0<=t.indexOf("%")||0<=t.indexOf("{"))}}function fu(t,e,i,n){var r=pu(t);return r.result?Au(t=Cu(t,[e,i],n,fu),FC,{fOptions:n,chart:e.chart,series:e,point:i,sOptions:e.currentOptions,pOptions:i.currentOptions,atribs:i.currentOptions.attributes,yVal:e.ctManager.isType("treemap")?"value":"y",pgCache:lu(e,i),cache:e.getCalcCache(),scCache:e.chartArea.chartAreaSet.getCalcCache(),indexedData:e.indexer.getItem(i._i)}):r.text}function du(t,e,i){var n=pu(t);return n.result?Au(t=Cu(t,e,i,du),VC,{fOptions:i,chart:e.chart,series:e,sOptions:e.currentOptions,atribs:e.currentOptions.attributes,yVal:e.ctManager.isType("treemap")?"value":"y",cache:e.getCalcCache(),scCache:e.chartArea.chartAreaSet.getCalcCache()}):n.text}function mu(t,e,i){var n=pu(t);return n.result?Au(t=Cu(t,e,i,mu),IC,{fOptions:i,chart:e.chart,cache:e.getCalcCache()}):n.text}function gu(t,e,i){var n=pu(t);if(!n.result)return n.text;t=Cu(t,e,i,gu),n=c(e,"value");var r=e.currentOptions||{},o=c(r,"value");return o=Se(o,r.max,r.min),Au(t,NC,{fOptions:i,val:o,item:e,atribs:e.currentOptions.attributes,cache:r,evaluedValue:"function"==typeof n?e.value():[]})}function vu(t,e,i){void 0===i&&(i={});var n=pu(t);return n.result?Au(t,{},{fOptions:i,item:e,atribs:e}):n.text}function yu(t,e,i,n){for(var r,o,s,a,h,l=ze(e),u=t.toLowerCase(),c=0,p=l.length;c<p&&(s=l[c],-1!==(h=t.indexOf("%"))&&h!==t.length-1&&s);c++)r="%"+s,-1<u.toLowerCase().indexOf(r)&&(t=t.replace(new RegExp(r,"gi"),(function(t){a=xu(uu(s,e,i)),i.formatApplied=o=cu(s,e,i),n&&(o=null),t=d(a);var r=a;return"array"===t?r=a[0]:a=[a],i.formatApplied&&i.formatApplied.isTime&&(a=Cd(a,(function(t){return new Date(t)})),r=a[0]),o||"date"!==d(r)||(o={fStr:"yyyy-MM-ddTHH:mm:ss.fffffffzzz",culture:"en-US"}),Cd(a,(function(t){return o?bu(t,o.fStr,o):t})).join(3>a.length?"—":" ")})),u=t.toLowerCase());return t}function xu(t){return t||h(t)?t:""}function bu(t,e,i){var n=i&&i.culture||"en-US",r=d(t);return"date"===r?(i=new jC(n,{formatString:e||""}),Qd(t.getTime())?"Invalid Date":i.formatDate(t,e)):"number"===r?(i&&e&&"c"!==e.toLowerCase()&&!0!==i.fStrStrict&&h(i.precision)&&i.precision&&(e=gm(t),e="n"+Math.min(e,i.precision)),(i=new jC(n,{formatString:e||""})).formatNumber(t,e)):t}function wu(t,e,i){var n,r=Yd(t),o=r.indexOf(":"),s=-1<o;if(s){t=r.substring(1,o);var a=Yd(r.substring(o+1,r.length-1).replace(/^(date)*(number)*/gi,(function(t){return n=t.toLowerCase(),""})))}else t=r.substring(1,r.length-1);if(t=yu(Yd(t),e,i,!0),e=!1,(r=t.match(WC))&&(r=r.length)){e=!0;var h=1===r?"date":"number"}if(a||(a=c(i,"formatApplied.fStr")),r=t,e&&(r=t.replace(WC,(function(t){return Date.parse(t)}))),e=!0,/[\+-\/\*\^%]+/.test(r))try{t=We('"strict mode";(f{r/**/;f days{rn/86400000;}f weeks{rn/604800000;}f years{rn/31536000000;}f hours{rn/3600000;}f minutes{rn/60000;}f seconds{rn/(1000);}}())'.replace(/f/g,"function").replace(/\{r/g,"(n){return ").replace("/**/",r))}catch(t){e=!1}return(h=n||h)?"date"===h?t=Qd(new Date(t).getTime())?new Date(parseFloat(t)):new Date(Date.parse(t)):"number"===h&&(t.valueOf&&(t=t.valueOf()),t=parseFloat(t)):"string"==typeof t?di(t)?t=parseFloat(t):WC.test(t)&&(t=new Date(Date.parse(t))):"number"!=typeof t||a||(a="n:"+Math.min(gm(t),3)),e?a?bu(t,a,i.formatApplied||{culture:p(i.fOptions,["culture"])}):t:"{"+t+(s?":"+a:"")+"}"}function Au(t,e,i){var n=t&&t.attr,r=i.atribs,o=e;if(t.token)return uu(t.token.slice(1).toLowerCase(),o,i);if(n&&(t=t.attr),t=t.replace(/\\\\/g,"##@@@!@##").replace(/\\\{/g,"!!@@#@#@@!").replace(/\\\}/g,"###@!@!#@").replace(/\\%/g,"#@@!@##@"),r){o=r.pop?r:~t.indexOf(".")?De(r,"."):ze(r);var s=!!r.pop,a={};Ad(o,(function(t){a[(s?t[0]:t).toLowerCase()]=void 0})),o=n?a:ue(a,e)}return(t=yu(t=function(t,e,i){var n,r,o=/\{ *[\w\-\(%0-9][^\}\{]+ *: *[^\}\{]+ *\}/,s=/\{ *[\w\-\(%0-9][^\}\{]+ *\}/;if(!t)return t;for(;!h&&null!==(r=o.exec(t)||s.exec(t));){var a=0;for(n=r.length;a<n;a++){var h=r[a].toString(),l=wu(h,e,i);t=t.replace(h,l),h=l&&_e(l)&&Wd(l,"{")}}return t}(t,o,i),o,i)).replace(/##@@@!@##/g,"\\").replace(/!!@@#@#@@!/g,"{").replace(/###@!@!#@/g,"}").replace(/#@@!@##@/g,"%")}function Cu(t,e,i,n){var r;if("string"==typeof t&&-1<t.indexOf("<")){var s=t.match(tv);if(s){i=function(t){var e=function(t){t&&!t.isTime&&(t.fStr="d")};return e((t=wd({},t)).x),e(t.y),e(t.z),t}(i);try{for(var a=o(s),h=a.next();!h.done;h=a.next()){var l=h.value;t=e.pop?t.replace(l,"<"+n(l.replace("<",""),e[0],e[1],i)):t.replace(l,"<"+n(l.replace("<",""),e,i))}}catch(t){var u={error:t}}finally{try{h&&!h.done&&(r=a.return)&&r.call(a)}finally{if(u)throw u.error}}}}return t}function Su(t,e,i){var n=ku(t),r=e[1],o=_u(t);t=Bs(o),i||(i=Ks(o,o.hasCurves)),o=Math.max(t[2],t[3]);var s=[],a=t[1]+1;try{for(;a+r<t[1]+t[3]-2;){var h=Tu(n,a,r);h&&h[2]>=e[0]&&s.push([o-_i(ln(h),i),h]),a+=1}}catch(t){}if(s.length){s.sort((function(t,e){return t[0]<e[0]?-1:t[0]>e[0]?1:0})).reverse();var l=s[0][1]}return l&&(l=yn(ln(l),e)),l}function ku(t){var e=_u(t);return e=Bs(e),e=Math.floor(e[3]/3),function(t,e){var i=[],n=Bs(t),r=n[0]-50,o=n[0]+n[2]+50,s=n[1],a=n[3];n=function(t){return[[r,t=s+t*a],[o,t]]};var h=function(t){for(var e=[],i=function(t){for(var i=0,n=e.length;i<n;i++)if(ks(e[i],t))return!1;return!0},n=0,s=t.length;n<s;n++){var a=t[n];i(a=[Math.round(a.intersect.x),Math.round(a.intersect.y)])&&a[0]>r&&a[0]<o&&e.push(a)}return e.sort((function(t,e){return t[0]<e[0]?-1:t[0]>e[0]?1:0})),2<e.length&&(e=[e[0],e[e.length-1]]),1===e.length&&e.push(e[0]),e};e=Math.abs(.9998/(e-1));for(var l=1e-4;1>l;l+=e){var u=n(l);u=Us(t,u[0],u[1]),i.push(h(u))}return i}(t=_u(t),e)}function _u(t){var e,i=0;return Ad(t.shapes,(function(t){var n=Bs(t);(n=n[2]*n[3])>=i&&(i=n,e=t)})),e}function Mu(t,e){for(var i=[],n=0,r=t.length;n<r;n++){for(var o=t[n],s=[],a=0,h=o.length;a<h;a++)s.push(e(o[a]));i.push(s)}return i}function Tu(t,e,i){i=e+i;for(var n,r,o,s,a=function(t){return[[ii(n[0][0],r[0][0],n[0][1],r[0][1],t),t],[ii(n[1][0],r[1][0],n[1][1],r[1][1],t),t]]},h=0,l=t.length-1;h<l;h++){n=t[h],r=t[h+1];var u=n[0][1],c=r[0][1];if(!o&&e>=u&&e<=c&&(o=a(e)),!s&&i>=u&&i<=c&&(s=a(i)),o&&s)break}if(s&&o)return[t=Math.max(o[0][0],s[0][0]),e,Math.min(o[1][0],s[1][0])-t,i-e]}function Ou(t,e){var i={},n=t.items,r=n[0],o=t.chart.rootVisuals.itemsBox,a=o.getGlobalBboxArray(),h=function(){return rn(Cd(n,(function(t){return t.getContentGlobalBbox()})))};h=1<n.length?h():r.getContentGlobalBbox(),t=t.measureResult;var l=[a[0]+t.max[3],a[1]+t.max[0],a[2]-t.max[1]-t.max[3],a[3]-t.max[2]-t.max[0]];r=r.getContentGlobalBbox();var u=t.aggr,c=[a,l,h,r,[l[0],h[1],l[2],h[3]],[h[0],l[1],h[2],l[3]]];Ad(t.itemsToTune,(function(t){if(!t.isMeasured){var e=s(zu(t),3),i=e[2];Eu(t,e[1],i,u,c[i.alignBoxIndex])}}));var p={};u.tltl&&u.tltl.total[0]>r[2]?p.tltl={direction:1,align:[-1,0]}:u.blbl&&u.blbl.total[0]>r[2]&&(p.blbl={direction:1,align:[-1,0]}),o.update(),Ad(t.itemsToTune,(function(t){var n=t.rootPanel,r=n.getGlobalBboxArray?n.getGlobalBboxArray(!0):t.bbox(!0);if(r[2]||r[3]){n.isHtml?(r[0]-=parseFloat(n.attr("left")),r[1]-=parseFloat(n.attr("top"))):(r[0]-=n.offsetX,r[1]-=n.offsetY);var o=s(zu(t),3),a=o[0],h=o[1];o=o[2],!a&&p[h]&&(o=ce(o,p[h])),r=function(t,e,i,n,r,o,a){if(void 0===a&&(a={total:[0,0],max:[0,0]}),i)return[n[0]+e[r][0]-t[0],n[1]+e[r][1]-t[1]];var h=(i=s(e,3))[0],l=i[2],u=[],c=[],p=o[n],f=r.direction,d=r.align,m=r.stackAlign;i=function(e,i){i=i(e);var r=o[n];if(!r[e]){r[e]=[];var s=0===f?1:0;r[e][s]=c[e][s]+1*(t[e]+t[e+2]*(0<(e===s?1:0)?1:e!==s?.5+d[e]/2:0))-(.5+m[e]/2)*t[e+2]*(e===s?1:0)}return r[e][f]=i+1*(t[e]+t[e+2]*(0<(e===f?1:0)?1:e!==f?.5+d[e]/2:0)),i};var g=function(e){return p[e][f]+-1*(t[e]+t[e+2]*(0<-1*(e===f?1:0)?1:e!==f?.5+d[e]/2:0))},v=function(e){var i=u[e];c[e]=[y(e,i,0),y(e,i,1)],i=c[e][f];var n=c[e];if(!r.checkBorder[e]&&t[e+2]<=l[e+2])e=i;else{var o=t[e+2],s=h[e],a=l[e];i=t[e]+i;var p=s+h[e+2];i<s&&(i=a),i+o>p&&(i=a+l[e+2]-o)<s&&(i=p/2-o/2),e=i-t[e]}return n[f]=e},y=function(e,i,n){n=e!==n?1:-1;var r=.5+m[e]/2;return i+((0<n?a.max[e]||t[e+2]:a.total[e])-t[e+2])*n*(0<n?.5+d[e]/2-r:r)};return p||(u=An(t,e[r.alignBoxIndex],Vm.default(n,"tltr")),o[n]=[]),[i(0,p?g:v),i(1,p?g:v)]}(r,c,a,h,o,i,u[h]),(a=t.options("offset"))&&(a=a.split(","),r[0]+=parseInt(a[0])||0,r[1]+=parseInt(a[1])||0),a=e&&e.animation,n.attr(n.isHtml?{left:r[0]+"px",top:r[1]+"px"}:{offsetX:r[0],offsetY:r[1],animation:a}),t.positionUpdated(c[Nd(o)?o:o.alignBoxIndex])}}))}function zu(t){return t._posInfo_=t._posInfo_||Du(t.currentOptions)}function Du(t){var e=t.position||"bltl";if(e.push)return[1,e,0];var i=function(t){return parseFloat(t)},n=function(e,i){var n=s(e,4),r=n[0],o=n[1],a=n[2];n=n[3];var h=r===a&&o===n,u=["t"===a&&("b"===r||"m"===r||h)&&1,"r"===n&&("l"===o||"c"===o||h)&&1,"b"===a&&("t"===r||"m"===r||h)&&1,"l"===n&&("r"===o||"c"===o||h)&&1],c=h?3:1<Zd(u)?1:u[0]||u[2]?5:4;return(r={isIn:h,pos:u,alignBoxIndex:c,checkBorder:[o===n&&"c"===o,r===a&&"m"===r],direction:h?"m"===a?1:0:5!==c?1:0,align:["l"===o?-1:"r"===o?1:0,0],stackAlign:["l"===o?-1:"r"===o?1:0,"t"===r?-1:"b"===r?1:0]}).direction=Se(t.direction,i,r.direction),r.align=Se(t.alignment,r.align),l(t,"fixed")&&(r.stackAlign=[-1,-1]),[0,e,r]};if(4===(e=e.toLowerCase().trim()).length&&"left"!==e&&!ZC.test(e))return n(e);var r=(e=e.replace("ca:","inside ").replace("ca","inside top left").trim()).split(",");if(1<r.length)return(e=0===(n=r[0]).indexOf("inside"))&&(r[0]=n.substring(6)),[1,r.map(i),e?3:0];if("center"===e)return(n=n("mcmc"))[2].isIn=!1,n[2].alignBoxIndex=2,n;r="inside"===(i=e.split(" "))[0]?1:0;var o=i.join("");return o=o.length===e.length&&qC[o]||o,n(KC[o]||"bltl",QC[i[r]])}function Eu(t,e,i,n,r){r=t.measure(r),i=i.direction;var o=!n[e];return e=n[e]=n[e]||{total:[0,0],max:[0,0]},r[2]||r[3]?(!o&&i||(e.total[0]+=r[2]),(o||i)&&(e.total[1]+=r[3]),(o||i)&&t.isVisible&&e.max[0]<r[2]&&(e.max[0]=r[2]),(o||!i)&&t.isVisible&&e.max[1]<r[3]&&(e.max[1]=r[3]),r):null}function Pu(t){return XC[gd((t||"topRight").toLowerCase().split(" "),(function(t){return XC[t]}))]}function Bu(t){var e=t.trim().toLowerCase();return 0===e.indexOf("ca")||0===e.indexOf("inside")?e.match($C)?"caAlign":"caOffset":GC.test(t)?"absolute":"position"}function Lu(t){var e=new Function("getter","return "+JSON.stringify(t)+";"),i=iS(t);return i.length?function(){var t,n=e();try{for(var r=o(i),s=r.next();!s.done;s=r.next()){var a=s.value;Le(n,a[0],a[1])}}catch(t){var h={error:t}}finally{try{s&&!s.done&&(t=r.return)&&t.call(r)}finally{if(h)throw h.error}}return n}:e}function Ru(t,e){var i=d(e);return t=t.currentOptions,"undefined"===i?t:"string"===i?-1<e.indexOf(".")||-1<e.indexOf("_")?c(t,e.replace(/_/g,".")):t[e]:"NotGetter"}function Fu(t){if(!t.currentOptions.colorsValueRange)var e=1>=t.stopRange&&0<=t.stopExtremes[0]&&1>=t.stopExtremes[1],i=1>=t.dataRange&&0<=t.extremes[0]&&1>=t.extremes[1];return{stopPerc:e,dataPerc:i}}function Vu(t,e,i){return t&&t.pixelCorrection?t.snap(e,i):e}function Iu(t,e,i){return t&&t.pixelCorrection?[(t=Vu(t,[e[0],e[1],i,i],i))[0],t[1]]:e}function Nu(t,e,i){return t&&t.pixelCorrection?Cd(e,(function(e){return Iu(t,e,i)})):e}function ju(t,e,i,n){if(!t||!t.pixelCorrection)return e;n=h(n)?n:i/2;var r=e[0],o=e[1],a=s(r,2);r=a[0],a=a[1];var l=s(o,2);return o=l[0],l=l[1],r===o?(e=!1,a>l&&(e=a,a=l,l=e,e=!0),r=[(t=Vu(t,r=[r,a+=n,0,l-n-a],i))[0],t[1]-n],o=[t[0],t[1]+t[3]+n],e?[o,r]:[r,o]):a===l?(e=!1,r>o&&(e=r,r=o,o=e,e=!0),r=[(t=Vu(t,r=[r+=n,a,o-n-r,0],i))[0]-n,t[1]],o=[t[0]+t[2]+n,t[1]],e?[o,r]:[r,o]):e}function Wu(t){return new vS(t)}function Hu(t){return t.type="panel",t}function Yu(t){return t.width="*",t.height="*",t}function Uu(t,e,i,n){return{xAlignment:t,yAlignment:e,offsetX:i,offsetY:n}}function Gu(t,e){var i;t=t.rootVisuals,(i=e[3])&&t.leftOverflow.attr({width:i}),(i=e[0])&&t.topOverflow.attr({height:i}),(i=e[1])&&t.rightOverflow.attr({width:i}),(i=e[2])&&t.bottomOverflow.attr({height:i})}function Zu(t){var e,i=function(){var i=[0,0,0,0],n=function(){var e=[0,0],i=[0,0];return t.axes().each((function(t){var n=t.overflowSize.tL;t=t.overflowSize.bR,e[0]=Math.max(e[0],n[0]),e[1]=Math.max(e[1],n[1]),i[0]=Math.max(i[0],t[0]),i[1]=Math.max(i[1],t[1])})),[e[1],i[0],i[1],e[0]]}(),r=t.chart.currentOptions.extraOverflows||[0,0,0,0],o=(t.currentOptions.extraOverflows||[0,0,0,0]).map((function(t,e){return t+r[e]}));return e=function(){var e=[0,0,0,0];return t.axes().each((function(t){e[t.sideIndex()]+=t.sideDepth()})),e}(),Ad(n,(function(t,r){i[r]=Math.max(n[r]+o[r]-e[r],0)})),i}();return t.overflows=i,t.axSizes=e,i}function Xu(t){var e=t.overflows=Zu(t);return Gu(t,e),e}function qu(t){var e=t.currentOptions,i=t.series,n=e.id,r=function(t){return i.chartArea._series.find((function(e){return function(t,e){return e.userPoints.find((function(e){return e.id===t}))}(t,e)}))};return Qu(e.parent).map((function(e){if(e.id){var o=e.id;if(o=i.ciManager.exists(o)||r(o))return{cid:n,c_i:t._i,pid:e.id,p_i:o._i,key:n+"-"+e.id,line:e.line||{}};Wg.emit("warning","",'No point with id "'+e.id+'" found.',{container:i.chart.getWrapper()})}}))}function Ku(t){return Qu(t).map((function(t){return t.id}))}function Qu(t){var e=[],i=d(t);return t&&("string"===i?e.push.apply(e,a(t.split(",").map((function(t){return{id:t.trim(),line:{}}})))):"array"===i&&t.length?t.forEach((function(t){return e.push.apply(e,a(Qu(t)))})):"object"===i&&h(t.id)&&e.push.apply(e,a(function(t){var e=t.id.split(",").map((function(t){return t.trim()}));return 1<e.length?e.map((function(e){return{id:e,line:t.line||{}}})):[t]}(t)))),e}function $u(t,e,i){if(t.series,!_e(e)){var n=e.currentOptions.id;return r=Ju(t,(function(t){return t.currentOptions.id===n})),r.length||i?r:$u(e,t,!0)}if("up"===(e=e.toLowerCase()))return Ju(t,(function(t){return!t.currentOptions.parent}));if("down"===e){var r=Ju(t,(function(t){return!t.series.visualizer.getChildren(t).length}),!0);return r.forEach((function(t){return t.reverse()})),r}if("all"===e){r=[],e=Ju(t,(function(t){return!t.currentOptions.parent}));var o=Ju(t,(function(t){return!t.series.visualizer.getChildren(t).length}),!0);return o.forEach((function(t){return t.reverse()})),e.forEach((function(t){o.forEach((function(e){r.push(kd(e.slice(0).concat(t)))}))})),r}}function Ju(t,e,i){void 0===i&&(i=!1);var n=i?"getChildren":"getParents",r=t.series.visualizer,o=[],s=function(t,i){return t.push(i.currentOptions.id),e(i)?(o.push(t),!1):!!(i=r[n](i)).length&&void i.forEach((function(e){var i=t.slice(0);s(i,e)}))};return s([],t),o}function tc(t,e){void 0===e&&(e=function(t,e){return t+"-"+e});var i=function(t){for(var i=[],n=0;n<t.length-1;n++)i.push(e(t[n],t[n+1]));return i};return kd(t.reduce((function(t,e){return t.concat(i(e))}),[]))}function ec(t,e,i,n){var r=t.series,o=r.chart;if((e=ic(e,r)).length){if("object"==typeof i||!h(i))if(r=tc(e),i){if(Object.keys(i).length&&i){var s=Ll(i);r.map((function(t){return wd({key:t,zIndex:100},s)})).forEach((function(e){var i=e.key.split("-")[0];if((i=t.series.ciManager.exists(i).series.visualizer).styleLine){i.styleLine(e,n);var r=vd(i.connectorAttrsHL,(function(t){return t.key===e.key}));-1<r?i.connectorAttrsHL[r]=e:i.connectorAttrsHL.push(e)}}))}}else!function(t){var e,i=o.series().items,n=0;for(t=t.slice(0);n<i.length&&!e;){var r=i[n++].visualizer;r&&r.resetLines&&0===(t=r.resetLines(t)).length&&(e=!0)}}(r);return e}Wg.emit("warning","","No connecting path was found between the specified points.",{container:r.chart.getWrapper()})}function ic(t,e){var i=function(t){return Wg.emit("warning","",t,{container:e.chart.getWrapper()})},n=function(n){var r=[];if(n.pop)if(2===n.length){var o=["up","top","root","first"];if((r=n[1])?(r=r.toLowerCase().trim(),o=(-1<o.indexOf(r)?"up":void 0)||(-1<["down","bottom","floor","last"].indexOf(r)?"down":void 0)||(-1<["both","all","any"].indexOf(r)?"all":void 0)):o=void 0,r=e.ciManager.exists(n[0]),o=e.ciManager.exists(n[1])||o,!r||!o)return void i("Specified point ID cannot be found.");if(n[0]===n[1])return void i("There are no connector lines between the same two points.");if(!(r=$u(r,o)).length)return void i("No connecting path was found between the specified points.")}else 2<n.length&&(r=n[0].pop?n:[n],ic([t[0],t[1]],e)[0][0]!==t[0]&&(r[0]=r[0].slice(0),r[0].reverse()));return r},r=hr(t),o=[];return r&&(2===r.levels?t.forEach((function(t){return o.push.apply(o,a(n(t)))})):o.push.apply(o,a(n(t)))),o}function nc(t,e,i,n){function r(e,i){if(void 0!==(s=d(o=i))&&"undefined"!==s)if(i=""+(e="c"===e[0]?e.replace("complete.y","complete").replace("complete.x","completeX"):e),"array"===s){if(2!==o.length)throw"value array can only have 2 items.";d(o[0]),e=o[0],d(o[1]);var n=o[1];a[i+"e"]=n,a[i+"s"]=e,a[i+"r"]=n-e,a[i+"a"]=(n+e)/2}else"null"===s&&"y"===e?"treataszero"===t.currentOptions.emptyPointMode?a.y=0:a.isEmpty=!0:a[i]=o}for(var o,s,a={},l=e.name,u=0,p=i.length;u<p;u++){var f=i[u];-1<f.indexOf(".")?r(f,c(e,f)):r(f,e[f])}return!0!==n&&wd(a,function(t,e){function i(t,i,r){var f={};return r="sv"+r,h(p=e[i])||(p=e[i+"e"]),c=Te(u=e[i+"s"])?u=p:p-u,(o=t.range)&&n(f,(r+"s,"+r).split(","),o),(a=t.offset)&&n(f,(r+"s,"+r).split(","),[u-a,p+a]),(s=t.percent)&&(a=s/100*c,n(f,(r+"s,"+r).split(","),[u-a,p+a])),(l=t.values)&&(f[r+"v"]=l),f}function n(t,e,i){for(var n=0,r=e.length;n<r;n++)t[e[n]]=i[n]}var r,o,s,a,l,u,c,p,f={};return(r=t.subvalue)&&wd(f,i(r,"y","")),(r=t.subvalueX)&&wd(f,i(r,"x","x")),f}(e,a)),Le(a,"cpbIndex",e.cpbIndex),Ad(Kg,(function(t){return Le(a,t,e[t])})),a.x=e.map?Se(a.x,l):h(a.x)?a.x:h(e.x)?void 0:l,h(a.x)||h(a.xr)||(a.x=e._i),a}function rc(t,e){return t.map((function(t){return oc(t,e)}))}function oc(t,e){return{_i:t.indexer.findValue_i("x",e.value),series:t}}function sc(t,e){var i=[];return t.forEach((function(t){i.push.apply(i,a(function(t,e){for(var i=[],n=0;h(n=t.indexer.findValue_i("x",e.value,n));)i.push({_i:n,series:t}),n++;return i}(t,e)))})),i}function ac(t,e,i){void 0===i&&(i="");var n=t.series;t={hatch:"rgba(0,0,0,.8)",stroke:"#000","stroke-opacity":.3,"stroke-width":1,hatchPattern:"light-upward-diagonal",zIndex:n.zIndex+Jg.complete};var r=e.currentOptions.complete||{},o=n.currentOptions.defaultPoint||{},s=function(t){return r[t]||p(o,["complete",t])},a=s("hatch");return(s=s("fill"))&&Ul(t,s=xo(s,n.info.style.base.color)),a&&(a.color&&((a=wd({},a)).color=xo(a.color,n.info.style.base.color)),Yl(t,a)),"mute"===i&&(e=ke(p(e.currentOptions,["states","mute","opacity"]),.15),t.fill&&(t.fill=wo(t.fill,e)),t.hatch&&(t.hatch=wo(t.hatch,e)),t["stroke-opacity"]&&(t["stroke-opacity"]*=e)),t}function hc(t,e,i){function n(t){t.legendEntry&&t.legendEntry.updateCheckbox(!1),lc(t,!1),t.setState("")}var r=t.chart,o=t.series.currentOptions.pointSelection,s=!!h(o)&&o;s&&function(t,e,i){var r=t.series,o=r.currentOptions.pointSelection||{};if(i=o.max,r=r.chart,Nd(i))if(o=r._sMaxList,e)if(o&&o.length+1>i){for(;o.length+1>i;)n(o.shift());o.push(t)}else r._sMaxList=o=o||[],gd(o,(function(e){return e.id===t.id}))||o.push(t);else u(o,t);else r._sMaxList=[],e&&"single"===o&&(r._sMaxList=[t])}(t,e),r.isRendered?(t.setState(e?"select":""),s&&(e&&t.series.chartArea.series().points().items.forEach((function(e){var r;if(r=e.selected)t:{if(e.selected){if(e._i===t._i&&e===t){r=void 0;break t}"multiple"===s||Nd(s.max)||("single"===s||!i)&&n(e)}r=void 0}return r})),t.legendEntry&&t.legendEntry.updateCheckbox(e),lc(t,e))):e&&(t.selected=!0)}function lc(t,e){t.currentOptions.selected=e,t.userOptions.selected=e}function uc(t,e,i){var n,r,o;return i=h(i)?i:t.userPoints.length,0===e&&(n=t.currentOptions.firstPoint)?o=n:e===i-1&&(r=t.currentOptions.lastPoint)&&(o=wd({},o||{},r)),(i=t.visualizer).getChildren&&(n={currentOptions:t.userPoints[e]},e=t.currentOptions.defaultLeafPoint,0===i.getChildren(n).length&&(i=function(e){var i;return t.chartArea._series.every((function(t){return!(i=gd(t.userPoints,{id:e}))})),i},n=Ku(n.currentOptions.parent),i="column"===t.visualizer.kind?i(n[0]):gd(t.userPoints,{id:n[0]})))&&(i=i&&i.defaultLeafPoint,e&&(o=wd(o||{},e)),i&&(o=o?wd(o,i):i),i||e)&&(t.info.hasUniqueStyles=!0),t._defPointGen||(t._defPointGen=Lu(wd({label:{placement:"auto",style:{fontFamily:"tahoma, geneva, sans-serif",fontSize:"12px"}}},t.currentOptions.defaultPoint))),e=t._defPointGen(),o?wd(e,o):e}function cc(t){!0===(t=t.currentOptions).muted&&!1===c(t,"states.mute.enabled")&&(t.muted=!1),!0===t.selected&&!1===c(t,"states.select.enabled")&&(t.selected=!1)}function pc(t,e){var i,n;return!1===(null===(n=null===(i=t.currentOptions.states)||void 0===i?void 0:i[e])||void 0===n?void 0:n.enabled)&&(e=h(t.state)&&t.state!==e?t.state:""),e}function fc(t){if((t=(t.currentOptions.hoverAction||"").trim())&&"none"!==t)return t.toLowerCase().replace("highlight","").replace("pointgroup","group")}function dc(t,e,i){var n="Point"===t.kind,r=n?t.series:t,o=n?t:void 0,s=r.chart;r.chartArea,i=i&&"auto"!==i?i:function(t){return(t=t&&t.info.type)&&(t.isShape||t.isPie||t.colorByPoint)?"point":"series"}(r),n||"point"!==i||(i="series"),i&&"none"!==i&&(s.highlighted=t),s.series().items.forEach((function(t){t.isVisible&&(t!==r&&"group"!==i?gc(t,"mute"):"point"===i?gc(t,"mute",o):"group"===i?gc(t,"mute",function(t){var e=t.series;return e.xAxis.id,rc(e.chartArea.series().items,{value:e.indexer.getValue("x",t._i)}).map((function(t){return t.series._points[t._i]}))}(o)):gc(t,Se(e,""),o))}))}function mc(t,e){t.renderer.renderer.isRootDestroyed()||(t.series().items.forEach((function(t){t.isVisible&&gc(t,"",e,!0)})),t.highlighted=void 0)}function gc(t,e,i,n){if(t.isVisible){if(n){var r=t.getAnimationConfig();r&&0!==r.duration&&(r.duration=Math.min(230,r.duration));var o={animation:r}}else o={continueAnimation:!1};if(i&&i.pop)t.points().each((function(t){"select"!==t._state&&(ae(i,t)?t.setState("",o):t.setState(e,o))}));else{var s=""===e;i&&i.series===t&&t.state===e||"select"===t.state||(t.visualizer.debounce.clear("unhoverline"),t.setState(e,o)),t.points().each((function(t){(t!==i||"mute"===t._state&&s)&&"select"!==t._state&&t.setState(e,o)}))}n&&t.chartArea.ignoreAnimationFor(o.animation.duration)}}function vc(t,e){var i=t.series,n=i.rootVisuals,r=i.info.type,o=i.info.style,s={},a=!0!==i.xAxis.options("crosshair.enabled")&&!0!==i.yAxis.options("crosshair.enabled")&&!1!==i.options("mouseTracking")&&!1!==i.options("mouseTracking.enabled")&&!1!==i.options("states.hover.enabled");if(o=o.attr.line,r.drawLine&&t.coordinates.line){var h=t.paths.lines?t.paths.lines.join(" ").replace(/,/g," "):Na(t.coordinates.line).join(" ");s.pathAnimation={type:"line",shift:null==e?void 0:e.shift}}return""!==i.state&&(o=i.getStateAttrs(i.state).line),{d:h,state:o,shapeName:"line",target:n.line,zIndex:i.zIndex+Jg.series,visGetter:function(){return i.visuals.line},visSetter:function(t){return i.visuals.line=t},animation:s,events:a?{mouseover:function(t){i.visualizer.debounce.run("unhoverline"),"select"!==i.state&&i.setState("hover")},mouseout:function(t){i.visualizer.debounce.defer("unhoverline",(function(){"select"!==i.state&&"mute"!==i.state&&i.setState("")}),150)}}:{}}}function yc(t,e,i,n){var r=e[0];return r=Bo(r/2,e[1]/2,e=Math.min.apply(Math,a(e)),e),i=n||t.series.getPointMarkerType(i&&i.currentOptions?i.currentOptions:i),0===t.series.getPointAttr().pointAttr[""].r&&(i="none"),{base:0===i.indexOf("url")?i:xc(i,r.x,r.y,e,e)}}function xc(t,e,i,n,r,o){return Xa(t.name?t.name:t,e,i,n,r,o)}function bc(t,e,i){var n=t.series,r=e[0],o=e[1];switch(n=n.ctManager.settingVal("lineSeriesType",n.currentOptions),t=yc(t,e,i),n){case"spline":r="M0 "+o+" C "+.2*r+" 0   "+.8*r+" "+1*o+"   "+r+" 0";break;case"step":r="M0 "+o+" L "+.5*r+" "+o+"   "+.5*r+" 0   "+r+" 0";break;default:r="M0 "+o+" L "+r+" 0"}return t.extra=r,t}function wc(t,e,i){var n={base:bx.rectangle(0,0,e[0],e[1],{r:2,corners:["round","round","round","round"]})};return i&&(t.series.options("forceMarker")||!0===p(i.currentOptions,["marker","visible"]))&&(n.extra=t.getBodyShapeName(i,!0),_e(n.extra)&&-1===n.extra.indexOf("url")&&(n.extra=xc(n.extra,0,0,e[0],e[1]))),n}function Ac(t,e,i,n){var r=i.rect;if(!r)return"";var s=(t=t.series).ctManager,h=t.ctSvIs("seriesType","candlestick");r=vn(r);var l=e.currentOptions.marker||{};if((0===r[2]||0===r[3])&&!0===l.visible)return n=i.styleSet.markerSize,i.meta.shape=yn(i.xyz,[n,n]),"";if(1>r[s=s.isHoriz()?2:3]&&(h||0<r[s])&&(r[s]=1,2===s&&--r[0]),(n=Vu(n,r,h=Se(p(e.currentOptions,["outline","width"]),1))).id=e.id,s=(h=t.ctmIsType("gauge"))?t.pane.isHoriz:t.chartArea.isHoriz,h&&t.ctSvIs("columnType","roundcaps")){e=n[0],t=n[1],h=n[2],r=n[3],void 0===(s={caps:s?{left:"round",right:"round"}:{top:"round",bottom:"round"}})&&(s={}),s=s.caps;var u=Math.PI/2;if(s){l=h/2;var c=r/2,f=["M",e,t];s.top?f.push.apply(f,a(Pa(e+l,t,l,2*u,0))):f.push.apply(f,a(["L",e+h,t])),s.right?f.push.apply(f,a(Pa(e+h,t+c,c,-u,u))):f.push.apply(f,a(["L",e+h,t+r])),s.bottom?f.push.apply(f,a(Pa(e+l,t+r,l,0,2*u))):f.push.apply(f,a(["L",e,t+r])),s.left?f.push.apply(f,a(Pa(e,t+c,c,u,-u))):f.push("Z"),e=f}else e=Ba(e,t,h,r)}else n[2]&&n[3]?(t=function(t,e,i){var n,r=e?[1,0,0,1]:[1,1,0,0],s=e?[0,1,1,0]:[0,0,1,1],a=i.series,h=a.yAxis.isInverted();if(a.yAxis.isStacked()||a.yAxis.isStackedFull()){e=a.xAxis.dpsStackInfo;try{for(var l=o(e),u=l.next();!u.done;u=l.next()){var c=u.value,p=c.topNegative;if(gd(c.topPositive,(function(t){return t&&t.series._i===a._i&&t._i===i._i})))return h?s:r;if(gd(p,(function(t){return t&&t.series._i===a._i&&t._i===i._i})))return h?r:s}}catch(t){var f={error:t}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(f)throw f.error}}return[0,0,0,0]}return(f=i.series.xAxis.dpsStackInfoZ)&&(f=f[i.series._i+"-"+i._i])?f.startTouches&&f.endTouches?[0,0,0,0]:f.startTouches?h?s:r:f.endTouches?h?r:s:[1,1,1,1]:(r=e?[1,0,0,1]:[0,0,1,1],s=e?[0,1,1,0]:[1,1,0,0],n=e?0:1,h=t.xyz[n],f=t.xyzs[n],h===(t=t.xyzOrigins[n])||f===t?(e?h<f:h>f)?r:s:[1,1,1,1])}(t.indexer.getValue("pos",e._i),s,e),e=function(t,e,i){return Ga(t,e.map((function(t){return t?i:0})))}(Zm(n),t,function(t,e,i,n){var r=i.reduce((function(t,e){return t+e}));return r?(i=5,t=Math.min(t,e),e=Math.round(t/(2===r?2:4)),"number"==typeof(n=n.currentOptions.radius)?i=Math.min(n,t/2):(150<t?i=8:6>t?i=1:10>t?i=2:15>t?i=3:25>t&&(i=4),i=Math.min(i,e)),i):0}(n[2],n[3],t,e))):e=bx.none(n[0],n[1]);return Le(i,"collision.body",n),Ds(e)}function Cc(t,e,i){var n,r=[];if(!t)return{cxy:l,size:r,innerSize:u,offset:c,innerPadding:p};var o=t.label;i=t.defaultLabel;var a,h=vn(e);if(e=Math.min(e.width,e.height),n=t.center){var l=s(n.split(","),2);n=l[1],l=[Go(l[0],h[2]),Go(n,h[3])]}if("undefined"!==(a=d(n=t.size)))switch(a){case"string":r=(n=s(n.split(","),2))[0],n=n[1],r=[Go(r,e),Go(n,e)];break;case"array":r=(e=s(n,2))[0],n=e[1],r=[Go(r,h[2]),Go(n,h[3])];break;default:r=[r=Go(n,e),r]}if(n=t.innerSize)var u=Go(n,1);if(n=t.offset){var c=s(n.split(","),2);e=c[1],c=[Go(c[0],h[2]),Go(e,h[3])]}if(n=t.innerPadding)var p=Go(n,1);return o&&t.defaultLabel&&(o.pop?Ad(o,(function(e,i){return o[i]=wd({},t.defaultLabel,e)})):o=wd({},t.defaultLabel,o)),{cxy:l,size:r,innerSize:u,offset:c,innerPadding:p,defaultLabel:i,label:o}}function Sc(t,e,i){var n=i.xAlignment;return bn(t,e,n,n,i=i.yAlignment,i)}function kc(t,e){var i=t.series;t=i.info.style.base,e=i.info.type.drawMarker;var n=i.getUniqueColors(3);1<n.length?(n.push(0),t=yo(n)):t=t.color,n=(i=i.currentOptions.defaultPoint||{}).marker||{},i=Se((e=e?wd({},i,n):i).fill,e.color,"currentColor"),n=Se(p(e,["outline","color"]),e.color,"outline");var r=Se(p(e,["outline","width"]),1);return i={fill:xo(i,t),stroke:xo(n,t),"stroke-width":qd(r,0,3)},e.hatch&&(i.hatch=xo(e.hatch,t),i.hatchPattern=e.hatchPattern),{base:i}}function _c(t,e,i,n,r,o){var s,a=i.xyz,h=t.series;t=t.getBodyShapeName(e);var l=i.rect;return"string"==typeof t&&Am(t,"url(")?t:((s=i.path)||(s=Se(r,5),r=e.currentOptions.marker||{},l||(l=Bo(a[0],a[1],2*s,2*s)),(s=my(r.offset))&&(l=Eo(pe(l),s[0],s[1])),a=i.meta.snappedBox=[l.x,l.y,l.width,l.height],t&&!~IS.indexOf(t)&&(s=p(r,["outline","width"])||1,a=i.meta.snappedBox=Vu(n,a,s)),i.path?s=i.path:(n=h.pointBodyDGenerator,0===l.width&&0===l.height&&(t="none"),(s=n&&n(t,i))||((s=xc(t,a[0],a[1],a[2],a[3]))||(s=xc("none",a[0],a[1],a[2],a[3])),"none"!==t&&(_e(n=r.rotate)&&-1<n.indexOf("%")&&(n=parseFloat(e.replaceTokens(n))),n&&(e="auto"===n?p(i,["arc","angle"])+90:n,"circle"!==t&&(s=(s.isPath?s:Ca(s)).rotate(e)))))),o&&(i.meta.marker=vn(l))),Ds(s))}function Mc(t,e,i,n,r,o){var s=-1<r.indexOf(".svg"),a=my(o.offset)||[0,0];return i={src:r,cx:t+=a[0],cy:e+=a[1],zIndex:i.zIndex+Jg.body},h(o.size)?(i.width=o.size,i.height=o.size):s&&(i.width=20,i.height=20),(o=o.rotate)&&(_e(o)&&-1<o.indexOf("%")&&(o=parseFloat(n.replaceTokens(o))),i.rotate=[o,t,e]),i}function Tc(t){var e=(t.pane||t.chartArea).rootVisuals,i=e.dataContent;e=e.axisMarkersFront;var n=t.visuals.shapeLabels=t.visuals.shapeLabels||t.renderer.panel().add(e);t.rootVisuals={area:i,line:i,points:i,pointHalo:e,shapeLabels:n}}function Oc(t){t&&t.attr({opacity:0})}function zc(t,e){var i=t.series;e=i.rootVisuals;var n,r=i.info.style.attr.area;return t.coordinates.area&&(n=t.paths.areas?t.paths.areas.join(" ").replace(/[,Z]/g," ")+"Z":Na(t.coordinates.area).join(" ")),""!==i.state&&(r=i.getStateAttrs(i.state).area),{d:n,state:r,shapeName:"area",target:e.area,zIndex:i.zIndex+Jg.series,visGetter:function(){return i.visuals.area},visSetter:function(t){return i.visuals.area=t}}}function Dc(t,e,i,n,r,o,s){var h=t.series,l=h.info.type.roundCaps,u=t.isHoriz(),c=e.meta;s=c.labelObstacles;var p=e.meta.shape.slice(0);l&&(p=Bl(p,u?[0,-p[3]/2]:[-p[2]/2,0])),c.shapePadded=p,l=0,c.marker&&(l=e.meta.marker[2]),(c={u:0,r:0,d:0,l:0})[i]=l;var f=DS(t,p,i,s,c,e);e=Cd(o,(function(t){var e=!TS(t),i=e?f.out:f.in;return(t=wn(a([0,0],r),i,t.align,t.vAlign).box).isInside=!e,t})),Ad(e,(function(t,e){}));var d=[];return Ad(e,(function(e){(h.pane||!t.series.isVisible||Pn(n,e))&&d.push(e)})),d}function Ec(t,e,i){var n=t.series,r=n.pane;return r=r&&r.getCompleteVisInfo?r.getCompleteVisInfo(i):xn(vn(i.rectComplete)),t=ac(t,e),{d:r,clipPath:i.pathD,state:t,target:n.rootVisuals.points,zIndex:n.zIndex+Jg.complete,visGetter:function(){return e.visuals.rectComplete},visSetter:function(t){return e.visuals.rectComplete=t}}}function Pc(t,e){return nc(t,{x:e.x,y:[e.open,e.close],subvalue:{range:[e.low,e.high]}},["x","y","subvalue"])}function Bc(t,e){var i={x:e.x,y:[e.low,e.high],subvalue:{range:[e.open,e.close]}};return e.name&&(i.name=e.name),nc(t,i,["x","y","subvalue"])}function Lc(t,e,i,n){var r=i.xyz,o=i.xyzs,s=i.sv,a=i.svs;t=t.isHoriz();var h=i.rect;return i=t?0:h.width/2,t=t?h.height/2:0,e=Se(p(e.currentOptions,["outline","width"]),1),Ds(["M",(n=Nu(n,[o,r,[a[0]-i,a[1]-t],a,[s[0]+i,s[1]+t],s],e))[0],"L",n[1],"M",n[2],"L",n[3],"M",n[4],"L",n[5]])}function Rc(t,e,i,n){void 0===n&&(n=!0);var r=[];t-=i,e-=i;var o=2*i,s=2*i;return i*=.3318,n&&r.push("M",t+o/2,e),r.push("C",t+o+i,e,t+o+i,e+s,t+o/2,e+s,"C",t-i,e+s,t-i,e,t+o/2,e),Ds(r)}function Fc(t,e,i,n){var r=t.series;e=i.xyz;var o=i.xyzs,s="M"+e[0]+" "+e[1],a=Qd(e[2]),h=o[2]!==e[2];if(r=r.options("shape.type")||"circle",n=Iu(n,e,1),a)i.pathD=i.meta.bodyD=s,i.hitTest=oe;else{s=h?function(t,e,i,n){return n=Rc(t,e,n),[Rc(t,e,i),"Z",n,"z"]}(n[0],n[1],e[2],o[2]).join(" "):xc(r,(n=Bo(n[0],n[1],o[2],o[2])).x,n.y,n.width,n.height),i.pathD=i.meta.bodyD=s;var l=i.xyz,u=Math.max(i.xyz[2]/2,5),c=t.getLabelHitTest();i.hitTest=function(t,e){return _i(l,[t,e])<=u||c(this,t,e)}}return Ds(s)}function Vc(t){return function(){var e=[];return"Series"===t.kind?e=t._points.slice(0):t.each((function(t){e=e.concat(t._points)})),e}}function Ic(t){return function(e){var i="Series"===t.kind?t:t.items[0];if(!e||!hr(e))return i._points.slice(0);if((e=ic(e,i)).length){var n=i.ciManager,r=[];return e.forEach((function(t){return t.forEach((function(t){return r.push.apply(r,a(t.split("-")))}))})),i=(r=kd(r)).map((function(t){return n.exists(t)})),zd(i,"_i")}}}function Nc(t,e){for(var i,n,r,o={points:[]},s=function(t){return Fe(n,r,t,t)},a=function(t,e){var i,n=0;return Ad(t,(function(t){h(i=t[e])&&(n+=i)})),n},l=function(h,l){r=t[h],i=function(t){return Cd(t,(function(t){return t.pop?{x:t[0],y:t[1],z:t[2]}:t}))}(r.points),e?Ad(i,(function(t){o.points.push(wd({cpbIndex:h},t))})):(l=Cd(i,(function(t){return t.y})),(n={y:Zd(l),x:a(i,"x")}).subvalue={values:l},Ad(["id","name"],s),o.points[h]=wd(n,r.defaultPoint||{}))},u=0,c=t.length;u<c;u++)l(u);return o.isMerged=!0,o}function jc(t){var e=t.indexer,i=t.info,n=t.options(),r=n.xAxis,o=t.chart.chartItemManager.exists(n.yAxis)||{};r=t.chart.chartItemManager.exists(r)||{};var s,a=i.type.seriesType,h=function(e){return"-"===(e=t.replaceTokens({token:e}))?"":e},l=h("%xAxisLabel"),u=h("%yAxisLabel");return h=h("%zAxisLabel"),i.type.isMapLayer&&(s=t.chart.geoParser.findFeatureProps(t,t.chart.internal.mappingInfo)),{vScale:p(o.currentOptions,["scale","type"])||o.type||o.dataType,xScale:r.type||r.dataType,ct:t.ctManager.settingVal("chartType",n),st:a,mapInfo:s,xNotSorted:!i.xIsSorted,yAxisLabel:u,xAxisLabel:l,zAxisLabel:h,sName:n.name,hasZ:e.hasKey("z"),hasX:e.hasKey("x"),hasRange:e.hasAllKeys(["ys","ye"])&&!e.hasKey("y")}}function Wc(t,e,i){t.push(Hc(t[t.length-1],e,i))}function Hc(t,e,i){return[t[0]+e[0]*i,t[1]+e[1]*i]}function Yc(t,e){var i;void 0===e&&(e=se);var n=[];try{for(var r=o(t),s=r.next();!s.done;s=r.next()){var a=s.value,l=e(a);h(l)&&!l.pop&&n.push(a)}}catch(t){var u={error:t}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(u)throw u.error}}return n}function Uc(t,e){var i=function(t){return e[0]===t[0]&&e[1]===t[1]},n=function(t){return e===t};for(i=e.pop?i:n,n=0;n<t.length;n++)if(i(t[n]))return n;return-1}function Gc(t){var e=[[],[],[],[]];return t.each((function(t){return e[t.sideIndex()].push(t)})),e[0].reverse(),e[3].reverse(),e}function Zc(t){var e=t.isTransitioning?t._ticks:md(t._ticks,(function(t){return!t.invalid}));t=Yc(e,(function(t){return t.value()})),e=function(t,e){var i;void 0===e&&(e=se);var n=[];try{for(var r=o(t),s=r.next();!s.done;s=r.next()){var a=s.value,l=e(a);h(l)&&2===l.length&&n.push(a)}}catch(t){var u={error:t}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(u)throw u.error}}return n}(e,(function(t){return t.value()}));var i=t.length;e=zd(e,(function(t){return h(t.currentOptions._lI)?t.currentOptions._lI:-1}));var n=function(t){return!i&&t._rngData&&0===t._rngData.level&&(!t.currentOptions.rangeMode||"auto"===t.currentOptions.rangeMode)},r=[],s=t.slice(0);Ad(e,(function(t){t._isBaseRange=n(t)}));var l=md(e,(function(t){return t._isBaseRange}));s.push.apply(s,a(l)),r.push.apply(r,a(md(e,(function(t){return!n(t)}))));var u,c=1;return i||Ad(r,(function(t){t._rngData&&t._rngData.level<c&&(c=t._rngData.level)})),l.length&&0===c&&(u=!0),{valTicks:t,rngTicks:e,valArrange:s,rngArrange:r,fullRangesLevel:c,sharesBase:u}}function Xc(t,e){var i=t.isHoriz,n=gd(t._ticks,(function(t){return!t._isRange})),r=Zc(t),o=t._rngData,s=o.levels,h=o.duV;o=function(t){for(var i=0;i<e.length;i++)t(e[i],i)},o((function(t){var e=t._rngData;t=t._metrics.textSize.slice(0),e.labelSize=e.rotate?[t[1],t[0]]:t}));var l=t.tickMetricsData,u=t.sideIndex(),c=l.getMaxLength(),p=0===u||1===u,f=0===u||3===u,d=0,m=[0,0],g=0;l=r.sharesBase?0:l.maxLength,m[h.vc]=f?c-l:l;var v=function(t){var e=!1;return t._rngData.rotate&&(e=!e),e},y=function(t){var e=t._metrics.textSize;return v(t)?[e[1],e[0]]:e.slice(0)},x=function(t){return md(e,(function(e){return e._rngData.visible&&e._rngData.level===t}))};l=function(e){if((e=x(e)).length){var o,s=Math.max.apply(Math,a(e.map((function(t){return t._rngData.labelOnTop?0:y(t)[1]})))),l=0,c=function(t,e,i){var n=Hc(m,h.o,d);return n[h.hc]=t._metrics.px[0],Wc(n=[n],h.o,e),Wc(n,h.f,ai(t._metrics.px[0],t._metrics.px[1])),Wc(n,h.i,e),{points:n,options:wd({},i)}},f=function(t,e){if((t=x(t+1)||[]).length){t=t.map((function(t){return t._metrics.px}));for(var i=!1;!i&&t.length&&0<Hi(t,e).length;)i=!0;return i}return!0},b=[];Ad(e,(function(t,e){e=t._rngData;var i=y(t),r=t.currentOptions.rangeMode;r=!(n||0!==e.level||r&&"auto"!==r||t._rngData.visPartial);var o=e.labelSize;e.labelOnTop||(t=r?o[1]/2+t.currentOptions.padding:Math.max(14,i[1]/2),b.push(t))})),Ad(e,(function(e){o=[];var g=e._rngData,x=e._metrics.px,w=ti(g.labelRange),A=y(e),C=e.currentOptions.rangeMode;C=!(n||0!==g.level||C&&"auto"!==C||e._rngData.visPartial);var S=g.labelSize,k=Math.max.apply(Math,a(b));if(g.labelOnTop){var _=Hc(m,h.o,d+20+A[1]/2);_[h.hc]=w,g.labelBbox=yn(_,A),g.shapeOptions=c(e,14,{gapLength:0,tipLength:20*(1-.7),tipPos:ii(0,1,x[0],x[1],_[h.hc])}),x=f(g.level,g.labelRange),l=Math.max(l,g.autoLabelOnTop&&!x?20:g.labelOnTop?A[1]+20:A[1])}else(_=Hc(m,h.o,d+k))[h.hc]=w,g.labelBbox=yn(_,A),g.shapeOptions=c(e,k,{gapLength:S[0],tipPos:ii(0,1,x[0],x[1],_[h.hc])}),l=Math.max(l,s);0===g.level&&r.sharesBase&&(l=Math.max(l,t.tickMetricsData.maxLength)),g.labelCxy=_,(g=!C)&&(g=v(e),i||(g=!g)),e._cxyRotate=g?0===u?-90:p?90:-90:void 0,o.push(e.currentOptions.padding)})),e=l+Math.max.apply(Math,a(o)),d+=e,g+=e}};for(var b=0;b<s.length;b++)l(b);return o((function(t){if(t._rngData.visible){var e=t._rngData,i=sn(e.shapeOptions.points);t._positionData={tickPoints:e.shapeOptions.points,textBBox:yn(e.labelCxy,t._metrics.textSize),bbox:rn([e.labelBbox,i])}}})),m[h.vc]=f?c:0,{ticks:t._rngData.ticks,levels:s,edges:t._rngData.edges,origin:m,depth:g,duV:h}}function qc(t){return!h(t=t.currentOptions.hoverAction)||"none"!==t&&!1!==t}function Kc(t,e){e=e||t.currentOptions.label;var i,n=["color","style.color","outline.color"],r={};try{for(var s=o(n),a=s.next();!a.done;a=s.next()){var h=a.value,l=c(e,h);if(l&&l.length&&-1<l.indexOf("%")){n=h;var u=l;if(!m){var p=void 0,f=t.currentOptions,d=t.axis;"function"==typeof f.target&&(p=f.target());var m=p||(d.chartArea.replaceTokens?d.chartArea:d.chart)}Le(r,n,m.replaceTokens(u))}}}catch(t){var g={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(g)throw g.error}}return Object.keys(r).length?wd(bd(e),r):e}function Qc(t){var e=t.axis.tickPositions,i=t._value,n=e.minor||[];return e=Uc(e,i),"custom"===t.type?t.rank=1:0===e?(t.isFirst=!0,t.rank=2):-1===Uc(n,i)?t.rank=3:t.rank=5}function $c(t,e,i){void 0===i&&(i={});var n=e.metrics(i),r=n.px,o=n.textSize,s=n.tickLength,h=t.sideIndex(),l=0===h||1===h,u=t.tickMetricsData;h="inside"===e.currentOptions.placement;var p=e.options("padding")||0,f=h?0:u.getMaxLength(),d=2===r.length;(r=e._metrics.px=t.getCaLen(e.value())).pop&&r.length&&(r=(r[0]+r[1])/2),Qd(r)&&(r=0);var m=0===t.currentOptions.anchorWidth?.5:0,g=t.viewState.caRect,v=g.x,y=v+g.width,x=g.y;return g=x+g.height,t.isHoriz?(d&&(m-r>v&&(r=v+m),m+r>y&&(r=y-m)),d=h?0:1,l?(s=[[r,f],[r,f+(l=h?1:-1)*n.tickLength]],r=[r-o[0]/2,s[1][1]+l*p+l*(h?0:o[1]),o[0],d*o[1]]):(s=[[r,0],[r,(l=h?-1:1)*s]],r=[r-o[0]/2,s[1][1]+l*p+o[1]*(d-1),o[0],d*o[1]]),o=r[3]+(h?0:n.tickLength+n.tickPadding||0)):(d&&(m-r>x&&(r=x+m),m+r>g&&(r=g-m)),m=c(e.currentOptions,"label.align")||l?"left":"right",d=h?0:1,l?(s=[[0,r],[(l=h?-1:1)*n.tickLength,r]],r=["right"===m?s[1][0]+l*p+d*u.maxTextSize[0]-o[0]:s[1][0]+l*p+o[0]*(d-1),r-o[1]/2,d*o[0],o[1]]):(s=[[f,r],[f+(l=h?1:-1)*n.tickLength,r]],r=["right"===m?s[1][0]+l*p-d*o[0]:s[1][0]+l*p-d*u.maxTextSize[0],r-o[1]/2,d*o[0],o[1]]),o=r[2]+(h?0:n.tickLength+n.tickPadding||0)),u=s.slice(0),"angled"===t.labelMode?(e._positionData||(e._positionData={tickPoints:s,textBBox:r}),p=e.angledBounds()):p=r.slice(0),u.push.apply(u,a(Nm(p,"tl,br"))),u=e._bbox=sn(u),h&&(u[t.isHoriz?3:2]=0,u[t.isHoriz?1:0]=0),i.tickPointsOnly?(e._positionData.tickPoints=s,e._positionData):((t=e._bboxClipped=r.slice(0))[2]=n.textSize[0],t[3]=n.textSize[1],e._positionData={tickPoints:s,textBBox:r,bbox:u,textLength:o})}function Jc(t,e,i,n){var r=t.axis,o="category"===r.type,s=t.currentOptions.rangeMode;t=t._rngData,r._rngData.duV;var h=gd(r._ticks,(function(t){return!t._isRange}));i=yd(xd(i),{type:o?"curly":"measure",gapLength:0,tipPos:.5,color:"#000"}),o=h||0!==t.level||t.visPartial?"curly"===i.type?"curly":"measure":"min",s=s&&"auto"!==s?s:o;var l=Se(i.width,pk[s]);o=function(t){var e=Iu(n,t,l);return r.isHoriz?[t[0],e[1]]:[e[0],t[1]]};var u=ki(e[0],e[1]);e=e.slice(0),"curly"===i.type&&(e[1]=wi(e[1],u+180,l/2),e[2]=wi(e[2],u+180,l/2)),t=i.tipPos,h=Mi(e[1],e[2]),t=qd(1<t?t/h:t,0,1),wd(i,{lineLength:h,midPoint:Si(e[1],e[2],t),sideLength:Mi(e[0],e[1]),lineAngle:ki(e[1],e[2]),tipAngle:u,tipPos:t});var c=h-12;u=i.gapLength;var p,f=i.midPoint,d=i.lineAngle;if(0<u)if(u>h-12)wd(i,{gapLength:c,tipPos:.5,midPoint:Si(e[1],e[2],.5)});else if(.5!==t){t=1>t?t*h:t,c=Mi(f,e[1]);var m=Mi(f,e[2]),g=Mi(f,wi(f,d+180,u/2));g>c-6&&(t+=g-(c-6)),(u=Mi(f,wi(f,d,u/2)))>m-6&&(t-=u-(m-6)),wd(i,{tipPos:t/h,midPoint:Si(e[1],e[2],t/h)})}return"min"!==s&&(p="curly"===s?function(t,e){var i=(e=yd(e,{width:3,radius:100,tipLength:5})).gapLength,n=e.tipLength,r=e.radius,o=e.width,s=e.tipPos,h=e.lineLength,l=e.midPoint,u=e.sideLength,c=e.lineAngle,p=e.tipAngle;e.noStart,e.noEnd;var f=function(t,e){return[t[0]+e[0],t[1]+e[1]]},d=wi([0,0],p,o);o=function(t){return function(t,e,i){return t.map((function(t){return[t[0]+e,t[1]+i]}))}(t,d[0],d[1])};var m=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return A.push.apply(A,a(t))},g=se,v=se,y=h-(s=s*h-i/2)-i,x=Math.min(r,s)<u;if(u=Math.min(r,y)<u,x||u){var b=wi([0,0],c,1),w=wi([0,0],c+180,1);g=function(t,e,i){t[e]=f(t[e],b),t[i]=f(t[i],b)},v=function(t,e,i){t[e]=f(t[e],w),t[i]=f(t[i],w)}}var A=[],C=t.slice(0),S=[],k=0;return 0===i?(i=t.slice(0,2),x&&g(i,0,1),n=wi(l,p,n),C.push(n),i.push(l,n),l=[i[3],i[2],t[2],t[3]],u&&v(l,2,3),m(Ua(i,r)),m(Ua(l,r).replace("M","L")),m(Sx(t[3])),x&&v(i,0,1),u&&g(l,2,3),i=o(i).reverse(),m(Ua(l=o(l).reverse(),r).replace("M","L")),m(Ua(i,r).replace("M","L"),Sx(t[0]),"Z")):(k=Math.min(i,h-4),i=t.slice(0,2),x&&g(i,0,1),i.push(wi(l,c+180,k/2)),l=[wi(l,c,k/2),t[2],t[3]],m(Ua(i,r)),x&&v(i,0,1),m(Ua(i=o(i).reverse(),r).replace("M","L"),Sx(t[0]),"Z"),u&&v(l,1,2),m(Ua(l,r)),u&&g(l,1,2),m(Ua(l=o(l).reverse(),r).replace("M","L"),"Z")),S.push(t[3]),S.push(t[0]),{d:A.join(" "),pathOptions:{"stroke-width":0,fill:e.color},startLen:s,endLen:y,gapLength:k,bbox:sn(C),endPoints:S,mode:"curly"}}(e,i):function(t,e){var i=(e=yd(e,{width:1.5})).gapLength,n=e.width,r=e.tipPos,o=e.lineLength,s=e.midPoint;e.sideLength;var a=e.lineAngle,h=e.noStart,l=e.noEnd,u=o-(r=r*o-i/2)-i,c=[],p=t.slice(0);if(0===i)c.push(Cx(t[1]),Sx(t[2]));else{var f=Math.min(i,o-4);c.push(Cx(t[1]),Sx(wi(s,a+180,f/2))),c.push(Cx(wi(s,a,f/2)),Sx(t[2]))}return i={type:"arrow",overflow:!1,width:"400%",length:"600%"},h={start:h?{}:i,end:l?{}:i},t=[t[1],t[2]],{d:c.join(" "),pathOptions:{caps:h,"stroke-width":n,stroke:e.color,fill:"none"},startLen:r,endLen:u,gapLength:f,bbox:sn(p),endPoints:t,mode:"measure"}}(e.map(o),i)),p}function tp(t){return"chartArea"===t.axis.chartArea.kind?t.axis.chartArea:t.axis.chartArea.chartArea}function ep(t){var e=Date.now();if(t&&t.length){var i=t[0].axis;Ad(t,(function(t){return 0!==c(t.currentOptions,"value.length")&&function(t){var e=t.axis,i=t.currentOptions,n=t.options("label");i=i.value;var r=t.isHoriz,o=e.chartArea.collisionManager,s=[];if(n){var l=function(t){return t.push([t[0][0]+(r?1:0),t[0][1]+(r?0:1)]),rn(t)};n=Id(i[0])?i[0]:i,lm(n,(function(t){return s.push(l(e.getCaPoints(t,void 0)))})),Ad(s,(function(t){return o.addBox(t)})),n=rn(s),t._arrangeInfo.edgeBoxes=s,t._arrangeInfo.box=n,function(t){var e=t.rootVisuals,i=t.currentOptions,n=i.labelPadding||0,r=i.label||{};if(t.getText()&&t.axis.valVisible(t.value())){var o=e.label=e.label||new oS(t.chart,wd(r,{baseColor:i.color}));(i=t.attrBuilder(Wl(r,void 0,i),{},{})).val=t.getText(),i.padding=n,o.options({text:t.getText()}),e.label.attr(i),!1!==r.autoWrap?(o.rootVisuals.text.attr({autoWrap:"auto"}),e.label.rootPanel.attr({maxWidth:0,autoWrap:"auto"})):(o.rootVisuals.text.attr({autoWrap:"none"}),e.label.rootPanel.attr({autoWrap:"none"})),t._arrangeInfo.labelSizes=o.getSizes(),e.label.rootPanel.attr({autoWrap:"none"}).setPreliminarySize(!0)}}(t),function(t){var e=t.axis;t._arrangeInfo.visible=!0;var i=t.options("label");if(i&&Xl(i)){var n=i.align,r=i.verticalAlign;i=i.rotate;var o=n||r,s=function(e){var i=t._arrangeInfo.labelSizes[0];return gd(t._arrangeInfo.labelSizes,(function(t){return t[0]<i[0]&&(i=t),t[0]<=e}))||i},l=vn(t.axis.chartArea.contentRect),u=t._arrangeInfo.labelSizes[0],c=on([t._arrangeInfo.box,l])||t._arrangeInfo.box,p=t.isRange(),f=t.isHoriz;l=t.axis.chartArea;var d=Date.now(),m=l.collisionManager,g=en(vn(l.contentRect),-1);if(t._arrangeInfo.possible=[],e.valVisible(t.value())){u=s(f?g[2]:g[3])||u;var v=s(c[2]),y=s(c[3]);s=[c[0],c[1],u[0],u[1]],u=function(e,i,n){Ad(i,(function(i){var r,s=e.slice(0),h=0!==n,l=i[0];i=i[1];var u=0===l.indexOf("in"),x=u&&0<n&&("inleft"===l&&"intop"===i||"inright"===l&&"inbottom"===i);p&&u&&(s=[0,0],h?s.push.apply(s,a(y)):s.push.apply(s,a(v))),h&&(s=[s[0]-s[3],s[1],s[3],s[2]]),h=(s=wn(s,c,l,i)).box,Pn(g,h)&&!x&&(!f&&p&&u&&(u=0===t._arrangeInfo.possible.length&&o,Pn(c,h)||u||(r=!0)),!r&&t._arrangeInfo.possible.push({xAlignment:l,yAlignment:i,box:h,cxy:ln(h),collide:!0===m.collideAll(h),rotation:n,textAlignment:s.contentAlignment,marker:t,time:d}))}))},l=function(t,e,i){void 0===i&&(i=!1);var n=[];return Ad(t,(function(t){Ad(e,(function(e){i?n.push([t,e]):n.push(t+e)}))})),n};var x=[],b=[];e="sp"===e.prefix,h(i)&&0!==i||(f&&!e?(n?x=l(["in"],[n]):(x=l(["in"],["left","right"])).push("incenter"),r?b=l([p?"in":"out"],[r]):p?(b=l(["in","out"],["top","bottom"])).push("inmiddle"):b=l(["out"],["top","bottom"])):(r?b=l(["in"],[r]):(b=l(["in","out"],["top","bottom"])).push("inmiddle"),n?x=l([p?"in":"out"],[n]):p?(x=l(["in"],["left","right"])).push("incenter"):x=e?l(["out"],["left","right"]):l([],[""])),u(s,e=l(x,b,!0),0)),h(i)&&90!==i&&-90!==i||(f?(x=l(["in"],n?[n]:["left","right"]),b=r?l([p?"in":"out"],[r]):p?l(["in"],["top","bottom","middle"]):l([],[""])):(b=l(["in"],r?[r]:["top","bottom","middle"]),n?x=l([p?"in":"out"],[n]):p?(x=l(["in","out"],["left","right"])).push("incenter"):x=l(["out"],["left","right"])),u(s,e=l(x,b,!0),90))}else t._arrangeInfo.visible=!1}}(t)}}(t)}));var n=function(t){if(t=t._arrangeInfo.used)return(e-t.time)/1e3*10},r=function(t,e,i){var r=0,o=0,s=!0;Ad(i,(function(t,n){r+=i[n][e[n]]||0}));for(var a=0,l=t.length;a<l;a++){var u,c=gd(t[a]._arrangeInfo.possible,e);if(!c){s=!1;break}if(h(u=n(t[a]))&&_i(c.cxy,t[a]._arrangeInfo.used.cxy)>u){s=!1;break}if(c.collide){s=!1;break}o++}if(s)return r+o/t.length},o=md(t,(function(t){return t.isRange()}));t=md(t,(function(t){return!t.isRange()}));var s=function(t,e,o){if(t.length){for(var s,a=function(t,e){for(var i={},n=0,r=t.length;n<r;n++){var o=md(t[n]._arrangeInfo.possible,e);Ad(o,(function(t){i[""+t.xAlignment+t.yAlignment+t.rotation]={xAlignment:t.xAlignment,yAlignment:t.yAlignment,rotation:t.rotation}}))}var s=[];return Ad(i,(function(t){return s.push(t)})),s}(t,{}),h=function(t,e){var i=[];return Ad(t,(function(t){return i.push(e(t))})),kd(i)}(a,e),l=0,u=h.length;l<u;l++)for(var c=h[l],p=0,f=a.length;p<f;p++){var d=a[p];if(e(d)===c){var m=r(t,d,o);m&&(!s||s[0]<m)&&(s=[m,d])}}var g=1<t.length;Ad(t,(function(t){var e,r,o=i.chartArea.collisionManager,a=t._arrangeInfo.possible,h=md(a,(function(e){return g?!o.collideLabels(e.box,t.id):!o.collideAll(e.box,t.id)})),l=t._arrangeInfo.used,u=l?{xAlignment:l.xAlignment,yAlignment:l.yAlignment,rotation:l.rotation}:{};!h.length&&a.length&&(h=a),h.length&&(l&&(g||(r=e=gd(h,u)),r||(r=gd(a,u)),r&&(r.time=l.time)),!e&&s&&(e=gd(h,s[1])),e||(e=h[0]),l&&e&&!g&&""+l.xAlignment+l.yAlignment+l.rotation!=""+e.xAlignment+e.yAlignment+e.rotation&&(a=_i(l.cxy,e.cxy))>(h=n(t))&&r&&(e=r),t._arrangeInfo.used=e,o.addLabelBox(e.box,e.marker.id))}))}};s(o,i.isHoriz?function(t){return t.yAlignment}:function(t){return t.xAlignment},{yAlignment:i.isHoriz?{inmiddle:.1,intop:.3,inbottom:.2}:{inmiddle:.3,intop:.2,inbottom:.1},xAlignment:i.isHoriz?{inleft:.2,incenter:.3,inright:.1}:{inleft:.3,incenter:.2,inright:.1}}),s(t,i.isHoriz?function(t){return t.yAlignment}:function(t){return t.xAlignment},{yAlignment:{outtop:.2,outbottom:.1},xAlignment:{outright:.3,outleft:.1}})}}function ip(t){var e=[];return h(t)&&(e=t.pop?(2===(e=t.length)?t:1===e?[t[0],null]:[])||[]:[t.min,t.max]),Nd((t=e)[0])&&Nd(t[1])}function np(t){var e=p(t,["chartArea","series"]);if(e=e?e(0):p(t,["chartArea","_series","0"])){var i=e.ctManager.curCtDst();e=t.currentOptions.caOffset,p(t.currentOptions,["defaultTick","gridLine","width"]);var n=i.ct.columnType;return i=i.isPaneType&&n&&"roundcaps"===n.toLowerCase(),n=e,i&&!h(e)&&"x"===t.prefix&&(n=(t=t.isStackedFull()?t.clusterWidth(this._value):t.clusterWidth())/2),n||e}}function rp(t,e){return(t=p(t.currentOptions,["scale","type"]))&&e(t)}function op(t,e){return rp(t,e)||t.syncAxis&&rp(t.syncAxis,e)}function sp(t,e){var i,n=function(e){return"object"===d(e)?(i=!0,os(e,t.range?t.range.min:t.min,t.range?t.range.max:t.max)):e.map((function(e){return t.toPosition(e)}))};if(Id(e)&&e.length){var r=[];return Ad(e,(function(t){"array"===d(t)?r.push(n(t)):r.push.apply(r,a(n(t)))})),t.hasCalPatBreaks=i,Cd(r,(function(t){return[t[0],t[1],t[1]-t[0]]}))}return t.hasCalPatBreaks=i,e}function ap(t,e){t.isHoriz;var i=[0,t._sizeMetrics.length],n=0<ai(i[0],i[1]);gd(t._ticks,(function(t){return!t._isRange}));var r=[],o=function(t){for(var i=0;i<e.length;i++)t(e[i],i)},s=function(t){return n?Wi(i,t):Dm(t)};o((function(t){t.metrics(),t._cxyRotate=void 0,t._rngData={visRange:s(Dm(t._metrics.px))};var e=t._rngData,i=(i=t._rngData.visRange)&&0<i.length,n=zd(t._metrics.px),r=t._rngData.visRange;r&&r.length?(t=ai(n[0],r[0]),n=ai(n[1],r[1]),n=10<t||10<n):n=void 0,wd(e,{visible:i,visPartial:n})})),o((function(t){var e=t._rngData;if(t._rngData.visible){t=t._metrics.px;for(var i=0;!o;){var n=r[i]=r[i]||[];if(!Hi(n,t).length){n.push(t);var o=!0}i++}o=i-1}else o=0;return e.level=o})),o((function(t){var e=(t=t._rngData).visRange,i=t.obstacles=[],n=function(t){return Mm(Dm(e),t)&&i.push(t)};if(t.higherIntersects=[],t.visible)for(var o=t.level+1;o<r.length;o++){var s=Hi(r[o],e);em.apply(null,[t.higherIntersects].concat(s)),lm(s,n)}}));var l=t.tickMetricsData,u=t.sideIndex();l=l.getMaxLength(),u=0===u||3===u;var p=[0,0];p[(t=t.duV("inside"===c(t.currentOptions,"defaultTick.placement"))).vc]=u?l:0,o((function(t){var e=t._metrics.px;t._rngData.rotate=!h(c(t.currentOptions,"label.rotate"))&&t._metrics.textSize[0]>ai(e[0],e[1])})),o((function(t){var e=s(t._metrics.px);if(t._rngData.visible){var i=void 0,n=t.currentOptions,o=t._rngData,a=Zi(Gi(zd(o.obstacles),e,0),e),l=t._metrics.textSize,u=!1;t._rngData.rotate&&(u=!u),(l=u?[l[1],l[0]]:l.slice(0))[0]+=n.padding,o.labelSize=l,l=l[0],a=a.length?function(t){var e;return Qi(t,(function(t){return e=e&&ai(e[0],e[1])>ai(t[0],t[1])?e:t})),e}(a):zm(e,5);var c=5*Se(t.currentOptions.line.width,pk.measure);u=zm(e,c),t=zm(t._metrics.px,c),(a=Wi(a,u))[1]-a[0]<l?(!o.visPartial&&ai(u[0],u[1])<l&&(i=!0),e=(e[0]+e[1])/2,o.labelRange=[e-l/2,e+l/2]):(e=(a[0]+a[1])/2,o.labelRange=[e-l/2,e+l/2]),e=o.labelRange.slice(0),o.labelRange=Yi(t,o.labelRange),Ne(e,o.labelRange),n=n.label&&n.label.placement,0!==o.level||i||n&&"auto"!==n?(i||1===r.length?o.autoLabelOnTop=!0:(i=o.higherIntersects&&0<Hi(o.higherIntersects,o.labelRange).length,o.autoLabelOnTop=!o.visPartial&&!i&&o.level<r.length-1),o.labelOnTop=h(o.labelOnTop)?o.labelOnTop:o.autoLabelOnTop,(i=Se(n,"auto"))&&"auto"===i||(o.labelOnTop="outside"===i)):o.labelOnTop=o.autoLabelOnTop=!1}}));var f=[];return Ad(r,(function(t){t.length&&f.push.apply(f,a(Xi(t)))})),f=_d(zd(f)),{ticks:e,levels:r,edges:f,origin:p,duV:t}}function hp(t){return t=new Date(t).getTime(),Qd(t)?(new Date).getTime():t}function lp(t){return!Mk(t)||"single"!==(t=t.series.currentOptions.pointSelection)&&1!==t.max?"system/default/checkbox":"system/default/radio-button"}function up(t){return _k(t)?t.isVisible:Mk(t)?t.selected:void 0}function cp(t){return!h(t=t.currentOptions.hoverAction)||"highlight"===t||"mute"===t}function pp(t,e){void 0===e&&(e=!0);var i=d(t);return"array"===i?t:"string"===i?(i=-1<t.indexOf(",")?/[,]/g:/[ ]/g,(e?t.toLowerCase():t).split(i).map((function(t){return t.trim()}))):void 0}function fp(t,e,i){var n=[],r=[],o=[];return e.each((function(e){e.breaks.length&&function(t,e,i,n,r,o){void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===o&&(o=[]);var s=e.getBreakRects(),a=c(e.currentOptions,"scale.defaultBreak.line.width"),h=c(e.currentOptions,"scale.defaultBreak.line.color"),l=c(e.currentOptions,"scale.defaultBreak.type").toLowerCase();e=e.isHoriz;var u=function(e){return Vu(t,e,i)};s.sort(e?function(t,e){return t[0]-e[0]}:function(t,e){return t[1]-e[1]});var p=s.length;if(1!=p)for(var f=0;f<p;f++){var d=s[f];if(d[0]+=i/2,d[1]+=i/2,!d)break;var m=void 0;m=0===f?e?"r":"b":f===p-1?e?"l":"t":e?"c":"m",(d=(Dk[l]||dp)(m,a,d,u))&&(d.clipPath&&n.push(d.clipPath),d.path&&r.push({path:d.path,color:h}),d.outlinePath&&o.push({path:d.outlinePath,stroke:h}))}}(t,e,i,n,r,o)})),{clipPath:n.length?Ds(n):null,paths:r,outlines:o}}function dp(t,e,i,n){i=n(i),n={clipPath:Za(i[0],i[1],i[2],i[3],{zigSides:t,zigWidth:e,lines:[]})};var r="m"===t||"t"===t||"b"===t?1:0;return i[r]+=.5,--i[r+2],n.outlinePath=Za(i[0],i[1],i[2],i[3],{zigWidth:e,zigSides:t,open:!0,lines:[]}),n}function mp(t,e,i){if(e.data){e=e.data;var n=t.data=t.data||{},r=d(e),o=h(e.transformer)?e.transformer:t.ctManager.isType("calendar")?gp:null,s=function(e){if(!n.val||n.val&&n.fileName!==e)return function(t,e,i,n){Xn(t,e,i,n,ms)}(e,(function(r){n.val=o?o(r.data):r.data,n.types=!o&&ds(n.val),Ad(n.types,(function(e,i){return"date"===e&&Le(t,"typeContextOptions.axes."+["x","y","z"][i]+".scale.type","time")})),n.fileName=e,i(r)})),e};switch(r){case"array":n.val=e;break;case"string":if(256>e.length&&e.indexOf(".csv")===e.length-4)return s(e);n.val=ms(e);break;case"object":if(e.data)n.val=ms(e.data,e.delimiter,e.header);else if(e.file)return s(e.file)}}}function gp(t){return Cd(t,(function(t){return[t[0],parseFloat(t[1])]}))}function vp(t,e,i){var n=fy[t];!n&&Nk[t].checker(e,!1,{})?bp(t,e||{},i):!n||n.loaded?i():n.loading&&n.callbacks.push(i)}function yp(t,e,i,n){void 0===n&&(n=!1),e||i();var r=[],o=fy,s=function(t){r.splice(r.indexOf(t),1),r.length||function(t){var e=Qm.IntlPolyfill;Wk.length&&e&&(Ad(Wk,(function(t){return e.__addLocaleData(t)})),Wk=[]),t()}(i)},a=function(t){var e=Qm.Intl;return t=t.defaultCultureName||"en-US",e&&0<e.NumberFormat.supportedLocalesOf([t]).length?null:(Qm.IntlPolyfill||(Qm.IntlPolyfill={__addLocaleData:function(t){return Wk.push(t)}}),(e={})["https://code.jscharting.com/polyfill/locales/"+t]={checker:function(){return!0}},e)}(e),h=a?ce(Nk,a):Nk,l=e.modules?ye(e.modules):{};le(h,(function(i){var a=o[i],u=function(){a&&a.afterLoad&&a.afterLoad(t,e),!a&&-1<i.indexOf("locale")&&o[i]&&(o[i].loading=!1,o[i].loaded=!0)};a&&a.loaded||!h[i].checker(e,n,l,t.ctManager)?u():(r.push(i),bp(i,ue({notificationContainer:t.getWrapper()},e),(function(){u(),s(i)})))}));var u=mp(t,e,(function(){s(u)}));u&&r.push(u),r.length||i()}function xp(t,e){for(var i in jk)if(t.isType(i,e))return!0}function bp(t,e,i){jo(t,i,Wg,e)}function wp(t,e,i){return Zo((function(n,r){r={text:e},i&&(r.baseUrl=i.baseUrl,r.notificationContainer=i.notificationContainer),vp("modules/types",r,(function(){return n(Dl(t,e,i))}))}))}function Ap(){return"3.4.0.20230215"}function Cp(t,e){var i=Sp(e),n={grid_enabled:!0};return i&&(n.baseUrl=i.baseUrl,n.notificationContainer=i.notificationContainer),Zo((function(e,r){vp("modules/datagrid",n,(function(){e(Hk.gridConstructor&&Hk.gridConstructor(t,i,void 0))}))}))}function Sp(t){var e;return e_&&(e=e_?e_():{}),t&&e?wd(e,t):t||e}var kp=function(t,e){return kp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},kp(t,e)},_p=function(){return _p=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},_p.apply(this,arguments)},Mp={exportButtonTooltip:"Export to raster or vector image",printButtonTooltip:"Print the chart",resetZoomText:"Zoom Out",resetZoomTooltip:"Reset Zoom"},Tp="4285F4fE4C14DBCB1815AC20D150B1d9AeeC8C2808ED7C1F1eFEdAF2955B6eA738F5424378BE3CA87A893B3F84E154F5CD992D8C2903B9B09DC9F9F95F035FCACBFA0381830202FE9CCEFEFBCC9BdD7311A3340E7E4957B823E6BC0DE8BFC70D5987BD5C923|9C9Ad9C3063cCECEc63e63d8284e65CECECdFee84dbcebd84e8484a8284ebeCdFCEcCEdCEc9C9CCcF9ACECE9AcCF9C3165d31CFCE9CCFbCFb9Ab65e63659C949694e3063319A63e3e0313e09C3e09C306331309C313031accadacdbbbd84a82a848482e84e84e8284C6C3C6848284|4B649A88E2D869838eD93FA5EE4034088B2FAEB8E9ED266666FA7CD992C85203D4804FAFC7DD57F9EEFC335BA63D2F81C238683D996FEAB90342172309AE9538772BC16DF07420ADC7A4D9ED99DAA029BAEB076A40145A6485769C85B624F030670AD47A6BC1814E07CA65E495FD0F2881ED681E873AE862D16CC889C78AE792B499869EE625BDE959C952859E55CE88675403C8BCC|B2213DBAC01464AF4ADA5B8AEE971F989EDDB7D3E68B44D7DDC9870157E10EA61EEE6B07B9CFB4B24B420C78B02E5302CE296DF22889FD27DB64DCF58C635867CCB46CFE2C17DDCD290587A37ECB27AF7685322D741B7E94F0442B54F2BD25E7E9A3AAFBC054D4B64A9EC8220159A70F3D2D7F07302AF2B035D60DE7EB89DA6ADE9FB9D9202AED22AF7BE2D4515B93979B1B16C53E1E|E68E423F5C79E5D5ADEC6CBBE66457F9E2D796A6A28121DB6D38E9C36845D6CA2199DED1532E506469D45014C4203AFB07CE2E94B32C06656D65D0238E216D6715A1994C8485A6B487313CCC310C174DFDEDBB99164216F3937963EC5D2DD54867E7FD2285EC778128790D82EE3834604D8325A064D350D28AA5B70A21B8575A5AF365480DF3C610753A709C3492045A45039ED80834|3D88419BE23923AAC40154C4141CE1507A0314A091B380FC677487E15195AD6E9B8C285ACF5735E1DF6C4FEC798AC2D30DE68CCFDF87DA890744336DB040582E53E52887F3867F22CD32C024649382DCB1B2D46909DC8E14B09D538A23C6309E13209892613ADF85666902ADC6B62473C056BBFD6AEE25765714D55532F4FD0701211044F9EF7A76D24F029ED9E04CF978DEC9CC0A32|9ADB5E61F34C0C8DEFC21EC7737198D5D73F6085AE67C358B0C0BA2FE63093EF6B377F4DB066102F3B8CCA0F7ACA720AA4D70F6E875B33331805AF3390DCA5BF2E2D5B3CF14A24702E304A229BB4DCE54EB0890E2024681e44B35ABB6DC9E5EE50BDF4D6E35175AB29D3F561011966327C9E4DE52979E09C44A37A51478B95191EB3B90D38F7618992E5B81E411eF2B4D184EBF6BE|860104dD62E583410c6dF7e0551314FEdAF7F4D1Ccb4502830B0CF6FCDAaFDdB1d9D02EE1413AE6A29DE56eE4A711BB1313D195e61140DBCB037402E13B8C267B86D163F1815C2C8955E4520A7B817B851175F1A13C4CAB4aC1C898B88918AD3122815F2DA05813A68D2089291E977E12|181161D14524F9F72B83EA282BFBCDA395DEDC2ECE4133F5DA011D01A468837EB8EA917CC3B9F0C972E8958DFAF8717754D6A67B1D2CD14524E18514AC7F1384875DBA5965D42A5D8E2C6F6059A9A4A0D4F4F226A8F96072FEDFCCC2F6F69AEEAFA9FCFB94996BE6B98E569B9EA89E5FB8E9D97C7ACAC7E6AA6F9E9DB0A0AA56BE817BCACACF63CFCEEBE86F69D0FDCCE5E89C12FEe|4A2123D52E06B38D95dDBC5C2644482B2B8AE7EA1dE19C8D8A7E553C15DCD2D5dCA95DAC5E4DB9F62dDBD9BC9F95E49291484C50FAB36C9A6343E57B63BED7DA92392FD7CEC2d95eD0BBC1759980ADC0DFE5BFD2E0CC84C0D0C5CDD25EdC7C3C1dF1C69658F1F98E61693CA86567FB4C2688A259cC5A5C18ACAEBdC6A5D1A4845C5D531ADDCFA2D67F45AA3B33dC667|8A98DB3C59BA16265173A278B7F5Dd8F7A05CC3A192973C5D64488B775BA64E1B44475F714B96646DC4D02154F171A46F1842ECA991F8C12FED8F11F1CFC4D8BEF3F8FA2C3248862E0A1CA18BB670A3DD0A0D460A0D4655D3EBCDdD579DAC734879694E3A719686D18A56418775A47BD9A36773D98BC8EB4B73A7DC96B52A0951184B0D8BEF31E4AB3B1B7A1848BD4AAB5D2B1B7A14A67C5|BF2D305E8D34855E26a9FC2dC380B75174BED869349648B31E4BCCD150B159B6E6A36079C9EEd7BD76CdE648E4F6C29BAEAEA2dBA8AB74957C0C2F3E5D8dF285AAd45E0C18CBEE7A437942DDDde216C54DDF78F6174618BE767D89A7C7C8B59234172A3AD680C866D82789410869FBD19CDA087CB5980E78F5CAD5054A0AE7C321727308B113C2A573F2F0F4EA36E68|2A3D2FBCD0A4F7dD1AE708AF5ADBDF8D4DCB1E6d7AAEB38FAF6E101811B6C4B0dBEC4D06F71DFCC65BBD8BAD77856FDdB6E67347B8EDd47C3F2F89E8B834C37A1C261E2dCA3B491F52A09593B7D3647AAAD7ccD43F4E5DA4BD74dC49Ad6044CAD5C974A05B7383689B4427BE8B94d8C63D9c88ADC8D5A37dFDACAE488A1E997CC52A095849B50618C73C9DCB6|D1CEBC914927aDe04AE7C8C6F8EBbFBD0C75D65C3e7Ce9F3Ce8873e98A646648E8EC7E6827D4E6FA573737D83DFB7ADd2525E49F76F3EAF2FBF794d6E6EE20106A017174B2722e892F9CCB9685D1D215EDEA35C7F1186F3F67801C655567905D8DF64041A92E2EE38B97FBC197B5B3B3FEDD96FDD1F2DB391988010442e11eCE7498E6eeFC88eA3D2e447D|2263093BDB09F0d5EBCE86C7A7124AA9D2B5C770EC7E207CBB60B3E89080A1C0CdFA3C7CE96C514B18B09F09AFD408F8EeE4FA30715480DAdF3C513A107E7109AFD40815480D2D992A98BB7B5D5F307C833D4057217FA4328B932E3064220A1C0CB3C45E7EBC7D7CBC803A3D1E7B812B6E9C30ABB53B3E772615341587AD565D5F30|D0B85D648F8CF892eF9F29BA7D3EdAF168676A35F0C963dEF7AC6D332AC8827F3D864dFE49D3ED62B2AD61687C3DB0A89AB07286F6B899CEA95C6E581CCFB999F5A864B4CC9D516862D4F8A24E150ACF6E27718E258F889ED0C8996F685BB3AC29E9D23670370C7867669D721AB4DA55B06F52324C1936773D98BC8E483E46D8BEF313706B38384F738C5EdDEb64e998A50|173C64648F8C51CdF95cA7D3EF03343C676A35C49D35dEF7AC6D332B0EBBAE1dB6dFE499E68e181F03687C3DCDdD5DEFCdE3DEF22F2F696E6EBE03639F55D3EBF1C4B5e0A3F52A0951184B011B08C7DC96B9A9865CCCD6DdE23EFDFDB7FAB07A70370C786766e25595B93E09893BD5A809F36773D98BC8EF2CA8ED8BEF313706B38384F2CA6CB08F4BA8DF36E998A50|64eeC864eA08Cee64a6432e6464e64|4682B49ACD32708090CD853FB22222dA5bcd45eA0522DdD7e3CB37154A9DD6A5ACD4169E19370DBBA55D366CDAAD8BFD8d69B4DB7093|8Beb8Ce8B4513B8860B808e06B8E23556B2Fe64e2E8B57e8B8BeBdF4682B4ee80483D8B4Be828e080DC143Ca94eD3|468966dF0A5dB03BB649268E28e|7D8A2EC9D787F9D690dC0A9d8598|393A3DDBe485D9E9BC8DBBFE0FCEB|595441B9B09DDDE8EB69BFDE4A8797|7D7E9ABFC7B2D8D6B0D0C3B39B7A76|C44C51dB6B8dEFB6A2B5BF5F8CA3|FCdF5D1DBBD91AA9D3E606F193441|B0CC99677E52B7CA79F6E8B189725B|F7F2B2ADCF4F84815B4A1A2C8E3557|E8E595D0A82540627C26393DdFAE4|5A1FeD1570DFDE792477725A9CC66|595241B8AE9CDED7C6ACCFCC8A0917|66858D93A299C0BFA9dE7D5dBEAC|dF0A3B8CC6E4B6e0E4F8de4460|C7F2F547A0A1781515B8864CD9C39C|3B180182561AdF3D2ABB8864F462E|C3d939698656A4A2CC1420Ed8C47|759C52C2E858dE3A6E8A2989C5241|123B4AE6cC7C09AdE427dA908|ED9877B0B9ADAE555B485566837076|B8ECD7083643B1Ee1CEF09D476C5E|323240968C63FDdC9dD175C3C967|F0E14CdBB20FA7B12E8530559CC0D|4059529C9B7AdD393d974d54F29|762B1B807227CCBF7AdEF9860B0A1|5D4970372049F1BAF3FAEEd59535E|F9EBAE7898983C6573E8B54DB14D1C|B9121B4C1B1BF6E497FCFAE1BD8D46|B6D09C7273685C5C66533E3ECC9585|8F9AB3B0D0Dd1F3F0dACA1A61618|d5B2BB1221C34393E8CC6D7dDA8C|E51E19FC7529F9F23D8DEA550962B4|FD814C2DD5ECd364DA1F886dF37D|324732EADAD27E1F2DA1861D97A9CA|FA5E73E6DDD399CE5D43456DEB9765|3A8394C6EDF7D9F2B0dD1C1B71E4F|463531F57C75C380C921D4F6A5EBB0|997F87F7D6CDE6FCB5C5E0DC454B65|463531F57C75C380C921D4F6A5EBB0|070707FBDB5BEC360880C3d448B14|E37484CEDDE499B18DE9CD6CEAB79A|CAD6C35E7277F99DB1FBBFCCF6E1DC|F9FDF32B3532D33D3EC3B9ADe5773|94B13A2C81C06B4687960303F16723|DCE7B5B0C4CEFE4F13E6384D17304B|DA1C1C68DA1CF1E80821A4D8FC6A08|D3B569E29351C95B406D9DC54C507CB4F4F78BEFEA23877B03576019303A|003049D62828F77F00FCBF49EAE2B7|2F485833669986BBD89EE493DAF7DC|813405D45113F9A03FF8DDA4F1F9C2".replace(/e/g,"00").replace(/d/g,"FF").replace(/c/g,"FFFF").replace(/b/g,"00FF").replace(/a/g,"000000").split("|"),Op=Object.prototype.hasOwnProperty,zp="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,Dp="object"==typeof self&&self&&self.Object===Object&&self,Ep=zp||Dp||Function("return this")(),Pp=Ep.Symbol,Bp=Object.prototype,Lp=Bp.hasOwnProperty,Rp=Array.isArray,Fp=Bp.toString,Vp=g(Object.getPrototypeOf,Object),Ip=Function.prototype.toString,Np=Ip.call(Object),jp=function(t,e,i){for(var n=-1,r=Object(t),o=(i=i(t)).length;o--;){var s=i[++n];if(!1===e(r[s],s,r))break}return t},Wp=Bp.propertyIsEnumerable,Hp=A(function(){return arguments}())?A:function(t){return v(t)&&Lp.call(t,"callee")&&!Wp.call(t,"callee")},Yp="object"==typeof e&&e&&!e.nodeType&&e,Up=Yp&&t&&!t.nodeType&&t,Gp=Up&&Up.exports===Yp,Zp=Gp?Ep.Buffer:void 0,Xp=(Zp?Zp.isBuffer:void 0)||function(){return!1},qp=Zp?Zp.allocUnsafe:void 0,Kp=/^(?:0|[1-9]\d*)$/,Qp={};Qp["[object Float32Array]"]=Qp["[object Float64Array]"]=Qp["[object Int8Array]"]=Qp["[object Int16Array]"]=Qp["[object Int32Array]"]=Qp["[object Uint8Array]"]=Qp["[object Uint8ClampedArray]"]=Qp["[object Uint16Array]"]=Qp["[object Uint32Array]"]=!0,Qp["[object Arguments]"]=Qp["[object Array]"]=Qp["[object ArrayBuffer]"]=Qp["[object Boolean]"]=Qp["[object DataView]"]=Qp["[object Date]"]=Qp["[object Error]"]=Qp["[object Function]"]=Qp["[object Map]"]=Qp["[object Number]"]=Qp["[object Object]"]=Qp["[object RegExp]"]=Qp["[object Set]"]=Qp["[object String]"]=Qp["[object WeakMap]"]=!1;var $p=Gp&&zp.process;t:{try{var Jp=$p&&$p.binding&&$p.binding("util");break t}catch(t){}Jp=void 0}var tf=Jp&&Jp.isTypedArray,ef=tf?k(tf):function(t){return v(t)&&S(t.length)&&!!Qp[m(t)]},nf=g(Object.keys,Object),rf=function(t,e){if(null==t)return t;if(!D(t))return function(t,e){return t&&jp(t,e,E)}(t,e);for(var i=t.length,n=-1,r=Object(t);++n<i&&!1!==e(r[n],n,r););return t},of=Array.prototype,sf=of.splice;R.prototype.clear=function(){this.__data__=[],this.size=0},R.prototype.delete=function(t){var e=this.__data__;return!(0>(t=L(e,t))||(t==e.length-1?e.pop():sf.call(e,t,1),--this.size,0))},R.prototype.get=function(t){var e=this.__data__;return 0>(t=L(e,t))?void 0:e[t][1]},R.prototype.has=function(t){return-1<L(this.__data__,t)},R.prototype.set=function(t,e){var i=this.__data__,n=L(i,t);return 0>n?(++this.size,i.push([t,e])):i[n][1]=e,this};var af=Ep["__core-js_shared__"],hf=function(){var t=/[^.]+$/.exec(af&&af.keys&&af.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),lf=/^\[object .+?Constructor\]$/,uf=RegExp("^"+Ip.call(Lp).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),cf=V(Ep,"Map"),pf=V(Object,"create");I.prototype.clear=function(){this.__data__=pf?pf(null):{},this.size=0},I.prototype.delete=function(t){return t=this.has(t)&&delete this.__data__[t],this.size-=t?1:0,t},I.prototype.get=function(t){var e=this.__data__;return pf?"__lodash_hash_undefined__"===(t=e[t])?void 0:t:Lp.call(e,t)?e[t]:void 0},I.prototype.has=function(t){var e=this.__data__;return pf?void 0!==e[t]:Lp.call(e,t)},I.prototype.set=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=pf&&void 0===e?"__lodash_hash_undefined__":e,this},j.prototype.clear=function(){this.size=0,this.__data__={hash:new I,map:new(cf||R),string:new I}},j.prototype.delete=function(t){return t=N(this,t).delete(t),this.size-=t?1:0,t},j.prototype.get=function(t){return N(this,t).get(t)},j.prototype.has=function(t){return N(this,t).has(t)},j.prototype.set=function(t,e){var i=N(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this},W.prototype.clear=function(){this.__data__=new R,this.size=0},W.prototype.delete=function(t){var e=this.__data__;return t=e.delete(t),this.size=e.size,t},W.prototype.get=function(t){return this.__data__.get(t)},W.prototype.has=function(t){return this.__data__.has(t)},W.prototype.set=function(t,e){var i=this.__data__;if(i instanceof R){var n=i.__data__;if(!cf||199>n.length)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new j(n)}return i.set(t,e),this.size=i.size,this},H.prototype.add=H.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},H.prototype.has=function(t){return this.__data__.has(t)};var ff=Ep.Uint8Array,df=Pp?Pp.prototype:void 0,mf=df?df.valueOf:void 0,gf=Object.getOwnPropertySymbols,vf=gf?function(t){return null==t?[]:(t=Object(t),b(gf(t),(function(e){return Wp.call(t,e)})))}:Q,yf=V(Ep,"DataView"),xf=V(Ep,"Promise"),bf=V(Ep,"Set"),wf=V(Ep,"WeakMap"),Af=F(yf),Cf=F(cf),Sf=F(xf),kf=F(bf),_f=F(wf),Mf=m;(yf&&"[object DataView]"!=Mf(new yf(new ArrayBuffer(1)))||cf&&"[object Map]"!=Mf(new cf)||xf&&"[object Promise]"!=Mf(xf.resolve())||bf&&"[object Set]"!=Mf(new bf)||wf&&"[object WeakMap]"!=Mf(new wf))&&(Mf=function(t){var e=m(t);if(t=(t="[object Object]"==e?t.constructor:void 0)?F(t):"")switch(t){case Af:return"[object DataView]";case Cf:return"[object Map]";case Sf:return"[object Promise]";case kf:return"[object Set]";case _f:return"[object WeakMap]"}return e});var Tf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Of=/^\w*$/,zf=function(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var i=function(){var n=arguments,r=e?e.apply(this,n):n[0],o=i.cache;return o.has(r)?o.get(r):(n=t.apply(this,n),i.cache=o.set(r,n)||o,n)};return i.cache=new(zf.Cache||j),i};zf.Cache=j;var Df=/^\./,Ef=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pf=/\\(\\)?/g,Bf=function(t){t=zf(t,(function(t){return 500===e.size&&e.clear(),t}));var e=t.cache;return t}((function(t){var e=[];return Df.test(t)&&e.push(""),t.replace(Ef,(function(t,i,n,r){e.push(n?r.replace(Pf,"$1"):i||t)})),e})),Lf=1/0,Rf=df?df.toString:void 0,Ff=NaN,Vf=/^\s+|\s+$/g,If=/^[-+]0x[0-9a-f]+$/i,Nf=/^0b[01]+$/i,jf=/^0o[0-7]+$/i,Wf=parseInt,Hf=Math.max,Yf=function(t){return function(e,i,n){var r=Object(e);if(!D(e)){var o=ct(i);e=E(e),i=function(t){return o(r[t],t,r)}}return-1<(i=t(e,i,n))?r[o?e[i]:i]:void 0}}(mt),Uf=function(){try{var t=V(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),Gf=Date.now,Zf=function(t){var e=0,i=0;return function(){var n=Gf(),r=16-(n-i);if(i=n,0<r){if(800<=++e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Uf?function(t,e){return Uf(t,"toString",{configurable:!0,enumerable:!1,value:wt(e),writable:!0})}:lt),Xf=St((function(t,e,i,n){xt(e,kt(e),t,n)})),qf=At((function(t){return t.push(void 0,_t),gt(Xf,void 0,t)})),Kf=Object.create,Qf=function(){function t(){}return function(e){return O(e)?Kf?Kf(e):(t.prototype=e,e=new t,t.prototype=void 0,e):{}}}(),$f=St((function(t,e,i,n){Bt(t,e,i,n)})),Jf=At((function(t){return t.push(void 0,Lt),gt($f,void 0,t)})),td=gf?function(t){for(var e=[];t;)q(e,vf(t)),t=Vp(t);return e}:Q,ed=/\w*$/,id={};id["[object Arguments]"]=id["[object Array]"]=id["[object ArrayBuffer]"]=id["[object DataView]"]=id["[object Boolean]"]=id["[object Date]"]=id["[object Float32Array]"]=id["[object Float64Array]"]=id["[object Int8Array]"]=id["[object Int16Array]"]=id["[object Int32Array]"]=id["[object Map]"]=id["[object Number]"]=id["[object Object]"]=id["[object RegExp]"]=id["[object Set]"]=id["[object String]"]=id["[object Symbol]"]=id["[object Uint8Array]"]=id["[object Uint8ClampedArray]"]=id["[object Uint16Array]"]=id["[object Uint32Array]"]=!0,id["[object Error]"]=id["[object Function]"]=id["[object WeakMap]"]=!1;var nd=St((function(t,e,i){Bt(t,e,i)})),rd=bf&&1/X(new bf([,-0]))[1]==Lf?function(t){return new bf(t)}:function(){},od=At((function(t){if(!t||!t.length)return[];var e=0;return t=b(t,(function(t){if(Pt(t))return e=Hf(t.length,e),!0})),w(e,(function(e){return rt(t,ut(e))}))})),sd=Pp?Pp.isConcatSpreadable:void 0,ad=At((function(t,e){if(null==t)return[];var i=e.length;return 1<i&&Ct(t,e[0],e[1])?e=[]:2<i&&Ct(e[0],e[1],e[2])&&(e=[e[0]]),function(t,e,i){var n=-1;return e=rt(e.length?e:[lt],k(ct)),t=Ht(t,(function(t,i,r){return{criteria:rt(e,(function(e){return e(t)})),index:++n,value:t}})),function(t,e){var i=t.length;for(t.sort(e);i--;)t[i]=t[i].value;return t}(t,(function(t,e){t:{for(var n=-1,r=t.criteria,o=e.criteria,s=r.length,a=i.length;++n<s;){e:{var h=r[n],l=o[n];if(h!==l){var u=void 0!==h,c=null===h,p=h==h,f=it(h),d=void 0!==l,m=null===l,g=l==l,v=it(l);if(!m&&!v&&!f&&h>l||f&&d&&g&&!m&&!v||c&&d&&g||!u&&g||!p){h=1;break e}if(!c&&!f&&!v&&h<l||v&&u&&p&&!c&&!f||m&&u&&p||!d&&p||!g){h=-1;break e}}h=0}if(h){if(n>=a){t=h;break t}t=h*("desc"==i[n]?-1:1);break t}}t=t.index-e.index}return t}))}(t,qt(e,1),[])})),hd=of.splice,ld=of.join,ud=of.reverse,cd=At((function(t,e){if(Pt(t)){e=qt(e,1,Pt,!0);var i=-1,n=Zt,r=!0,o=t.length,s=[],a=e.length;if(o)t:for(200<=e.length&&(n=U,r=!1,e=new H(e));++i<o;){var h=t[i],l=h;if(h=0!==h?h:0,r&&l==l){for(var u=a;u--;)if(e[u]===l)continue t;s.push(h)}else n(e,l,void 0)||s.push(h)}t=s}else t=[];return t})),pd=Math.min,fd=At((function(t){var e=rt(t,$t);if(e.length&&e[0]===t[0]){t=e[0].length;for(var i=e.length,n=i,r=Array(i),o=1/0,s=[];n--;){var a=e[n];o=pd(a.length,o),r[n]=120<=t&&120<=a.length?new H(n&&a):void 0}a=e[0];var h=-1,l=r[0];t:for(;++h<t&&s.length<o;){var u=a[h],c=u;if(u=0!==u?u:0,l?!l.has(c):!Zt(s,c)){for(n=i;--n;){var p=r[n];if(p?!p.has(c):!Zt(e[n],c))continue t}l&&l.push(c),s.push(u)}}e=s}else e=[];return e})),dd=function(t){return Zf(bt(t,void 0,te),t+"")}((function(t,e){var i={};if(null==t)return i;var n=!1;e=rt(e,(function(e){return e=st(e,t),n||(n=1<e.length),e})),xt(t,Ft(t),i),n&&(i=jt(i,7,Jt));for(var r=e.length;r--;)Qt(i,e[r]);return i})),md=function(t,e){return(Rp(t)?b:P)(t,ct(e))},gd=Yf,vd=mt,yd=qf,xd=function(t){return jt(t,4)},bd=function(t){return jt(t,5)},wd=nd,Ad=function(t,e){return(Rp(t)?Rt:rf)(t,Wt(e))},Cd=function(t,e){return(Rp(t)?rt:Ht)(t,ct(e))},Sd=function(t,e,i){var n=Rp(t)?It:Yt,r=3>arguments.length;return n(t,ct(e),i,r,rf)},kd=function(t){if(t&&t.length)t:{var e=-1,i=Zt,n=t.length,r=!0,o=[];if(200<=n){if(i=rd(t)){t=X(i);break t}r=!1,i=U;var s=new H}else s=o;e:for(;++e<n;){var a=t[e],h=a;if(a=0!==a?a:0,r&&h==h){for(var l=s.length;l--;)if(s[l]===h)continue e;o.push(a)}else i(s,h,void 0)||(s!==o&&s.push(h),o.push(a))}t=o}else t=[];return t},_d=function(t){if(t&&t.length){for(var e=-1,i=t.length,n=0,r=[];++e<i;){var o=t[e],s=o;if(!e||!B(s,a)){var a=s;r[n++]=0===o?0:o}}t=r}else t=[];return t},Md=y,Td=function(t,e){return null==t?t:jp(t,Wt(e),kt)},Od=od,zd=ad,Dd=function(t,e){var i=[];if(!t||!t.length)return i;var n=-1,r=[],o=t.length;for(e=ct(e);++n<o;){var s=t[n];e(s,n,t)&&(i.push(s),r.push(n))}for(n=(e=t?r.length:0)-1;e--;)if(o=r[e],e==n||o!==a){var a=o;C(o)?hd.call(t,o,1):Qt(t,o)}return i},Ed=fd,Pd=function(t,e){return null==t?"":ld.call(t,e)},Bd=function(t,e,i){var n=null==t?0:t.length;return n?(i&&"number"!=typeof i&&Ct(t,e,i)?(e=0,i=n):(e=null==e?0:dt(e),i=void 0===i?n:dt(i)),Kt(t,e,i)):[]},Ld=function(t){return null==t?t:ud.call(t)},Rd=cd,Fd=function(t,e){if(1>(t=dt(t))||9007199254740991<t)return[];var i=4294967295,n=pd(t,4294967295);for(t-=4294967295,n=w(n,e=Wt(e));++i<t;)e(i);return n},Vd=dd,Id=Rp,Nd=function(t){return"number"==typeof t||v(t)&&"[object Number]"==m(t)},jd=function(t){if(null==t)return!0;if(D(t)&&(Rp(t)||"string"==typeof t||"function"==typeof t.splice||Xp(t)||ef(t)||Hp(t)))return!t.length;var e=Mf(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(M(t))return!T(t).length;for(var i in t)if(Lp.call(t,i))return!1;return!0},Wd=function(t,e,i){return t=y(t),i=null==i?0:ee(dt(i),0,t.length),e=ot(e),t.slice(i,i+e.length)==e},Hd=function(){var t=arguments,e=y(t[0]);return 3>t.length?e:e.replace(t[1],t[2])},Yd=function(t,e,i){if((t=y(t))&&(i||void 0===e))return t.replace(Vf,"");if(!t||!(e=ot(e)))return t;t=t.split(""),e=e.split(""),i=-1;for(var n=t.length;++i<n&&-1<Gt(e,t[i],0););for(n=t.length;n--&&-1<Gt(e,t[n],0););return e=n+1,n=t.length,e=void 0===e?n:e,(!i&&e>=n?t:Kt(t,i,e)).join("")},Ud=function(t,e,i){t=y(t),e=ot(e);var n=t.length;return n=i=void 0===i?n:ee(dt(i),0,n),0<=(i-=e.length)&&t.slice(i,n)==e},Gd=function(t){if(t&&t.length){for(var e=-1,i=t.length;++e<i;){var n=t[e],r=n;if(null!=r&&(void 0===o?r==r&&!it(r):r>o))var o=r,s=n}t=s}else t=void 0;return t},Zd=function(t){return t&&t.length?ie(t,lt):0},Xd=function(t){var e=null==t?0:t.length;return e?ie(t,lt)/e:Ff},qd=function(t,e,i){return void 0===i&&(i=e,e=void 0),void 0!==i&&(i=(i=ft(i))==i?i:0),void 0!==e&&(e=(e=ft(e))==e?e:0),ee(ft(t),e,i)},Kd=function(t,e){return t.id||e},Qd=Number.isNaN||function(t){return"number"==typeof t&&isNaN(t)},$d=/function ([^\(]+)/,Jd=Array.prototype.concat,tm=Object.prototype.hasOwnProperty,em=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return Ad(e,(function(e){return h(e)&&t.push(e)}))},im={},nm=function(t,e){var i,n,r=!1,o=function(){r?(i=arguments,n=this):(t.apply(this,arguments),r=!0,o.timeoutId=setTimeout((function(){r=!1,i&&(o.apply(n,i),i=n=null)}),e))};return o.cancel=function(){clearTimeout(o.timeoutId),r=!1},o},rm=function(t,e,i,n){return i=i||function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return JSON.stringify(t)},t=t||je(e),om(t,e,i,n)},om=function(t,e,i,n){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(0<r.length){im.hasOwnProperty(t)||Object.defineProperty(im,t,{configurable:!1,enumerable:!1,writable:!1,value:{}}),o=im[t];var s=i.apply(this,r);if(n&&(s+=i.apply(this,n(this))),o.hasOwnProperty(s))var a=o[s];else a=e.apply(this,r),o[s]=a}return a}},sm=function(){try{return window.localStorage.setItem("test","test"),window.localStorage.removeItem("test"),!0}catch(t){return!1}},am=function(t,e,i){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(0<n.length){if(r=je(t)+e.apply(this,n),!i)var o=(o=window.localStorage.getItem(r))&&JSON.parse(o);o&&!i||(o=t.apply(this,n),window.localStorage.setItem(r,JSON.stringify(o)))}return o}},hm=/[-]{0,1}[\d]*[\.]{0,1}[\d]+/g,lm=function(t,e){return h(t)?t.pop?t.map((function(t){return lm(t,e)})):e(t):t},um=/([a-zA-Z]+)_/g,cm=Object.freeze({__proto__:null,def:h,has:l,removeArrItem:u,evalPath:c,epa:p,getValType:d,isNull:f,mergeCollections:re,isNaN:Qd,noop:oe,noopRet:se,contains:ae,caseInsensitiveProperty:he,eachKey:le,extend:ue,extendCopy:ce,copy:pe,extendScoped:fe,extendScopedNegate:de,extendCopyScopedNegate:me,extendCopyScoped:ge,exclude:ve,plainArray:ye,concatArrays:xe,plainCommaSplitedString:be,arraySum:we,plainToArray:function(t){var e,i=[];for(e in t)i.push(t[e]);return i},last:Ae,copyIfChanged:function(t,e){var i,n={},r=!1;for(i in e)r||tm.call(t,i)&&t[i]===e[i]||(r=!0),n[i]=e[i];return r?n:null},changesWithExtend:Ce,pick:Se,numPick:ke,attr:function(t,e,i){var n,r;if(_e(e))h(i)?t.setAttribute(e,i):t&&t.getAttribute&&(r=t.getAttribute(e));else if(h(e)&&Me(e))for(n in e)t.setAttribute(n,e[n]);return r},isString:_e,isObject:Me,isUndefined:Te,isUndefinedOrNull:Oe,keys:ze,keysFlatten:De,detect:Ee,detectKey:Pe,pickPaths:function(t,e){var i,n;return Ad(e,(function(e){if(n=c(t,e))return i=n,!1})),i},pluckPaths:Be,setPathVal:Le,setPathValArr:Re,applySetting:Fe,applySettingArr:Ve,findInArrSimple:Ie,compareArrays:Ne,pushDef:em,throttle:nm,Memoize:rm,localStorageAvailable:sm,evalString:We,fromLocalStorage:am,kebabCase:He,split:Ye,eachCommaSplited:Ue,parseNumber:function(t){return Number(t)},parseMargin:Ge,extractNumbers:Ze,mapRange:Xe,mapDeep:lm,expandOptionsProperties:qe,sign:Ke,isPlainObject:x,filter:md,find:gd,findIndex:vd,defaults:yd,defaultsDeep:Jf,clone:xd,cloneDeep:bd,merge:wd,mergeWith:$f,each:Ad,map:Cd,reduce:Sd,uniq:kd,sortedUniq:_d,toString:Md,forIn:Td,zip:Od,sortBy:zd,remove:Dd,intersection:Ed,join:Pd,slice:Bd,reverse:Ld,difference:Rd,times:Fd,omit:Vd,isArray:Id,isEqual:function(t,e){return J(t,e)},isFunction:z,isNumber:Nd,isEmpty:jd,startsWith:Wd,replace:Hd,trim:Yd,endsWith:Ud,max:Gd,sum:Zd,mean:Xd,clamp:qd}),pm=Math,fm=Number.MAX_VALUE,dm=Math.floor,mm=function(t,e,i){return void 0===i&&(i=0),si(Qe(t,i),Qe(e,i))},gm=function(t){for(var e=(t=""+Math.abs(t)).length-1,i=e,n=t[i];n&&"."!==n;)n=t[--i];return-1===i?0:e-i},vm=1/Math.pow(10,6),ym=/^-?\d+\.?\d*$/,xm=String.fromCharCode(160),bm=xm+"–"+xm,wm=function(t){return t&&t.toLowerCase?t.toLowerCase():t},Am=function(t,e){return t&&-1<t.indexOf(e)},Cm=function(t){return h(t)&&"function"==typeof t.pop&&2===t.length?t.join(bm):t.pop?t.join(", "):t},Sm=function(t,e,i){return void 0===i&&(i="…"),t.length>e?t.substr(0,e)+i:t},km=Math.pow,_m=function(t,e){return t-Math.floor(t/e)*e},Mm=function(t,e){return e>t[0]&&e<t[1]},Tm=function(t,e){return e>=t[0]&&e<=t[1]},Om=function(t,e){return Tm(t,e[0])&&Tm(t,e[1])},zm=function(t,e){return e.length?[t[0]+e[0],t[1]-e[1]]:[t[0]+e,t[1]-e]},Dm=function(t){return t[1]<t[0]?[t[1],t[0]]:t},Em=function(t){return t[1]+t[3]},Pm=function(t){return t[0]+t[2]},Bm=function(t){return t[1]},Lm=function(t){return t[0]},Rm=function(t){return t[0]+t[2]/2},Fm=function(t){return t[1]+t[3]/2},Vm={b:Em,t:Bm,c:Rm,l:Lm,r:Pm,m:Fm,intop:[Bm,Bm,"top"],outtop:[Em,Bm,"bottom"],inbottom:[Em,Em,"bottom"],outbottom:[Bm,Em,"top"],inmiddle:[Fm,Fm,"middle"],outmiddle:[Fm,Fm,"middle"],inleft:[Lm,Lm,"left"],outleft:[Pm,Lm,"right"],inright:[Pm,Pm,"right"],outright:[Lm,Pm,"left"],incenter:[Rm,Rm,"center"],outcenter:[Rm,Rm,"center"],default:function(t,e){return 4==(t=t.toLowerCase()).length?[Vm[t[1]],Vm[t[3]],Vm[t[0]],Vm[t[2]]]:Vm[t]||Vm[e]},x:function(t){return Vm.default(t,"incenter")},y:function(t){return Vm.default(t,"inmiddle")}},Im={left:Lm,right:Pm,center:Rm,top:Bm,middle:Fm,bottom:Em,default:function(t,e){return Im[t.toLowerCase()]||e},x:function(t){return Im.default(t,Rm)},y:function(t){return Im.default(t,Fm)}},Nm=function(t,e){return t=function(t){var e=t[0],i=t[1],n=Pm(t),r=Em(t),o=Rm(t),s=Fm(t);return function(t){return{tl:[e,i],tr:[n,i],tm:[o,i],bl:[e,r],br:[n,r],bm:[o,r],lm:[e,s],rm:[n,s]}[t.toLowerCase()]}}(t),e=e.split(","),Cd(e,t)},jm=Pm,Wm=Em,Hm=function(t){return"M"+t[0]+" "+t[1]+" h"+t[2]+" v"+t[3]+" h"+-t[2]+" Z"},Ym=function(t){return[t[0],t[1],Pm(t),Em(t)]},Um=function(t){return[t[0],t[1],t[2]-t[0],t[3]-t[1]]},Gm=function(t){return[[t[0],Pm(t)],[t[1],Em(t)]]},Zm=function(t,e){return void 0===e&&(e=4),Nm(t,"tl,tr,br,bl"+(5===e?",tl":""))},Xm=function(t,e){return qm(t.slice(0),e)},qm=function(t,e){return t[0]+=e[0],t[1]+=e[1],t},Km=function(){return"undefined"!=typeof window?window:{}},Qm=Km(),$m="undefined"!=typeof document?document:{},Jm="performance"in Km()&&"now"in performance?performance:{offset:Date.now(),now:function(){return Date.now()-this.offset}},tg=Qm.navigator?Qm.navigator.userAgent.toLowerCase():void 0,eg=null,ig=null,ng=[{name:"winphone",value:"Windows Phone"},{name:"win",value:"Win"},{name:"iphone",value:"iPhone"},{name:"ipad",value:"iPad"},{name:"kindle",value:"Silk"},{name:"android",value:"Android"},{name:"blackberry",value:"BlackBerry"},{name:"macintosh",value:"Mac"},{name:"linux",value:"Linux"}],rg=function(){var t;for(t=0;t<ng.length;t+=1)if(new RegExp(ng[t].value,"i").test(tg))return ng[t].name;return"unknown"}(),og="ipad"===rg||"iphone"===rg;Qm.requestAnimationFrame||function(){var t,e=0;try{for(var i=o(["ms","moz","webkit","o"]),n=i.next();!n.done;n=i.next()){var r=n.value;Qm.requestAnimationFrame=Qm[r+"RequestAnimationFrame"],Qm.cancelAnimationFrame=Qm[r+"CancelAnimationFrame"]||Qm[r+"CancelRequestAnimationFrame"]}}catch(t){var s={error:t}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}Qm.requestAnimationFrame||(Qm.requestAnimationFrame=function(t){var i=Jm.now(),n=Math.max(0,16-(i-e));return e=i+n,Qm.setTimeout((function(){return t(e)}),n)}),Qm.cancelAnimationFrame||(Qm.cancelAnimationFrame=function(t){return clearTimeout(t)})}();var sg,ag=Km();!function(t){t[t.None=0]="None",t[t.Currency=1]="Currency",t[t.Number=2]="Number",t[t.Decimal=3]="Decimal",t[t.Exponential=4]="Exponential",t[t.Float=5]="Float",t[t.General=6]="General",t[t.Hexadecimal=7]="Hexadecimal",t[t.Percent=8]="Percent",t[t.NumericSymbol=9]="NumericSymbol",t[t.PowersOfTen=10]="PowersOfTen"}(sg||(sg={}));var hg,lg,ug,cg=["k","M","B","T","Q"],pg=/^[A-z]+/,fg=/[0-9]+/,dg=/(d{1,4}|f{1,7}|F{1,7}|gg?|K|hh?|HH?|mm?|M{1,4}|ss?|tt?|y{1,4}|z{1,3}|S)/gm,mg=/^([a-zA-Z]*)([_\-a-zA-Z]*)$/,gg=function(t){return _e(t)?t:t.formatString+t.currency},vg=function(t){return _e(t)?t:t.formatString+t.timeZone+t.month+t.day+t.year+t.hour+t.minute+t.second+t.weekday},yg=function(t,e){return(t||"").toString()+(e?gg(e):"")},xg=function(t,e){return(t||"")+(e?gg(e):"")},bg=function(t,e){return(t||"").toString()+(e?vg(e):"")},wg=function(t,e){return(t||"")+(e?vg(e):"")},Ag={year:"numeric",month:"numeric",day:"numeric"},Cg={weekday:"long",year:"numeric",month:"long",day:"numeric"},Sg={hour:"2-digit",minute:"2-digit"},kg={hour:"2-digit",minute:"2-digit",second:"2-digit"},_g={month:"long",day:"numeric"},Mg={month:"long",year:"numeric"},Tg=function(t,e){for(void 0===e&&(e=2),t=t.toString();t.length<e;)t="0"+t;return t},Og=function(t,e){for(void 0===e&&(e=2),t=t.toString();t.length<e;)t+="0";return t},zg={d:function(t){return t.getDate().toString()},dd:function(t){return Tg(t.getDate(),2)},ddd:function(t,e){return e.format(t)},dddd:function(t,e){return e.format(t)},f:function(t){return Math.round(t.getMilliseconds()/100).toString()},ff:function(t){return Math.round(t.getMilliseconds()/10).toString()},fff:function(t){return t.getMilliseconds().toString()},ffff:function(t){return Og(zg.fff(t),4)},fffff:function(t){return Og(zg.fff(t),5)},ffffff:function(t){return Og(zg.fff(t),6)},fffffff:function(t){return Og(zg.fff(t),7)},F:function(t){return(t=t.getMilliseconds())?Math.round(t/100).toString():""},FF:function(t){return(t=t.getMilliseconds())?Math.round(t/10).toString():""},FFF:function(t){return(t=t.getMilliseconds())?Math.round(t).toString():""},FFFF:function(t){return zg.FFF(t)},FFFFF:function(t){return zg.FFF(t)},FFFFFF:function(t){return zg.FFF(t)},FFFFFFF:function(t){return zg.FFF(t)},g:function(t,e){return e.format(t)},gg:function(t,e){return e.format(t)},h:function(t,e){return e.format(t).replace(/\D/g,"")},hh:function(t,e){return Tg(e.format(t).replace(/\D/g,""),2)},H:function(t){return t.getHours().toString()},HH:function(t){return Tg(t.getHours(),2)},K:function(t){return t.getTimezoneOffset()?zg.zzz(t):"Z"},m:function(t){return t.getMinutes().toString()},mm:function(t){return Tg(t.getMinutes(),2)},M:function(t){return(t.getMonth()+1).toString()},MM:function(t){return Tg(t.getMonth()+1,2)},MMM:function(t,e){return e.format(t)},MMMM:function(t,e){return e.format(t)},s:function(t){return t.getSeconds().toString()},ss:function(t){return Tg(t.getSeconds(),2)},t:function(t,e){return zg.tt(t,e).substring(0,1)},tt:function(t,e){return e.format(t).replace(/\d/g,"").trim()},y:function(t){return t=t.getFullYear().toString(),parseInt(t.substring(t.length-2)).toString()},yy:function(t){return(t=t.getFullYear().toString()).substring(t.length-2).toString()},yyy:function(t){return t=t.getFullYear(),Tg(t,3)},yyyy:function(t){return t=t.getFullYear(),Tg(t,4)},yyyyy:function(t){return t=t.getFullYear(),Tg(t,5)},z:function(t){return(0<(t=Dg(t))?"+":"-")+Math.abs(t)},zz:function(t){return(0<(t=Dg(t))?"+":"-")+Tg(Math.abs(t),2)},zzz:function(t){return zg.zz(t)+":"+Tg(t.getMinutes()-t.getUTCMinutes(),2)}},Dg=function(t){return t=t.getHours()-t.getUTCHours(),12<Math.abs(t)&&(t-=24*Ke(t)),t},Eg={D:{options:Cg},d:{options:Ag},F:{options:ce(Cg,kg)},f:{options:ce(Cg,Sg)},T:{options:kg},t:{options:Sg},g:{options:ce(Ag,Sg)},G:{options:ce(Ag,kg)},m:{options:_g},M:{options:_g},y:{options:Mg},Y:{options:Mg},u:{formatString:"yyyy-MM-dd HH:mm:ssZ"},U:{options:ce({timeZone:"UTC"},ce(Cg,kg))},s:{formatString:"yyyy-MM-ddTHH:mm:ss"},r:{handler:function(t){return t.toUTCString()}},R:{handler:function(t){return t.toUTCString()}}},Pg=function(){function t(t,e){var i=this;void 0===e&&(e={}),this.locale=t,this.options=e,this.dateTimeFormatters={},this.setLocale=function(t){i.locale!==t&&(i.locale=t)},this.formatDate=function(t,e){return i._formatDate(t,e,i)},this.formatNumber=function(t,e){return i._formatNumber(t,e,i)},this._getDateTimeFormat=rm("getDateTimeFormat",Jn,wg),this._getNumberFormat=rm("getNumberFormat",tr,xg),this._getCollator=rm("getCollator",er),this._formatDate=rm("formatDate",nr,bg,(function(t){return[t.locale,t.options]})),this._formatNumber=rm("formatNumber",ir,yg,(function(t){return[t.locale,t.options]})),this.formatString=this.options.formatString}return t.prototype.compare=function(t,e){var i=this._getCollator(this.locale,this.options);return i?i.compare(t,e):t===e},t}(),Bg=/_|-/g,Lg=function(t){var e=t.split(Bg);return(t=(t=1<e.length?e.pop():t).toUpperCase())in Rg?Rg[t]:"USD"},Rg={AD:"EUR",AE:"AED",AF:"AFN",AG:"XCD",AI:"XCD",AL:"ALL",AM:"AMD",AN:"ANG",AO:"AOA",AR:"ARS",AS:"USD",AT:"EUR",AU:"AUD",AW:"AWG",AX:"EUR",AZ:"AZN",BA:"BAM",BB:"BBD",BD:"BDT",BE:"EUR",BF:"XOF",BG:"BGN",BH:"BHD",BI:"BIF",BJ:"XOF",BL:"EUR",BM:"BMD",BN:"BND",BO:"BOB",BQ:"USD",BR:"BRL",BS:"BSD",BT:"BTN",BV:"NOK",BW:"BWP",BY:"BYR",BZ:"BZD",CA:"CAD",CC:"AUD",CD:"CDF",CF:"XAF",CG:"XAF",CH:"CHF",CI:"XOF",CK:"NZD",CL:"CLP",CM:"XAF",CN:"CNY",CO:"COP",CR:"CRC",CU:"CUP",CV:"CVE",CW:"ANG",CX:"AUD",CY:"EUR",CZ:"CZK",DE:"EUR",DJ:"DJF",DK:"DKK",DM:"XCD",DO:"DOP",DZ:"DZD",EC:"USD",EE:"EUR",EG:"EGP",EH:"MAD",ER:"ERN",ES:"EUR",ET:"ETB",FI:"EUR",FJ:"FJD",FK:"FKP",FM:"USD",FO:"DKK",FR:"EUR",GA:"XAF",GB:"GBP",GD:"XCD",GE:"GEL",GF:"EUR",GG:"GBP",GH:"GHS",GI:"GIP",GL:"DKK",GM:"GMD",GN:"GNF",GP:"EUR",GQ:"XAF",GR:"EUR",GS:"GBP",GT:"GTQ",GU:"USD",GW:"XOF",GY:"GYD",HK:"HKD",HM:"AUD",HN:"HNL",HR:"HRK",HT:"HTG",HU:"HUF",ID:"IDR",IE:"EUR",IL:"ILS",IM:"GBP",IN:"INR",IO:"USD",IQ:"IQD",IR:"IRR",IS:"ISK",IT:"EUR",JE:"GBP",JM:"JMD",JO:"JOD",JP:"JPY",KE:"KES",KG:"KGS",KH:"KHR",KI:"AUD",KM:"KMF",KN:"XCD",KP:"KPW",KR:"KRW",KW:"KWD",KY:"KYD",KZ:"KZT",LA:"LAK",LB:"LBP",LC:"XCD",LI:"CHF",LK:"LKR",LR:"LRD",LS:"LSL",LT:"LTL",LU:"EUR",LV:"LVL",LY:"LYD",MA:"MAD",MC:"EUR",MD:"MDL",ME:"EUR",MF:"EUR",MG:"MGA",MH:"USD",MK:"MKD",ML:"XOF",MM:"MMK",MN:"MNT",MO:"MOP",MP:"USD",MQ:"EUR",MR:"MRO",MS:"XCD",MT:"EUR",MU:"MUR",MV:"MVR",MW:"MWK",MX:"MXN",MY:"MYR",MZ:"MZN",NA:"NAD",NC:"XPF",NE:"XOF",NF:"AUD",NG:"NGN",NI:"NIO",NL:"EUR",NO:"NOK",NP:"NPR",NR:"AUD",NU:"NZD",NZ:"NZD",OM:"OMR",PA:"PAB",PE:"PEN",PF:"XPF",PG:"PGK",PH:"PHP",PK:"PKR",PL:"PLN",PM:"EUR",PN:"NZD",PR:"USD",PS:"ILS",PT:"EUR",PW:"USD",PY:"PYG",QA:"QAR",RE:"EUR",RO:"RON",RS:"RSD",RU:"RUB",RW:"RWF",SA:"SAR",SB:"SBD",SC:"SCR",SD:"SDG",SE:"SEK",SG:"SGD",SH:"SHP",SI:"EUR",SJ:"NOK",SK:"EUR",SL:"SLL",SM:"EUR",SN:"XOF",SO:"SOS",SR:"SRD",ST:"STD",SV:"SVC",SX:"ANG",SY:"SYP",SZ:"SZL",TC:"USD",TD:"XAF",TF:"EUR",TG:"XOF",TH:"THB",TJ:"TJS",TK:"NZD",TL:"USD",TM:"TMT",TN:"TND",TO:"TOP",TR:"TRY",TT:"TTD",TV:"AUD",TW:"TWD",TZ:"TZS",UA:"UAH",UG:"UGX",UM:"USD",US:"USD",UY:"UYU",UZ:"UZS",VA:"EUR",VC:"XCD",VE:"VEF",VG:"USD",VI:"USD",VN:"VND",VU:"VUV",WF:"XPF",WS:"WST",YE:"YER",YT:"EUR",ZA:"ZAR",ZM:"ZMK",ZW:"ZWL"},Fg=function(t){var e=1e4<=t;return t=e?Math.ceil(Math.log(t)/Math.log(1e3))-1:0,t=Math.min(5,t),e?[t,cg[t-1]||""]:[0,""]},Vg=function(t,e){var i="";if(e&&t){var n=t/Math.pow(1e3,e);i=cg[e-1]}else 1e4<=Math.abs(t)&&(e=(n=s(Fg(t),2))[1],n=t/Math.pow(1e3,n[0]),i=e);return(n||t)+i},Ig=function(t,e,i){void 0===i&&(i="en-US");var n=d(t),r="object"==typeof e;return i=new Pg(i,r?e:{}),"date"===n?i.formatDate(t,r?{}:e):i.formatNumber(t,r?{}:e)},Ng=function(t){var e;if((e=t)&&(e=mg.exec(t),e=t&&e?(t=e[1])&&t.toLowerCase():void 0),t=e)return!!~jg.indexOf(t)},jg="ae ar arc bcc bqi ckb dv fa glk he ku mzn nqo pnb ps sd ug ur yi".split(" "),Wg={missed:{},events:{},on:function(t,e,i){var n=this;(this.events[t]||(this.events[t]=[])).push({fn:e,ctx:i}),this.missed[t]&&this.missed[t].forEach((function(t){return n.emit.apply(n,a([t.name],t.rest))}))},emit:function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];(i=(this.events[t]||[]).slice()).length?i.forEach((function(t){return t.fn.apply(t.ctx,e)})):((this.missed[t]||(this.missed[t]=[])).push({name:t,rest:e}),"error"===t&&Qm.console.error("JSCharting Error: Set chart option {debug:true} to view full error messages."))},un:function(t,e){var i=this.events[t],n=[];if(i&&e)for(var r=0,o=i.length;r<o;r++)i[r].fn!==e&&i[r].fn._!==e&&n.push(i[r]);n.length?this.events[t]=n:delete this.events[t]}},Hg=function(){function t(t){this.stack={};var e="undefined"!=typeof window,i=Km();this._clearFn=(this._forAnimation=!0===t)||!e?Qn:i.clearTimeout.bind(i),this._setFn=this._forAnimation||!e?Kn:i.setTimeout.bind(i)}return t.prototype.defer=function(t,e,i){var n=this.stack[t];n?n.lastBounce=Date.now():this.stack[t]=this.timeout(t,e,i)},t.prototype.clear=function(t){var e=this.stack[t];if(e)return this._clearFn(e.timer),delete this.stack[t],!0},t.prototype.has=function(t){return!!this.stack[t]},t.prototype.run=function(t){var e=this.stack[t];if(e)return this._clearFn(e.timer),e.fn(),delete this.stack[t],!0},t.prototype.clearAll=function(){var t=this;le(t.stack,(function(e){t.clear(e)}))},t.prototype.timeout=function(t,e,i){var n=this,r=n._setFn,o={timer:null,start:Date.now(),fn:e,lastBounce:Date.now(),delay:i};return o.timer=r((function(){var r=Date.now(),s=o.lastBounce+i;r<s?n.stack[t]=n.timeout(t,e,s-r):(e.call(),delete n.stack[t])}),i),o},t}(),Yg=function(){function t(){this.items={},this._onReady={}}return t.prototype.hold=function(t){var e=fi(6);return this.holdItem(e,t),e},t.prototype.release=function(t){t&&(delete this.items[t],this.isReady()&&this.triggerFnQueue())},t.prototype.isReady=function(){return 0===Object.keys(this.items).length},t.prototype.onReady=function(t,e){this._onReady[t]=e},t.prototype.unReady=function(t){delete this._onReady[t]},t.prototype.reset=function(){this.items={},this._onReady={}},t.prototype.debug=function(t){},t.prototype.holdItem=function(t,e){this.items[t]=e},t.prototype.triggerFnQueue=function(){var t=Object.keys(this._onReady),e=this._onReady;this._onReady={};for(var i=0,n=t.length;i<n;i++)e[t[i]]();this._onReady={}},t}(),Ug=function(){function t(){this.callCount=0}return t.prototype.open=function(){this.callCount++},t.prototype.close=function(){this.callCount--},t}(),Gg=function(t){function e(i,n){return(n=t.call(this,i,n)||this).items=i,n.kindObject=e,n}return n(e,t),e.prototype.options=function(t,e){var i=this.items.length-1;return this.each((function(n,r){n.options(t,!1!==e&&i===r&&void 0)}))},e}(function(){function t(e,i){this.items=e,this.currentOptions=i,this.kindObject=t,this.__collection__=e.slice(0)}return t.prototype.find=function(t){return gd(this.items,t)},t.prototype.filter=function(t){return this.wrap(md(this.items,t))},t.prototype.each=function(t){return Ad(this.items,t),this},t.prototype.sortBy=function(t){return this.wrap(zd(this.items,t))},t.prototype.map=function(t){return Cd(this.items,t)},t.prototype.reverse=function(){return this.wrap(this.items.slice(0).reverse())},t.prototype.remove=function(t){if(p(this.currentOptions,["remove"]))this.currentOptions.remove.call(this,t);else{var e=[],i=this.items.slice(0);if(i.length&&"Point"===i[0].kind){(i=zd(i,"_i")).reverse();var n=i.length;Ad(i,(function(t,e){t.remove(e===n-1)})),this.items=[]}else Ad(this.items.slice(0),(function(i){i.remove?i.remove(t):e.push(i)})),this.items=e}return this},t.prototype.wrap=function(t){return t instanceof this.kindObject?t:new this.kindObject(t,this.currentOptions)},t}()),Zg={},Xg="circle square triangle triangle-down diamond four-point-star arrow-down arrow-up five-point-star six-point-star seven-point-star".split(" "),qg="x y z mapData complete completeX complete.y complete.x name subvalue subvalueX yAxisTick xAxisTick".split(" "),Kg="color marker outline opacity label fill".split(" "),Qg=["selected","muted"],$g=["selected","muted"],Jg={series:0,body:1,complete:2,error:3,marker:4,breakPath:5,labelConnector:6,label:7},tv=/<chart \\?.*?>/i,ev=((hg={})[1]=function(){return{fill:"#f6f6f6",boxVisible:!0,outline:{width:1}}},hg[0]=function(){return{fill:"rgba(255, 255, 255, 0.5)",boxVisible:!1,outline:{width:0},shadow:!1}},hg),iv=function(t){return void 0===t&&(t=0),wd({radius:5,padding:3,label:{style:{color:"#323232"}},outline:{color:"#bdbdbd"},sortOrder:1},ev[t]())},nv={},rv={iphone:"ios",ipad:"ios",android:"android",winphone:"winphone"},ov=l(rv,rg)?rv[rg]:"default",sv=null,av=null,hv=["class","className","style","externalResourcesRequired"].concat(["requiredFeatures","requiredExtensions","systemLanguage"],["id","xml:base","xml:lang","xml:space"],"onfocusin onfocusout onactivate onclick onmousedown onmouseup onmouseover onmousemove onmouseout onload".split(" "),"alignment-baseline baseline-shift clip clip-path clip-rule color color-interpolation color-interpolation-filters color-profile color-rendering cursor direction display dominant-baseline enable-background fill fill-opacity fill-rule filter flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-orientation-horizontal glyph-orientation-vertical image-rendering kerning letter-spacing lighting-color marker-end marker-mid marker-start mask opacity overflow pointer-events shape-rendering stop-color stop-opacity stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-align background-color border text-decoration text-rendering unicode-bidi visibility word-spacing writing-mode user-select strokeWidth borderWidth border-width borderColor border-color fontStyle fontSize fontFamily fontWeight z-index zIndex clipPath shadow textDecoration tabindex".split(" "),["transform","translate","rotate","scale"],["aria-label","role","aria-hidden"]),lv=hv.concat(hv,["x","y","width","height"]),uv=ye(hv),cv=ye(lv),pv={borderColor:"stroke","border-color":"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",borderWidth:"stroke-width","border-width":"stroke-width",className:"class",strokeDashArray:"stroke-dasharray",textRendering:"text-rendering",zIndex:"z-index",fontFamily:["fontFamily",function(t){return t.toLowerCase()}],description:"aria-label"},fv=ye("transform radius translate scale z-index animation transition display rotate overflow clipPath opacity visibility tabindex role aria-label".split(" ")),dv=pr("d path pathLength shape hatch hatchPattern".split(" "),uv),mv=pr(["src"],cv),gv=pr(["rx","ry"],cv),vv=pr(["radius"],gv),yv=ye("id class translate transform rotate animation opacity z-index fill color display cursor tabindex aria-label".split(" ")),xv=ye("stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width".split(" ")),bv=pr(["fill","fill-rule"],xv),wv='A" AW AV Yt Hv Sp vo us fr Dv ry W. Vr LT T: ro xc Ak F" OC w; P, PA r, DY SR yo la wb Bc f? L" m" Xv c" lp Ix Oj YW RX f" VA a" Ku my ot e, il So T" F. FA D, Ru tt st CO Co gy Te w. OA bv fe Fw Xf cv XA YA UA D" aj am he bc VT r: xt 11 AT AY Av Aw Ay F, LV LW LY Ly P. RT RV RW RY T, T- T. T; TA TO Ta Tc Ti To Tr Ts Tu Tw Ty V, V- V. V: V; Va Ve Vi Vo Vu Vy W, W- W: W; WA Wa We Wo Wr Wu Wy Y, Y- Y. Y: Y; Ya Ye Yi Yo Yp Yq Yu Yv ff r. v, v. w, y, y. \'A -A -I -J -P -S -T -V -W -X -Y -Z -a -v -w -x -y -z .. ., .- A- AS AU At Au B, B. BT C- D. DT DW DX DZ F: F; Fa Fe Fo I- J, J. JA K- KO Ka Ke Ko Kv Kw Ky L\' L- LC LG LO Lv O, O. OT OX OY OZ Pa Pe Po Q, Q. R- Ra Re Ro Ry S, S. SA SS Sv Sw Sy TC TG TS TT Tg Tv Tz U, U. X- XC XG XO Xa Xe Xo Xu Xy YO Yd Yg Ym Yn Yr Ys Z- ZC ZG ZO ZZ Za Ze Zo Zw Zy av aw ay b, b. by c- cT eT f, f- f. fy hv hw hy k- ke ko mv mw nv nw ny o, o. ov ox oy p, p. py r- ra t- ty v- va ve w- wa x- xd xe xg xo y- ya yc yd ye yg yq z- zc zd ze zg zo zq Ki Kn Ph Pi Pr Wi AC AG AO AQ BA BU DA DV Fr Ja Je Jo Ju Jy KC KG LU Lw NA OV OW QT QV QY RC RG RO RQ RU TQ Tm VC VG VO VQ WC WG WO Wd YC YG YS at ch ck cl cy eb ev ex fa fo ow pw sw vc vd vq wc wd we wo wq 24 37 41 47 51 52 57 62 67 74 ET KQ KS LQ LS P/ PJ T/ TJ TZ V/ VJ W/ WJ Y/ YJ Yc rg A) L) Pl Rv Td Tk Tl Tp Tq Tt Vl Vp Vs Vv Wl Wp Ws Wv Yl fi fk fl tz vl wl yl'.split(" "),Av=["AW","Tw","LW"],Cv=String.fromCharCode(8206),Sv="a!\"#$%&\\'() * +,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[] ^ _`bcdefghijklmnopqrstuvwxyz{|}~".split("").concat([169,174,160,8482,34,38,60,62,176,8364,185,178,179,188,189,190,177,180,183,8230].map((function(t){return String.fromCharCode(t)}))),kv=function(t,e){return t.fontFamily+("normal"!==t.fontWeight&&t.fontWeight||"")+(e.fontFamily||"")+("normal"!==e.fontWeight&&e.fontWeight||"")},_v=function(t,e){return kv(t,e)+tg},Mv=rm("getMetrics",(function(t,e){var i=$m.createElementNS("http://www.w3.org/2000/svg","svg"),n=vr("A");return e.fontFamily&&i.setAttribute("font-family",e.fontFamily),t.fontFamily&&n.setAttribute("font-family",t.fontFamily),n.setAttribute("font-size","100px"),n.setAttribute("style","line-height: normal;"),i.appendChild(n),$m.body.appendChild(i),t=n.getBBox?n.getBBox():{y:0,height:0},i.parentNode.removeChild(i),{descent:(t.height+t.y)/100,height:t.height/100}}),(function(t,e){return t.fontFamily+(e.fontFamily||"")})),Tv=rm("getTextMeasurement",(function(t,e,i,n){var r=e.fontSize,o=zv(e,i);t:if(o){for(var s,a=0,h=0,l=0,u=t.length;l<u;l++){var c=t[l],p=o.stringWidths[c];if(!p){if(c!==Cv){n=null;break t}p=0}a+=yr(p,r),l&&o.kerning&&!n&&(h+=s=yr(o.kerning[s+c]||0,r)),s=c}n=a-h}else n=null;return null===n?yr(gr([t],e,i)[t],r):n}),(function(t,e,i,n){return t+e.fontSize+e.fontFamily+e.fontStyle+e.fontWeight+i.fontSize+i.fontFamily+i.fontStyle+i.fontWeight+n})),Ov=sm()?function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return am(dr,_v).apply(null,t)}:dr,zv=rm("loadFontData",Ov,kv),Dv=/((\D?)(-|\+?)([0-9]{1,3}(,?[0-9])*)((\.[0-9]+|\.)?|\.[0-9]+)(\S*))/g;!function(t){(function(t,e){if(!(e in t)||!t[e]){var i=/^\s+/;t[e]=t.trimLeft||function(){return this.replace(i,"")}}})(t=t.String.prototype,"trimStart"),function(t,e){if(!(e in t)||!t[e]){var i=/\s+$/;t[e]=t.trimRight||function(){return this.replace(i,"")}}}(t,"trimEnd")}(window);var Ev,Pv,Bv=Math.round,Lv=function(t){return[t[0]/255,t[1]/255,t[2]/255]},Rv=function(t){return[Bv(255*t[0]),Bv(255*t[1]),Bv(255*t[2]),t[3]]},Fv=function(t){return.2126*t[0]+.7152*t[1]+.0722*t[2]},Vv=function(t,e,i){return t.pop&&(t=(i=s(t,3))[0],e=i[1],i=i[2]),Sr("yuv",Iv(Lv([t,e,i])))},Iv=function(t,e,i){return t.pop&&(t=(i=s(t,3))[0],e=i[1],i=i[2]),[Fv([t,e,i]),-.09991*t+-.33609*e+.436*i,.615*t+-.55861*e+-.05639*i]},Nv=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return[255*(e=jv.apply(void 0,a([t],e)))[0],255*e[1],255*e[2]].map(Bv)},jv=function(t,e,i){return t.pop&&(t=(i=s(t,3))[0],e=i[1],i=i[2]),[qd(t+58e-7*e+1.28033*i,0,1),qd(t+-.21482*e+-.38059*i,0,1),qd(t+2.12798*e+11e-6*i,0,1)]},Wv=Ar("colors").members,Hv={},Yv={},Uv={},Gv=function(t){var e=Uv[t];return!e&&(e=Zv.hexColor.exec(t))&&(e=[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)],Uv[t]=e),e},Zv={rgba:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,rgb:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,hsl:/hsl\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*%,\s*([0-9]{1,3})\s*%\)/,hsla:/hsla\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})%\s*,\s*([0-9]{1,3})%\s*,\s*([0-9]?(?:\.[0-9]+)?)\)/,hexColor:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,hexShort:/#([a-fA-F0-9]{1})([a-fA-F0-9]{1})([a-fA-F0-9]{1})/},Xv={r:0,g:1,b:2,h:0,s:1,l:2,a:3,y:0,u:1,v:2},qv={r:255,g:255,b:255,h:1,s:1,l:1,a:1,y:1,u:.5,v:1},Kv={r:0,g:0,b:0,h:0,s:0,l:0,a:0,y:0,u:-.5,v:0},Qv={lighten:"hsl(,,+.1)",lightenmore:"hsl(,,+.2)",darken:"hsv(,,-.1)",darkenmore:"hsv(,,-.2)",brighten:"hsl(,+.8,+.3)",desaturate:"hsl(-360,-1,)",complement:"hsl(%+180,,)",contrast:"yuv(+-.7,,)"},$v=function(t){return Qv[_e(t)&&t.toLowerCase()]||null!==ey.exec(t)},Jv=/[-+*/%]*%?/,ty={"+":function(t,e,i){return t+e},"-":function(t,e,i){return t-e},"*":function(t,e,i){return t*e},"/":function(t,e,i){return t/e},"%+":function(t,e,i){return(t+e)%qv[i]},"%-":function(t,e,i){return(t-e)%qv[i]},"+-":function(t,e,i){return e=Math.abs(e),t+(t>=Kv[i]+(qv[i]-Kv[i])/2?-e:e)}},ey=/[+\-*/%]/,iy={prefix:/(.{3,4})\(/,rgb:/rgb[\s|\(]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))[,|\s]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))[,|\s]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))\s*\)?/,rgba:/rgba[\s|\(]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))[,|\s]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))[,|\s]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))[,|\s]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))\s*\)?/,hsl:/hsl[\s|\(]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))[,|\s]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))[,|\s]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))\s*\)?/,hsla:/hsla[\s|\(]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))[,|\s]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))[,|\s]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))[,|\s]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))\s*\)?/,yuv:/yuv[\s|\(]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))[,|\s]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))[,|\s]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))\s*\)?/,hsv:/hsv[\s|\(]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))[,|\s]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))[,|\s]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))\s*\)?/},ny=function(t,e){return oy(e)(Or(t))},ry={},oy=function(t){if(t=t&&t.toLowerCase(),!ry[t]){t=Qv[t]||t;var e=function(){var e,i={};if($v(t)){if(e=iy.prefix.exec(t))var n=e[1];if(e=iy[n].exec(t))var r=e.slice(1);for(e=0;e<r.length;e++){var o=Jv.exec(r[e])[0];i[n.charAt(e)]=r[e].length?[ty[o],parseFloat(r[e].substr(1))]:[]}i.format=n}return i}(),i=[];0===e.format.indexOf("hsl")&&i.push(_r),0===e.format.indexOf("yuv")&&i.push(Vv),0===e.format.indexOf("hsv")&&i.push(Mr);var n=0<i.length;i.push(function(){var t=e.format,i=0===t.indexOf("hsl"),n=[];return e.format.split("").forEach((function(t){e[t].length&&n.push(function(t){var i=e[t],n="h"===t?360:1,r=i[0],o=i[1],s=Xv[t];return function(e){var i=r(e[s],o/n,t);i="h"===t?i%qv.h*(0>i?-1:1)+(0>i?1:0):qd(i,Kv[t],qv[t]),e[s]=i}}(t))})),function(e){return n.forEach((function(t){return t(e)})),i?e=kr.call.apply(kr,a([null],e)):"yuv"===t?e=Nv.call(null,e):"hsv"===t&&(e=Tr.call(null,e)),Cr(e,4===e.length?"rgba":"rgb")}}()),ry[t]=function(t){var e=Or(t);for(t=0,e=n?i[t++](e[0],e[1],e[2],e[3]):e;t<i.length;)e=i[t++](e);return e}}return ry[t]},sy=function(t,e,i){return i*(e-t)+t},ay={crysDark:"crysDark",crysBright:"crysBright",hueEffect:"hueEffect",hover:"hover",select:"selected",outline:"outline",outlineContrast:"outlineContrast",label:"label",labelContrast:"labelContrast",seriesLine:"seriesLine",lightenDark:"lightenDark",currentColor:"currentColor"},hy={gaugePolarBack:"gaugePolarBack",titleBox:"titleBox",box:"box",chartArea:"chartArea",altGridFillY:"altGridFillY",altGridFillX:"altGridFillX",altGridFillRad:"altGridFillRad",axisMarkerY:"axisMarkerY",axisMarkerX:"axisMarkerX",jsButton:"jsButton",jumpButton:"jumpButton",areaFill:"areaFill",navBar:"navBar",aqua:"aqua",rounded:"rounded",cushion:"cushion",subtle:"subtle"},ly=ze(Ar("palette").members),uy=Cd(ly,(function(t){return t.toLowerCase()})),cy=function(t){return"hatch"===t?(delete(t=Ar("hatchStyle").members).none,ze(t)):No(t)},py=function(t,e){var i=s(e,2);e=i[1];var n=[];i=0>i[0];var r=function(t){for(var e=0;e<t.length;e++)if(-1<n.indexOf(t[e]))return!0};if("object"===d(t)){n=ze(t);var o=r(["colors","stops"]),h=r([,"ranges","stops"])}r="#b00026 #bd0026 #e31a1c #fc4e2a #fd8d3c #feb24c #fed976 #ffeda0".split(" ");var l="#edf8b0 #c7e9b4 #7fcdbb #41b6c3 #1d91c0 #225ea8 #253494 #081d58".split(" "),u=r.slice(0);return u.push("#ffffff"),u.push.apply(u,a(l)),r.push("#ffffff"),l.unshift("#ffffff"),wd({colors:o?void 0:h?l:u,colorsValueRange:h?void 0:o&&!i?[0,e]:[-e,e],pointValue:function(t){return t.currentOptions.z}},t||{})},fy={},dy=be("width,height,x,y"),my=function(t){return"string"==typeof t?Cd(t.split(","),parseFloat):t},gy=function(){function t(t,e){this._callStack=[];var i=this;i._callback=e,t=Array.isArray(t)?t:[t];var n,r;for(e=function(){var t=r||i.loaded;r=function(t,e){return function(){jo(t,(function(){return e()}))}}(n,(function(){return t.call(i)}))};n=t.pop();)e();r()}return t.prototype.then=function(t,e){return this._callStack.push([t,e]),this},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.loaded=function(){for(var t=this._callback(),e=-1,i=this._callStack.length;++e<i;)t=t.then.apply(t,this._callStack[e])},t}(),vy=function(t){return t.getMonth?t:new Date(t)},yy=function(t){return vy(t).getTime()},xy=Se(0,0),by={weekday:[0,6],dayofyear:[1,365],minuteofday:[0,1440]},wy={years:12,decade:11,year:10,quarter:9,month:8,week:7,dayofyear:6.2,day:6.1,weekday:6,hour:3,minuteofday:2.1,minute:2,secondofhour:1.1,second:1},Ay=[,"second","minute","hour",,,"day","week","month","quarter","year","decade","years"],Cy={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,quarter:72576e5,year:314496e5,decade:314496e6},Sy=function(t){return t},ky=[[["year",100],["year",50]],[["year",100],["year",25]],[["year",50],["year",25]],[["year",50],["year",10]],[["year",25],["year",5]],[["year",10],["year",5]],[["year",10],["year",2]],[["year",10],["year",1]],[["year",1],["month",6]],[["year",1],["month",3]],[["year",1],["month",1]],[["month",1],["day",15]],[["month",1],["day",5]],[["month",1],["day",2]],[["month",1],["day",1]],[["day",1],["hour",12]],[["day",1],["hour",6]],[["day",1],["hour",3]],[["day",1],["hour",1]],[["hour",1],["minute",30]],[["hour",1],["minute",15]],[["hour",1],["minute",10]],[["hour",1],["minute",5]],[["hour",1],["minute",1]],[["minute",1],["second",30]],[["minute",1],["second",10]],[["minute",1],["second",1]],[["second",1],["millisecond",500]],[["second",1],["millisecond",200]],[["second",1],["millisecond",100]],[["second",1],["millisecond",50]],[["second",1],["millisecond",10]],[["second",1],["millisecond",1]]],_y=Cd("year,getFullYear month,getMonth weekday,getDay day,getDate hour,getHours minute,getMinutes second,getSeconds millisecond,getMilliseconds".split(" "),(function(t){return t.split(",")})),My=function(){var t=_y.slice(0);return u(t,gd(t,(function(t){return"weekday"===t[0]}))),t}(),Ty={},Oy=[];Ad(My,(function(t,e){return Oy[Ty[t[0]]=e]=t[0]}));var zy,Dy=function(t){return Ty[t]},Ey=function(){if(!zy){var t=function(t){return{unit:t[0],multiplier:t[1]}};zy=Cd(ky,(function(e){return{major:t(e[0]),minor:t(e[1])}}))}return zy},Py=rm("significantUnitFn",(function(t){t.getMonth||(t=new Date(t));var e=My.slice(0),i=Cd(e,(function(t){return t[0]}));i.reverse();var n,r={};return Ad(e,(function(e){r[e[0]]=t[e[1]]()})),--r.day,Ad(i,(function(t){if(0<r[t])return!(n=t)})),n}),(function(t){return t})),By=function(){function t(t){var e=this;this.weekStart=t,this.fns={decade:function(t){return parseInt(t.getFullYear().toString()[2])},year:function(t){return t.getFullYear()},quarter:function(t){return Math.floor((t.getMonth()+3)/3)},month:function(t){return t.getMonth()+1},dayofyear:function(t){var e=new Date(t.getFullYear(),0,0);return Math.floor((t-e)/864e5)},day:function(t){return t.getDate()},weekday:function(t){return 0>(t=t.getDay()-e.weekStart)?7+t:t},week:function(t){var i=t.getFullYear(),n=new Date(i,0,1);return t=new Date(i,t.getMonth(),t.getDate()),Math.ceil(((t-n)/864e5+e.fns.weekday(n)+1)/7)},hour:function(t){return t.getHours()},minuteofday:function(t){return 60*t.getHours()+t.getMinutes()},minute:function(t){return t.getMinutes()},secondofhour:function(t){return 60*t.getMinutes()+t.getSeconds()},second:function(t){return t.getSeconds()},millisecond:function(t){return t.getMilliseconds()},none:function(t){return 0},date:function(t){return t.getTime()}},this.revFns={decade:function(t,e){return t=(t=vy(t).getFullYear().toString()).substr(0,2)+e+"0",new Date(parseInt(t),0,1)},year:function(t,e){return new Date(e,0,1)},quarter:function(t,e){return new Date(vy(t).getFullYear(),3*(e-1),1)},month:function(t,e){return new Date(vy(t).getFullYear(),e-1,1)},week:function(t,i){t=vy(t).getFullYear();var n=-((t=new Date(t,0,1)).getDay()-e.weekStart);return i=n+(0<n?-7:0)+7*(i-1),(n=new Date(t.valueOf())).setDate(t.getDate()+i),n},dayofyear:function(t,e){return new Date(vy(t).getFullYear(),0,e)},day:function(t,e){return new Date(vy(t).getFullYear(),vy(t).getMonth(),e)},weekday:function(t,i){var n=e.fns.week(t);return Qo(t=e.revFns.week(t,n),h(i)?{unit:"day",multiplier:i}:{unit:"day"})},hour:function(t,e){return t=vy(t),t=new Date(t.setMinutes(0)),t=new Date(t.setSeconds(0)),vy(t.setHours(e))},hourMod:function(t,e){return t=vy(t),t=new Date(t.setMinutes(0)),Qo(t=new Date(t.setSeconds(0)),{unit:"hour",multiplier:e})},minute:function(t,e){return t=vy(t),new Date(t.setSeconds(0)).setMinutes(e)},minuteofday:function(t,e){return t=vy(t),vy(vy(vy(t.setSeconds(0)).setHours(0)).setMinutes(e))},minuteMod:function(t,e){return Qo(t=vy(t),{unit:"minute",multiplier:e})},minuteofdayMod:function(t,e){return Qo(t=vy(t),{unit:"minute",multiplier:e})},secondofhour:function(t,e){return t=vy(t),vy(t.setMinutes(0)).setSeconds(e)},secondofhourMod:function(t,e){return Qo(t=vy(t),{unit:"second",multiplier:e})},second:function(t,e){return vy(t).setSeconds(e)},millisecond:function(t,e){return vy(t).setMilliseconds(e)},none:function(t,e){return t}}}return t.prototype.fn=function(t){if("string"==typeof t){var e=this.fns[t];return function(t){return e(vy(t))}}var i=this.fns[t.unit];return t.mod&&t.mul?function(e){return Math.floor(i(vy(e))/t.mul)%t.mod}:t.mul?function(e){return Math.floor(i(vy(e))/t.mul)}:void 0},t.prototype.reverseFn=function(t){if("string"==typeof t){var e=this.revFns[t];return function(t,i){return e(vy(t),i)}}var i=this.revFns[t.unit];return t.mod&&t.mul?(i=this.revFns[t.unit+"Mod"]||i,function(e,n){return i(e,n*t.mul)}):t.mul?function(e,n){return i(e,n*t.mul)}:void 0},t}(),Ly=function(){function t(t,e){if(this.calIndexer=e,_e(t)){var i={};i[t]="*",t=i}this.currentOptions=Vd(xd(t),["inclusive","every","offset"]),this.inclusive=Se(t.inclusive,!0),this.every=Se(t.every,1),this.offset=Se(t.offset,0),"object"==typeof this.offset&&(this.offset=Ko(this.offset)),this.fnSet=new By(e?e.currentOptions.weekStart:0),this.setFilter()}return t.prototype.setFilter=function(){var t=this,e=t.currentOptions,i=Object.getOwnPropertyNames(e);t.propNames=i;var n=i[0];1===i.length&&"date"===i[0]&&"object"!=typeof e[i[0]]&&(t.isDate=!0,e.date.pop&&(t.isDateRange=!0));var r=function(i){return wy[i]<wy[n]&&(n=i),function(i){var n=e[i],r=d(n),s=t.fnSet.fn(i);"*"===n&&(r="star",t.starUnit=i,t.isInterval=!0,by[i]&&(t.intervalType="numeric")),i=function(t){return function(e){var i;try{for(var r=o(n),s=r.next();!s.done;s=r.next())if(t(e,s.value))return!0}catch(t){var a={error:t}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(a)throw a.error}}}};var a=function(e){if("number"===e)return function(t,e){return s(t)===Se(e,n)};if("string"===e||"date"===e){var i=vy(n);return function(t,e){return s(t)===s(vy(e||i))}}if("object"===e){var r=(e="string"==typeof n.range[0]?function(t){return s(vy(t))}:Sy)(n.range[0]),o=e(n.range[1]);return function(t,e){return t=s(vy(t)),Tm([r,o],t)}}return"function"===e?function(t,e){return(e||n)(t)}:"star"===e?function(e,i){return t.indexOfInterval(e)}:void 0};return"array"===r?i(a(d(n[0]))):a(r)}(i)};if(1<i.length){t.isMultiFilter=!0;var s=Cd(i,(function(t){return r(t)}));i=t.inclusive?function(t){var e;try{for(var i=o(s),n=i.next();!n.done;n=i.next())if(!(0,n.value)(t))return!1}catch(t){var r={error:t}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(r)throw r.error}}return!0}:function(t){var e;try{for(var i=o(s),n=i.next();!n.done;n=i.next())if((0,n.value)(t))return!0}catch(t){var r={error:t}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(r)throw r.error}}},t.checkDateFn=i}else t.checkDateFn=r(i[0]);n=Ay[Math.floor(wy[n.unit||n])],t.minUnitName=n},t.prototype.indexOfInterval=function(t){var e=this.intervalRanges;if(t=yy(t),"numeric"===this.intervalType)return this.fnSet.fn(this.starUnit)(t);if(this.isMultiFilter){for(var i=0;i<e.length;i++)if(-1<Ui(e[i],t))return i;return-1}return Ui(e,t)},t.prototype.isInside=function(t){return this.isInterval?this.indexOfInterval(vy(t)):this.checkDateFn(vy(t))},t.prototype.setRangeSnap=function(t,e){var i=this.fnSet,n=this.starUnit;t=i.reverseFn(n)(t,i.fn(n)(t));var r=i.fn(n)(e);return e=i.reverseFn(n)(e,r+1),e=vy(yy(e)-1),this.setRange(t,e)},t.prototype.setRange=function(t,e){if(this.userRange=[t,e],this.isInterval){if("numeric"===this.intervalType){var i=(t=by[this.starUnit])[0],n=[];return Fd(t[1]-t[0]+1,(function(t){return n.push([t+i,t+i+1-.001])})),this.intervalRanges=n}return this.intervalRanges=md(this.getIntervalRanges(t,e),(function(t){return yy(t[1])!==yy(t[0])}))}return this.getRanges(t,e)},t.prototype.getRanges=function(t,e){var i={unit:this.minUnitName};t=$o(this.minUnitName,1,vy(t)),e=vy(e);for(var n,r=[],o=[],s=!1,a=!1;!a;)(n=this.isInside(t))&&!s?(n=t,s=!0,o[0]=n):!n&&s&&(o[1]=vy(t.getTime()-1),r.push(o),o=[],s=!1),(t=Qo(t,i))>e&&(a=!0);return ss(this,r)},t.prototype.getIntervalRanges=function(e,i){var n=this,r=n.currentOptions;if(!this.minUnitName)return[[e,i]];var o=n.every,s=[];if(n.isMultiFilter){o=function(o){var s={every:n.every};return s[o]=r[o],new t(s).setRange(e,i)};var a,h,l=md(n.propNames,(function(t){return t!==n.starUnit})),u=o(n.starUnit),c=Cd(l,o);Ad(u,(function(t){var e=t.slice(0);h=[],Ad(c[0],(function(t){(a=Wi(e,t))&&h.push(a)})),h.length&&s.push(h)}))}else o=ns(o={unit:this.minUnitName,multiplier:o},o,e,i)[0],l=Cd(o,(function(t){return[t,t]})),o.length?s=Cd(Zi(l,[e,i]),(function(t){return[vy(t[0]),vy(yy(t[1])-1)]})):s.push([e,i]);return ss(n,s)},t}(),Ry=function(t,e,i){t[e]?t[e].push(i):t[e]=[i]},Fy=function(t){if(t&&t.pop)for(var e=0,i=Math.min(50,t.length);e<i;e++){var n=t[e],r=typeof n;if(null!==n){if("number"===r)return!0;if("object"===r)return!1}}},Vy=function(t){var e;return t((function(t){if(!0===(t=Fy(t))||!1===t)return e=t,!1})),e},Iy=function(t){if("function"==typeof t)return t;if(-1<t.indexOf(".")){var e=t.split(".");return function(t){return p(t,e)}}return function(e){return e[t]}},Ny=function(t){if("function"==typeof t)return t;var e=Iy(t);return function(t){return t.map((function(t){return e(t)}))}},jy=function(t,e){var i=[];return Ad(t,(function(t,n){return i.push({key:e?e(n):n,values:t})})),i},Wy=function(){function t(){return this.calls=[],this}return t.prototype.countKeyCalls=function(){var t=0;return Ad(this.calls,(function(e){return"key"===e[0]&&t++})),t},t.prototype.clone=function(){var e=new t;return e.calls=this.calls.slice(0),e.pointRollupFn=this.pointRollupFn,e},t.prototype.key=function(t){var e=this.clone();return e.calls.push(["key",t]),e},t.prototype.rollup=function(t,e){var i=this.clone();return i.calc=e,i.calls.push(["rollup",t]),i},t.prototype.sortKey=function(t){var e=this.clone();return e.calls.push(["sortKey",t]),e},t.prototype.pointRollup=function(t){var e=this.clone();return e.pointRollupFn=t,e},t.prototype.series=function(t){t=cs(this)(t);var e=this.countKeyCalls();if(1===e)return[{points:hs(t,this.pointRollupFn||this.calc)}];if(2===e)return function(t,e){if("function"==typeof t.pop)return Vy((function(e){t.forEach((function(t){return e(t.values)}))}))?[{points:hs(t,e)}]:t.map((function(t){return{name:t.key,points:hs(t.values,e)}}));var i=Object.keys(t);if(Fy(c(t,i[0])))return[{points:hs(t,e)}];var n=[];return i.forEach((function(i){return n.push({name:i,points:hs(t[i],e)})})),n}(t,this.pointRollupFn||this.calc);throw"Nest: One or two key() calls are required."},t.prototype.points=function(t){return hs(t=cs(this)(t),this.pointRollupFn)},t.prototype.entries=function(t){return cs(this)(t)},t}(),Hy=/\r?\n/;Qm.JSC;for(var Yy=/^-?\d+\.?\d*%?$/,Uy=/^\W{1}-?\d+\.?\d*%?$/,Gy=function(t){return"dirtyNumber"===t?"number":t},Zy=function(t){return Zo((function(e){var i=Array.isArray(t)?t:[t],n=!0,r=i.length;if(!t.length){var o=Error("Fonts list is empty");e({ok:n,error:o})}i.forEach((function(t){return function(t,e){var i=$m.body,n=1e3,r=$m.createElement("span");r.innerHTML="QW@HhsXJ",r.style.position="absolute",r.style.top=r.style.left="-9999px",r.style.visibility="hidden",r.style.fontFamily="Courier New",r.style.fontSize="250px",i.appendChild(r);var o=r.offsetWidth;r.style.fontFamily=t+",Courier New";var s=function(){o!==r.offsetWidth?(i.removeChild(r),e(!0)):0>n?(i.removeChild(r),e(!1)):(setTimeout(s,50),n-=50)};s()}(t,(function(i){i||(n=!1,o=Error("Loading "+t+" 1000ms timeout exceeded")),0==--r&&e({ok:n,error:o})}))}))}))},Xy=0,qy={},Ky=Math.PI,Qy=2*Ky,$y=Math,Jy=Math.abs,tx=function(t,e,i){return[ii(t[0],t[0]+t[2],e[0],e[0]+e[2],i[0]),ii(t[1],t[1]+t[3],e[1],e[1]+e[3],i[1])]},ex=["M","Z","L","C"],ix=[Rs,null,Rs,function(t,e){return Ls(Ls(t,e=Ri.apply(null,e.slice(1))),[e[0]+e[2],e[1]+e[3]])}],nx={stringValue:[Ps,""],bbox:[function(t){var e;return 1===(t=t.shapes).length&&Bs(t[0]),Ad(t,(function(t,i){Bs(t),t=t.minMaxResult,i?(e.xMin=Math.min(e.xMin,t.xMin),e.yMin=Math.min(e.yMin,t.yMin),e.xMax=Math.max(e.xMax,t.xMax),e.yMax=Math.max(e.yMax,t.yMax)):e=t})),[e.xMin,e.yMin,e.xMax-e.xMin,e.yMax-e.yMin]},""],lengthValue:[Vs,0],flatPoints:[js,[]],positions:[function(t,e){void 0===e&&(e=6),t.length();var i=[],n=0;for(t=t.shapes;n<t.length;n++)i.push(Hs(t[n],e));return i},[]]},rx=function(){function t(t){this.isPath=!0,this.shapes=[],this._cache={},t&&ue(this,t)}return t.prototype.fromCache=function(t){var e=this._cache;return e[t]=h(e[t])?e[t]:this.hasErrors?nx[t][1]:nx[t][0](this),e[t]},t.prototype.toString=function(){return this.fromCache("stringValue")},t.prototype.bbox=function(){return this.fromCache("bbox")},t.prototype.scaleTo=function(t){return Fs(this,t)},t.prototype.translate=function(t){return Ps(this,t)},t.prototype.rotate=function(t,e){var i=this.bbox();return e=e||ln(i),this.translate((function(i){return wi(e,ki(e,i)+t,_i(e,i))}))},t.prototype.hitTest=function(t,e){var i=this.bbox();if(Bn(i,t=[t,e])){i=void 0,e=0;for(var n=this.shapes;e<n.length;e++)if(1===Ae(n[e].items)[0]){i=!0;break}if(!i)return zi(t,js(this));for(e=0,n=this.shapes;e<n.length;e++)if(zi(t,Ws(n[e])))return!0}return!1},t.prototype.length=function(){return this.fromCache("lengthValue")},t.prototype.flatPoints=function(){return this.fromCache("flatPoints")},t.prototype.positions=function(){return this.fromCache("positions")},t.prototype.clearCache=function(t){this._cache={},t&&Es(this,ta,ea)},t.prototype.items=function(t){var e=this.shapes;if(1===e.length)return t?e[0].items:e[0].items.slice(0);var i=[];return Ad(e,(function(t){return Ad(t.items,(function(t){return i.push(t)}))})),i},t.prototype.isEqual=function(t){var e=t?t.toString():"";return this===t||this.toString()===e},t}(),ox=/([astvzqmhlc])([^astvzqmhlc]*)/gi,sx=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi,ax=["c",6,"a",7,"l",2,"z",0,"m",2,"h",1,"v",1,"s",4,"t",2,"q",4],hx={},lx={M:ba,H:function(t){fa(t,[t.isRelative?Zd(t.args)+t.endPoint[0]:Ae(t.args),t.endPoint[1]])},V:function(t){fa(t,[t.endPoint[0],t.isRelative?Zd(t.args)+t.endPoint[1]:Ae(t.args)])},Z:wa,L:function(t){oa(t,1,fa)},C:function(t){oa(t,3,da)},S:function(t){oa(t,2,ma)},Q:function(t){oa(t,2,ga)},T:function(t){var e=t.lastCommand[0];oa(t,1,"T"===e||"Q"===e?va:fa)},A:function(t){ra(t,0,7,Aa)}},ux=function(t,e){var i=t.toLocaleUpperCase();hx[t]={command:i,argsCount:e,isRelative:!0},hx[i]={command:i,argsCount:e,isRelative:!1}},cx=0;cx<ax.length;cx+=2)ux(ax[cx],ax[cx+1]);var px=rm("pathLibBbox",(function(t){return Ca(t).bbox()})),fx=Math.PI,dx=2*fx,mx=function(t){return Math.round(t)===t},gx={TL:0,TR:1,BR:2,BL:3},vx=ye("type fill stroke stroke-width stroke-opacity overflow centerWidth eachShape".split(" ")),yx=pm.PI,xx=2*yx,bx={none:function(t,e){return Oa([[t,e]])},circle:function(t,e,i,n){return a(["M",t+(i=Math.min(i,n)/2),e],Pa(t+i,e+i,i,-yx/2,.75*xx-.05),["Z"])},square:function(t,e,i,n,r){r=Math.ceil(.15*Math.min(i,n)),r=Math.min(r,10);var o=yx/2;return a(["M",t+r,e,"L",t+i-r,e],Pa(t+i-r,e+r,r,-o,0),["L",t+i,e+n-r],Pa(t+i-r,e+n-r,r,0,o),["L",t+r,e+n],Pa(t+r,e+n-r,r,o,2*o),["L",t,e+r],Pa(t+r,e+r,r,2*o,-o),["Z"])},arrow:function(t,e,i,n,r){void 0===r&&(r={});var o=ln([t,e,i,n]);e=r.angle||0;var s=r.concavity||.15,a=wi(o,e,i/2),h=wi(o,e+180,i/2);return t=wi(h,e-90,n/2),n=wi(h,e+90,n/2),e=wi(h,e,i*s),h=function(t,e){var i=Ci(a,t);t=ki(a,t);var n=_i(o,i);return wi(i,t+e,s*n)},i=[o[0]-e[0],o[1]-e[1]],t=[a,h(t,-90),t,e,n,h(n,90)],r.skipTransform=!0,Oa(function(t,e){return t.map((function(t){return[t[0]+e[0],t[1]+e[1]]}))}(t,i))},triangle:function(t,e,i,n){return Oa([[t+i/2,e],[t+i,e+n],[t,e+n]])},"triangle-down":function(t,e,i,n){return Oa([[t,e],[t+i,e],[t+i/2,e+n]])},diamond:function(t,e,i,n){return t=(n=Oo({x:t,y:e,width:i,height:n},1.1)).x,e=n.y,Oa([[t+(i=n.width)/2,e],[t+i,e+(n=n.height)/2],[t+i/2,e+n],[t,e+n/2]])},"four-point-star":function(t,e,i,n){t=(n=Oo({x:t,y:e,width:i,height:n},1.15)).x,e=n.y,i=n.width;var r=.32*(i/=2);return Oa([[t+=i,(e+=(n=n.height)/2)-i],[t+r,e-r],[t+i,e],[t+r,e+r],[t,e+i],[t-r,e+r],[t-i,e],[t-r,e-r]])},"five-point-star":function(t,e,i,n){return t=(n=Oo({x:t,y:e,width:i,height:n},1.15)).x+1,e=n.y,i=n.width,Oa([[t+=i/=2,(e+=(n=n.height)/2)-.96*i],[t+.36*i,e-.4*i],[t+i,e-.24*i],[t+.56*i,e+.26*i],[t+.6*i,e+.94*i],[t,e+.65*i],[t-.6*i,e+.94*i],[t-.56*i,e+.26*i],[t-i,e-.24*i],[t-.36*i,e-.4*i]])},"six-point-star":function(t,e,i,n){return t=(n=Oo({x:t,y:e,width:i,height:n},1.15)).x+1,e=n.y,i=n.width,Oa([[t+=i/=2,(e+=(n=n.height)/2)-i],[t+.3*i,e-.54*i],[t+.88*i,e-.5*i],[t+.6*i,e],[t+.86*i,e+.5*i],[t+.3*i,e+.52*i],[t,e+i],[t-.3*i,e+.52*i],[t-.86*i,e+.5*i],[t-.6*i,e],[t-.88*i,e-.5*i],[t-.3*i,e-.54*i]])},"seven-point-star":function(t,e,i,n){return t=(n=Oo({x:t,y:e,width:i,height:n},1.15)).x+1,e=n.y,i=n.width,Oa([[t+=i/=2,(e+=(n=n.height)/2)-.98*i],[t+.28*i,e-.54*i],[t+.8*i,e-.6*i],[t+.62*i,e-.12*i],[t+i,e+.16*i],[t+.5*i,e+.44*i],[t+.44*i,e+.96*i],[t,e+.68*i],[t-.44*i,e+.96*i],[t-.5*i,e+.44*i],[t-i,e+.16*i],[t-.62*i,e-.12*i],[t-.8*i,e-.6*i],[t-.28*i,e-.54*i]])},"arrow-up":function(t,e,i,n){return t=(n=Oo({x:t,y:e,width:i,height:n},1.15)).x+1,e=n.y,i=n.width,Oa([[t+=i/=2,(e+=(n=n.height)/2)-i],[t+.9*i,e-.08*i],[t+.36*i,e-.08*i],[t+.36*i,e+i],[t-.36*i,e+i],[t-.36*i,e-.08*i],[t-.9*i,e-.08*i]])},"arrow-down":function(t,e,i,n){return t=(n=Oo({x:t,y:e,width:i,height:n},1.15)).x+1,e=n.y,i=n.width,Oa([[t+=i/=2,(e+=(n=n.height)/2)+i],[t+.9*i,e+.08*i],[t+.36*i,e+.08*i],[t+.36*i,e-i],[t-.36*i,e-i],[t-.36*i,e+.08*i],[t-.9*i,e+.08*i]])},split:function(t,e,i,n){return Oa([[[(t+=i/=2)+.2*i,(e+=n/2)-i],[t+i,e],[t+.2*i,e+i]],[[t-.2*i,e+i],[t-i,e],[t-.2*i,e-i]]])},"split-reverse":function(t,e,i,n){return Oa([[[(t+=i/=2)+i,(e+=n/2)-i],[t+i,e+i],[t+.16*i,e]],[[t-i,e-i],[t-i,e+i],[t-.16*i,e]]])},spinoff:function(t,e,i,n){return Oa([[[(t+=i/=2)-i,(e+=n/2)-i],[t+.72*i,e-i],[t+.72*i,e],[t,e],[t,e+.72*i],[t-i,e+.72*i]],[[t+.24*i,e+.24*i],[t+i,e+.24*i],[t+i,e+i],[t+.24*i,e+i]]])},merger:function(t,e,i,n){return Oa([[(t+=i/=2)-.38*i,(e+=n/2)-i],[t+.73*i,e-i],[t+.73*i,e+i],[t+.16*i,e+i],[t+.16*i,e+.22*i],[t-.58*i,e+i],[t-.94*i,e+.6*i],[t-.38*i,e+.02*i]])},path:function(t,e,i,n,r){return r.d},rectangle:function(t,e,i,n,r){return La(t,e,i,n,r)}},wx={arrow:function(t){void 0===t&&(t={});var e=Se(t.lineWidth,1),i=Se(t.overflow,!1),n=Go(Se(t.size,10*e),e),r=h(t.length),o=Go(Se(r?t.length:t.width,1.6*n),e);return e=Go(Se(r?t.width:t.height,n),e),r=o-o*(n=qd(Se(t.concavity,.2),-.5,.5)),ue(fe({},t,vx),{width:o,height:e,concavity:n,overflow:!0,centerWidth:!1===i?r:0})}},Ax=rm("drawIconFunction",(function(t,e,i,n,r){var o=Ca(t),s=e[4],a=n?h(n.initial)?[n.top.px,n.right.px,n.bottom.px,n.left.px]:0<n.length?n:[n.top,n.right,n.bottom,n.left]:[0,0,0,0],l=!0;return r||0!==e[2]&&0!==e[3]||s?((s||0===e[2]||0===e[3])&&(r=o.bbox(),e[2]=s||r[2],e[3]=s||r[3],s||(l=!1)),s=Math.max(e[2],e[3]),r=i?[e[0],e[1],s,s]:e,(n=!i&&n&&0===n.initial)&&!l?[t,s,e[2],e[3]]:(t=n?r:Do(r,a),o=o.scaleTo(t),i?[Ds([o,i=bx[i.shape||"square"](r[0],r[1],r[2],r[3])]),s,e[2],e[3]]:[o,s,e[2],e[3]])):["",0,0,0]}),(function(t,e,i,n,r){return t+e[0]+e[1]+e[2]+e[3]+e[4]+(i&&i.shape)+(n&&n.initial)+r})),Cx=function(t){return"M"+t[0]+" "+t[1]},Sx=function(t){return"L"+t[0]+" "+t[1]},kx=[-9999,9999],_x=ye(["div"]),Mx=function(){function t(t,e,i){this.renderer=e,this.init(t,i)}return t.prototype.init=function(t,e){this.el=t,this.data={attrs:{},vals:{},id:As()},this.childNodes=[],this.refNodes=[],this.isElement=!0,this.isDestroyed=this.isPatched=!1,this.zIndexHash={},this.zIndexMax=kx[0],this.nodeName=e||t.nodeName.toLowerCase(),this.isHtml=l(_x,this.nodeName)},t.prototype.attr=function(t,e){return this.renderer.attr(this,t,e)},t.prototype.add=function(t){return this.renderer.add(this,t)},t.prototype.addBefore=function(t){return this.renderer.addBefore(this,t)},t.prototype.addAfter=function(t){return this.renderer.addAfter(this,t)},t.prototype.destroy=function(){return this.renderer.destroy(this)},t.prototype.on=function(t,e){return this.renderer.on(this,t,e)},t.prototype.un=function(t,e){return this.renderer.un(this,t,e)},t.prototype.box=function(t){return this.renderer.box(this,t)},t.prototype.getBbox=function(){return this.box()},t.prototype.animate=function(t,e){var i=s(t,2);t=i[0],i=i[1],this.getTransition().options({animation:e,middle:{from:t,to:i},end:i})},t.prototype.getAnimations=function(){return this.getTransition().getAnimations()},t.prototype.isAnimating=function(){return 0<this.getAnimations().length},t.prototype.finishAnimation=function(t){this._transition&&!this._transition.attrApllying&&this._transition.finishAnimation(!0,t)},t.prototype.show=function(){return this.renderer.show(this)},t.prototype.hide=function(){return this.renderer.hide(this)},t.prototype.visible=function(t){return this.renderer.visible(this,t)},t.prototype.query=function(t){return this.renderer.query(t,this)},t.prototype.transition=function(t){return this.getTransition().options(t),this.getTransition()},t.prototype.tryAutoTransition=function(t){var e=this;return e.getTransition().tryAutoTransition(t,(function(){var t=e.data,i=ue({},t.attrs);return t.transform&&(i.transform=t.transform),t.vals.d&&(i.d=t.vals.d),i}))},t.prototype.normalizeAttrs=function(t){return t&&t.omit?Vd(t,t.omit.concat("omit")):t},t.prototype.getTransition=function(){if(!this._transition){var t=ue({},this.renderer.defaultOptions().transition);"path"===this.nodeName&&(t.generator="path"),this._transition=Zg[0].create(this,t)}return this._transition},t}(),Tx=ce(bx,{rectangle:La}),Ox=function(t){function e(e,i){return(e=t.call(this,e,i)||this).x=0,e.y=0,e.width=0,e.height=0,e}return n(e,t),e.prototype.attr=function(t,e){return t&&Me(t)?(t=this.collectAttributes(t))?(e=s([t.shapeName,t.relativeSize],2),this.shapeName=e[0],this.relativeSize=e[1],t.relativeSize&&(e=s([t.cx,t.cy,t.r],3),this.cx=e[0],this.cy=e[1],this.r=e[2]),e=this.renderer.attr(this,t),t=s([t.x,t.y,t.width,t.height,t.shapeOptions,t.d],6),this.x=t[0],this.y=t[1],this.width=t[2],this.height=t[3],this.shapeOptions=t[4],this.d=t[5],e):null:l(this,t)?this[t]:this.renderer.attr(this,t,e)},e.prototype.normalizeAttrs=function(e){return e=this.collectAttributes(e),t.prototype.normalizeAttrs.call(this,e)},e.prototype.collectAttributes=function(t){var e=this.default,i=s([this.shapeName,this.relativeSize],2),n=i[0];return i=i[1],(t.shapeConfig||t.shapeName)&&(n=t.shapeName||t.shapeConfig.name),n&&l(Tx,n)?(t=t.shapeConfig?t.shapeConfig.config||{}:ue({},t),ue(t,t.attr),t.shapeName=n,Te(i)&&(Ee(["x","y","width","height"],t)&&(i=!1),Ee(["cx","cy","r"],t)&&(i=!0)),i&&(e=s([e(t.cx,this.cx||0),e(t.cy,this.cy||0),e(t.r,this.r||0),t.cx-t.r,t.cy-t.r,this.calculateFromRadius(t.r),this.calculateFromRadius(t.r)],7),t.cx=e[0],t.cy=e[1],t.r=e[2],t.x=e[3],t.y=e[4],t.width=e[5],t.height=e[6]),t.relativeSize=i,e=s([this.default(t.x,this.x),this.default(t.y,this.y),this.default(t.width,this.width),this.default(t.height,this.height),t.shape||this.shapeOptions],5),t.x=e[0],t.y=e[1],t.width=e[2],t.height=e[3],t.shapeOptions=e[4],t.d=this.dToString(Tx[n](t.x,t.y,t.width,t.height,t.shapeOptions)),t.omit="x y width height cx cy r shapeName shape path attr relativeSize shapeOptions".split(" "),t.d===this.d&&t.omit.push("d"),t):null},e.prototype.default=function(t,e){return Oe(t)?e:t},e.prototype.calculateFromRadius=function(t){return h(t)?2*t:null},e.prototype.dToString=function(t){return Id(t)?Pd(t," "):t},e}(Mx),zx=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attrApplier=e.defaultAttrApplier,e}return n(e,t),e.prototype.attr=function(t,e){var i=this.morphType||this.nodeName;if(Dx[i])t:{var n;try{for(var r=o(Dx[i]),s=r.next();!s.done;s=r.next())if((0,s.value)(this,t,e))break t}catch(t){var a={error:t}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}}return this.attrApplier(t,e)},e.prototype.defaultAttrApplier=function(t,e){return this.renderer.attr(this,t,e)},e}(Mx),Dx={},Ex=function(){function t(t,e,i,n,r){this.root=t,this.width=e,this.height=i,this.defaultWidth=n,this.defaultHeight=r}return t.prototype.path=function(t){return this.pathInner(zx,t)},t.prototype.shape=function(t,e){return this.pathInner(Ox,{shapeConfig:{name:t,config:e}})},t.prototype.newId=function(){return As()},t}(),Px=function(t){function e(e,i){return(e=t.call(this,e,i)||this).x=0,e.y=0,e.width=0,e.height=0,e}return n(e,t),e.prototype.attr=function(t,e){var i=this;return t&&Me(t)?(Te(this.relativeSize)&&this.setSizeType(t),this.checkSizeRecalculated(t,(function(e){var n=s([i.default(t.width,i.width),i.default(t.height,i.height),i.default(t.cx,i.cx||0),i.default(t.cy,i.cy||0)],4),r=n[0],o=n[1],a=n[2];n=n[3];var h=s([i.relativeSize?a-r/2:i.default(t.x,i.x||0),i.relativeSize?n-o/2:i.default(t.y,i.y||0)],2),l=h[0];ue(e,{x:l,y:h=h[1],width:r,height:o}),e.omit=["cx","cy"],i.renderer.attr(i,e),e=s([l,h,r,o,a,n],6),i.x=e[0],i.y=e[1],i.width=e[2],i.height=e[3],i.cx=e[4],i.cy=e[5]})),this):this.renderer.attr(this,t,e)},e.prototype.default=function(t,e){return Oe(t)?e:t},e.prototype.setSizeType=function(t){Ee(["x","y"],t)?this.relativeSize=!1:Ee(["cx","cy"],t)&&(this.relativeSize=!0)},e.prototype.checkSizeRecalculated=function(t,e){Te(this.sizeRecalculated)&&(this.sizeRecalculated=Te(t.width)||Te(t.height)),t.src&&this.sizeRecalculated?function(t,e,i){Bx[e]?i(Bx[e]):(i({width:0,height:0},!1),Lx[e]?Lx[e].push(i):(Lx[e]=[i],t.calculateImageSize(e,(function(t,i){var n=Bx[e]={width:t,height:i};Ad(Lx[e],(function(t){return t(n,!1)})),Lx[e]=void 0}))))}(this.renderer,t.src,(function(i,n){t.width=i.width,t.height=i.height,!1===n&&(t.animation=!1),e(t)})):e(t)},e}(Mx),Bx={},Lx={},Rx=function(){function t(){this.callbacks=[],this.idleDefer=new Hg,this.id=0}return t.prototype.on=function(t,e){var i=this,n={callback:t,event:this,un:function(){i.un(t)}};return this.callbacks.push({callback:t,subscriber:e}),n},t.prototype.onDefer=function(t,e,i){var n=this,r=this.id++;return this.on((function(i,o){return n.idleDefer.defer("event"+r,(function(){return t.apply(n,[i,o])}),e)}),i)},t.prototype.un=function(t){this.callbacks=t?md(this.callbacks,(function(e){return e.callback!==t})):[]},t.prototype.trigger=function(t,e){Ad(this.callbacks,(function(i){return i.callback.apply(i.subscriber,[t,e])}))},t}(),Fx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.on=function(e,i){var n=this,r=gd(this.callbacks,(function(t){return t.callback===e}));return r?{callback:r,event:this,un:function(){n.un(r)}}:t.prototype.on.call(this,e,i)},e}(Rx),Vx=function(t){function e(e){var i=t.call(this)||this;return i.domEventName=e,i.hasSubscription=!1,i.element=null,i}return n(e,t),e.prototype.setElement=function(t){this.element!==t&&(this.unsubscribeDomEvent(),this.element=t,this.subsribeDomEvent())},e.prototype.on=function(e,i){return e=t.prototype.on.call(this,e,i),this.subsribeDomEvent(),e},e.prototype.un=function(e){t.prototype.un.call(this,e),0===this.callbacks.length&&this.unsubscribeDomEvent()},e.prototype.subsribeDomEvent=function(){var t=this;this.hasSubscription||(this.element?this.callbacks.length&&(this.element.on(this.domEventName,(function(e){t.trigger(qa(e,t.element,t.domEventName))})),this.hasSubscription=!0):this.hasSubscription=!1)},e.prototype.unsubscribeDomEvent=function(){this.hasSubscription&&(this.element&&this.element.un(this.domEventName),this.hasSubscription=!1)},e}(Rx),Ix=new Rx,Nx=ye(["width","height"]),jx=ye(["d","animation","transition","clip-rule"]),Wx=ce(jx,ye(["fill"])),Hx=function(t){function e(e,i){return(e=t.call(this,e,i)||this).path=e.renderElement().add(e),e}return n(e,t),e.prototype.attr=function(t,e){return t&&Me(t)?(t.id&&this.renderer.attr(this,"id",t.id),t["clip-rule"]&&this.renderer.attr(this,"clip-rule",t["clip-rule"]),t=ge({},t,this.availableAttrs()),this.renderer.attr(this.path,t)):this.renderer.attr(this,t,e)},e.prototype.destroy=function(){return this.path&&(this.path.destroy(),delete this.path),this.renderer.destroy(this)},e.prototype.renderElement=function(){return this.renderer.path()},e.prototype.availableAttrs=function(){return jx},e}(Mx),Yx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.renderElement=function(){return this.renderer.rect()},e.prototype.availableAttrs=function(){return Nx},e}(Hx),Ux=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.availableAttrs=function(){return Wx},e}(Hx),Gx=ye(["fill","stroke","mask","clip-path"]),Zx={},Xx={horizontal:{c:[0,0,5,0]},"large-horizontal":{c:[0,0,10,0],size:10},"narrow-horizontal":{c:[0,0,2.5,0],size:2.5},"dark-horizontal":{c:[0,0,5,0],strokeWidth:4},vertical:{c:[0,0,0,5]},"large-vertical":{c:[0,0,0,10],size:10},"narrow-vertical":{c:[0,0,0,2.5],size:2.5},"dark-vertical":{c:[0,0,0,5],strokeWidth:4},"backward-diagonal":{c:[0,0,0,10],size:10,patternTransform:"rotate(45)"},"light-upward-diagonal":{c:[0,0,0,5],patternTransform:"rotate(45)"},"dark-upward-diagonal":{c:[0,0,0,5],strokeWidth:4,patternTransform:"rotate(45)"},"wide-upward-diagonal":{c:[0,0,0,10],strokeWidth:5,patternTransform:"rotate(45)",size:10},"forward-diagonal":{c:[0,0,0,10],size:10,patternTransform:"rotate(-45)"},"light-downward-diagonal":{c:[0,0,0,5],patternTransform:"rotate(-45)"},"dark-downward-diagonal":{c:[0,0,0,5],strokeWidth:4,patternTransform:"rotate(-45)"},"wide-downward-diagonal":{c:[0,0,0,10],strokeWidth:5,patternTransform:"rotate(-45)",size:10},"dashed-downward-diagonal":{c:[0,2.5,5,7.5],granualHeight:10},"dashed-upward-diagonal":{c:[5,2.5,0,7.5],granualHeight:10},"horizontal-brick":{d:"M0,0L0,5M0,5L10,5M5,5L5,10M10,5L10,0M0,10L10,10M0,0L10,0",size:10},"large-checker-board":{d:"M0,5L5,5 5,0 0,0ZM5,10L5,5 10,5 10,10Z",size:10,borderColor:"transparent",inside:!0},"small-checker-board":{d:"M0,2.5L2.5,2.5 2.5,0 0,0ZM2.5,5L2.5,2.5 5,2.5 5,5Z",borderColor:"transparent",inside:!0},"cross-diagonal":{d:"M0,0l10,10M10,0l-10,10",size:10},"dashed-horizontal":{d:"M0 1 L5 1M 5 6L10 6",size:10},"dashed-vertical":{d:"M1,0L1,5M6,5L6,10",size:10},"diagonal-brick":{d:"M5,0L0,5M0,5L5,10M5,10L10,5",size:10},"large-grid":{d:"M0,0L10,0M10,0L10,10",size:10},"small-grid":{d:"M0,0L5,0M5,0L5,5"},"solid-diamond":{d:"M0,1L4,5 0,9M10,1L6,5 10,9",size:10,inside:!0,borderColor:"transparent"},"outlined-diamond":{d:"M0,0L10,10M10,0L0,10",size:10,strokeWidth:1},wave:{d:"M1,2.5C2,5 4,5 5,2.5S8,0 9,2.5",granualWidth:10,insideBack:!0},weave:{d:"M3,0L0,3M0,3L7,10M7,10L10,7M10,7L3,0M2, 5L0, 7M5, 8L3, 10M8, 5L10, 3",size:10},"zig-zag":{d:"M0,5L5,0M5,0L10,5",granualWidth:10},percent05:{p:[[2.5,7.5],[7.5,2.5]],size:10},percent10:{p:[[1.5,4],[6.5,1.5]],granualWidth:10},percent20:{p:[[1,3.5],[3.5,1]]},percent25:{p:[[1,1.75],[3.5,.5]],granualHeight:2.5},"dotted-grid":{p:[[1,8.5],[3.5,8.5],[6,8.5],[8.5,8.5],[8.5,1],[8.5,3.5],[8.5,6]],size:10},"dotted-diamond":{p:[[4,1],[1.5,3.5],[6.5,3.5],[9,6],[1.5,8.5],[6.5,8.5]],size:10},dotted:{template:"circle"},image:{template:"image"},"image-large":{template:"image",size:10}},qx={line:function(t){var e=s((t=sh(t)).c,4);return hh(t.pattern,[{tag:"line",attr:{x1:e[0],y1:e[1],x2:e[2],y2:e[3],stroke:t.color,"stroke-width":t.strokeWidth,strokeDashArray:t.dashArray}}],t)},path:function(t){var e=(t=sh(t)).pattern,i=[{tag:"path",attr:{d:t.d,fill:t.inside?t.color:t.insideBack?t.backgroundColor:void 0,"stroke-width":t.strokeWidth||1,"border-color":t.borderColor,strokeDashArray:t.dashArray}}];return i.unshift({tag:"rect",attr:{width:t.granualWidth,height:t.granualHeight,fill:t.backgroundColor||"none","stroke-width":0}}),ah(e,[{tag:"g",attr:{stroke:t.color||"black","stroke-width":t.strokeWidth||1,childNodes:i}}],t)},point:function(t){return hh((t=sh(t)).pattern,Cd(t.p,(function(e){return{tag:"circle",attr:{cx:e[0],cy:e[1],r:.5,fill:t.color}}})),t)},circle:function(t){return hh((t=sh(t)).pattern,[{tag:"circle",attr:{cx:t.granualWidth/2,cy:t.granualHeight/2,r:.5,fill:t.color,transform:t.transform}}],t)},image:function(t){var e=/(.*)\((.*)\)/g.exec(t.color);if(!e)return null;var i=(e=s(e,3))[2];return e[1]&&i?(e=Ye(i,", "),t.color=Yd(e[0],"'\""),hh((t=sh(t)).pattern,[{tag:"image",attr:{width:t.granualWidth,height:t.granualHeight,src:t.color}}],t)):null}},Kx={translate:[[0,0],function(t){return 0===(t=Id(t)?t:[t.x,t.y])[0]&&0===t[1]?null:t}],rotate:[[0,0,0],function(t){return 0===(t=Id(t)?t:[t,0,0])[0]&&0===t[1]&&0===t[2]?null:t}],scale:[[1],function(t){return 1===(t=Id(t)?t:[t])[0]?null:t}]},Qx=function(t,e,i){return[$x(t[0],e[0],i),$x(t[1],e[1],i)]},$x=function(t,e,i){return t+(e-t)*i},Jx=function(t,e,i){return t+(e-t)*i},tb=function(t,e,i){return t+(e-t)*(1-i)},eb=function(t){return t&&t.val?t.val:t},ib=function(t){return t+""},nb=function(t){return Oe(t)?1:t},rb=function(t){return Oe(t)?0:t},ob=function(t,e,i){t=t||"black",e=e||"black",i=i.colorAnimation;var n=e&&e.meta&&e.meta.pattern;return!n&&t&&t.meta&&t.meta.pattern?Pr(t.meta.backgroundColor,e,i):(n?jr:Pr)(t,e,i)},sb={x:[ib,null,!0],y:[ib,null,!0],start:[ib,null,!0],end:[ib,null,!0],width:[ib,null,!0],height:[ib,null,!0],opacity:[nb,null,!1],rotate:[rb,null,!1],offsetX:[rb,null,!1],offsetY:[rb,null,!1],display:[ib,null,!1],transform:[function(t){return t},null,!1],fill:[eb,ob,!0],stroke:[eb,ob,!0],"stroke-opacity":[nb,null,!1],"stroke-width":[nb,null,!1],text:[eb,function(t,e){return xr(t,e)},!0],d:[eb,function(t,e,i){return wh(t&&t.isPath?t:Ca(t),e&&e.isPath?e:Ca(e),i.pathAnimation)},!1]},ab=/cubic-bezier\(\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*\)/,hb=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/,lb=function(t,e){return function(i){if(1<=i)return 1;var n=1/t;return(i+=e*n)-i%n}},ub=function(t){return t},cb={activeDuration:0,totalDuration:0,delay:0,endDelay:0,fill:"none",iterationStart:0,iterations:1,duration:0,playbackRate:1,direction:"normal",easing:"linear",easingFunction:ub},pb=function(t){return t},fb=function(t,e,i){if("number"==typeof e)return t=t||0,Math.round(1e4*(i*(e-t)+t))/1e4;if("boolean"==typeof t&&"boolean"==typeof e)return 1>i&&!e?t:e;if(x(e)){var n={};return le(e,(function(r){return n[r]=fb(t[r],e[r],i)})),n}if(t.length==e.length){for(var r=[],o=0;o<t.length;o++)r.push(fb(t[o],e[o],i));return r}throw Error("Wrong interpolation arguments "+t+":"+e)};Zx.lineargradient=Zx.radialgradient=function(t,e){var i=t.nodeName.toLowerCase(),n=function(t,e){return Oe(t)?e:t},r=null;if("lineargradient"===i){var o={};Ad(["x1","y1","x2","y2"],(function(e){return o[e]=n(t.attr(e),0)})),(r={linearGradient:o}).id=r.linearGradient.id=e}else if("radialgradient"===i){var s={};Ad(["cx","cy","r","fx","fy"],(function(e){return s[e]=n(t.attr(e),0)})),(r={radialGradient:s}).id=r.radialGradient.id=e}r&&(r.stops=Cd(t.childNodes,(function(t){return[n(t.attr("offset"),"0%"),n(t.attr("stop-color"),"black"),n(t.attr("stop-opacity"),"1")]})),t.val=r)};var db=function(t,e){return Te(t)?e:_e(t)&&Ud(t,"%")?t:100*t+"%"},mb={linearGradient:{keyPrefix:"linear-gradient",argsToAttrs:function(t){var e=t.linearGradient;if(Id(e)){var i=s(e,6),n=i[0],r=i[1],o=i[2],a=i[3],h=i[4];i=i[5],h=h||e.hash||t.hash,i=i||e.id||t.id}else n=e.x1,o=e.x2,r=e.y1,a=e.y2,h=e.hash,i=e.id;return{attrs:{x1:n,x2:o,y1:r,y2:a,id:i,hash:h},stops:t.stops}},toString:function(t){return db(t.x1,"0%")+" "+db(t.y1,"0%")+" "+db(t.x2,"100%")+" "+db(t.y2,"0%")}},radialGradient:{keyPrefix:"radial-gradient",argsToAttrs:function(t){var e=t.radialGradient;if(Id(e)){var i=s(e,7),n=i[0],r=i[1],o=i[2],a=i[3],h=i[4],l=i[5];i=i[6],l=l||e.hash||t.hash,i=i||e.id||t.id}else n=e.cx,r=e.cy,o=e.r,a=e.fx,h=e.fy,l=e.hash,i=e.id;return{attrs:{cx:n,cy:r,r:o,fx:a,fy:h,id:i,hash:l},stops:t.stops}},toString:function(t){return db(t.cx,"50%")+" "+db(t.cy,"50%")+" "+db(t.r,"50%")+" "+db(t.fx,db(t.cx,"50%"))+" "+db(t.fy,db(t.cy,"50%"))}},stopToString:function(t){return db(t.offset)+" "+t.color+" "+t.opacity}},gb={},vb=function(t,e){if(!t)return t;if(_e(t))return l(gb,t)?gb[t](t,e):t;var i,n={};for(i in t)if(l(t,i)){var r=t[i];l(gb,i)?gb[i](i,e,r,n,t):n[i]=r}return n},yb=function(){function t(){}return t.prototype.resolve=function(t,e){return vb(t,e)},t}();Zg[1]=new yb;var xb={src:"xlink:href",fontWeight:"font-weight",fontStyle:"font-style",fontSize:"font-size",fontFamily:"font-family",textDecoration:"text-decoration",className:"class",strokeDashArray:"stroke-dasharray",textRendering:"text-rendering",textAnchor:"text-anchor",whiteSpace:"white-space",textAlign:"text-align",borderRadius:"border-radius"},bb=ye(["d","animation","transition","clip-rule"]),wb=ye(["class","id","translate","opacity"]),Ab={color:"fill",fill:"fill",stroke:"stroke",borderColor:"stroke","border-color":"stroke",hatch:"fill",hatchPattern:"fill"},Cb={fill:"color",stroke:"border-color"},Sb=["stroke-width","strokeWidth","border-width","borderWidth"],kb=["strokeAttrs","stroke","stroke-color","strokeColor"],_b={transform:"transform"};le(Kx,(function(t){return _b[t]="transform"}));var Mb={zIndex:"z-index","z-index":"z-index"},Tb={"ease-out-cubic":"cubic-bezier(.215, .61, .355, 1)","ease-in-out-cubic":"cubic-bezier(.645, .045, .355, 1)","ease-in-circ":"cubic-bezier(.6, .04, .98, .335)","ease-out-circ":"cubic-bezier(.075, .82, .165, 1)","ease-in-out-circ":"cubic-bezier(.785, .135, .15, .86)","ease-in-expo":"cubic-bezier(.95, .05, .795, .035)","ease-out-expo":"cubic-bezier(.19, 1, .22, 1)","ease-in-out-expo":"cubic-bezier(1, 0, 0, 1)","ease-in-quad":"cubic-bezier(.55, .085, .68, .53)","ease-out-quad":"cubic-bezier(.25, .46, .45, .94)","ease-in-out-quad":"cubic-bezier(.455, .03, .515, .955)","ease-in-quart":"cubic-bezier(.895, .03, .685, .22)","ease-out-quart":"cubic-bezier(.165, .84, .44, 1)","ease-in-out-quart":"cubic-bezier(.77, 0, .175, 1)","ease-in-quint":"cubic-bezier(.755, .05, .855, .06)","ease-out-quint":"cubic-bezier(.23, 1, .32, 1)","ease-in-out-quint":"cubic-bezier(.86, 0, .07, 1)","ease-in-sine":"cubic-bezier(.47, 0, .745, .715)","ease-out-sine":"cubic-bezier(.39, .575, .565, 1)","ease-in-out-sine":"cubic-bezier(.445, .05, .55, .95)","ease-in-back":"cubic-bezier(.6, -.28, .735, .045)","ease-out-back":"cubic-bezier(.175, .885, .32, 1.275)","ease-in-out-back":"cubic-bezier(.68, -.55, .265, 1.55)"},Ob=ye(["d","animation","transition","fill","display"]),zb=new RegExp(String.fromCharCode(160),"gm");Ad([function(){Dh(ze(xb),Eh)},function(){Dh(["attr"],Ph)},function(){Dh(["d"],Bh)},function(){Dh(["overflow"],Lh)},function(){Dh(["clipPath"],Rh)},function(){Dh(["shadow"],Vh)},function(){Dh(ze(Ab),jh)},function(){Dh(Sb,Yh),Dh(kb,Uh)},function(){Dh(ze(_b),Zh)},function(){Dh(ze(Mb),Xh)},function(){Dh(["easing"],qh)},function(){Dh(["mask"],Kh)},function(){Dh(["text"],Qh)}],(function(t){return t()}));var Db={transform:function(t,e){var i={translate:[0,0],scale:[1],rotate:[0,0,0]},n=t?ge(i,t,Kx):i,r=e?ge(i,e,Kx):i;return t={},le(Kx,(function(t){null===n[t]&&(n[t]=Kx[t][0]),null===r[t]&&(r[t]=Kx[t][0]),"rotate"===t&&(n[t][1]=r[t][1],n[t][2]=r[t][2])})),t.transform={interpolate:function(t){return function(t,e,i){var n={},r=[];le(Kx,(function(o){var s=Kx[o][1](fb(e[o],i[o],t));(null!=s||e[o])&&(s&&r.push(o+"("+Pd(s,",")+")"),n[o]=s)}));var o=r.length?Pd(r," "):null;return o&&(n.val=o),o?n:null}(t,n,r)}},{complex:!0,props:t}},display:function(t,e){return{from:"block"==t,to:"block"==e,convert:function(t){return t?"block":"none"}}}},Eb=function(t,e){return{from:parseFloat(t),to:parseFloat(e),convert:pb}},Pb=function(t,e){return{from:Th(t),to:Th(e),convert:pb}};Ad("opacity rotate offsetX offsetY start end stroke-width stroke-opacity".split(" "),(function(t){return Db[t]=Eb})),Ad(["x","y","width","height"],(function(t){return Db[t]=Pb}));var Bb,Lb=function(){},Rb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.update=function(t){},e}(Lb),Fb=function(t){function e(e){var i=t.call(this)||this;return i.frameHandler=e,i}return n(e,t),e.prototype.update=function(t){this.frameHandler(t)},e}(Lb),Vb=function(t){function e(e,i){var n=t.call(this)||this;return n.frames=e,n.parseFrames(),i&&i.onFrame&&(n.onFrame=i.onFrame),n}return n(e,t),e.prototype.update=function(t){var e={},i=this.interpolations;le(i,(function(n){var r=i[n];e[n]=r.interpolate?r.interpolate(t):r.convert(fb(r.from,r.to,t))})),this.onFrame&&this.onFrame(t,e,fb)},e.prototype.parseFrames=function(){var t=this.frames[0],e=this.frames[this.frames.length-1],i={};le(e,(function(n){if(l(Db,n)){var r=Db[n](t[n],e[n]);r&&(r.complex?ue(i,r.props):i[n]=r)}})),this.interpolations=i},e}(Lb),Ib=function(t){function e(e,i,n,r){var o=t.call(this)||this;return o.timeLine=n,o.idle=!0,o.paused=!1,o.currentTimePending=!1,o.finishedFlag=!0,o._startTime=null,o._currentTime=0,o.playbackRate=1,o.inEffect=!1,o.effectTime=Mh(i),e=z(e)?new Fb(e):Id(e)&&1<e.length?new Vb(e,i):new Rb,o.effect=e,o.onFinishAnimation=i.onFinishAnimation,o._final=i.final,o.scope=i.scope,o.renderer=r,o}return n(e,t),e.prototype.play=function(){this.paused=!1,(this.isFinished()||this.idle)&&(this.rewind(),this._startTime=null),this.idle=this.finishedFlag=!1},e.prototype.pause=function(){this.isFinished()||this.paused||this.idle?this.idle&&(this.rewind(),this.idle=!1):this.currentTimePending=!0,this._startTime=null,this.paused=!0},e.prototype.finish=function(){if(!this.idle){var t=this.effectTime.options;this._currentTime=0<this.playbackRate?t.totalDuration:0,this._startTime=t.totalDuration-this._currentTime,this.currentTimePending=!1}},e.prototype.cancel=function(){this.inEffect&&(this.inEffect=!1,this.idle=!0,this.paused=!1,this.finishedFlag=!0,this._currentTime=0,this._startTime=null,this.updateEffect(null))},e.prototype.reverse=function(){this.playbackRate*=-1,this.play()},e.prototype.playState=function(){return this.idle?"idle":null==this._startTime&&!this.paused&&0!==this.playbackRate||this.currentTimePending?"pending":this.paused?"paused":this.isFinished()?"finished":"running"},e.prototype.isFinished=function(){var t=this.effectTime.options.totalDuration;return!this.idle&&(0<this.playbackRate&&(this._currentTime>t||this._currentTime===t&&0!==t)||0>this.playbackRate&&0>=this._currentTime)},e.prototype.frame=function(){var t=this;this.idle||this.paused||(null==this._startTime?this._startTime=this.timeLine.currentTime-this._currentTime/this.playbackRate:this.isFinished()||this.tickCurrentTime((this.timeLine.currentTime-this._startTime)*this.playbackRate)),this.currentTimePending=!1,this.isFinished()?this.finishedFlag||(this.onFinish&&Qm.setTimeout((function(){t.onFinish()}),0),this.finishedFlag=!0):this.finishedFlag=!1},e.prototype.startTime=function(){return this._startTime},e.prototype.currentTime=function(){return this._currentTime},e.prototype.rewind=function(){var t=this.effectTime.options;if(0<=this.playbackRate)this._currentTime=0;else{if(!(1/0>t.totalDuration))throw Error("Unable to rewind negative playback rate animation with infinite duration");this._currentTime=t.totalDuration}},e.prototype.tickCurrentTime=function(t){t!==this._currentTime&&(this._currentTime=t,this.updateEffect(0>this.playbackRate&&0===this._currentTime?-1:this._currentTime))},e.prototype.updateEffect=function(t){t=this.effectTime(t),this.inEffect=null!==t,this.effect.update(null===t?1:t)},e.prototype.finishAnimation=function(t){this.finish(),t&&(this.updateEffect(null),this.finishedFlag||(this.finishedFlag=!0,this.onFinish&&this.onFinish())),this.onFinish=null,this.onFinishAnimation&&this.onFinishAnimation(),this._final&&this._final()},e}((function(){})),Nb=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ticking=!1,e.animations=[],e._awaitCallbacks=[],e._framesCount=0,e}return n(e,t),e.prototype.animate=function(t,e,i){return t=new Ib(t,e,this,i),this.animations.push(t),t.play(),this.startAnimationsFrame(),t},e.prototype.getAnimations=function(t){return this.discardAnimations(),t?md(this.animations,(function(e){return e.scope===t})):this.animations},e.prototype.getOwnAnimations=function(t){return this.discardAnimations(),md(this.animations,(function(e){return e.renderer===t}))},e.prototype.await=function(t){this.ticking?this._awaitCallbacks.push(t):t(0)},e.prototype.startAnimationsFrame=function(){var t=this;t.ticking||(t.ticking=!0,t._framesCount=0,Qm.requestAnimationFrame((function(e){return t.frame(e)})))},e.prototype.frame=function(t){var e=this;e.currentTime=t,e._framesCount++,Ad(e.animations,(function(t){return t.frame()})),e.discardAnimations(),0===e.animations.length?e.final():Qm.requestAnimationFrame((function(t){return e.frame(t)}))},e.prototype.discardAnimations=function(){this.animations=md(this.animations,(function(t){return"finished"!==(t=t.playState())&&"idle"!==t}))},e.prototype.final=function(){var t=this._awaitCallbacks.slice(),e=this._framesCount;this.ticking=!1,this._awaitCallbacks=[],setTimeout((function(){Ad(t,(function(t){return t(e)}))}))},e}((function(){})),jb=(new(function(){function t(){}return t.prototype.create=function(){return new Nb},t}())).create(),Wb={},Hb=function(){function t(){}return t.prototype.createEventsProcessorType=function(){return"ontouchstart"in Qm?Qb:"PointerEvent"in Qm?$b:Kb},t}(),Yb=function(){function t(){this.subscribedEvents={}}return t.prototype.isStoreEvent=function(t){return null!=Wb[t]},t.prototype.addEvent=function(t,e,i){var n=Wb[e];return!!n&&(this.subscribedEvents[e]||(this.subscribedEvents[e]=[]),(t=new n(t,i)).on(),this.subscribedEvents[e].push(t),!0)},t.prototype.removeEvent=function(t,e,i){if(!this.isStoreEvent(e))return!1;if(!this.subscribedEvents[e])return!0;for(var n=this.subscribedEvents[e].length,r=0;r<n;r++){var o=this.subscribedEvents[e][r];o.eventTarget!==t||i&&o.fn!==i||(this.subscribedEvents[e].splice(r,1),o.un(),n--)}return!0},t}(),Ub={},Gb=function(){function t(t,e){var i=this;this.eventTarget=t,this.fn=e,this.pointers={},this.pointerEvents=["pointerdown","pointerenter","pointerout"],this.publicPointerEvents=["pointermove","pointerup","pointercancel","pointerout"],this.touchEvents=["touchstart","touchend","touchmove","touchcancel"],this.publicTouchEvents=[],this.mouseEvents=["mousedown","mousemove","mouseover","mouseout","mouseup"],this.publicMouseEvents=[],this.innerEventsHandler=function(t){t.type===Bb.Down&&(i.pointers[t.id]=t),i.processEventDescription(t),t.eventData.pointers=i.pointersToArray(),i.eventsHandler(t),t.type===Bb.Move&&i.pointers[t.id]&&(i.pointers[t.id]=t),t.type!==Bb.Up&&t.type!==Bb.Leave||(delete i.pointers[t.id],delete Ub[t.id])}}return t.prototype.on=function(){this.hasSubscription||(this.subscribe(),this.hasSubscription=!0)},t.prototype.un=function(){this.hasSubscription&&(this.unsubscribe(),this.hasSubscription=!1)},t.prototype.clearPointers=function(){for(var t in Ub)delete Ub[t]},t.prototype.pointersToArray=function(){var t,e=[];for(t in Ub)e.push(Ub[t]);return e},t.prototype.subscribe=function(){this.eventsProcessor=new((new Hb).createEventsProcessorType())(this.eventTarget,this.innerEventsHandler,{pointerEvents:this.pointerEvents,publicPointerEvents:this.publicPointerEvents,touchEvents:this.touchEvents,publicTouchEvents:this.publicTouchEvents,mouseEvents:this.mouseEvents,publicMouseEvents:this.publicMouseEvents}),this.eventsProcessor.subscribe()},t.prototype.unsubscribe=function(){this.eventsProcessor.unsubscribe()},t.prototype.processEventDescription=function(t){Ub[t.id]=new Jb(t.id,t.pageX,t.pageY,t.clientX,t.clientY)},t}();(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pointerEvents=["pointerdown"],e.publicPointerEvents=["pointerup","pointercancel"],e.touchEvents=["touchstart"],e.publicTouchEvents=["touchend","touchcancel"],e.mouseEvents=["mousedown"],e.publicMouseEvents=["mouseup","mouseout"],e}n(e,t),e.prototype.eventsHandler=function(t){t.type===Bb.Down&&(t.eventData.customEventType="vdown",tl(t,this.eventTarget),this.fn(t.eventData))},r([$h("vdown")],e)})(Gb),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}n(e,t),e.prototype.subscribe=function(){var t=this;t.eventsProcessor=new qb(t.eventTarget,(function(e){return t.eventsHandler(e)}),{events:["keyup"]}),t.eventsProcessor.subscribe()},e.prototype.eventsHandler=function(t){13==t.keyCode&&this.fn(t)},e=r([$h("vkeyenter")],e)}(Gb),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}n(e,t),e.prototype.subscribe=function(){var t=this;t.eventsProcessor=new qb(t.eventTarget,(function(e){return t.eventsHandler(e)}),{events:["focus","blur"]}),t.eventsProcessor.subscribe()},e.prototype.eventsHandler=function(t){"focus"===t.type?t.hasFocus=!0:"blur"===t.type&&(t.hasFocus=!1),this.fn(t)},e=r([$h("vchangefocus")],e)}(Gb),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pointerEvents=["pointerup","pointercancel"],e.publicPointerEvents=[],e.touchEvents=["touchend","touchcancel"],e.mouseEvents=["mouseup","mouseout"],e}n(e,t),e.prototype.eventsHandler=function(t){t.type===Bb.Up&&(t.eventData.customEventType="vup",tl(t,this.eventTarget),this.fn(t.eventData))},e=r([$h("vup")],e)}(Gb),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pointerEvents=["pointermove","pointerdown","pointerout","pointerleave"],e.publicPointerEvents=["pointerup","pointercancel"],e.touchEvents=["touchmove","touchstart","touchend","touchcancel"],e.mouseEvents=["mousemove","mousedown","mouseup"],e.downArgs=[],e._resetDiff=4,e}n(e,t),e.prototype.subscribe=function(){t.prototype.subscribe.call(this)},e.prototype.eventsHandler=function(t){var e=Ie(this.downArgs,"id",t.id);switch(t.type){case Bb.Down:if(!Jh(t.eventData))break;this.downArgs.push(t);break;case Bb.Move:if(!e)break;var i=e.clientX-t.clientX;i*i+(t=e.clientY-t.clientY)*t>this._resetDiff&&this.downArgs.splice(this.downArgs.indexOf(e),1);break;case Bb.Up:e&&e.id===t.id&&e.eventData.target===t.eventData.target&&(t.eventData.customEventType="vclick",tl(t,this.eventTarget),this.fn(t.eventData),this.downArgs.splice(this.downArgs.indexOf(e),1))}},e=r([$h("vclick")],e)}(Gb),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pointerEvents=["pointerenter","pointerleave","pointercancel"],e.publicPointerEvents=[],e.touchEvents=["touchstart","touchend","touchcancel"],e.mouseEvents=["mouseover","mouseout"],e}n(e,t),e.prototype.eventsHandler=function(t){switch(t.type){case Bb.Down:case Bb.Enter:t.eventData.customEventType="venter",tl(t,this.eventTarget),this.fn(t.eventData)}},e=r([$h("venter")],e)}(Gb),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pointerEvents=["pointerout","pointercancel"],e.publicPointerEvents=[],e.touchEvents=["touchend","touchcancel"],e.mouseEvents=["mouseout"],e}n(e,t),e.prototype.eventsHandler=function(t){switch(t.type){case Bb.Up:case Bb.Leave:t.eventData.customEventType="vleave",this.fn(t.eventData)}},e=r([$h("vleave")],e)}(Gb),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pointerEvents=["pointermove"],e.touchEvents=["touchmove"],e.mouseEvents=["mousemove"],e.publicPointerEvents=["pointerup","pointercancel"],e.publicTouchEvents=["touchend","touchcancel"],e.publicMouseEvents=["mouseup","mouseout"],e}n(e,t),e.prototype.eventsHandler=function(t){t.type===Bb.Move&&(t.eventData.customEventType="vmove",tl(t,this.eventTarget),this.fn(t.eventData))},e=r([$h("vmove")],e)}(Gb),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeoutId=null,e.timeout=750,e}n(e,t),e.prototype.eventsHandler=function(t){var e=this;switch(t.type){case Bb.Down:this.timeoutId=setTimeout((function(){e.fn({type:"taphold",clientX:t.clientX,clientY:t.clientY}),e.timeoutId=null}),this.timeout);break;case Bb.Move:case Bb.Up:this.reset()}},e.prototype.reset=function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)},e=r([$h("taphold")],e)}(Gb),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.distance=0,e.distanceX=0,e.distanceY=0,e.threshold=.3,e}n(e,t),e.prototype.eventsHandler=function(t){switch(t.type){case Bb.Move:this.callPinchEvent(t);break;case Bb.Up:2===Object.keys(this.pointers).length&&(this.distance=0)}},e.prototype.callPinchEvent=function(t){var e=Object.keys(this.pointers);if(2!==e.length)this.distance=0;else{var i=this.pointers[e[0]],n=this.pointers[e[1]],r=!1,o=!1;i.id===t.id?(r=(i=t).clientX<n.clientX,o=i.clientY<n.clientY):n.id===t.id&&(r=(n=t).clientX<i.clientX,o=n.clientY<i.clientY);var s=this.calculateDistance(i,n),a=this.calculateAxisDistance(i,n,{x:1,y:0}),h=this.calculateAxisDistance(i,n,{x:0,y:1});if(0===this.distance)this.distance=s,this.distanceX=a,this.distanceY=h;else{var l=s-this.distance;if(!(Math.abs(l)<this.threshold)){var u=a-this.distanceX,c=h-this.distanceY;this.distance=s,this.distanceX=a,this.distanceY=h,this.fn({type:"pinch",distance:this.distance,offset:l,offsetX:u,offsetY:c,isLeftPointer:r,isTopPointer:o,pointersCount:e.length,eventData:t.eventData,firstClientX:i.clientX,firstClientY:i.clientY,secondClientX:n.clientX,secondClientY:n.clientY})}}}},e.prototype.calculateDistance=function(t,e){var i=e.clientX-t.clientX;return t=e.clientY-t.clientY,Math.sqrt(i*i+t*t)},e.prototype.calculateAxisDistance=function(t,e,i){return Math.abs(i.x*e.clientX+i.y*e.clientY-(i.x*t.clientX+i.y*t.clientY))},e=r([$h("pinch")],e)}(Gb),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}n(e,t),e.prototype.eventsHandler=function(t){t.type===Bb.Move&&this.callMoveEvent(t)},e.prototype.callMoveEvent=function(t){var e=t.id;this.pointers[e]&&this.fn({type:"move",offsetX:t.clientX-this.pointers[e].clientX,offsetY:t.clientY-this.pointers[e].clientY,pointersCount:Object.keys(this.pointers).length})},e=r([$h("move")],e)}(Gb),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}n(e,t),e.prototype.timeoutInterval=function(){return 500},e.prototype.resetTimeoutInterval=function(){return 300},e.prototype.getName=function(){return"DoubleTapEvent"},e.prototype.tapCount=function(){return 2},e=r([$h("doubletap")],e)}(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeoutId=null,e.resetTimeoutId=null,e.currentTapCount=0,e}return n(e,t),e.prototype.eventsHandler=function(t){var e=this;switch(t.type){case Bb.Down:clearTimeout(this.timeoutId),clearTimeout(this.resetTimeoutId),this.currentTapCount++,this.timeoutId=setTimeout((function(){e.currentTapCount===e.tapCount()&&(t.eventData.customEventType=e.getName(),tl(t,e.eventTarget),e.fn(t.eventData)),e.currentTapCount=0}),this.timeoutInterval());break;case Bb.Up:this.resetTimeoutId=setTimeout((function(){e.currentTapCount=0}),this.resetTimeoutInterval())}},e}(Gb)),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}n(e,t),e.prototype.getName=function(){return"vdblclick"},e.prototype.clicksCount=function(){return 2},e.prototype.timeout=function(){return 300},e=r([$h("vdblclick")],e)}(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.downArgs=[],e.currentClicksCount=0,e}return n(e,t),e.prototype.eventsHandler=function(t){var e=this,i=Ie(this.downArgs,"id",t.id);switch(t.type){case Bb.Down:if(!Jh(t.eventData))break;clearTimeout(this.timeoutId),this.downArgs.push(t);break;case Bb.Up:i&&i.id===t.id&&i.eventData.target===t.eventData.target&&(clearTimeout(this.timeoutId),this.currentClicksCount++,t.eventData.customEventType=this.getName(),this.currentClicksCount===this.clicksCount()?(this.fn(t.eventData),this.currentClicksCount=0):this.timeoutId=setTimeout((function(){e.currentClicksCount=0}),this.timeout()),this.downArgs.splice(this.downArgs.indexOf(i),1))}},e}(Gb)),function(t){t[t.None=0]="None",t[t.Down=1]="Down",t[t.Move=2]="Move",t[t.Enter=3]="Enter",t[t.Leave=4]="Leave",t[t.Up=5]="Up"}(Bb||(Bb={}));var Zb=function(t,e,i,n,r,o,s){this.type=t,this.id=e,this.pageX=i,this.pageY=n,this.clientX=r,this.clientY=o,this.eventData=s},Xb=function(){function t(t,e,i){void 0===i&&(i={}),this.el=t,this.eventsHandler=e,this.options=i}return t.prototype.getWindowForElement=function(){var t=this.el;return(t=t.ownerDocument||t).defaultView||t.parentWindow||Qm},t.prototype.triggerEventsHandler=function(t){this.eventsHandler&&this.eventsHandler(t)},t.prototype.handleEvents=function(t,e,i,n){var r;if(t&&t.length){try{for(var s=o(t),a=s.next();!a.done;a=s.next())this.el[e](a.value,i,n)}catch(t){var h={error:t}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(h)throw h.error}}return!0}return!1},t.prototype.handlePublicEvents=function(t,e,i,n){var r,s=this.getWindowForElement();if(t&&t.length){try{for(var a=o(t),h=a.next();!h.done;h=a.next())s[e](h.value,i,n)}catch(t){var l={error:t}}finally{try{h&&!h.done&&(r=a.return)&&r.call(a)}finally{if(l)throw l.error}}return!0}return!1},t}(),qb=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handler=function(t){e.triggerEventsHandler(t)},e}return n(e,t),e.prototype.subscribe=function(){this.handleEvents(this.options.events,"addEventListener",this.handler),this.handlePublicEvents(this.options.publicEvents,"addEventListener",this.handler)},e.prototype.unsubscribe=function(){this.handleEvents(this.options.events,"removeEventListener",this.handler),this.handlePublicEvents(this.options.publicEvents,"removeEventListener",this.handler)},e}(Xb),Kb=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handler=function(t){switch(t.type.toLowerCase()){case"mousedown":var i=Bb.Down;break;case"mousemove":i=Bb.Move;break;case"mouseover":i=Bb.Enter;break;case"mouseout":i=Bb.Leave;break;case"mouseup":i=Bb.Up}e.triggerEventsHandler(new Zb(i,"1",t.pageX,t.pageY,t.clientX,t.clientY,t))},e}return n(e,t),e.prototype.subscribe=function(){this.handleEvents(this.options.mouseEvents,"addEventListener",this.handler),this.handlePublicEvents(this.options.publicMouseEvents,"addEventListener",this.handler)},e.prototype.unsubscribe=function(){this.handleEvents(this.options.mouseEvents,"removeEventListener",this.handler),this.handlePublicEvents(this.options.publicMouseEvents,"removeEventListener",this.handler)},e}(Xb),Qb=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handler=function(t){switch(t.type.toLowerCase()){case"touchstart":e.triggerTouchEvent(Bb.Down,t);break;case"touchmove":e.triggerTouchEvent(Bb.Move,t);break;case"touchend":case"touchcancel":e.triggerTouchEvent(Bb.Up,t)}},e}return n(e,t),e.prototype.subscribe=function(){this.handleEvents(this.options.touchEvents,"addEventListener",this.handler,{passive:!1}),this.handlePublicEvents(this.options.publicTouchEvents,"addEventListener",this.handler,{passive:!1})},e.prototype.unsubscribe=function(){this.handleEvents(this.options.touchEvents,"removeEventListener",this.handler),this.handlePublicEvents(this.options.publicTouchEvents,"removeEventListener",this.handler)},e.prototype.triggerTouchEvent=function(t,e){for(var i=0;i<e.changedTouches.length;i++){var n=e.changedTouches[i];this.triggerEventsHandler(new Zb(t,n.identifier,n.pageX,n.pageY,n.clientX,n.clientY,e))}},e}(Xb),$b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handler=function(t){var i=t.type,n=e.getIdFromEvent(t);switch(i.toLowerCase()){case"pointerdown":var r=Bb.Down;break;case"pointermove":r=Bb.Move;break;case"pointerenter":r=Bb.Enter;break;case"pointerout":r=Bb.Leave;break;case"pointerup":case"pointercancel":case"pointerleave":r=Bb.Up}e.triggerEventsHandler(new Zb(r,n,t.pageX,t.pageY,t.clientX,t.clientY,t))},e}return n(e,t),e.prototype.subscribe=function(){this.handleEvents(this.options.pointerEvents,"addEventListener",this.handler),this.handlePublicEvents(this.options.publicPointerEvents,"addEventListener",this.handler)},e.prototype.unsubscribe=function(){this.handleEvents(this.options.pointerEvents,"removeEventListener",this.handler),this.handlePublicEvents(this.options.publicPointerEvents,"removeEventListener",this.handler)},e.prototype.getIdFromEvent=function(t){return t.pointerId.toString()},e}(Xb),Jb=function(t,e,i,n,r){this.id=t,this.pageX=e,this.pageY=i,this.clientX=n,this.clientY=r},tw=ye(["div","input","button"]),ew=function(t){return!!t&&l(tw,t.toLowerCase())},iw=function(t,e,i){return e=i||"svg",(e=ew(t)?"http://www.w3.org/1999/xhtml":"svg"===e?"http://www.w3.org/2000/svg":"html"===e?"http://www.w3.org/1999/xhtml":void 0)?$m.createElementNS(e,t):$m.createElement(t)},nw=function(t){if(t){var e=t.parentNode;e&&e.removeChild(t)}},rw="alt disabled href id src style title class onclick tabindex role aria-label".split(" "),ow=["user-select","outline"],sw=function(t){return 0===t.lastIndexOf("xml:",0)?"http://www.w3.org/XML/1998/namespace":0===t.lastIndexOf("xlink:",0)?"http://www.w3.org/1999/xlink":void 0},aw=function(t,e){return t=t.tagName.toLowerCase(),ew(t)&&-1===rw.indexOf(e)||-1<ow.indexOf(e)},hw={width:"0",height:"0",x:"0",y:"0","z-index":"0",fill:"black",stroke:"none",opacity:"1","stroke-width":"1",display:"inline",visibility:"visible",transform:"none","clip-path":"none"},lw=be("width,height,font-size,font-family"),uw={image:function(t,e){return t.createElement(Px,"image",e)},clipRect:function(t,e){return t.createElement(Yx,"clipPath",e)},clipPath:function(t,e){return t.createElement(Hx,"clipPath",e)},mask:function(t,e){return t.createElement(Ux,"mask",e)}},cw=function(t,e){var i=$m.createElement("div"),n=function(t){return'<div style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s;'+(t||"")+'"></div></div>'};i.style.cssText="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",i.innerHTML=n()+n(" width: 200%; height: 200%"),t.appendChild(i);var r,o,s,a,h=t.offsetWidth,l=t.offsetHeight,u=i.childNodes[0],c=u.childNodes[0],p=i.childNodes[1],f=function(){c.style.width="100000px",c.style.height="100000px",u.scrollLeft=1e5,u.scrollTop=1e5,p.scrollLeft=1e5,p.scrollTop=1e5};f();var d=function(){o=0,r&&(h=s,l=a,e.call())},m=function(){s=t.offsetWidth,a=t.offsetHeight,(r=s!==h||a!==l)&&!o&&(o=Qm.requestAnimationFrame(d)),f()};return n=function(t){t.attachEvent?t.attachEvent("onscroll",m):t.addEventListener("scroll",m)},n(u),n(p),Qm&&(Qm.addEventListener("beforeprint",(function(t){i&&(i.style.display="none")})),Qm.addEventListener("afterprint",(function(t){i&&(i.style.display="")}))),i},pw=function(t){function e(e){var i,n=(e=e||{}).container,r=e.textRendering,o=i=t.call(this,n,e.width,e.height,e.defaultWidth,e.defaultHeight)||this;if(function(t){t._s0={},t._s1={},t._s2={},t._s3={}}(o),o.disableAnimation=!1,o.eventsStore=new Yb,o._noRender=e.noRender,o._staticSize=e.staticSize,o._skipDomDestroy=e.skipDomDestroy,o._defaultOptions={transition:{animation:{duration:500,easing:"ease-in-out-circ"},generator:"default"}},o._measuringImages={},!o._noRender){o.initContainer(n),n=o.root&&o.root.el;var s=o.getSvgSize(),a=o.width||"100%",h=o.height||"100%";o.documentElement=new Mx($m.documentElement,o),o.root=n?o.root:o.svg({width:s.width,height:s.height,textRendering:r}),o.overlay=o.htmlElement("",{id:As("overlay"),position:"absolute",left:0,top:0}),o.wrapper=o.htmlElement("",{id:Cs("JSCharting_")}),o.wrapper.attr({width:a,height:h,"-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)",position:"relative"}),o.container.el.appendChild(o.wrapper.el),o.wrapper.el.appendChild(o.root.el),o.wrapper.el.appendChild(o.overlay.el),!e.staticSize&&(o._resizeSensor=cw(o.wrapper.el,(function(){return o.rootResize()})))}return i}return n(e,t),e.prototype.resubscribeResize=function(){var t=this;t._resizeSensor&&(t._resizeSensor.parentNode.removeChild(t._resizeSensor),t._resizeSensor=cw(t.wrapper.el,(function(){return t.rootResize()})))},e.prototype.setCursor=function(t){this._setCursor!==t&&this.processAttributes(this.wrapper,{cursor:t}),this._setCursor=t},e.prototype.getCursor=function(){return this._setCursor},e.prototype.element=function(t,e,i){var n=this;if(!Te(t)){if(t instanceof Mx)return t;if(l(uw,t))return uw[t](this,e);if(!_e(t))return this.element(t.tag,t.attr,i);var r=e?e.childNodes:null;r&&(e=Vd(e,["childNodes"]));var o=this.createElement(Mx,t,e,i);return o&&r&&Ad(r,(function(t){n.element(t).add(o)})),o}},e.prototype.isRootHidden=function(){var t=this.root&&this.root.el;return!t||"hidden"===(t=Qm.getComputedStyle(t)).visibility||"none"===t.display},e.prototype.isRootDestroyed=function(){var t=this.root;return!t||t.isDestroyed},e.prototype.add=function(t,e){var i=t.el instanceof HTMLElement,n=e&&e.el&&e.el instanceof HTMLElement;return e&&e.addElementToParent&&!i?(e.addElementToParent(t),t):(e=i?n?e:this.overlay:e||this.root,t.data.zIndex||e.data.ordered?(i=t.data.zIndex||0,e.data.ordered=!0,ll(e,t,i),t):(il(e,t),t))},e.prototype.addBefore=function(t,e){return nl(t,e),t},e.prototype.addAfter=function(t,e){return rl(t,e),t},e.prototype.attr=function(t,e,i){var n;if(Te(e))return cl(t),t;if(!e)return t;var r=_e(e),o=h(i),s=r&&!o,a=e;return r&&o&&((n={})[e]=i,a=n),t?a.transition?(t.transition(a.transition),t):(e=this.processAttributes(t,vb(a,t)),s?e:t):this.rootAttr(a,s)},e.prototype.rect=function(t,e,i,n,r,o){return Te(t)?this.element("rect"):(t=Me(t)?t:{x:t,y:e,width:i,height:n,rx:r,ry:o},this.element("rect",t))},e.prototype.circle=function(t,e,i){return Te(t)?this.element("circle"):(t=Me(t)?t:{cx:t,cy:e,r:i},this.element("circle",t))},e.prototype.image=function(t,e,i,n,r){return Te(t)?this.element("image"):(t=Me(t)?t:{src:t,x:e,y:i,width:n,height:r},this.createElement(Px,"image",t))},e.prototype.query=function(t,e){return e?this.wrap(el(t,e.el)):this.wrap(el(t))},e.prototype.queryAll=function(t){var e=this;return t=$m.querySelectorAll(t),Cd(t,(function(t){return e.wrap(t)}))},e.prototype.svg=function(t){return(t=this.createElement(Mx,"svg",t)).el.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.el.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.element("desc",{text:"Created with JSCharting"}).add(t),t},e.prototype.reCreateElement=function(t,e){var i=t.parentNode,n=iw(e);return t.destroy(),t.init(n,e),t.isPatched=!0,i&&t.add(i),t},e.prototype.destroy=function(t,e){var i=this;if(e=e||i._skipDomDestroy,t){var n=Ka(i);$a(i,t,(function(t){return n&&oh(i,t)}));var r=t.data.events;return r&&r.length&&Ad(r.slice(0),(function(e){return i.un(t,e.type,e.fn)})),!e&&function(t){nw(t.el),sl(t),t.childNodes=[],t.refNodes.length&&(Ad(t.refNodes,(function(t){return t.destroy()})),t.refNodes=[]),delete t.el}(t),t.isDestroyed=!0,t}return n&&n.destroy(),Ka(i,null),Qm.removeEventListener("resize",void 0,!1),function(t){return!!t&&-1<t.indexOf("_jsc")}(i.container.attr("id"))&&i.destroy(i.container),i.destroy(i.wrapper),i.destroy(i.overlay),i.destroy(i.documentElement,!0),i.destroy(i.root)},e.prototype.on=function(t,e,i){var n=function(e){return i.call(t,e)};return this.eventsStore.addEvent(t.el,e,n)||t.el.addEventListener(e,n,!1),(t.data.events=t.data.events||[]).push({type:e,fn:i,f:n}),t},e.prototype.un=function(t,e,i){if(!t.data.events)return t;for(var n=t.data.events=t.data.events||[],r=n.length-1;-1<r;r--){var o=n[r];o.type!==e&&e||o.fn!==i&&i||(this.eventsStore.removeEvent(t.el,o.type,o.f)||t.el.removeEventListener(o.type,o.f,!1),n.splice(r,1))}return t},e.prototype.box=function(t,e){var i,n=this;if(t&&(i=t.el)){var r=Qm.getComputedStyle(i),o=r.width,a=r.height;if(0<o.indexOf("px")&&0<a.indexOf("px")&&(o=parseInt(o),0===(a=parseInt(a))&&0===o&&i.getBBox&&(o=(i=i.getBBox()).width,a=i.height),0<=o&&0<=a))return{x:parseInt(r.x),y:parseInt(r.y),width:o,height:a}}e=function(t,e){if(h(e)){if(e){var i=s(Id(e)?e:[e.x,e.y,e.width,e.height],4);return i=hl(i[0],i[1],i[2],i[3]),t.data.box=i}delete t.data.box}if(t.data.box)return t.data.box;if(!(t=t.el))return hl();if("svg"===(e=t.nodeName.toLowerCase())||"div"===e)return t.parentNode?hl(0,0,(t=t.getBoundingClientRect()).width,t.height):hl(0,0,0,0);try{return hl((i=t.getBBox()).x,i.y,i.width,i.height)}catch(t){return hl()}}(t||this.root,e),r=h(this.width)&&Nd(this.width),i=h(this.height)&&Nd(this.height);var l=function(t){var e;return!(null!==(e=n.root)&&void 0!==e&&e.attr)||"100%"!==n.root.attr(t)};o=!e.width&&!r,a=!e.height&&!i;var u=o&&l("width");return l=a&&l("height"),t||!u&&!l||this._staticSize?(t||!o&&!a||(o=this.container.getBbox(),e.width=e.width||o.width,e.height=e.height||o.height),this._defaultSizeIsSet=!1):(e.width=e.width||this.defaultWidth,e.height=e.height||this.defaultHeight,(o=this.wrapper)&&Wg.emit("warning",o.attr("id"),"defaultSizeIsSet",{container:o.el}),this._defaultSizeIsSet=!0),t||(r&&(e.width=this.width),i&&(e.height=this.height)),e},e.prototype.isDefaultSizeSet=function(){return this._defaultSizeIsSet},e.prototype.pathInner=function(t,e){if(Te(e))return this.createElement(t,"path");var i=Id(e);return e=_e(e)||i?{d:i?Pd(e," "):e}:e,Id(e.d)&&(e.d=Pd(e.d," ")),e.d&&e.d.path&&(e.d=e.d.path),this.createElement(t,"path",e)},e.prototype.rootResize=function(){if(!this.width||!this.height){var t=this.root.attr("display"),e=this.getSvgSize(),i=this.root.renderer.defaultHeigh;t={width:e.width,display:t};var n=this.root.data.attrs.height,r=parseInt(n),o=p(this.root.el,["parentNode","parentElement"]);n===i+""?(i=o.offsetHeight,(n="chartGridSwitch"===(o=o.firstElementChild).classList.item(0))?i<r+(n&&o.offsetHeight)&&(t.height=e.height):i!==r&&(t.height=e.height)):t.height=e.height,this.root.attr(t)}Ix&&Ix.trigger()},e.prototype.getSvgSize=function(){var t=this.container.getBbox();return{width:this.width||(t.width?"100%":this.defaultWidth),height:this.height||(t.height?"100%":this.defaultHeight)}},e.prototype.wrap=function(t){return al(t,this)},e.prototype.createElement=function(t,e,i,n){return"path"===(t=new t(n=iw(e,null,n),this,e)).nodeName&&((i=i||{}).fill||(i.fill="none"),i.stroke||(i.stroke="none")),i&&t.attr(i),t.isPatched=!0,t},e.prototype.processAttributes=function(t,e){var i=this;if(e&&(e.beforeAttr&&(e.beforeAttr(e),delete e.beforeAttr),e.reset&&(cl(t,e),delete e.reset),t.el)){if(_e(e))return pl(t,e);var n=this.isAnimationDisabled();if(n||!t.isPatched||!e.autoTransition&&!e.animation||!t.tryAutoTransition(e)){if(l(e,"animation")&&(e.animation=void 0),e.continueAnimation){if(e.continueAnimation=void 0,t._transition&&t._transition.attachToEnd(e))return}else t.finishAnimation(n?null:e);return function(t,e,i){for(var n in t.el,e.omit&&delete(e=Vd(e,e.omit)).omit,e){var r=e[n],o=r;r&&r.isDef?(r.updateAttr&&(r=r.updateAttr(r,n,t)),o="url(#"+r.attr.id+")"):r instanceof Mx?r.el?(Oe(o=r.el.id)&&ul(r,"id",o=As()),o="url(#"+o+")"):o=pl(t,n):"transform"===n&&(r?_e(r)||(t.data.transform=r,o=r.val):t.data.transform=r),ul(t,n,o=Oe(o)?o:Md(o),i),t.data.vals[n]=r}t.refNodes.length&&Ad(t.refNodes,(function(t){return t.ownerAttrsChanged&&t.ownerAttrsChanged(e)}))}(t,e,(function(t,e,n){Ja(i,t,e,n,(function(t){return oh(i,t)}))}))}}},e.prototype.isAnimationDisabled=function(t){return this.disableAnimation||!1===this._defaultOptions.transition.animation||t&&!1===t.animation},e.prototype.showHide=function(t,e){return e!==("none"!==t.attr("display"))&&t.attr("display",e?null:"none"),t},e.prototype.show=function(t){return this.showHide(t,!0)},e.prototype.hide=function(t){return this.showHide(t,!1)},e.prototype.visible=function(t,e){return this.showHide(t,h(e)?e:"none"===t.attr("display"))},e.prototype.calculateImageSize=function(t,e){Ud(t,".svg")?this.calculateSvgImageSize(t,e):this.calculateRasterImageSize(t,e)},e.prototype.load=function(t,e){var i=this;!function(t,e,i,n){Xn(t,e,i,n,(function(t){return t}))}(t,(function(t){var n=t.data,r=iw("div",null,"html");if(t=!0,/^\s*<\s*svg(?:\s|>)/m.test(n)||(n='<svg xmlns="http://www.w3.org/2000/svg">'+n+"</svg>",t=!1),r.innerHTML=n,n=r.getElementsByTagName("svg")[0])if(t)t=al(n,i);else{for(t=$m.createDocumentFragment();n.firstChild;)t.appendChild(n.firstChild);t=al(t,i)}else t=null;return e(t)}))},e.prototype.htmlElement=function(t,e){t=t||"";var i=iw("div",null,"html");return i.innerHTML=t,t=al(i,this,"div"),e&&t.attr(e),t},e.prototype.relativeToRoot=function(t,e){var i=this.getRootBoundingClientRect();return{x:t-i.left,y:e-i.top}},e.prototype.getClientXY=function(t){var e=this.getRootBoundingClientRect(),i=t.getBbox(),n=0,r=0;do{var o=(o=t.attr("transform").translate)?[o[0],o[1]]:[0,0];n+=o[0],r+=o[1],t=t.parentNode}while(t&&"svg"!==t.el.tagName);return{x:i.x+e.left+n,y:i.y+e.top+r}},e.prototype.isAnimating=function(){return 0<jb.getAnimations().length},e.prototype.isAnimatingOwn=function(){return 0<jb.getOwnAnimations(this).length},e.prototype.getOffsetsFromVisualViewport=function(t){var e=$m.documentElement.getBoundingClientRect();return{top:(t=t.parentNode?t.getBoundingClientRect():{top:0,left:0}).top-e.top-window.pageYOffset,left:t.left-e.left-window.pageXOffset}},e.prototype.getRootBoundingClientRect=function(){var t=this;return t._rootBoundingClientRect||(t._rootBoundingClientRect=t.getOffsetsFromVisualViewport(t.root.el),Qm.setTimeout((function(){t._rootBoundingClientRect=null}),1e3)),t._rootBoundingClientRect},e.prototype.cssText=function(t,e){var i=$m,n=i.head||i.getElementsByTagName("head")[0],r=i.createElement("style");e&&r.setAttribute("id",e),r.type="text/css",r.styleSheet?r.styleSheet.cssText=t:r.appendChild(i.createTextNode(t)),n.appendChild(r)},e.prototype.calculateRasterImageSize=function(t,e){var i=function(t){return t.addEventListener("load",(function(){return e(t.width,t.height)}))};if(this._measuringImages[t])(n=this._measuringImages[t]).width?e(n.width,n.height):i(n);else{this._measuringImages[t]=new Image;var n=this._measuringImages[t];i(n),n.src=t}},e.prototype.calculateSvgImageSize=function(t,e){this.load(t,(function(t){return e(t.attr("width")||0,t.attr("height")||0)}))},e.prototype.rootAttr=function(t,e){var i=this.wrapper,n=this.root;if(e)return"disableAnimation"===t?this.disableAnimation:this.processAttributes(n,t);t.transition&&(ue(this._defaultOptions.transition,t.transition),delete t.transition),l(t,"disableAnimation")&&(this.disableAnimation=t.disableAnimation,delete t.disableAnimation),t.container&&(this.replaceContainer(t.container),delete t.container),jd(t)||(t=pe(e=vb(t,n),lw),e=pe(e),t&&this.processAttributes(i,t),e&&this.processAttributes(n,e))},e.prototype.defaultOptions=function(){return this._defaultOptions},e.prototype.replaceContainer=function(t){this.initContainer(t),this.container.el.appendChild(this.wrapper.el),this.wrapper.el.appendChild(this.root.el),this.wrapper.el.appendChild(this.overlay.el)},e.prototype.initContainer=function(t){if(t&&(_e(t)||t.tagName))if("svg"===(t=t.tagName?t:el(t)).tagName.toLowerCase()){this.root=this.wrap(t);var e=t.getElementsByTagName("desc")[0];t=t.getElementsByTagName("defs")[0],e||this.element("desc",{text:"Created with JSCharting"}).add(this.root),t&&new Mx(t,this).add(this.root)}else if("div"===t.tagName.toLowerCase()){for(;t.lastChild;)t.removeChild(t.lastChild);this.container=this.wrap(t)}this.container||(this.container=this.htmlElement("",{id:As("container")}),el("body").appendChild(this.container.el))},e}(Ex),fw=new(function(){function t(){}return t.prototype.create=function(t){return new pw(t)},t}()),dw=function(){function t(){}return t.prototype.generate=function(t,e,i){var n,r={};return le(t,(function(e){h(t[e])&&("z-index"===e?(n=n||{})[e]=t[e]:l(sb,e)&&(r[e]=t[e]))})),t.animation&&(r.animation=t.animation),e={middle:{from:e,to:r},end:t},n&&(e.start=n),e},t}(),mw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.generate=function(e,i,n){n=t.prototype.generate.call(this,e,i,n);var r=wd({},i,e),o=!i.d||Ud(i.d,"Z");return e=!e.d||Ud(e.d,"Z"),n.middle.to.fill&&!i.fill&&(n.middle.from.fill="none"),o&&e||(n.middle.from.fill=o&&i.fill||"none",(n.middle.to.fill||r.fill)&&(n.middle.to.fill=e&&r.fill||"none")),n},e}(dw),gw={default:(new dw).generate,path:(new mw).generate},vw=function(){function t(t){this._el=t,this.scope=this._el.data.id,this._renderer=this._el.renderer}return t.prototype.attr=function(t){var e=this._el;return e.isComposite?e.attr(t):this._renderer.attr(e,t)},t.prototype.attrEnd=function(t){var e=this._el;le(t,(function(e){var i=t[e];i&&!i.el&&!i.isDef&&i.val&&(t[e]=i.val)})),e.isComposite?e.attr(t):this._renderer.attr(e,t)},t.prototype.normalize=function(t){return this._el.normalizeAttrs(t)},t.prototype.parse=function(t,e){return"u"===e[0]?this.parseUrl(e):"%"===e[e.length-1]?this.parseDemesion(t,e):e},t.prototype.parseUrl=function(t){var e=/url\(#(.*)\)/g.exec(t);if(!e)return t;var i=this._renderer,n=th(i,e=e[1]);return n?e=n:(i=i.query("#"+e))?(n=i.nodeName.toLowerCase(),(n=Zx[n])&&n(i,e),e=i):e=void 0,e&&e.val?e.val:t},t.prototype.parseDemesion=function(t,e){var i=parseFloat(e),n=!!this._el.parentNode,r=n?this._el.parentNode.box():this._el.box();return l(r,t)?n?i*r[t]/100:r[t]:e},t}(),yw=function(){function t(t,e){this._animation={},this._defaults={},this._activeAnimatingAttrs=this._animatingAttrs=null,this._skipEnd=!1,this._processors={},this._updater=t,this.renderer=this._updater._renderer,this.scope=this._updater.scope,e&&this.options(e)}return t.prototype.options=function(t){if(t){t.animation&&ue(this._animation,Zg[1].resolve(t.animation)),t.defaults&&ue(this._defaults,this.normalize(t.defaults)),t.processors&&this.registerProcessors(t.processors),t.generator&&(this._generator=gw[t.generator]);var e=t.start,i=t.middle;t=t.end,!i&&!t||this.checkForSameAnimation(i)||(this._skipEnd=!0,this.finishAnimation(),this._skipEnd=!1,e&&(e=this.normalize(e),this._animatingAttrs&&(e=Vd(e,ze(this._animatingAttrs))),this.attr(e)),t&&(this._endAttrs=this._endAttrs||{},ue(this._endAttrs,Vd(t,["animation","autoTransition","attrTransition"]))),e=this._appliedAnimation=i.to&&i.to.animation?ce(this._animation,Zg[1].resolve(i.to.animation)):ue({},this._animation),i&&i.to?(this.applyAnimation(i.from,i.to,e,this.renderer),this.waitFinish(e)):this.applyEnd(e))}},t.prototype.getAnimationOptions=function(){return this._animation},t.prototype.getAnimations=function(){return jb.getAnimations(this.scope)},t.prototype.finishAnimation=function(t,e){void 0===t&&(t=!1);var i=this.getAnimations()||[];if(i.length){if(e){var n=this._activeAnimatingAttrs;if(n){var r,o=!0;for(r in e)if(l(n,r)&&n[r]!==e[r]){o=!1;break}if(o)return}}Ad(i,(function(e){return e.finishAnimation(t)}))}},t.prototype.tryAutoTransition=function(t,e,i){if(this._generator&&!1!==t.animation&&(!t.animation||0!==t.animation.duration))return this.options(this._generator(t,e(),i)),this},t.prototype.attachToEnd=function(t){return!(!(this.getAnimations()||[]).length||!t||(ue(this._endAttrs=this._endAttrs||{},t),0))},t.prototype.checkForSameAnimation=function(t){if(!(t&&t.to&&t.to.animation&&this._animatingAttrs))return!1;for(var e in t.to)if("animation"!==e&&t.to[e]!==this._animatingAttrs[e])return!1;return!0},t.prototype.applyEnd=function(t){var e=this;e._skipEnd||(e._animatingAttrs=null,e._activeAnimatingAttrs=null,!e._endAttrs||jd(e._endAttrs))||((t.beforeAttr||e._beforeAttr)&&(e._endAttrs.beforeAttr=function(i){return e.checkForBeforeAttr(i,t,null)}),e.attrApllying=!0,e._updater.attrEnd(e._endAttrs),e.attrApllying=!1,e._endAttrs=null)},t.prototype.applyAnimation=function(t,e,i,n){var r=this;t=this.normalize(t),e=this.normalize(e);var o=this,s={},a={},u={},c=this._animatingAttrs,p=null!==c,f=this._defaults,d=[],m={},g={},v=!0;p&&(e=ue(c,e)),function(e){le(e,(function(n){var y=e[n];if(l(sb,n)){var x=p&&l(c,n)?r.attr(n):t&&l(t,n)?t[n]:l(f,n)?f[n]:r.attr(n),b=sb[n];b[2]&&_e(x)&&(x=r._updater.parse(n,x)),y&&y.isElement&&!l(y,"val")?m[n]=h(y[n])?y[n]:y:(x=b[0](x),y=b[2]&&_e(y)?o._updater.parse(n,y):y,y=b[0](y),u[n]=y,r._endAttrs&&l(r._endAttrs,n)&&y===r._endAttrs[n]&&delete r._endAttrs[n],x==y||y&&y.isEqual&&y.isEqual(x)||(g[n]=y,v=!1,b[1]?d.push({key:n,animator:b[1](x,y,i)}):(s[n]=x,a[n]=y)))}else m[n]=y}))}(e),this._animatingAttrs=this._curAttrs=this._prevAttrs=u,this._activeAnimatingAttrs=g,this._offset=0,e=ue({onFrame:function(t,e){r._offset=t=null===t?1:t,d.length&&Ad(d,(function(i){e[i.key]=i.animator(t)})),r._prevAttrs=r._curAttrs,r._curAttrs=e,r.checkForBeforeAttr(e,i,t),r.attr(e)},scope:this.scope},i),jd(m)||this.attr(m),v||jb.animate([s,a],e,n)},t.prototype.waitFinish=function(t){var e=this,i=this.getAnimations(),n=t.onFinish,r=t.final,o=function(){e.applyEnd(t),n&&n(),r&&r()},s=function(){gd(i,(function(t){return"finished"!==t.playState()}))||o()};i&&0<i.length?(Ad(i,(function(t){t.onFinish=function(){s()}})),s()):o()},t.prototype.normalize=function(t){return t?(t=Vd(t,["animation","autoTransition","attrTransition"]),this._updater.normalize(t)):null},t.prototype.attr=function(t){return this.attrApllying=!0,t=this._updater.attr(t),this.attrApllying=!1,t},t.prototype.registerProcessors=function(t){var e=this;Id(t)?Ad(t,(function(t){return e.registerProcessor(t)})):this.registerProcessor(t)},t.prototype.registerProcessor=function(t){t.name&&(t.beforeAttr&&(this._beforeAttr=this._beforeAttr||[],this._beforeAttr.push(t.beforeAttr)),this._processors[t.name]=t)},t.prototype.checkForBeforeAttr=function(t,e,i){var n=this;e.beforeAttr?e.beforeAttr(t,this._prevAttrs,i):this._beforeAttr&&Ad(this._beforeAttr,(function(e){return e(t,n._prevAttrs,i)}))},t}(),xw=function(){function t(){}return t.prototype.create=function(t,e){return new yw(new vw(t),e)},t}();Zg[0]=new xw;var bw,ww,Aw=ye("transform clipPath clip-path opacity display zIndex".split(" ")),Cw=ce(Aw,ye(["animation","fill","stroke"])),Sw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.attr=function(t,e){return(this.attrApplier=this.attrApplier||new(this.applierType())(this)).attr(t,e)},e}(Mx),kw=function(){function t(t){this._attrsToApply={},this._firstAttrApplied=!1,this._childElements=[],this.renderer=t.renderer,this.virtualElement=t,this.virtualElement.isComposite=!0}return t.prototype.attr=function(t,e){if(!t||!Me(t)){var i=this.virtualElement.data.vals;return l(i,t)?i[t]:this.renderer.attr(this.virtualElement,t,e)}return this._firstAttrApplied&&t.animation&&t.animation.duration&&this.virtualElement.isPatched&&!this.renderer.disableAnimation?(this._attrsToApply=t,this.renderer.attr(this.virtualElement,this.startAnimationAttrs(t))):(this._firstAttrApplied=!0,ue(this._attrsToApply,t),this.applyAttrs()),this.virtualElement},t.prototype.startAnimationAttrs=function(t){return fe({},t,this.animAttrs())},t.prototype.animAttrs=function(){return Cw},t.prototype.groupAttrs=function(){return Aw},t.prototype.applyAttrs=function(){var t=this.attrsToApply(),e=ve(t,Aw);ue(this.virtualElement.data.vals,e),this.constructChildren(t,e),this.renderer.attr(this.virtualElement,fe({},t,this.groupAttrs()))},t.prototype.attrsToApply=function(){return me(this.virtualElement.data.vals,this._attrsToApply,{animation:void 0})},t.prototype.addElement=function(t){var e="circle"===t.elType?this.renderer.circle(t).add(this.virtualElement):this.renderer.path(t).add(this.virtualElement);return e.data.key=t.key,e},t.prototype.removeElement=function(t){var e=this.virtualElement.el;e&&e.removeChild(t.el)},t.prototype.bindConfig=function(t){var e=this;re(t,e._childElements,(function(t){return e.addElement(t)}),(function(t,e){return e.attr(t)}),(function(t){return e.removeElement(t)}),(function(t){return t.key}),(function(t){return t.data.key}))},t}(),_w=ce(Cw,ye(["d"])),Mw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.animAttrs=function(){return _w},e.prototype.constructChildren=function(t,e){var i=[];if(t.d){var n=function(t){t.omit=["key","caps"],i.push(t)},r=function(t,e,i,r){t={key:t,d:e,stroke:Se(i.stroke,"none"),fill:Se(i.fill,r.stroke,"rgba(0,0,0,.5)"),opacity:Se(i.opacity,i["stroke-opacity"],r.opacity,r["stroke-opacity"],1),zIndex:Se(i["z-index"],r["z-index"]),display:Se(i.display,r.display)},n(t)},o=function(t,i,o){var s=dl(i,o),a=s?function(t,e){var i,n,r=function(t,e){var i=e.cxy;e=e.angle;var n=t.concavity,r=t.width,o=t.height,s=t.overflow;return t.type,i=yn(i=!0===s?i:wi(i,e,-r/2),[r,o]),n={angle:e,concavity:n},t=Xa(t.type,i[0],i[1],i[2],i[3],n),n.skipTransform?t:(t=t.isPath?t:Ca(t)).rotate(e+90)},o=t.start||{};return t=t.end||{},ml(o)&&(i=r(o,{cxy:e.points[0],angle:e.angles[0]})),ml(t)&&(n=r(t,{cxy:e.points[1],angle:e.angles[1]})),{start:i,end:n}}(o,s):{};(i=ce(e,{d:s?s.d:i,caps:void 0})).key="l-"+t,n(i),a.start&&r("c-start-"+t,a.start,o.start,e),a.end&&r("c-end-"+t,a.end,o.end,e)},s=this._caps=function(t){var e=t.caps||{};return e.lineWidth=Se(e.lineWidth,t.lineWidth,t["stroke-width"]),{lineWidth:e.lineWidth,start:e.start&&e.start.type||e.type?Fa(me(e,e.start||{},Tw)):{},end:e.end&&e.end.type||e.type?Fa(me(e,e.end||{},Tw)):{},eachShape:e.eachShape}}(t);if(t=this._originalPath=t.d&&t.d.isPath?t.d:Ca(t.d),s.eachShape){t=function(t){var e=[],i=0;for(t=t.shapes;i<t.length;i++)e.push(Sa(t[i].items));return e}(t);for(var a=0;a<t.length;a++)o(a,t[a],s)}else o(0,t,s);this.bindConfig(i)}},e.prototype.startAnimationAttrs=function(t){var e=fe({},t,this.animAttrs());return e.d&&(e.d=e.d&&e.d.isPath?e.d:Ca(e.d)),this._skipCapsDuringAnimation=this._originalPath&&this._originalPath.hasCurves&&!fl(this._caps)&&fl(t.caps),e},e.prototype.attrsToApply=function(){this._attrsToApply.caps||(this._attrsToApply.caps={});var e=t.prototype.attrsToApply.call(this);return this._skipCapsDuringAnimation&&this.virtualElement.isAnimating()&&(e.caps={}),e},e}(kw),Tw=ye(["start","end"]);(function(t){(Dx[t]=Dx[t]||[]).push((function(t,e){if(!e||!e.caps)return!1;e=t.data.vals,t.renderer.reCreateElement(t,"g"),t.morphType="lineShape";var i=new Mw(t);i.attr(e),t.attrApplier=i.attr.bind(i)}))})("path"),function(t){t[t.x=0]="x",t[t.y=1]="y",t[t.xy=2]="xy"}(bw||(bw={})),function(t){t[t.Width=0]="Width",t[t.Height=1]="Height",t[t.Whitespace=2]="Whitespace",t[t.None=3]="None"}(ww||(ww={}));var Ow=function(t){return t&&"*"===t.valueType},zw=function(t){return t&&!t.isMutable&&"px"===t.valueType},Dw=function(t){return t&&"%"===t.valueType},Ew=function(t){return t&&"px"===t.valueType},Pw=function(t){return t&&!t.isMutable},Bw=function(t){return t?t.px:0},Lw=/[0123456789]+|.+/g,Rw=function(t,e){var i=typeof t;if("object"===i&&t.valueType)return ue({},t);if(0===t&&!e)return Fw();var n=0,r=0,o=-1/0,s=!1,a=0,h=0,l=!0;e&&(o=Se(e.minPx,-1/0),s=Se(e.stretch,!1),l=Se(e.isMutable,!0));var u=s?"*":"px";if("number"===i)r=t||0,n=s?1:t;else if("string"===i&&t.length)switch(e&&(a=Se(e.allSpace,0),h=Se(e.freeSpace,0)),t=t.match(Lw),n=parseFloat(t[0]),n=(e=Qd(n))||s?1:n,u=(e?t[0]:t[1])||u,h=s?r:h,u){case"*":r=(h||0)*(n||1);break;case"%":r=(a||0)*n/100;break;case"px":r=n}return{val:n,px:r=ei(Gd([r,o]),6),valueType:u,isMutable:l}},Fw=function(){return{val:0,px:0,valueType:"px",isMutable:!0,minPx:0}},Vw=function(t,e){var i,n;e=e||0;var r={val:0,px:0,valueType:"px"};if("number"==typeof t)e=i=n=r={val:t,px:t,valueType:"px"};else if(t.length){r="string"==typeof t?t.split(/ +/g):"object"==typeof t?t:[0];var o={allSpace:e};e=Rw(r[0],o),i=h(r[1])?Rw(r[1],o):e,n=h(r[2])?Rw(r[2],o):e,r=h(r[3])?Rw(r[3],o):i}else"object"==typeof t?(o={allSpace:e},e=t.top?Rw(t.top,o):r,i=t.right?Rw(t.right,o):r,n=t.bottom?Rw(t.bottom,o):r,r=t.left?Rw(t.left,o):r):e=i=n=r;var s=0,a=0,l=0;return o=0+((Ew(r)?r.val:0)+(Ew(i)?i.val:0)),s+=(Ew(e)?e.val:0)+(Ew(n)?n.val:0),a+=(Dw(r)?r.val:0)+(Dw(i)?i.val:0),l+=(Dw(e)?e.val:0)+(Dw(n)?n.val:0),{initial:t,top:e,right:i,bottom:n,left:r,horizontal:{absolute:o,relative:a,px:r.px+i.px},vertical:{absolute:s,relative:l,px:e.px+n.px}}},Iw=function(t,e,i){if(t=jw(t,i),i&&0!==e.px){var n=i.padding,r=i.offset;i=n?n.vertical.relative:0,n=n?n.vertical.absolute:0,r=r?Nw(r.top)+Nw(r.bottom):0,i=Nw(e)+n+r+i/100*Nw(t),"px"===e.valueType?e=Rw(i):e.valueType?(e=ue({},e)).px=i:e=i}return{width:t,height:e}},Nw=function(t){return t.valueType?t.px:t},jw=function(t,e){if(!e)return t;var i=e.padding,n=e.offset;return e=i?i.horizontal.relative:0,i=i?i.horizontal.absolute:0,n=n?Nw(n.left)+Nw(n.right):0,e=1+(e/=100)/(1-e),i=(Nw(t)+i+n)*e,"px"===t.valueType?t=Rw(i):t.valueType?(t=ue({},t)).px=i:t=i,t},Ww=function(t,e,i,n,r){function o(t,e){if(Id(t)){var i=t[0];t=t[1]}else i=t.x,t=t.y;h(i)&&(e.x=i),h(t)&&(e.y=t)}var s={x:0,y:0,width:0,height:0},a={x:0,y:0},l={x:0,y:0};return r=r||[0,0],e.getBbox?(s=void 0!==e.toGlobal?e.getGlobalBbox():void 0!==t.toGlobal?t.toGlobal(e.getBbox()):e.getBbox(),_e(i)&&(a=Yw(i,s)),z(i)&&o(e=i(s),s)):(o(e,s),_e(i)&&(a=Yw(i,e))),_e(i=n||i)&&(l=Yw(i,t.getBbox())),i=void 0!==t.toGlobal?t.globalX:0,n=void 0!==t.toGlobal?t.globalY:0,e=void 0!==t.toGlobal?t.offsetX:0,t=void 0!==t.toGlobal?t.offsetY:0,{offsetX:h(a.x)?s.x-i+e+(a.x||0)-(l.x||0)+(r[0]||0):0+(r[0]||0),offsetY:h(a.y)?s.y-n+t+(a.y||0)-(l.y||0)+(r[1]||0):0+(r[1]||0)}},Hw=function(t,e,i){var n=i?i.globalX:0;return i=i?i.globalY:0,e="toLocal"===e?-1:1,Id(t)?[t[0]+n*e,t[1]+i*e,t[2],t[3]]:{x:t.x+n*e,y:t.y+i*e,width:t.width,height:t.height}},Yw=function(t,e){t=t.split("|");var i={left:0,center:.5,right:1},n={top:0,middle:.5,bottom:1},r=(l(e,"width")?e.width:e[2])||0,o=(l(e,"height")?e.height:e[3])||0,s={};return Ad(t,(function(t){h(i[t])&&(s.x=(s.x||0)+i[t]*r),h(n[t])&&(s.y=(s.y||0)+n[t]*o)})),s},Uw=function(t,e,i){void 0===e&&(e=0);var n=Id(t);if(n){var r=s(t,4),o=r[0],a=r[1],h=r[2];r=r[3]}else o=t.x,a=t.y,h=t.width,r=t.height;var l=Te(h)||Te(r);return Te(o)||Te(a)?t:(t=e/2%1||1,e=i?i.globalX:0,i=i?i.globalY:0,l||(h=Gw(h+o,e,t)-Gw(o,e,t),r=Gw(r+a,i,t)-Gw(a,i,t)),o=Gw(o,e,t),a=Gw(a,i,t),n?l?[o,a]:[o,a,h,r]:l?{x:o,y:a}:{x:o,y:a,width:h,height:r})},Gw=function(t,e,i){return e=i-(e+t)%1,.5<Math.abs(e)&&(e-=0<e?1:-1),t+e},Zw={left:0,top:0,center:.5,middle:.5,right:1,bottom:1},Xw={x:"userX",y:"userY",width:"width",height:"height"},qw="fontFamily fontStyle fontWeight fontSize whiteSpace strategy textOverflow".split(" "),Kw={};Ad("variant visibility cellSpacing cellPadding pixelCorrection preserveStartSpaces title".split(" "),(function(t){Kw[t]=vl})),Ad(["margin","padding"],(function(t){Kw[t]=Sl})),Ad("maxWidth maxHeight fitWidth fitHeight ignoreCategories orientation autoWrap suspend xContentAlignment yContentAlignment xAlignment yAlignment".split(" "),(function(t){Kw[t]=wl})),Ad(qw,(function(t){Kw[t]=xl})),Ad(["width","height","x","y","strokeWidth"],(function(t){Kw[t]=Cl})),Ad(["offsetX","offsetY"],(function(t){Kw[t]=yl})),Ad(["maxWidth","maxHeight","fitWidth","fitHeight"],(function(t){Kw[t]=bl}));var Qw,$w=function(){function t(t,e){this.widths=[],this.heights=[],this.lefts=[],this.rights=[],this.bottoms=[],this.tops=[],t=this.rectangles=t,this.scoreDirection=e;for(var i=0,n=this.rectangles.length;i<n;i++)e=t[i],this.lefts.push(e.x),this.tops.push(e.y),this.rights.push(e.x+e.width),this.widths.push(e.width),this.heights.push(e.height),this.bottoms.push(e.y+e.height);this.minX=Math.min.apply(null,this.lefts),this.minY=Math.min.apply(null,this.tops),this.maxX=Math.max.apply(null,this.rights),this.maxY=Math.max.apply(null,this.bottoms),this.minWidth=Math.min.apply(null,this.widths),this.minHeight=Math.min.apply(null,this.heights),this.maxWidth=this.maxX-this.minX,this.maxHeight=this.maxY-this.minY}return t.prototype.getScore=function(t,e){var i=0,n=[];if(t===bw.xy&&e){var r=i=0;for(t=0;t<e[0];t++){for(var o=0,s=0;s<e[1];s++){var a=this.widths[t*e[1]+s],h=this.heights[t*e[1]+s];o+=a,n.push(a*h)}i=o>i?o:i}for(s=0;s<e[1];s++){for(t=o=0;t<e[0];t++)o+=this.heights[t*e[1]+s];r=o>r?o:r}i*=r}else{e=(t=t===bw.y)?this.lefts:this.tops,r=t?this.rights:this.bottoms,s=t?this.widths:this.heights,o=t?this.heights:this.widths,a=t?this.minX:this.minY,h=t?this.maxX:this.maxY;var l=t?this.maxWidth:this.maxHeight;t=0;for(var u=s.length;t<u;t++){var c=s[t];e[t],r[t],n.push(c*o[t]),i+=l*o[t]}}return{whitespace:1-Zd(n)/i,magnitude:i}},t}(),Jw=function(){function t(){}return t.prototype.compareScores=function(t,e,i){return(t=this.quantifyScore(t,i))<(e=this.quantifyScore(e,i))?-1:t>e?1:0},t.prototype.comparer=function(t){var e=this;return function(i,n){return e.compareScores(i,n,t)}},t.prototype.mergeScores=function(t){for(var e=0,i=0,n=0,r=0,o=t.length;r<o;r++){var s=t[r];s.magnitude&&(e+=s.whitespace*s.magnitude,i<s.magnitude&&(i=s.magnitude),n++)}return e?e/(n*i):0},t.prototype.quantifyScore=function(t,e){return t.whitespace.toFixed(6)},t.prototype.sort=function(t,e){t.sort(this.comparer(e))},t}(),tA=/style\s*=\s*["']([^"]*)["']/,eA=/([\S_]+)=["']?((?:.(?!["']?\s+(?:\S+)=|[>"']))*.)["']?/g,iA=/['"]/g,nA=/[\u0590-\u05ff\u0600-\u06ff]/,rA=/[-_]([a-z])/g,oA=/(\d+px)* *([\w#]+)/,sA=/&nbsp;/gm,aA=/\s\w+(?=[\s|>])/g,hA={disk:"● ",circle:"○ ",square:"■ ",none:""},lA=["antialias"],uA=function(t){var e=t.match(/([\S_]+)= +\w+=/g);return Ad(e,(function(e){var i=t.indexOf(e),n=(i=t.slice(i,i+e.length)).indexOf("=");t=t.replace(e,i.slice(n+1,i.length))})),t.match(eA)},cA=function(t){return t?(t=mi(t,'"'),(t=mi(t,"'")).match(aA)):[]},pA=function(t){var e="";if(t){var i=t.length;if(_e(t))e=t;else{if(1===i&&_e(t[0].val))return(t=t[0]).type="text",t;if(i){e=[];for(var n=[],r=0;r<i;r++){var o=t[r];"visual"===o.kind||"panel"===o.type?(n.length&&(e.push({type:"text",val:n.slice(0)}),n=[]),e.push(o)):n.push(o)}return n.length&&e.push({type:"text",val:n.slice(0)}),1===e.length?e[0]:{type:"stack",val:e}}}}return{type:"text",val:e}},fA=function(t){t=t.split(";");var e={};return Ad(t,(function(t){if(t){var i=t.split(":");2===i.length&&(t=bA(i[0].trim()),i=i[1].trim(),e[t]=i)}})),e},dA={textStroke:function(t){return(t=s(t.match(oA)||[],3))[0],{stroke:t[2],strokeWidth:t[1]}},textStrokeWidth:function(t){return{strokeWidth:t}}},mA=function(t,e){return(e=e||{}).val=t||"",e},gA=function(t,e,i){return t.substring(e,e+i.length).toLowerCase()===i},vA=[{start:"<b>",stops:["</b>","<b/>"],attrs:{fontWeight:"bold"}},{start:"<strong>",stops:["</strong>","<strong/>"],attrs:{fontWeight:"bold"}},{start:"<i>",stops:["</i>","<i/>"],attrs:{fontStyle:"italic"}},{start:"<sup>",stops:["</sup>","<sup/>"],attrs:{fontSize:"0.7em",verticalAlign:"sup"}},{start:"<sub>",stops:["</sub>","<sub/>"],attrs:{fontSize:"0.7em",verticalAlign:"sub"}}],yA=[{tag:"icon",val:"icon"},{tag:"img",val:"image"},{tag:"chart",val:"nanoChart"}],xA=[{start:"ul",stops:["/ul","ul/"],key:"ul"},{start:"li",stops:["/li","<li/"],key:"li"}],bA=function(t){return 0<t.indexOf("-")?t.replace(rA,(function(t){return t[1].toUpperCase()})):t},wA=function(t,e){function i(e){for(var i,o,s=0,a=0,h=0,l=[],u=0,c=0,p=r.length;c<p;c++){var f=r[c];if(o=f.length){for(i=(o=n(f,0===c,p===o)).width,o=o.height;i>e;){var d;t:{for(var m=d=f.length;2<m;m--){var g=f[m-1],v=f[m-2],y=f[m-3];if(2<d&&(y.isSpace?!g.isSpace:v.isSpace)){d=2+d-m;break t}}d=0}if(!d)break;for(i=c,void 0===d&&(d=1),m=0;m<d;m++)g=r[i].pop(),r[i+1].unshift(g);i=n(f,0==c).width}l.push({x:0,y:u,width:i,height:o,info:{itemCount:f.length}}),u+=o,a=a<i?i:a,s=s<i||!s?i:s,h++}}for(c=[],p=0,f=(e=r).length;p<f;p++)c.push(Bd(e[p]));return{lines:c,linesUsed:h,width:a,height:u,maxLineWidth:s||i,score:new $w(l).getScore(bw.y),parts:t}}function n(t,e,i){void 0===i&&(i=!1);for(var n=0,r=0,o=0,s=t.length;o<s;o++){var a=t[o],h=a.width,l=a.height;r=r>l?r:l,(!a.isSpace||(o!=s-1||i)&&(0<o||e))&&(n+=h)}return{height:r,width:n}}var r=[],o=e.step;o=void 0===o?.1:o;var s=e.width;s=void 0===s?0:s;var a=e.height;a=void 0===a?0:a,e=void 0===(e=e.wrapText)||e;for(var h,l=o,u=[],c=0,p=t.length;c<p;c++){for(var f=t[c],d=f.metrics,m=f.parts,g=[],v=0,y=m.length;v<y;v++){var x=m[v],b=x.width;x=-1<x.text.indexOf(f.delimiter.text),r.push([]);var w={width:b,isSpace:x};d&&d.height&&(w.height=d.height),g.push(w),x||h&&!(h>b)||(h=b),l+=b}r[0]=r[0].concat(g)}for(s&&(l=s);l>=h+o&&!((s=i(l)).maxLineWidth>l)&&((!a||s.height<=a)&&u.push(s),e||!u.length);)l=s.maxLineWidth-o;return u.length||u.push(i(h)),u},AA={space:/(\s)/,variants:/&ore;|&ors;/g,startSpaces:/^ +/g,spaces:/ +/g,quotes:/'|"/g,fontSize:/^[\d\.]+(px|pt|em)?$/},CA={169:"copy",174:"reg",160:"nbsp",8482:"trade",34:"quot",38:"amp",60:"lt",62:"gt",176:"deg",8364:"euro",185:"sup1",178:"sup2",179:"sup3",188:"frac14",189:"frac12",190:"frac34",177:"plusmn",180:"acute",183:"middot"},SA={ore:"&ore;",ors:"&ors;",orc:"&orc;",or:"&||;"},kA=ye("x y width height rotate opacity fill stroke offsetX offsetY text".split(" ")),_A=ye(["animation","transition"]),MA={initialize:!1,reposition:!0,destroy:!0,animatable:kA},TA=function(){function t(t){this._li=t,this.scope=As()}return t.prototype.attr=function(t){var e=this._li;if(_e(t))return this._li.attr(t);e.updateAttrs(t,!0),e.root.refresh()},t.prototype.attrEnd=function(t){return this.attr(t)},t.prototype.normalize=function(t){return t},t.prototype.parse=function(t,e){return e},t}(),OA=function(){function t(t,e){this._visual=t,this._options={auto:!1,mode:"simple",behaviour:ue({},MA)},this._renderer=t.renderer;var i=ue({},this._renderer.defaultOptions().transition);this._attrTransition=new yw(new TA(t),i),e&&this.options(e)}return t.prototype.options=function(t){t&&(l(t,"auto")&&(this._options.auto=t.auto||!1),l(t,"mode")&&(this._options.mode=t.mode||"simple"),t.behaviour&&ue(this._options.behaviour,t.behaviour),t.animation&&this._attrTransition.options({animation:t.animation}))},t.prototype.applyAttrs=function(t,e){var i=this._visual,n=t.transition,r=!1;if(!1===n?(n={auto:!1},r=!0):"auto"===n&&(n={auto:!0},r=!0),n&&Ee(["auto","mode","behaviour"],n)&&(this.options(n),n=r?null:Vd(t.transition,["auto","mode","animation","behaviour"]),jd(n)&&(n=null,delete t.transition)),this._renderer.disableAnimation||!t.animation&&!n&&!this._options.auto)i.updateAttrs(ve(t,_A),e);else if(!jd(t)){var o="simple"===this._options.mode;if(i.isPatched||o)if(r=this._options.behaviour.animatable,o)h(t.animation)||n||!Pe(r,t)||(t.transition=null,t.animation=this._attrTransition.getAnimationOptions()),i.updateAttrs(t,e);else{if(!n){if(n=fe({},t,r),o=ve(t,r),jd(n))return void i.updateAttrs(ve(t,_A),e);e=fe({},i.attrs,r),t.animation&&(n.animation=t.animation),n={start:o,middle:{from:e,to:n}}}this._attrTransition.options(n)}else i.updateAttrs(t,e)}},t.prototype.applyPatch=function(t){var e=this._visual,i=this._options;this._renderer.disableAnimation||!i.auto||!i.behaviour.initialize||e.isPatched?e.applyPatch(t):"layout"===i.mode?(e.applyPatch(t),this.layoutInitializeTransition()):(t.transition=this.getSimpleInitializeTransition(),e.applyPatch(t))},t.prototype.applyDestroy=function(){var t=this._visual,e=this._options;!this._renderer.disableAnimation&&e.auto&&e.behaviour.destroy?"simple"===e.mode?t.updateAttrs({transition:this.getSimpleDestroyTransition()},!0):(this.layoutDestroy(),delete this._visual):t.applyDestroy()},t.prototype.applyAdd=function(t,e){var i=this._visual,n=this._options;!this._renderer.disableAnimation&&n.auto&&i.isPatched&&n.behaviour.reposition?"simple"===n.mode?this.simpleAdd(t):this.layoutAdd(t):i.applyAdd(t,e)},t.prototype.getSimpleInitializeTransition=function(){var t=this._visual.getBbox(),e=0===t.x&&0===t.y?null:{translate:[t.x,t.y],scale:[1],val:"translate("+t.x+", "+t.y+")"};return{start:{transform:{translate:[t.x+t.width/2,t.y+t.height/2],scale:[0],val:"translate("+(t.x+t.width/2)+", "+(t.y+t.height/2)+") scale(0)"}},middle:{to:{transform:e}},end:{transform:e}}},t.prototype.getSimpleDestroyTransition=function(){var t=this._visual,e=t.getBbox();return{middle:{from:{transform:t.el.data.transform},to:{animation:{final:function(){var e=t.root;t.applyDestroy(),e.refresh()}},transform:{translate:[e.x+e.width/2,e.y+e.height/2],scale:[0],val:"translate("+(e.x+e.width/2)+", "+(e.y+e.height/2)+") scale(0)"}}}}},t.prototype.layoutInitializeTransition=function(){this._attrTransition.finishAnimation();var t=this._visual,e=t.root,i=t.getBbox(),n=t.getGlobalBbox(),r=n.width,o=t.layout.panel({width:0,height:0,x:i.x,y:i.y}).applyAdd(t.parent),s=t.layout.panel().add();t.updateAttrs({scale:0},!0).applyAdd(s),e.refresh(),s.refresh(),this._attrTransition.options({middle:{from:{width:0,height:0},to:{animation:{final:function(){t.updateAttrs({scale:1},!0).applyAdd(o.parent),o.applyDestroy(),s.applyDestroy(),t.refresh()},onFrame:function(i,n){o.updateAttrs(n),e.refresh(),i=o.getGlobalBbox(),t.applyPatch({translate:[i.x,i.y],scale:[i.width/r]})}},width:n.width,height:n.height}}})},t.prototype.layoutDestroy=function(){this._attrTransition.finishAnimation();var t=this._visual,e=t.getBbox(),i=t.getGlobalBbox(),n=i.width,r=t.root,o=t.layout.panel({width:e.width,height:e.height,x:e.x,y:e.y}).applyAdd(t.parent),s=t.layout.panel().add();t.updateAttrs(i,!0).applyAdd(s),r.refresh(),s.refresh(),this._attrTransition.options({middle:{from:{width:e.width,height:e.height},to:{animation:{final:function(){o.applyDestroy(),t.applyDestroy(),s.applyDestroy(),r.refresh()},onFrame:function(e,i){o.updateAttrs(i),r.refresh(),e=o.getGlobalBbox(),t.applyPatch({translate:[e.x,e.y],scale:[e.width/n]})}},width:0,height:0}}})},t.prototype.simpleAdd=function(t){this._attrTransition.finishAnimation(),this._visual.el.finishAnimation();var e=this._visual,i=e.getBbox(),n=e.getGlobalBbox(),r=e.layout.panel().add(),o=e.layout.panel({width:i.width,height:i.height}).add(t);e.updateAttrs(n,!0).applyAdd(r),o.refresh(),r.refresh();var s=o.getGlobalBbox();this._attrTransition.options({middle:{to:{animation:{final:function(){var i=o.getBbox();o.applyDestroy(),e.applyAdd(t),e.updateAttrs(i,!0),r.applyDestroy(),o.refresh(),e.refresh()},onFrame:function(t,i,r){e.applyPatch({translate:[r(n.x,s.x,t),r(n.y,s.y,t)]})}}}}})},t.prototype.layoutAdd=function(t){this._attrTransition.finishAnimation();var e=this._visual,i=e.getGlobalBbox(),n=e.getBbox(),r=e.layout.panel({width:0,height:0,x:n.x,y:n.y}).applyAdd(t),o=e.layout.panel(e.getBbox()).applyAdd(e.parent),s=t.root,a=o.root,h=e.layout.panel().add();e.updateAttrs(i,!0).applyAdd(h),s.refresh(),s!==a&&a.refresh(),h.refresh();var l=n.width,u=n.height,c=i.x,p=i.y;this._attrTransition.options({middle:{to:{animation:{final:function(){e.updateAttrs(n,!0).applyAdd(t),r.applyDestroy(),o.applyDestroy(),s.refresh(),s!==a&&a.refresh(),h.applyDestroy(),e.refresh()},onFrame:function(t,i,n){r.updateAttrs({width:n(0,l,t),height:n(0,u,t)}),o.updateAttrs({width:n(l,0,t),height:n(u,0,t)}),s.refresh(),s!==a&&a.refresh(),i=r.getGlobalBbox(),e.applyPatch({translate:[n(c,i.x,t),n(p,i.y,t)]})}}}}})},t}(),zA=ye(["setSize","finalSize","renderSize","pixelCorrection"]),DA=function(t){return t.px},EA={},PA=ye(["translate","rotate"]);Ad(["width","height","x","y"],(function(t){return EA[t]=DA})),function(t){t[t.WriteIfChanged=0]="WriteIfChanged",t[t.ReadOnly=1]="ReadOnly",t[t.WriteOnly=2]="WriteOnly"}(Qw||(Qw={}));var BA=function(){function t(t,e){this.layout=t,this.forcePixelCorrection=!1,this.init(),this.applyConfig(e)}return t.prototype.init=function(){this.combinations=[],this.events={},this.subscriptions=[],this.attrs={},this._awaitHandlers=[],this.autoWrap="auto",this.renderer=this.layout.renderer,this.root=this,this.margin=Vw(0),this.isPatched=!1,this.offsetY=this.offsetX=this.globalY=this.globalX=0,this.wasAdded=!1,this.pixelCorrection=this.layout.pixelCorrection,this.state={needPatching:!0,needRecalculation:!0,needAttachPatching:!0,needDestroy:!1,destroyed:!1},this._availableAttrs=this.availableAttributes()},t.prototype.updateSize=function(t,e){},t.prototype.val=function(t){return this},t.prototype.calculateMargin=function(){return this.margin},t.prototype.arrToBox=function(t){return{x:t[0],y:t[1],width:t[2],height:t[3]}},t.prototype.getAnimation=function(){return this._animation||this.attrs.animation},t.prototype.getBbox=function(t){return this.arrToBox(this.getBboxArray(t))},t.prototype.getGlobalBbox=function(){return this.arrToBox(this.getGlobalBboxArray())},t.prototype.getBboxArray=function(t,e){return this.bboxArrayBased(Bw(this.x),Bw(this.y),t,e)},t.prototype.getGlobalBboxArray=function(t){return this.bboxArrayBased(this.globalX,this.globalY,!1,t)},t.prototype.bboxArrayBased=function(t,e,i,n){return[t+(i?this.offsetX:0)-(n?Bw(this.margin.left):0),e+(i?this.offsetY:0)-(n?Bw(this.margin.top):0),Bw(this.width)+(n?Bw(this.margin.horizontal):0),Bw(this.height)+(n?Bw(this.margin.vertical):0)]},t.prototype.setSize=function(t){this.suspend||(this.setSizeValue("width",t.width,this.maxWidth),this.setSizeValue("height",t.height,this.maxHeight),this.setSizeValue("x",t.x),this.setSizeValue("y",t.y),this.needPatch(!0),this.finalSizeCalled(),this.triggerEvent("setSize"))},t.prototype.getTypeEvents=function(){return zA},t.prototype.setSizeValue=function(t,e,i){var n=this[t],r=!n||n.isMutable;Nd(e)&&n&&!Ew(n)?this[t].px=h(i)&&e>i?i:e:h(e)&&r&&(this[t]=Rw(e))},t.prototype.handleEvent=function(t,e,i,n){if(h(e)&&(e=this.getEventByName(e,"un"!==t)))return e[t](e instanceof Vx?this.wrapEventCallback(i):i,n)},t.prototype.getEventByName=function(t,e){return!this.events[t]&&e&&(l(this.getTypeEvents(),t)?this.events[t]=new Rx:this.subscribeDomEvents(t)),this.events[t]},t.prototype.subscribeDomEvents=function(t){throw Error("Methods doesn't implemented")},t.prototype.triggerEvent=function(t){(t=this.events[t])&&t.trigger(this.getBbox())},t.prototype.canCutActualWidth=function(){return!1},t.prototype.on=function(t,e,i){return(t=this.handleEvent(i?"onDefer":"on",t,e,i))&&this.subscriptions.push(t),this},t.prototype.un=function(t,e){return this.handleEvent("un",t,e),this},t.prototype.isRelative=function(){return this.width&&"px"!==this.width.valueType||this.height&&"px"!==this.height.valueType},t.prototype.add=function(t,e){return!this.wasAdded||t&&t!==this.parent?this.transitionAnimator?(this.transitionAnimator.applyAdd(t,e),this):this.applyAdd(t,e):this},t.prototype.await=function(t){return this.root._awaitHandlers.push(t),this},t.prototype.applyAdd=function(t,e){return this.insert({parent:t,position:e})},t.prototype.alignTo=function(t,e,i,n){return this.attr(Ww(this,t,e,i,n))},t.prototype.alignIn=function(t,e,i){this.insert({parent:t}),t={};var n=this.getBbox();if(_e(e)){var r=function(t){t=t.split("|");var e=["left","center","right"],i=["top","middle","bottom"],n={};return Ad(t,(function(t){e[t]&&(n.x=t),i[t]&&(n.y=t)})),n}(e);r.x&&(t.xAlignment=r.x),r.y&&(t.yAlignment=r.y),this.attr(t)}return _e(e=i||e)&&(e=Yw(e,n),t.offsetX=0-e.x,t.offsetY=0-e.y),this.attr(t)},t.prototype.insertFirst=function(t){return this.insert({parent:t,position:0})},t.prototype.insert=function(t){var e=t.parent;return t=t.position,Te(e)&&(e=this.parent),e&&e!==this.parent&&(this.parent&&(this.forcePixelCorrection=!0,this.parent.removeChild(this),this.updateAttrs({offsetX:0,offsetY:0})),e===this.layout?(this.parent=e=null,this.notifyParentChanged()):(0===t?e.prependChild:e.appendChild).call(e,this,t)&&(this.parent=e,this.notifyParentChanged())),this.parent||this.layout.addChild(this),this.wasAdded=!0,this.setRenewComplete(!e||this.parent.wasAdded),this},t.prototype.refresh=function(t){return this.parent?(this.root.refresh(t),this):(this.wasAdded||this.add(),this.setRenewComplete(!0),this.applyRefresh(t),!t&&this.endRefresh(),this)},t.prototype.applyRefresh=function(t){this.parent||(this.update(),t||this.layout.destroyChildren()),t||this.patch()},t.prototype.endRefresh=function(){this._awaitHandlers.length&&(Ad(this._awaitHandlers,(function(t){return t()})),this._awaitHandlers=[]),this.triggerEvent("renderSize")},t.prototype.updateGlobalCoordinates=function(){this.setGlobalCoordinates()},t.prototype.needPatch=function(t){this.state.needPatching=!0},t.prototype.setGlobalCoordinates=function(t){var e=this.parent,i=this.x.px+(e?e.globalX:0)+(this.offsetX||0);e=this.y.px+(e?e.globalY:0)+(this.offsetY||0),(this.globalX!==i||this.globalY!==e||t)&&(this.globalX=i,this.globalY=e,this.triggerEvent("pixelCorrection"))},t.prototype.collectAttrs=function(t){return this.attrs},t.prototype.correctPixelValues=function(t,e){t.rotate&&1==Math.abs(t.rotate[0])/90%2&&(t.rotate[0]+=.1)},t.prototype.patch=function(){var t=this.state,e=this.collectAttrs();if(!t.destroyed&&t.needPatching&&this.isComplete())if(t.needDestroy)this.patchDestroy();else{this.pixelCorrection&&this.correctPixelValues(e,this.parent),t=this.parentChanged;var i=this.cached(e,Qw.ReadOnly),n=jd(i);this._transition&&(n&&(i={},n=!1),i.transition=this._transition,this._transition=null),n&&!t?this.emptyPatch():(h(this._animation)&&!n&&(i.animation=this._animation,fe(i,e,Kx),this._animation=void 0),this.transitionAnimator?this.transitionAnimator.applyPatch(i):this.applyPatch(i))}},t.prototype.emptyPatch=function(){this.state.needPatching=!1,this.isPatched=!0},t.prototype.applyPatch=function(t){this.applyPatchState(t)},t.prototype.applyPatchState=function(t){this.cached(t,Qw.WriteOnly),this.state.needPatching=!1,this.isPatched=!0},t.prototype.parentAttrsChanged=function(t){},t.prototype.sharedAttrsUpdated=function(t){},t.prototype.fillProperties=function(t){var e,i=this,n={};le(t,(function(r){var o=t[r];if(l(Kw,r)&&h(o)){var s=Kw[r](i,r,o);s&&(ue(n,s),(e=e||{})[r]=o)}})),n.updateSharedAttrs&&this.sharedAttrsUpdated(e),n.needRecalc&&this.setRenewComplete(),n.updateGlobalCoordinates&&this.updateGlobalCoordinates(),h(t.animation)&&(this._animation=t.animation),t.transition&&(this._transition=t.transition)},t.prototype.addEvent=function(t){this.events[t]=new Rx},t.prototype.cached=function(t,e,i,n,r){void 0===e&&(e=Qw.WriteIfChanged),void 0===i&&(i="_cache_"),void 0===n&&(n=this);var o=l(n,i);t=de({},t,_A);var s=o?n[i]:t;return o?e===Qw.WriteOnly?(ue(s,t),{}):(e=Ce(s,t,PA,e===Qw.ReadOnly,r))?e:null:(n[i]=s,ue({},s))},t.prototype.notifyParentChanged=function(){this.updateRoot()},t.prototype.updateRoot=function(){var t=this.parent?this.parent.root:this,e=this.root;t!==e&&(0<e._awaitHandlers.length&&(t._awaitHandlers=t._awaitHandlers.concat(e._awaitHandlers),e.parent&&(e._awaitHandlers=[])),this.root=t)},t.prototype.availableAttributes=function(){return null},t.prototype.defaultConfig=function(){return null},t.prototype.applyConfig=function(t){var e=!t,i=this.defaultConfig();e&&null===i?this.config={}:(e&&(t={}),this.config=this.extendDefault(i||{},t),this.checkForAttrAnimation(gl(this.config)))},t.prototype.extendDefault=function(t,e){return ue(t,e)},t.prototype.checkForAttrAnimation=function(t,e){if(this.transitionAnimator||l(t,"animation")||l(t,"transition"))return this.transitionAnimator||(this.transitionAnimator=new OA(this)),this.transitionAnimator.applyAttrs(t,e),this;this.updateAttrs(t,e)},t.prototype.updateAttrs=function(t,e){return this.applyAttrs(t),e&&this.isPatched&&this.needPatch(),this},t.prototype.applyAttrs=function(t){this.fillProperties(t);var e=this.attrs,i=this._availableAttrs;if(i){for(var n in t)(Object.hasOwnProperty.call(i,n)||0===n.indexOf("data-"))&&(e[n]=t[n]);t=e}else t=ue(e,t);this.attrs=t},t.prototype.setRenewComplete=function(t){var e=this.state,i=e.needRecalculation;!t&&i||(!this.parent||!t&&i?e.needRecalculation=!0:(e.needRecalculation=!0,this.parent.setRenewComplete(t)))},t.prototype.updateCombinations=function(){this.state.needRecalculation&&this.isComplete()&&(this.combinations=this.composeCombinations(),this.state.needRecalculation=!1,this.variant=null)},t.prototype.attr=function(t,e){if(_e(t)){if(Te(e))return l(this,t)?(e=this[t],l(EA,t)?EA[t](e):e):this.attrs[t];var i=t;(t={})[i]=e}return t=gl(t),this.checkForAttrAnimation(t,this.isPatched),this},t.prototype.update=function(){return this.updateCombinations(),this.updateSize(this.wasAdded&&!this.parent?this.layout.getRootBox():void 0),this.triggerEvent("finalSize"),this},t.prototype.isComplete=function(){return!0},t.prototype.composeCombinations=function(){return[]},t.prototype.finalSizeCalled=function(){},t.prototype.getContentSize=function(){return this.getBbox()},t.prototype.visible=function(t,e){var i="none"!==this.attr("display");return h(t)||(t=!i),t===i||(this.attr({display:t?null:"none"}),!0===e&&!0!==this.suspend||(this.suspend=!t),this.setRenewComplete(!0)),this},t.prototype.destroy=function(){return this.transitionAnimator?(this.transitionAnimator.applyDestroy(),delete this.transitionAnimator,this):(this.applyDestroy(),this)},t.prototype.applyDestroy=function(){Ad(this.subscriptions,(function(t){return t.un()})),this.subscriptions=[],this.isPatched=!1,this.parent?(this.parent.removeChild(this),this.layout.needToDestroy(this)):this.layout.removeChild(this),this.state.needDestroy=!0,this.state.needPatching=!0},t.prototype.patchDestroy=function(){this.state.destroyed=!0},t.prototype.setDomEventsElement=function(t){for(var e in this.events)this.events[e]instanceof Vx&&this.events[e].setElement(t)},t.prototype.toLocal=function(t){return Hw(t,"toLocal",this.parent)},t.prototype.toGlobal=function(t){return Hw(t,"toGlobal",this.parent)},t.prototype.setPreliminarySize=function(t){var e=this.variant?this.variant.index:0;return this.combinations.length&&!t||this.updateCombinations(),e>=this.combinations.length&&(e=0),this.combinations.length&&this.setSize(this.combinations[e].minSize),this.parent&&this.updateGlobalCoordinates(),this},t.prototype.externalOn=function(t,e,i){if(t){var n=this.wrapEventCallback(i),r=function(i){i=qa(i,t,e),n(i)};return t.on(e,r),{un:function(){t.un(e,r)}}}},t.prototype.wrapEventCallback=function(t){var e=this;return h(t)?function(i){i.bbox=e.getBbox();var n=i.pointers=i.pointers?Cd(i.pointers,(function(t){return e.toRelativeXY(t)})):[e.toRelativeXY(i.eventArgs)];i.x=n[0][0],i.y=n[0][1],t&&t(i)}:void 0},t.prototype.toRelativeXY=function(t){if(!t)return[0,0];var e=h(t.clientX)?this.renderer.relativeToRoot(t.clientX-this.globalX,t.clientY-this.globalY):{x:0,y:0};return[e.x,e.y,t.id]},t}(),LA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.width=this.width||Fw(),this.height=this.height||Fw(),this.x=this.x||Fw(),this.y=this.y||Fw()},e.prototype.availableAttributes=function(){return uv},e.prototype.updateSize=function(t,e){return e&&(this.variant=e),t&&this.setSize(t),this.setGlobalCoordinates(),this.updateVisual(),this},e.prototype.updateVisual=function(){this.setPosition(this.x,this.y)},e.prototype.setPosition=function(t,e){var i=!this.x||this.x.isMutable,n=!this.y||this.y.isMutable;this.x=t&&i?t:this.x,this.y=e&&n?e:this.y},e.prototype.getZeroSize=function(t){var e=Fw();return Ow(t)&&(e.valueType="*"),e},e.prototype.composeCombinations=function(){var t=this,e=function(e){return zw(e)?e:t.getZeroSize(e)},i=e(this.width);return e=e(this.height),[{score:{whitespace:0,magnitude:i.px*e.px},minSize:{width:i,height:e},index:0}]},e.prototype.patchDestroy=function(){t.prototype.patchDestroy.call(this),this.el&&(this.el.destroy(),delete this.el)},e.prototype.below=function(t){return this.belowItem=t,this.add()},e.prototype.useMainElementForEvents=function(t){this._useMainElementForEvents=t},e.prototype.subscribeDomEvents=function(t){var e=new Vx(t),i=this.getLowermostElement();this._useMainElementForEvents&&(i=this.el),e.setElement(i),this.events[t]=e},e.prototype.getLowermostElement=function(){return this.el},e.prototype.collectAttrs=function(t){return void 0===t&&(t=!1),t?yd(this.getBbox(!0),this.attrs):this.attrs||{}},e.prototype.getParentGroup=function(){return this.parent?this.parent.getElement():null},e.prototype.notifyParentChanged=function(){t.prototype.notifyParentChanged.call(this),this.parentChanged=!0},e.prototype.applyPatch=function(e){if(!this.el||this.parentChanged){var i=null!=this.el,n=this.getParentGroup();this.el=i?this.el.attr(e):this.createElement(e),this.belowItem&&(i=this.belowItem.getLowermostElement()||this.belowItem.el)?this.el.addBefore(i):this.el.add(n),this.setDomEventsElement(this.el)}else this.el.attr(e);this.parentChanged=!1,t.prototype.applyPatch.call(this,e)},e.prototype.transition=function(t){this.el&&this.el.transition(t)},e}(BA),RA=Fw(),FA=[{score:{whitespace:0,magnitude:0},minSize:{width:RA,height:RA},maxlineWidth:0,lineUsed:1,lines:[[{width:0,height:0,isSpace:!1}]],parts:[{text:"",width:0,parts:[{text:"",width:0}]}],index:0}],VA=ye(["width","height","x","y"]),IA=["val","textVariants","verticalAlign"],NA=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.preserveStartSpaces=!0,e._cachedCombinations={},e.textElements=[],e._maxDescent=0,e}return n(e,t),e.prototype.val=function(t){if(h(t)){var e=Me(t),i=e?t.val||"":t;return this.text!==i&&this.attr(e?t:{val:i}),this}return this.text},e.prototype.createElement=function(t){return this.renderer.element("text",t)},e.prototype.getMaxDescent=function(){return this._maxDescent},e.prototype.updateVisual=function(){var t=this,e=t._parentAttributes&&t._parentAttributes.textOverflow;e="ellipsis"===(t._textOverflow||e);var i=t.variant,n=t.width?t.width.px:void 0,r=t.height?t.height.px:void 0;t.maxWidth;var o=t.xAlignment||t.xContentAlignment||"left";if(n=n||p(t.parent,["maxWidth"]),!i){for(var s=t.combinations,a=s.length,h=0;h<a;h++){var l=s[h];if(l&&(!n||l.minSize.width.px<n)&&(!r||l.minSize.height.px<r)){i=l;break}}i||(i=s[a-1])}Ad(i.parts,(function(e){return e.metrics&&(t._maxDescent=Math.max(e.metrics.descent,t._maxDescent))})),t.wrappedLayout=function(t,e,i){for(var n=t.lines,r=t.parts,o=t.maxLineWidth,s=[],a=0,h=0,l=0,u=r[l],c=u.parts,p=0,f=n.length;p<f;p++){var d=n[p],m=d.length,g={text:"",x:0,y:0,styles:{}},v=0,y=[],x=0,b=0,w=0,A=0;if(m){for(var C=0;C<=m;C++){if(!c[a]||C===m){var S=u.metrics||{height:0,descent:0},k=S.height,_=S.descent;S=S.leading-S.fontSize;var M=k-_;if(g.text&&(g.styles=u.style||{},y.push(ue({},g)),x=x<k?k:x,b=b<M?M:b,w=w<_?_:w,A=A<S?S:A),C<m){for(;u&&!(a<u.parts.length);)a-=u.parts.length,u=r[++l];c=u.parts,g={text:"",x:v,y:0,styles:{}}}}(_=d[C])&&(k=_.width,_=!_.isSpace,(0!==C||_||0===p)&&(S=C!==m-1,M=d.length===c.length,(_||S||M)&&(v+=k),g.text+=c[a].text),a++)}for(d=e?v:o,m=0,g=y.length;m<g;m++)k=(C=y[m]).styles&&C.styles.verticalAlign,_=u.metrics.fontSize/2,C.y=h+("sup"===k?A+_:"sub"===k?b+_-w:b),C.x+=Zw[i]*(d-v),s.push(C);h+=x}}return{parts:s,score:t.score}}(i,e,o)},e.prototype.composeCombinations=function(){if(!this.text)return FA;"stack:text"===p(this.parent,["config","type"])&&this.parent;var t=Vd(this._ownAttributes,["x","y"]),e=ce(this.layout.svgStyles,this._parentAttributes),i=ce(e,t),n=i.whiteSpace||"normal",r=this.preserveStartSpaces,o=(!this.width||"*"!==this.width.valueType&&this.width.isMutable)&&i.strategy?i.strategy:"none",s=this.ignoreCategories,a=i.fontFamily,l=i.fontStyle,u=i.fontWeight,c=i.fontSize,f="pre"!==n&&"nowrap"!==n&&"auto"===this.autoWrap;if(this._cachedCombinations.filter){var d=this._cachedCombinations,m=d.filter;if(m.whiteSpace===n&&m.text===this.text&&m.strategy===o&&m.fontFamily===a&&m.fontStyle===l&&m.fontWeight===u&&m.fontSize===c)return d.result}for(this._cachedCombinations.filter={whiteSpace:n,text:this.text,strategy:o,fontFamily:a,fontStyle:l,fontWeight:u,fontSize:c},t={own:i,personal:t,parent:e},o={ignoreCategories:s,preserveSpaces:"pre"===n||"pre-wrap"===n,preserveStartSpaces:r,wrapText:f,wrappingStrategy:o,width:zw(this.width)?this.width.px:0,height:zw(this.height)?this.height.px:0,maxWidth:this.maxWidth,maxHeight:this.maxHeight,ellipsisWidth:this.config.ellipsisWidth},s=kl(this.text,t,this.layout.svgStyles,o),n=o.width,r=o.height,o={wrapText:o.wrapText,strategy:o.wrappingStrategy,width:n,height:r,maxWidth:o.maxWidth,maxHeight:o.maxHeight},f=[[]],t=0,e=s.length;t<e;t++)if(a=(i=s[t]).length){for(a=[],l=0,u=i.length;l<u;l++){for(c=Ml(f),d=0,m=f.length;d<m;d++)c[d].push(i[l]);a=a.concat(c)}f=a}else for(l=0,u=f.length;l<u;l++)f[l].push(null==a?i:i[0]);for(s=f,f=[],t=0,e=s.length;t<e;t++){if(a=wA(s[t],o),o){var g=void 0;i=void 0,l=a.length,u=o.wrapText,c=o.strategy,d=o.maxWidth,m=o.maxHeight;var v="none"===c,y=[],x=0;if(l){for(var b=0;b<l;b++){var w=a[b],A=w.score;g=g&&g!==w.linesUsed;var C=(!h(d)||w.width<d)&&(!h(m)||w.height<m);u&&C&&(v||!i||g||w[c]<i[c]||A.whitespace<i.score.whitespace)&&(i=y[x+=v&&x||g?1:0]=w),g=w.linesUsed}y.length||y.push(a[u?l-1:0])}i=y}else i=a;f=f.concat(i)}for(s=0,f=(o=f).length;s<f;s++)e=r,(t=o[s])&&(t.minSize={width:Rw(n||t.width),height:Rw(e||t.height)},delete t.width,delete t.height),o[s].index=s;return this._cachedCombinations.result=o},e.prototype.fillProperties=function(e){e&&(h(e.val)&&(this.text!==e.val&&this.setRenewComplete(),this.text=e.val),h(e.stroke)&&(this._strokeAttrs=fe({},e,xv)),h(e.textOverflow)&&(this._textOverflow=e.textOverflow),t.prototype.fillProperties.call(this,e))},e.prototype.getLowermostElement=function(){return this.textElements[0]},e.prototype.patchDestroy=function(){var e=this.textElements;if(e){for(var i=0,n=e.length;i<n;i++)e[i]&&e[i].destroy();this.textElements=[]}t.prototype.patchDestroy.call(this)},e.prototype.availableAttributes=function(){return yv},e.prototype.collectAttrs=function(){var e=t.prototype.collectAttrs.call(this,!0);return e.translate={x:e.x,y:e.y},de({},e,VA)},e.prototype.applyPatch=function(t){var e=this.wrappedLayout||{},i=this.textElements,n=e.parts,r=n?n.length:1,o=i.length,s=this.getParentGroup(),a=(this.el||s?t:ce(this.layout.svgStyles,t))||{},h=!!this.el,l=this.getAnimation();for(h||(this.el=this.createElement(a).add(s)),s=0;s<r;s++){var u=n?n[s]:e,c={text:u.text,x:u.x||0,y:u.y||0};if(c=ce(c,u.styles),this.preserveStartSpaces&&(c.style="white-space: pre"),c.x=0===c.x?"0px":c.x,s<o)u=i[s],c=Vd(c,IA),(c=this.cached(c,Qw.WriteIfChanged,"_cache_",u,!0))&&u.attr(_p(_p({},c),{animation:l}));else{if(c=me(Vd(u,["styles"]),c,ye(IA)),u=this.renderer.element("tspan"),this.cached(c,Qw.WriteOnly,"_cache_",u),!u)return this;u.prev=c,i.push(u),u.add(this.el),l?(u.attr(ce(c,{text:""})),u.attr({text:c.text,animation:l})):u.attr(c)}}for(e=function(t){var e=i.pop();l?e.attr({text:"",animation:ce(l,{onFinish:function(){return e.destroy()}})}):e.destroy()},s=o-1;s>=r;s--)e();h&&this.el.attr(a),this._strokeAttrs&&this.el.attr({strokeAttrs:this._strokeAttrs}),this.applyPatchState(t)},e.prototype.sharedAttrsUpdated=function(t){this._ownAttributes=this._ownAttributes||{},ue(this._ownAttributes,t),this.setRenewComplete()},e.prototype.parentAttrsChanged=function(t){var e=this;e._parentAttributes||(e._parentAttributes={}),ue(e._parentAttributes,t);var i=!1;le(t,(function(n){e[n]!==t[n]&&(i=!0)})),i&&e.setRenewComplete()},e}(LA),jA=function(t){function e(e,i){return(t.call(this,e,i)||this).updateSize()}return n(e,t),e.prototype.availableAttributes=function(){return mv},e.prototype.createElement=function(t){var e=this.renderer.image(t);return t.width^t.height&&~tg.indexOf("Safari")&&(e.el.onload=function(){var i=e.el.getBBox();!t.width&&e.el.setAttribute("width",i.width),!t.height&&e.el.setAttribute("height",i.height)}),e},e.prototype.collectAttrs=function(){return ce(t.prototype.collectAttrs.call(this,!0),{src:this.src})},e.prototype.fillProperties=function(e){e&&(this.src=h(e.src)?e.src:this.src||"",t.prototype.fillProperties.call(this,e))},e}(LA),WA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.availableAttributes=function(){return gv},e.prototype.collectAttrs=function(){var e=t.prototype.collectAttrs.call(this,!0),i={rx:this.rx,ry:this.ry},n=parseInt(e["stroke-width"])||0;return n&&(i.x=e.x+n/2,i.y=e.y+n/2,i.width=e.width-n,i.height=e.height-n),ce(e,i)},e.prototype.fillProperties=function(e){if(e){var i=h(e.radius)?e.radius:e.cornerRadius;this.rx=h(e.rx)?e.rx:h(i)?i:this.rx||0,this.ry=h(e.ry)?e.ry:h(i)?i:this.ry||0,l(e,"stroke-width")&&(this.strokeWidth=parseInt(e["stroke-width"])||0),t.prototype.fillProperties.call(this,e)}},e.prototype.createElement=function(t){return this.renderer.rect(t)},e.prototype.correctPixelValues=function(e,i){t.prototype.correctPixelValues.call(this,e,i),ue(e,i=Uw(e,this.strokeWidth,i))},e}(LA),HA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.availableAttributes=function(){return dv},e.prototype.collectAttrs=function(){var e=Vd(t.prototype.collectAttrs.call(this,!0),["cx","cy","r"]);return ue(e,this.getShapeBox()),e},e.prototype.getShapeBox=function(t){return t=t||this.getBbox(!0),{x:this.relativeSize?h(this.cx)?this.cx-this.r:null:t.x,y:this.relativeSize?h(this.cy)?this.cy-this.r:null:t.y,width:this.relativeSize?this.calculateFromRadius(this.r):t.width,height:this.relativeSize?this.calculateFromRadius(this.r):t.height,shapeName:this.mode}},e.prototype.fillProperties=function(e){e&&(this.mode=e.mode||e.subType||this.mode,Te(this.relativeSize)&&this.setSizeType(e),this.cx=e.cx,this.cy=e.cy,this.r=e.r,t.prototype.fillProperties.call(this,e))},e.prototype.createElement=function(t){return this.renderer.shape(this.mode,t)},e.prototype.setSizeType=function(t){Ee(["x","y","width","height"],t)?this.relativeSize=!1:Ee(["cx","cy","r"],t)&&(this.relativeSize=!0)},e.prototype.calculateFromRadius=function(t){return h(t)?2*t:null},e.prototype.default=function(t,e){return Oe(t)?e:t},e}(LA),YA={},UA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.padding=this.padding||Vw(0)},e.prototype.extendDefault=function(e,i){return i.name&&Te(i.size)&&(e.width=e.height=16),t.prototype.extendDefault.call(this,e,i)},e.prototype.collectAttrs=function(){var e=t.prototype.collectAttrs.call(this);return this.updateIconState(),e.d=this._iconD,h(this._rotate)&&(1===this._rotate.length&&(this._rotate.push(this._iconWidth?e.x+this._iconWidth/2:0),this._rotate.push(this._iconHeight?e.y+this._iconHeight/2:0)),e.rotate=this._rotate),e},e.prototype.getFromStoreOrShapes=function(t){var e,i,n=this;if(t&&"none"!==t)return(i=YA[t])?i:(e=bx[t])?YA[t]=e(0,0,10,10,{r:2}).toString():ur(t,(function(t){t.displayCdnWarning&&Wg.emit("warning","dom","cdnLoad",{container:n.renderer.wrapper.el})}),(function(){Wg.emit("warning","dom","iconNotFound",{data:[t],container:n.renderer.wrapper.el})}))},e.prototype.updateIconState=function(t){t=t&&(t.d||t.path)||this.attrs.d||this.attrs.path;var e=this.getShapeBox();this.pixelCorrection&&(e=Uw(e,1===e.height||1===e.width?1:0,this.parent));var i=t||(this._icon?this.getFromStoreOrShapes(this._icon):null);i&&(t=Ax(i,[e.x,e.y,e.width,e.height,this._userSize],this._outerShape,this.padding,!!t),this._iconD=t[0],this._iconSize=t[1],this._iconWidth=t[2],this._iconHeight=t[3])},e.prototype.val=function(t){return h(t)&&this.attr(t),this},e.prototype.getIconSize=function(){return this.updateIconState(),this._iconSize},e.prototype.createElement=function(t){return this.renderer.path(t)},e.prototype.fillProperties=function(e){if(e){var i=e.outline,n=e.hatch;this._icon=l(e,"name")?e.name:this._icon,this._userSize=l(e,"size")?parseInt(e.size):this._userSize,this._outerShape=h(e.outerShape)?Va(e.outerShape):this._outerShape,(e.size||(e.d||e.path)&&!e.width&&!e.height)&&(this.updateIconState(e),e.width=this._iconWidth,e.height=this._iconHeight),h(e.rotate)&&(this._rotate=function(t){if(!t||t.push)return t;switch(d(t)){case"number":return[t];case"string":return Ze(t)}return t}(e.rotate),e.rotate=void 0),h(i)&&(i.color&&(e.stroke=i.color),i.width&&(e.borderWidth=i.width)),h(n)&&(n.style&&(e.hatchPattern=n.style),n.color&&(e.hatch=n.color)),t.prototype.fillProperties.call(this,e)}},e}(HA),GA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.availableAttributes=function(){return cv},e.prototype.createElement=function(t){if(t=this.renderer.element("g",t),this._innerSvg){var e=t.el;if(h(e.innerHTML))return e.innerHTML=this._innerSvg,t;var i=$m.createElement("div");i.innerHTML="<svg><g>"+this._innerSvg+"</g></svg>",Ad(i.childNodes[0].childNodes,(function(t){return e.appendChild(t)}))}return t},e.prototype.fillProperties=function(e){e&&(this._innerSvg=e.innerSvg||this._innerSvg,t.prototype.fillProperties.call(this,e))},e}(LA),ZA=ye(qw),XA=ye(["width","height","x","y"]),qA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.childElements=[],this.attachedElements=[],this.itemsCount=0,this.padding=this.padding||Vw(0,this.width?this.width.px:0),this.stretchSum={width:1,height:1},this.scoring=new Jw},e.prototype.sameChildren=function(t){return t=Cd(t,(function(t){var e=p(t,["constructor","name"]);return t.type||(e?e.toLowerCase():void 0)})).join(),this.childrenHash===t||(this.childrenHash=t,!1)},e.prototype.val=function(t){if(!t)return this.childElements;if(Id(t)||(t=[t]),this.sameChildren(t))for(var e=0,i=t.length;e<i;e++){var n=t[e];n instanceof BA&&(this.childElements[e].destroy(),n.insert({parent:this,position:e})),n.val&&this.childElements[e].attr(n),this.childElements[e].val(n.val||n)}else for(this.destroyChildren(),this.destroyAttachedElements(),e=0,i=t.length;e<i;e++)(n=t[e])instanceof BA||(_e(n)&&(n={type:"text",text:n}),Id(n)&&(n={type:"stack",val:n}),n.add||(n=this.layout.item(n))),n.add(this);return this},e.prototype.addElementToParent=function(t){this.attach(t,{setSize:null})},e.prototype.attach=function(t,e){e=e&&h(e.setSize)?e.setSize:function(e){return t.attr({x:0,y:0,width:e.width,height:e.height})},this.attachedElements.push({el:t,domAttached:!1,setSize:e}),this.state.needAttachPatching=!0,this.isPatched&&this.patchAttachedElements()},e.prototype.updateSize=function(t,e){var i=!this.variant||e&&this.variant!==e,n=t&&(t.width!==this.width.px||t.height!==this.height.px||t.x!==this.x.px||t.y!==this.y.px);return n&&this.setSize(t),this.setGlobalCoordinates(),this.variant=e||this.variant||this.selectVariant(),t||this.setSize(this.variant.minSize),(i||n)&&this.arrange(),this},e.prototype.calculatePadding=function(t,e){var i=(e=this.padding).right,n=e.top,r=e.bottom,o=function(e){return"%"===e.valueType?e.val*t/100:e.px};return{left:o(e.left),right:o(i),top:o(n),bottom:o(r)}},e.prototype.getContentSize=function(){var t=this.getBbox(),e=this.calculatePadding(t.width,t.height);return{width:Math.max(t.width-e.left-e.right,0),height:Math.max(t.height-e.top-e.bottom,0),x:t.x+e.left,y:t.y+e.top}},e.prototype.getStretchingArea=function(){var t=this.stretchSum,e=this.getReservedSpace(),i=this.getContentSize();return{width:Math.max(i.width-e.width,0)/(t.width||1),height:Math.max(i.height-e.height,0)/(t.height||1)}},e.prototype.getReservedSpace=function(){return{width:0,height:0}},e.prototype.selectVariant=function(){var t=this.combinations,e=null,i=t.length,n=this.strategy||this.layout.svgStyles.strategy,r=null,o=function(t){return t&&"*"!==t.valueType};if(i){for(var s=0;s<i;s++){var a=t[s],h=a.score,l=this.fitsSize(a.minSize),u=o(this.width),c=o(this.height),p=r&&1===this.scoring.compareScores(r,h,n);u=!r||u&&c&&p,l.width&&l.height&&u&&(e=a,r=h)}if(r=null,!e){for(s=i-1;0<=s;s--)i=t[s],o="height"===n?n:"width",(r&&r.minSize[o].px<i.minSize[o].px&&!e||r&&e&&r.minSize[o].px===e.minSize[o].px)&&(e=r),r=t[s];e=e||r}return e}},e.prototype.fitsSize=function(t){var e=Bw(this.width),i=Bw(this.height);return{width:!e||1>t.width.px-e,height:!i||1>t.height.px-i}},e.prototype.composeCombinations=function(){var t=this,e=[],i=this.childElements,n=!i||!i.length,r=this.suspend,o=this.width,s=this.height;if(n||r){if(e=[],r)for(var a=0;a<i.length;a++){var h=i[a];h.combinations.length||h.updateCombinations(),h=h.combinations,e.push(h.length?h[0]:null)}return i=function(t){return r||!t||n&&t.isMutable?Fw():t},[{components:e,score:{whitespace:0,magnitude:o&&s?o.px*s.px:0},minSize:{width:i(o),height:i(s)},index:0}]}for(o=1,a=0;a<i.length;a++)(h=i[a]).combinations.length&&!h.state.needRecalculation||h.updateCombinations(),o*=s=(h=h.combinations.slice()).length,s||h.push(null),e.push(h);return 1e3<o&&(e=Cd(e,(function(e){return[e=t.maxWidth?zl(e,t.maxWidth):e[0]]}))),i=this.mixCombinations(e),this.filterCombinations(i)},e.prototype.mixCombinations=function(t){return this.getCombinations(t)},e.prototype.getCombinations=function(t,e){if(e=e||{codes:[],result:[],counter:0},0<t.length)for(var i=t[0].length,n=0;n<i;n++){var r=t.slice(0);e.codes[e.counter]=t[0][n],r.shift(),e.counter++,this.getCombinations(r,e)}else t=e.codes.slice(0),e.result.push(t);return e.counter--,e.result},e.prototype.getOverflowWidth=function(){var t;return 1===(null===(t=this.combinations)||void 0===t?void 0:t.length)&&(t=this.childElements[0],this.maxWidth===this.combinations[0].minSize.width.px&&t)?jw(t.width,{padding:this.padding}):this.width},e.prototype.filterCombinations=function(t){var e=this.width,i=this.height,n=zw(e),r=zw(i),o="none"===this.autoWrap||"default"===this.autoWrap,s=!n&&!r&&!h(this.maxWidth)&&"golden"===this.autoWrap,a=function(t){return h(t)?t:1/0},l=a(this.maxWidth);a=a(this.maxHeight);var u=function(t){t.valueType="px",t.val=t.px};if(1===t.length)return t=(l=this.measure(t[0])).minSize,n?t.width=pe(e):h(this.maxWidth)&&this.maxWidth<t.width.px?(t.width.val=t.width.px=this.maxWidth,t.width.valueType="px",t.width.isMutable=!0):1===this.childElements.length&&"ellipsis"===this.childElements[0].textOverflow&&u(t.width),r&&(t.height=pe(i)),l.index=0,[l];if(!(n||r||o||s)){e=[],i=0,r=n=void 0;for(var c=0,p=t.length;c<p;c++){var f=this.measure(t[c]),d=f.minSize;o=l-d.width.px,u=a-d.height.px,s=Math.max(Math.abs(Math.min(0,o)),Math.abs(Math.min(0,u))),0<=o&&0<=u?(e.push(f),f.index=i++):(!n||Te(r)||r>s)&&(r=s,n=f)}return!e.length&&n&&e.push(n),e}var m=null,g=0,v=t.length-1,y="none"===this.autoWrap,x="stack:text"===this.config.type,b="ellipsis"===this.textOverflow;for(c=0,p=t.length;c<p;c++){var w=(d=(f=this.measure(t[c])).minSize).width.px,A=w/(d=d.height.px),C=!n||f.minSize.width.px<=e.px,S=!r||f.minSize.height.px<=i.px,k=!s||!m||Math.abs(1.618-A)<Math.abs(1.618-g)&&.35>f.score.whitespace,_=!x||!y||1===f.components[0].linesUsed;if((w<=l&&d<=a||n||r)&&C&&S&&k&&_){n&&(f.minSize.width=pe(e)),n?f.minSize.width=pe(e):h(this.maxWidth)&&this.maxWidth<f.minSize.width.px?(f.minSize.width.val=f.minSize.width.px=this.maxWidth,f.minSize.width.valueType="px",f.minSize.width.isMutable=!1):1===this.childElements.length&&("ellipsis"===this.childElements[0].textOverflow||x&&b)&&u(f.minSize.width),r&&(f.minSize.height=pe(i));var M=f;if(s&&(m=f,g=A),n||o||s&&1.618>A)break}!o&&c!==p-1||M||!(C||y&&_)||(v=0)}return(l=M||this.measure(t[v])).index=0,x&&o&&this.canCutActualWidth()&&(t=l.minSize,h(this.maxWidth)&&this.maxWidth<t.width.px&&(t.width.val=t.width.px=this.maxWidth,t.width.valueType="px",t.width.isMutable=!1)),[l]},e.prototype.selectClosest=function(t,e,i){function n(t,e,i){return t=t.minSize,e=e.minSize,i?Math.abs(t[i].px-e[i].px):Math.abs(t.width.px-e.width.px)+Math.abs(t.height.px-e.height.px)}for(var r=t[0],o=r?n(e,r,i):null,s=1,a=t.length;s<a;s++){var h=t[s];if(null!==h){var l=n(e,h,i);(null===o||o>l)&&(o=l,r=h)}}return r},e.prototype.applyFitSize=function(t,e){var i=this.fitWidth,n=this.fitHeight,r=1,o=1;i&&i<t&&(r=i/t),n&&n<e&&(o=n/e),(i||n)&&this.attr({transform:{scale:Math.min(r,o)}})},e.prototype.arrange=function(){var t=this.variant;if(t){var e=this.childElements,i=t.components,n=this.getContentSize(),r=this.width.isMutable?t.minSize.width:this.width,o=this.height.isMutable?t.minSize.height:this.height;if(t=this.calculatePadding(r.px,o.px),i)for(this.applyFitSize(r.px,o.px),r=0,o=e.length;r<o;r++){var s=e[r],a=i[r],h=s.width,l=s.height;if(a){var u=s.calculateMargin(),c=Bw(s.userX),p=Bw(s.userY);c=n.width-u.horizontal.px-(c?c-t.left:0),p=n.height-u.vertical.px-(p?p-t.top:0),h=Pw(h)?h:a.minSize.width,l=Pw(l)?l:a.minSize.height;var f=function(t,e){return Ow(e)?t:Dw(e)?e.val*t/100:e.px};c=f(c,h),p=f(p,l),f=s.xAlignment||this.xContentAlignment,l=s.yAlignment||this.yContentAlignment,s.canCutActualWidth()&&c>s.maxWidth&&(c=s.maxWidth);var d=n.width-c-u.horizontal.px;h=n.height-p-u.vertical.px,f=(Zw[f]||0)*(0<d?d:0),l=(Zw[l]||0)*(0<h?h:0),s.updateSize({width:c,height:p,x:s.userX?s.userX.px:f+t.left+u.left.px,y:s.userY?s.userY.px:l+t.top+u.top.px},a)}}}},e.prototype.measure=function(t){for(var e=[],i=0,n=0,r=!1,o=!1,s=[],a=this.childElements,h=0,l=t.length;h<l;h++){var u=t[h],c=a[h];if(u){var p=zw(c.width)?c.width:u.minSize.width,f=zw(c.height)?c.height:u.minSize.height,d=c.calculateMargin(),m=Pw(c.userX)?c.userX.px:0;c=Pw(c.userY)?c.userY.px:0;var g=d.horizontal.relative/100;p=(p.px+m+d.horizontal.absolute)*(1+g/(1-g)),f=f.px+c+d.vertical.absolute+d.vertical.relative/100*p,d=Ow(u.minSize.width),m=Ow(u.minSize.height),r=r||d,o=o||m,i=p>i?p:i,n=f>n?f:n,s.push(u.score),e.push({x:0,y:0,width:u.minSize.width.px,height:u.minSize.height.px})}}return{components:t,minSize:this.completeSize(Rw(i,{stretch:r}),Rw(n,{stretch:o})),score:{whitespace:this.combineScores(s,e),magnitude:i*n},index:0}},e.prototype.completeSize=function(t,e){return Iw(t,e,{padding:this.padding})},e.prototype.createElement=function(t){return this.renderer.element("g",t)},e.prototype.updateRoot=function(){t.prototype.updateRoot.call(this),Ad(this.childElements,(function(t){return t.updateRoot()}))},e.prototype.updateCombinations=function(){Ad(this.childElements,(function(t){return t.updateCombinations()})),t.prototype.updateCombinations.call(this)},e.prototype.updateGlobalCoordinates=function(){t.prototype.updateGlobalCoordinates.call(this),Ad(this.childElements,(function(t){return t.updateGlobalCoordinates()}))},e.prototype.applyDestroy=function(){for(var e=this.childElements;e.length;)e[0].applyDestroy();t.prototype.applyDestroy.call(this)},e.prototype.applyRefresh=function(e){if(t.prototype.applyRefresh.call(this,e),this.isPatched&&!e){if(Ad(this.childElements,(function(t){return t.applyRefresh()})),(e=this.el&&this.el.data.vals["clip-path"])&&e.isDef){var i=this.getBbox();e.attr=ue(e.attr||{},{width:i.width,height:i.height}),e.updateAttr&&e.updateAttr(e)}this.state.needAttachPatching&&this.patchAttachedElements()}},e.prototype.applyPatch=function(e){t.prototype.applyPatch.call(this,e),this.patchTitle(e),e=(e=e&&e.translate)&&(e.x||e.y),(this.forcePixelCorrection||e)&&this.pixelCorrection&&(this.updateGlobalCoordinates(),this.correctPixelValuesDown())},e.prototype.correctPixelValuesDown=function(){Ad(this.childElements,(function(t){t.pixelCorrection&&t.isPatched&&(t.needPatch(),t.patch(),t instanceof e&&t.correctPixelValuesDown())}))},e.prototype.patchAttachedElements=function(){var t=this,e=t.el,i=[];Ad(t.attachedElements,(function(t){t.el.isDestroyed?i.push(t):t.domAttached||(t.el.add(e),t.domAttached=!0)})),i.length&&Ad(i,(function(e){t.attachedElements.splice(t.attachedElements.indexOf(e),1)})),t.state.needAttachPatching=!1},e.prototype.destroyAttachedElements=function(){Ad(this.attachedElements,(function(t){return t.el&&t.el.destroy()}))},e.prototype.patchTitle=function(t){t=this.title;var e=this._titleVisual;h(t)&&(t?(e||(e=this._titleVisual=this.renderer.element("title").add(this.el)),e.attr({text:t})):e&&(e.destroy(),this._titleVisual=null))},e.prototype.availableAttributes=function(){return cv},e.prototype.collectAttrs=function(){var e=t.prototype.collectAttrs.call(this,!0);return e.translate={x:e.x,y:e.y},l(e,"shadow")&&!l(e,"clipPath")&&delete e.shadow,de({},e,XA)},e.prototype.appendChild=function(t,e){return 0<e?this.insertChild(t,e):this.addChild(t,"push")},e.prototype.prependChild=function(t){return this.addChild(t,"unshift")},e.prototype.addChild=function(t,e){return!!(this.childElements&&0>this.childElements.indexOf(t))&&(this.childElements[e](t),e=this.childElements.length,this.itemsCount<e&&(this.itemsCount=e),this._sharedAttributes&&t.parentAttrsChanged(this._sharedAttributes),!0)},e.prototype.removeChild=function(t){t.parent=null,0>(t=this.childElements.indexOf(t))||(this.childElements.splice(t,1),this.itemsCount=this.childElements.length,this.setRenewComplete())},e.prototype.insertChild=function(t,e){var i=this.childElements,n=i.indexOf(t),r=0>n;return r||i.splice(n,1),i.splice(e,0,t),r?(this.itemsCount=i.length,this._sharedAttributes&&t.parentAttrsChanged(this._sharedAttributes),!0):(this.setRenewComplete(),!1)},e.prototype.isNotEmpty=function(){return 0<this.childElements.length},e.prototype.clear=function(t){for(var e=this.childElements,i=0,n=e.length;i<n;i++){var r=e[i];r&&(r.parent=null,-1===t.indexOf(r)&&r.patchDestroy())}return this.childElements=[],this.combinations=[],this.variant=null,this.itemsCount=0,this},e.prototype.destroyChildren=function(){var t=this.childElements;if(t){for(var e=0,i=t.length;e<i;e++){var n=t[e];n&&(n.parent=null,n.patchDestroy())}this.childElements=[]}},e.prototype.patchDestroy=function(){this.destroyChildren(),t.prototype.patchDestroy.call(this)},e.prototype.combineScores=function(t,e){return!e||2>e.length?t[0].whitespace:((t=this.scoring.mergeScores(t))+(e=this.scoreCombination(e)).whitespace)/2},e.prototype.isComplete=function(){var t=0===this.itemsCount&&0<this.childElements.length||this.childElements.length===this.itemsCount,e=0===this.itemsCount&&(zw(this.width)||zw(this.height));return t||e},e.prototype.scoreCombination=function(t){return new $w(t).getScore()},e.prototype.finalSizeCalled=function(){if(this.attachedElements){var t=this.getBbox();Ad(this.attachedElements,(function(e){e.setSize&&e.setSize(t)}))}},e.prototype.snap=function(t,e){return void 0===e&&(e=1),Uw(t,e,this)},e.prototype.getElement=function(){return this.el},e.prototype.getLowermostElement=function(){var t=this.el;return t?t.childNodes[0]:null},e.prototype.sharedAttrsUpdated=function(t){var e=this._sharedAttributes=this._sharedAttributes||{};fe(e,t,ZA),Ad(this.childElements,(function(t){return t.parentAttrsChanged(e)}))},e.prototype.parentAttrsChanged=function(t){var e,i=this;le(t,(function(n){i[n]!==t[n]&&((e=e||{})[n]=t[n])})),e&&(this._sharedAttributes=e,this.sharedAttrsUpdated(e))},e}(LA),KA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.orientation="x"},e.prototype.fillProperties=function(e){e&&(this.orientation=e.subType||e.orientation||this.orientation,t.prototype.fillProperties.call(this,e))},e.prototype.arrange=function(){var t=this.variant;if(t){var e=this.childElements,i=t.components,n=t.extra||{},r=this.getContentSize(),o=this.width.isMutable?t.minSize.width:this.width,s=this.height.isMutable?t.minSize.height:this.height;t=this.calculatePadding(o.px,s.px);var a="y"===this.orientation;this.applyFitSize(o.px,s.px);var h=0,l=0,u=0;for(o=0,this.stretchSum=n.stretchSum||this.stretchSum,n=0,s=e.length;n<s;n++){var c=e[n],p=i[n];if(p){var f=c.calculateMargin(),d=Pw(c.width)?c.width:p.minSize.width,m=Pw(c.height)?c.height:p.minSize.height,g=Ow(d)?f.horizontal.px:(Dw(d)?d.val*r.width/100:d.px)+f.horizontal.px,v=Ow(m)?f.vertical.px:(Dw(m)?m.val*r.height/100:m.px)+f.vertical.px;c=Ow(d)?r.width*d.val/this.stretchSum.width:g,m=Ow(m)?r.height*m.val/this.stretchSum.height:v,a?(h=h>g?h:g,l+=v,u=u>c?u:c,o+=m):(h+=g,l=l>v?l:v,u+=c,o=o>m?o:m)}}var y=0,x=0,b=0,w=0;for(h=a?r.width:Gd([0,r.width-h]),l=a?Gd([0,r.height-l]):r.height,u=Gd([0,r.width-u]),o=Gd([0,r.height-o]),n=0,s=e.length;n<s;n++)c=e[n],(p=i[n])&&(f=c.calculateMargin(),d=c.width&&!c.width.isMutable?c.width:p.minSize.width,m=c.height&&!c.height.isMutable?c.height:p.minSize.height,g=Ow(d)?h*d.val/this.stretchSum.width:Dw(d)?d.val*r.width/100:d.px,v=Ow(m)?l*m.val/this.stretchSum.height:Dw(m)?m.val*r.height/100:m.px,c.updateSize({width:g,height:v,x:y+(Zw[c.xAlignment||this.xContentAlignment]||0)*(a?r.width-g-f.horizontal.px:u)+t.left+f.left.px,y:x+(Zw[c.yAlignment||this.yContentAlignment]||0)*(a?o:r.height-v-f.vertical.px)+t.top+f.top.px},p),a?(b=b>g?b:g,x=w+=v+f.vertical.px):(w=w>v?w:v,y=b+=g+f.horizontal.px))}},e.prototype.reverse=function(){this.childElements.reverse(),this.state.needRecalculation=!0},e.prototype.getReservedSpace=function(){var e=this.variant?{width:this.variant.minSize.width.px,height:this.variant.minSize.height.px}:t.prototype.getReservedSpace.call(this),i="y"===this.orientation;return{width:i?0:e.width,height:i?e.height:0}},e.prototype.selectClosest=function(e,i){return t.prototype.selectClosest.call(this,e,i,"y"===this.orientation?"width":"height")},e.prototype.measure=function(t){for(var e=[],i=[],n=0,r=0,o=0,s=0,a=!1,h=!1,l=0,u=0,c=0,p=this.childElements,f=0,d=t.length;f<d;f++){var m=t[f],g=p[f];if(m){var v=m.minSize.width,y=m.minSize.height,x=Pw(g.width)?g.width:v,b=Pw(g.height)?g.height:y;g=p[f].calculateMargin(),a=a||Ow(x),h=h||Ow(b),i.push(m.score),e.push({x:0,y:0,width:v.px,height:y.px}),"x"===this.orientation?(n+=(Dw(x)?0:x.px)+g.horizontal.absolute,o+=(Dw(x)?x.val:0)+g.horizontal.relative,r=r>(m=Math.max(Ew(b)?b.px:0,y.px)+g.vertical.absolute)?r:m,l+=Ow(x)?x.val:0):(r+=(Dw(b)?0:b.px)+g.vertical.absolute,s+=(Dw(b)?b.val:0)+g.vertical.relative,n=n>(x=Math.max(Ew(x)?x.px:0,v.px)+g.horizontal.absolute)?n:x,u+=Ow(b)?b.val:0),c+=g.vertical.relative}}return r=100*r/(100-s)+c*(n=100>o?100*n/(100-o):0)/100,{components:t,minSize:this.completeSize(Rw(n,{stretch:!Pw(this.width)&&a}),Rw(r,{stretch:!Pw(this.height)&&h})),score:{whitespace:this.combineScores(i,e),magnitude:n*r},extra:{stretchSum:{width:l||1,height:u||1}},index:0}},e.prototype.val=function(e){return e&&e.length&&(this.itemsCount=e.length),t.prototype.val.call(this,e)},e.prototype.scoreCombination=function(t){var e=bw[this.orientation||"x"];return new $w(t).getScore(e)},e}(qA),QA=["cellSpacing","cellPadding","borders"],$A=function(t){function e(e,i){return(e=t.call(this,e,i)||this).rowCount=0,e.columnCount=0,e.gridElements=[],e.borders=[],e.borderElements=[],i&&i.cellSpacing&&e.applyCellSpacing(i.cellSpacing),e}return n(e,t),e.prototype.attr=function(e,i){return l(e,"cellSpacing")&&this.applyCellSpacing(e.cellSpacing),t.prototype.attr.call(this,e,i)},e.prototype.applyCellSpacing=function(t){(this.cellSpacing=parseInt(t)||0)&&"number"==typeof this.padding.initial&&(this.padding=Vw(this.padding.initial+this.cellSpacing/2));var e=Vw(this.cellSpacing/2);Ad(this.childElements,(function(t){t.padding=e}))},e.prototype.isComplete=function(){var t=this.childElements;return 0<(t=t?t.length:0)&&t===this.rowCount*this.columnCount},e.prototype.arrange=function(){var t=this.variant;if(t){this.calculatePadding((this.width.isMutable?t.minSize.width:this.width).px,(this.height.isMutable?t.minSize.height:this.height).px);for(var e=this.childElements,i=this.getContentSize(),n=t.components,r=[],o=[],s=[],a=[],h=0;h<this.rowCount;h++)for(var l=0;l<this.columnCount;l++){var u=h*this.columnCount+l,c=n[u],p=e[u];if(c){var f=c.minSize,d=function(t,e){return Dw(t)?t.val*e/100:t.px};c=d(f.width,i.width),d=d(f.height,i.height),u=p.width&&!p.width.isMutable?p.width:f.width,p=p.height&&!p.height.isMutable?p.height:f.height,r[l]=Gd([r[l],Ow(u)?u.val:0]),o[h]=Gd([o[h],Ow(p)?p.val:0]),s[l]=Gd([s[l],c]),a[h]=Gd([a[h],d])}else s[l]=Gd([s[l],0]),a[h]=Gd([a[h],0]),r[l]=Gd([r[l],0]),o[h]=Gd([o[h],0])}h=[],l=[],r=Zd(r),f=Zd(o),o=[];for(var m=0;m<this.rowCount;m++)for(var g=0;g<this.columnCount;g++){c=n[u=m*this.columnCount+g],p=e[u],u=t.minSize,d=i.width-u.width.px+s[g];var v=i.height-u.height.px+a[m];c?(u=Pw(p.width)?p.width:c.minSize.width,p=Pw(p.height)?p.height:c.minSize.height,c=Ow(u)?d*u.val/r:Dw(u)?u.val*i.width/100:u.px,d=Ow(p)?v*p.val/f:Dw(p)?p.val*i.height/100:p.px,h[g]=Gd([h[g],c]),l[m]=Gd([l[m],d]),o.push([c,d])):(h[g]=Gd([h[g],0]),l[m]=Gd([l[m],0]))}for(i=this.padding.top.px,n=0;n<this.rowCount;n++){for(s=l[n],a=this.padding.left.px,r=0;r<this.columnCount;r++)u=n*this.columnCount+r,f=h[r],p=e[u],m=o[this.columnCount*n+r],c=f,d=s,g=a,v=i,zw(p.width)&&(g+=(Zw[p.xAlignment]||0)*(f-m[0])),zw(p.height)&&(v+=(Zw[p.yAlignment]||0)*(s-m[1])),p.updateSize({width:c,height:d,x:g,y:v},t.components[u]),a+=f;i+=s}}},e.prototype.refreshBorders=function(){for(var t=function(t,i){if(!(i=e.borders[t]))return"continue";var n=e.childElements[t];t=e.borderElements[t]=e.borderElements[t]||[];for(var r=function(t,e){return"M "+(t=Uw([t?0:e?n.width.px:0,t&&e?n.height.px:0,t?n.width.px:0,t?0:n.height.px],1,n))[0]+" "+t[1]+" l "+t[2]+" "+t[3]},o=0;4>o;o++)if(i[o]){var s=t[o],a=!(o%2),h=1===o||2===o;s?s.attr({d:r(a,h)}):((s=e.renderer.path({d:r(a,h),strokeWidth:1,stroke:"gray",fill:"none"})).add(n),t[o]=s)}},e=this,i=0,n=this.childElements.length;i<n;i++)t(i)},e.prototype.applyPatch=function(e){this.refreshBorders(),t.prototype.applyPatch.call(this,e)},e.prototype.getReservedSpace=function(){var t=this.variant;return t?{width:t.minSize.width.px,height:t.minSize.height.px}:{width:0,height:0}},e.prototype.scoreCombination=function(t){return new $w(t).getScore(bw.xy,[this.rowCount,this.columnCount])},e.prototype.measure=function(t){function e(t,e){if(t.length!==e.length)return 0;for(var i=[],n=0;n<t.length;n++){var r=[t[n]],o=e[n];0<o&&r.push(o/100),i.push(r)}for(t=function(t){var e=[],i=t.length-1;return function n(r,o){for(var s=0,a=t[o].length;s<a;s++){var h=r.slice(0);h.push(t[o][s]),o===i?e.push(h):n(h,o+1)}}([],0),e}(i),i=e=0;i<t.length;i++){r=n=0,o=t[i];for(var s=0;s<o.length;s++){var a=o[s];1>a?n+=a:r+=a}e=Gd([e,1>n?r/(1-n):r])}return e}for(var i=[],n=[],r={widths:[],heights:[]},o={widths:[],heights:[]},s={width:!1,height:!1},a=function(t){return Dw(t)?0:t.px},h=function(t){return Dw(t)?t.val:0},l=this.childElements,u=0;u<this.rowCount;u++)for(var c=0;c<this.columnCount;c++){var p=u*this.columnCount+c,f=t[p],d=l[p];if(f){p=f.minSize.width;var m=f.minSize.height,g=Pw(d.width)?d.width:p;d=Pw(d.height)?d.height:m,s.width=s.width||Ow(g),s.height=s.height||Ow(d),i.push(f.score),n.push({x:0,y:0,width:p.px,height:m.px}),r.widths[c]=Gd([r.widths[c]||0,a(p)]),r.heights[u]=Gd([r.heights[u]||0,a(m)]),o.widths[c]=Gd([o.widths[c]||0,h(p)]),o.heights[u]=Gd([o.heights[u]||0,h(m)])}else r.widths[c]=Gd([r.widths[c]||0,0]),r.heights[u]=Gd([r.heights[u]||0,0]),o.widths[c]=Gd([o.widths[c]||0,0]),o.heights[u]=Gd([o.heights[u]||0,0])}return r=function(t,i,n){var r=e(t.widths,i.widths);return t=e(t.heights,i.heights),{width:Rw(r,{stretch:n.width}),height:Rw(t,{stretch:n.height})}}(r,o,s),{components:t,score:{whitespace:this.combineScores(i,n),magnitude:r.width.px*r.height.px},minSize:this.completeSize(r.width,r.height),index:0}},e.prototype.mixCombinations=function(t){for(var e=this.rowCount,i=this.columnCount,n=[],r=t.reduce((function(t,e){return t.length>e.length?t:e})).length,o=0;o<e;o++)for(var s=0;s<i;s++)for(var a=t[o*i+s],h=a.length-1,l=r;0<l--;){var u=h*l/r+.5|0;n[l]||(n[l]=[]),n[l].push(a[u])}return n},e.prototype.val=function(t){if(!t)return this.gridElements;this.rowCount=t.length,this.columnCount=Sd(t,(function(t,e){return e.length>t?e.length:t}),0),this.clear(xe(t));for(var e=this.cellSpacing/2||0,i=0;i<this.rowCount;i++)for(var n=0;n<this.columnCount;n++){var r=t[i][n]||this.layout.panel({type:"panel"}),o=this.wrapInnerItem(r,e);this.gridElements.push(r),o.add(this)}return this.refreshBorders(),this},e.prototype.wrapInnerItem=function(t,e){return t.parent?t.parent:(e=this.layout.panel({padding:e}),"px"!==t.width.valueType&&(e.width=xd(t.width),"%"===t.width.valueType&&(t.width.val=100)),"px"!==t.height.valueType&&(e.height=xd(t.height),"%"===t.height.valueType&&(t.height.val=100)),"Icon"!==t.constructor.name&&(e.attrs=ve(t.attrs,xv),t.attrs={}),t.add(e),e)},e.prototype.clear=function(t){for(var e=this.childElements,i=0,n=e.length;i<n;i++){var r=e[i],o=this.gridElements[i];r&&(r.parent=null,r.destroyAttachedElements(),-1===t.indexOf(o)&&r.patchDestroy())}return this.borderElements=[],this.gridElements=[],this.childElements=[],this.combinations=[],this.variant=null,this.itemsCount=0,this},e.prototype.fillProperties=function(e){if(e){var i=this.processAttrs(e);t.prototype.fillProperties.call(this,e),i&&this.isComplete()&&this.setRenewComplete()}},e.prototype.processAttrs=function(t){for(var e=!1,i=QA.length,n=0;n<i;n++){var r=QA[n],o=t[r];h(o)&&(e=e||this[r]!==o,this[r]=o,delete t[r])}return e},e}(qA),JA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.availableAttributes=function(){return vv},e.prototype.defaultConfig=function(){var t=this.layout;return{fill:"white","border-color":(t=((t=t?c(t.renderer,"errorReporting.chart"):void 0)?t.boxDefaults():iv()).outline).color,"border-width":t.width}},e.prototype.getPaddingOffset=function(t,e){t=t.valueType?t.px:t;var i=e.valueType?e.px:e;return e=function(t,e,i){void 0===i&&(i={});var n=(t=s(Ra(t,e,i),2))[0];return t=t[1],[(e=Math.max)((i=function(t){return{round:(n=t.radius||n)-Math.cos(Math.PI/4)*n,cut:n/2,square:0,callout:0}[t.type||t]})(t[0]),i(t[3])),e(i(t[0]),i(t[1])),e(i(t[1]),i(t[2])),e(i(t[2]),i(t[3]))]}(t,i,this.shape||{}),t=0===t&&0===i,{top:e[1]+(t?0:this.strokeWidth),bottom:e[3]+(t?0:this.strokeWidth),left:e[0]+(t?0:this.strokeWidth),right:e[2]+(t?0:this.strokeWidth)}},e.prototype.fillProperties=function(e){e&&(this.processAttrs(e),t.prototype.fillProperties.call(this,e))},e.prototype.destroyRect=function(){this.rect&&(delete this._box_cache_,this.rect.destroy(),this.rect=null)},e.prototype.patchRect=function(){var t=this.strokeWidth,e=this.getBbox(),i=!e.width||!e.height;!this.childElements.length||i||e.width===2*t&&e.height===2*t?this.destroyRect():(t=ce(this.attrs||{},{"border-width":this.strokeWidth,stroke:this.stroke,fill:this.fillColor,shadow:this.shadow,width:Gd([e.width-t,0]),height:Gd([e.height-t,0]),x:t/2,y:t/2,shape:this.shape}),this.pixelCorrection&&ue(t,e=Uw(t,this.strokeWidth,this)),t=de({},t,fv),(t=this.cached(t,Qw.WriteIfChanged,"_box_cache_"))&&(this.rect?this.rect.attr(t):(this.rect=this.renderer.shape("rectangle",t),(t=this.firstItem())?(t=this.getLowermostElement()||t.el,this.rect.addBefore(t)):this.rect.add(this.getElement())),this.rectAttrsApplied({d:this.rect.attr("d")})))},e.prototype.emptyPatch=function(){t.prototype.emptyPatch.call(this),this.patchRect()},e.prototype.applyPatch=function(e){t.prototype.applyPatch.call(this,de({},e,bv)),this.patchRect()},e.prototype.patchDestroy=function(){this.rect&&(this.rect.destroy(),delete this.rect),t.prototype.patchDestroy.call(this)},e.prototype.rectAttrsApplied=function(t){},e.prototype.firstItem=function(){return this.childElements&&this.childElements.length?gd(this.childElements,(function(t){return t.isPatched})):null},e.prototype.calculatePadding=function(t,e){var i=this.padding;return t=this.getPaddingOffset(t,e),{left:i.left.px+t.left,right:i.right.px+t.right,top:i.top.px+t.top,bottom:i.bottom.px+t.bottom}},e.prototype.completeSize=function(t,e){var i=this.padding,n=this.getPaddingOffset(t,e);return Iw(t,e,{padding:i,offset:n})},e.prototype.processAttrs=function(t){if(l(t,"stroke-width")&&(this.strokeWidth=parseInt(t["stroke-width"])||0,delete t["stroke-width"]),l(t,"stroke")&&(this.stroke=t.stroke,delete t.stroke),l(t,"color")&&(this.fillColor=t.color,delete t.color),l(t,"fill")&&(this.fillColor=t.fill,delete t.fill),l(t,"shadow")&&(this.shadow=t.shadow,delete t.shadow),l(t,"shape")&&(this.shape=t.shape,delete t.shape,this.setRenewComplete()),l(t,"radius")){this.shape=this.shape||{},this.shape.r=t.radius;var e=t.corners&&Id(t.corners),i=e?t.corners:this.shape.corners||[{type:"round"},{type:"round"},{type:"round"},{type:"round"}];e&&!l(i[0],"type")&&(i=Cd(i,(function(t){return{type:t}}))),this.shape.corners=i,delete t.radius,delete t.corners,this.setRenewComplete()}},e}(qA),tC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.fillProperties=function(e){e&&l(e,"text")&&(this.textAttr!==e.text&&(this.textAttr=e.text,_e(this.textAttr)&&(this.textAttr={val:this.textAttr}),this.createTextAndSetTextValue()),delete e.text),t.prototype.fillProperties.call(this,e)},e.prototype.createTextAndSetTextValue=function(){this.textAttr?this.textVisual?this.textVisual.attr(this.textAttr):(this.textVisual=this.layout.textStack(),this.textAttr.zIndex=1,this.textVisual.attr(this.textAttr),this.textVisual.add(this)):this.textVisual&&(this.textVisual.destroy(),this.textVisual=null)},e}(JA),eC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.fillProperties=function(e){var i=this,n=h(e.val)?e.val:e.text,r=e.xAlignment,o=e.yAlignment,s=e.xContentAlignment||r,a=e.yContentAlignment||o;!e.xContentAlignment&&e.xAlignment&&(e.xContentAlignment=r),!e.yContentAlignment&&e.yAlignment&&(e.yContentAlignment=o),s&&this.xContentAlignment!==s&&Ad(this.childElements,(function(t){!t.config.xContentAlignment&&t.attr({xContentAlignment:s})})),a&&this.yContentAlignment!==a&&Ad(this.childElements,(function(t){!t.config.yContentAlignment&&t.attr({yContentAlignment:a})})),e.width&&(e.strategy=e.strategy||"none"),e.stroke&&(this._strokeAttrs=fe({},e,xv),Ad(this.childElements,(function(t){t.attr(i._strokeAttrs)}))),t.prototype.fillProperties.call(this,e),h(n)&&this.val(n)},e.prototype.init=function(){t.prototype.init.call(this),this.orientation="y"},e.prototype.val=function(t){return h(t)?(_e(t)&&this._textAttr!==t&&(this._textAttr=t,this.parseTextAndSetTextValue()),this):this._textAttr},e.prototype.setTextExtraProps=function(t,e){var i=this;"text"!==t.type&&"icon"!==t.type||ue(t,e),Id(t.val)&&Ad(t.val,(function(t){return i.setTextExtraProps(t,e)}))},e.prototype.collectAttrs=function(){return ve(t.prototype.collectAttrs.call(this),xv)},e.prototype.canCutActualWidth=function(){return h(this.maxWidth)&&"ellipsis"===this.textOverflow},e.prototype.editLine=function(t){var e;if("text"===t.type&&t.val)if(Id(t.val)&&md(t.val,(function(t){return t.align})).length){var i=[];Ad(t.val,(function(t){i.push({type:"text",val:[t],xAlignment:t.align})})),t=ue(t,{type:"stack",val:i,width:t.width||"100%"})}else _e(t.val)&&t.align&&(t.xAlignment=t.align);var n=this.textOverflow,r=n&&("ellipsis"===n||"clip"===n);n="ellipsis"===n;var o=this.getAnimation()||(null===(e=this.renderer.defaultOptions().transition)||void 0===e?void 0:e.animation);if(e=o&&!this._recreate,r||o){var s={};r&&(s.width="*"),n&&(s.ellipsisWidth=this.maxWidth||this.width.px),e&&(s.animation=o),this.setTextExtraProps(t,s)}var a=this.xContentAlignment||this.xAlignment,h=this.yContentAlignment||this.yAlignment,l=function(t){a&&(t.xAlignment=t.xAlignment||a),h&&(t.yAlignment=t.yAlignment||h)};return(a||h)&&(Id(t)?Ad(t,(function(t){return l(t)})):l(t)),this._strokeAttrs&&ue(t,this._strokeAttrs),t},e.prototype.canReuse=function(t){if(Id(t.val)||Id(t)){for(var e=0,i=(t=t.val||t).length;e<i;e++)if(!this.canReuse(t[e]))return!1;return!0}return!("visual"===t.kind&&"icon"!==t.type||t.align)},e.prototype.destroyElements=function(){for(;this.childElements.length;)this.childElements[0].destroy()},e.prototype.sameHash=function(t){return t=_e(t=t.val||t)?"":Cd(t,(function(t){return t.type})).join(),this._configHash===t||(this._configHash=t,!1)},e.prototype.parseTextAndSetTextValue=function(){var t=this._textAttr;if(""===t&&this.destroyElements(),t){(t=function(t){var e=[],i=[],n=[],r=mA(),o={},l=[],u=[],c=0,p=[],f=[],d=[],m=function(t){if(t){t=Id(t)?t:t.split(";");var e=[],i={};Ad(t,(function(t){if(t){var n=t.split(":");if(1===n.length&&(n=t.split("=")),2===n.length){t=0===(t=n[0].trim()).indexOf("data-")?t:bA(t),n=n[1].trim();var r,s=dA[t];n=s?s(n):((r={})[t]=n,r),ue(o,n),ue(i,n),e.push.apply(e,a(Object.keys(n)))}}})),h(i.description)&&!h(i.tabindex)&&(o.tabindex=100,i.tabindex=100,e.push("tabindex")),e.length&&(l.push(e),(t=u.length)?u.push(ce(u[t-1],i)):u.push(i))}else l.push([]),u.push([])},g=function(){var t=l.pop();u.pop(),t&&(Ad(t,(function(t){delete o[t]})),(t=u.length)&&ue(o,u[t-1]))},v=function(){r&&""!==r.val&&i.push(r);var t=p[p.length-1];if(p.length&&t>c){var n=e[e.length-1];n.margin||(n.margin=[0,0,0,0]),n.margin[2]=Math.floor(f[c]/2)}if(i.length){n=pA(i),t=p.length&&c>t?Math.floor(f[c-1]/2):0;var s,a=Zd(d)||0;if(n.margin){var h=s=n.margin;Nd(s)?h=[s,s,s,s]:_e(s)&&(h=[s=parseInt(s)||0,s,s,s]),s=h}else s=[0,0,0,0];s[0]+=t,s[3]+=a,n.margin=s,p.push(c),e.push(n),i=[],r=mA("",pe(o))}},y=function(){if(r.val)if(r.width&&_e(r.val)){var t={type:"panel",width:r.width};r.verticalAlign&&(t.verticalAlign=r.verticalAlign),r.align&&(t.xContentAlignment=r.align),r.type="text",t.val=[Vd(r,["width","align","verticalAlign"])],i.push(t)}else i.push(ce(r,o));r=mA("",pe(o))};t=t.replace(sA,String.fromCharCode(160));var x=0,b=t.length;for(x=0;x<b;x++){var w=t[x];if("<"===w){if(gA(t,x+1,"br")){x+=gA(t,x+3,"/")?4:3,r.val||i.length||i.push({val:" "}),v();continue}if(gA(t,x+1,"hr")){x+=gA(t,x+3,"/")?4:3,v(),e.push({type:"panel",width:"100%",yContentAlignment:"middle",val:[{type:"text",val:" "},{type:"panel",width:"100%",val:[{type:"icon",d:"M 0 0 L 10 0",width:"100%",height:"1px",stroke:"darkgray",fill:"none"}]}]});continue}for(var A=!1,C=0,S=vA.length;C<S;C++){var k=vA[C];if(gA(t,x,k.start)){x+=k.start.length-1,y(),ue(o,k.attrs),A=!0;break}for(var _=0,M=k.stops.length;_<M;_++){var T=k.stops[_];if(gA(t,x,T)){x+=T.length-1,Ad(k.attrs,(function(t,e){return delete o[e]})),A=!0;break}}if(A)break}if(A){y();continue}for(C=0,S=xA.length;C<S;C++){if(k=xA[C],gA(t,x+1,k.start)){for(S=x+=k.start.length+1;">"!==t[x];)x++;"ul"===k.key&&(C=null,10<x-S&&(C=(S=t.substring(S,x).match(tA))?S[1]:C),m(C),v(),c++,C=h(C=o.listPadding)?parseInt(C):10,f.push(C),d.push(C)),"li"===k.key&&(k=hA[o.listStyleType],i.unshift(wd({type:"text",val:h(k)?k:hA.disk},o))),A=!0;break}for(_=0,M=k.stops.length;_<M;_++)if(T=k.stops[_],gA(t,x+1,T)){for(x+=T.length+1;">"!==t[x];)x++;"li"===k.key&&v(),"ul"===k.key&&(g(),c--,v(),d.pop()),A=!0;break}if(A)break}if(A){y();continue}for(k=function(e,n){if(e=yA[e],gA(t,x+1,e.tag)){x+=e.tag.length,n="";for(var a=t[x],h={kind:"visual"};">"!==a&&x++<b;)n+=a=t[x];a=uA(n),Ad(a,(function(t){var e=s(t.split("="));2===(t=[t=e[0],(e=e.slice(1)).join("=")]).length&&(h[t[0]]=t[1].replace(iA,""))})),h.style&&(h=ue(fA(h.style),h)),"chart"===e.tag?((n=cA(n))&&Cd(n,(function(t){t=t.trim(),~lA.indexOf(t)?h[t]=!0:h.type=t})),h.type=h.type||"chart",h.isNanoChart=!0):(h.type=e.val,h.fill=h.fill||"black"),r.val&&i.push(pe(r)),r=mA("",pe(o)),-1<(n=(n=(h=qe(h)).fill||"").toLowerCase()).indexOf("rgb")&&(a=void 0,null!==(a=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(n))&&(n=n.replace(a[0],vo(a[0]).hex))),"icon"===e.tag&&n&&-1<n.indexOf(",")&&-1===n.indexOf("rgba")&&(e=n.split(",").map((function(t){return t.trim()})),a=di(n=Ae(e)),e[e.length-1]=a?parseFloat(n):n,a||e.push(90),h.fill=yo(e)),r.width?i.push(ce(r,{type:"panel",yAlignment:h.verticalAlign,val:[h]})):i.push(h),A=!0}},C=0,S=yA.length;C<S;C++)k(C,S);if(A){y();continue}if(gA(t,x+1,"absolute")){x+=9,y(),n=i.slice(0),i=[];continue}if(gA(t,x+1,"/absolute")){x+=10,y(),i=n.concat({type:"panel",val:i}),n=[];continue}if(gA(t,x+1,"span")){for(k="",C=t[x+=5];">"!==C&&x++<b;)k+=C=t[x];(C=(S=k.match(tA))?S[1]:null)||(k=k.match(eA),C=Cd(k,(function(t){return t.replace(iA,"")}))),m(C),A=!0}else gA(t,x+1,"/span")&&(x+=6,y(),g(),A=!0);if(A){r.val&&i.push(pe(r)),r=mA("",pe(o));continue}}r.val+=w}return r.val&&i.push(r),e.length?(e.push(pA(i)),n={type:"stack:y",val:e}):n=pA(i),{value:n,isRtl:!!t.match(nA)}}(t)).isRtl&&(this.attrs.direction="rtl",this.attrs.textAnchor="end");var e=t.value,i="stack:y"===e.type?e.val:[e],n=this.childElements.length;t=[];var r=this.sameHash(e);for(this._recreate=this._recreate||this._type&&e.type&&this._type!==e.type||e.val&&(!this.canReuse(e)||!r)||e.isNanoChart,this._type=Id(e)?"array":e.type,e=0,r=i.length;e<r;e++){var o=i[e],l=o.length;jd(o.val)&&!l&&jd(o.name)&&jd(o.src)&&jd(o.d)&&"visual"!==o.kind||t.push(this.editLine(o))}var u=Cd(t,(function(t){return(t=gd(t.val,(function(t){return t.verticalAlign})))&&t.verticalAlign}));if(!this._recreate&&0<n){for(e=0,r=t.length;e<r;e++)e<n?(i=t[e],this.childElements[e].val(i.val&&i.val.length&&"text"!==i.type?i.val:i)):(o=this.layout.item(t[e]).add(this),0<e&&o.attr({preserveStartSpaces:!1}));for(e=n-1,r=t.length;e>=r;e--)this.childElements[e].destroy()}else for(this._recreate=void 0,this.destroyElements(),this.sharedAttrsUpdated(this.attrs),e=0,r=t.length;e<r;e++)o=void 0,"visual"===(i=t[e]).kind&&i.align&&(i.xAlignment=i.align),Id(i.val)&&(i.yContentAlignment=i.yContentAlignment||u[e]||this.yContentAlignment),(n=this.layout.item(i))&&(o=n.add(this)),0<e&&o&&o.attr({preserveStartSpaces:!1});Ad(this.childElements,(function(t,e){if(!u[e]&&t instanceof KA&&(e=t.childElements,(t=md(e,(function(t){return t instanceof UA}))).length)){var i=0;e=md(e,(function(t){return t instanceof NA})),Ad(e,(function(t){return i=Math.max(i,t.update().getMaxDescent())})),Ad(t,(function(t){var e=t.calculateMargin();e.bottom.val||e.top.val||t.attr({margin:{top:0,left:e.left.val,right:e.right.val,bottom:i}})}))}}))}},e}(KA),iC={},nC={},rC={strategy:"width",textRendering:"geometricPrecision"},oC={fontSize:"12px",fontFamily:"tahoma, geneva, sans-serif"};iC.panel=qA,iC.stack=KA,iC.grid=$A,iC["stack:text"]=eC,iC["box:text"]=tC,iC.box=JA,nC.icon=UA,nC.image=jA,nC.rect=WA,nC.shape=HA,nC.text=NA,nC.svgContainer=GA;var sC={},aC=function(){function t(t){this.children=[],this._needToDestroy=[];var e=this;t=ce(rC,t),e.renderer=fw.create(t),e.pixelCorrection=!h(t.pixelCorrection)||t.pixelCorrection,e.svgStyles=ce({},rC),e.refreshHandler=Ix.onDefer((function(t){t=e.disableAnimation(),e.refreshRootBox(),e.refresh(),t&&e.enableAnimation()}),30)}return t.prototype.refresh=function(){this.destroyChildren(),this.eachChildren((function(t){return t.refresh()}))},t.prototype.refreshRootBox=function(){this.rootBox=this.renderer.box()},t.prototype.getRootBox=function(){return this.rootBox||this.refreshRootBox(),this.rootBox},t.prototype.eachChildren=function(t){var e,i=this;Ad(this.children,(function(i){i.parent?(e=e||[]).push(i):t(i)})),e&&Ad(e,(function(t){i.children.splice(i.children.indexOf(t),1)}))},t.prototype.removeChild=function(t){0<=(t=this.children.indexOf(t))&&(this.needToDestroy(this.children[t]),this.children.splice(t,1))},t.prototype.addChild=function(t){-1===this.children.indexOf(t)&&this.children.push(t)},t.prototype.needToDestroy=function(t){this._needToDestroy.push(t)},t.prototype.destroyChildren=function(){1>this._needToDestroy.length||(Ad(this._needToDestroy,(function(t){return t.patch()})),this._needToDestroy=[])},t.prototype.destroy=function(){this.refreshHandler&&this.refreshHandler.un(),this.renderer.destroy()},t.prototype.item=function(t){return t?this.createLayoutItem(xd(t)):null},t.prototype.panel=function(t){El(t=_e(t=t||{type:"panel"})?{type:t}:xd(t));var e=iC[t.type],i=!e&&t.type,n=i?[this.createLayoutItem(t)]:t.val||[];return e||(delete t.type,delete t.val,t=ce(i?{}:t,{type:"panel",val:n})),this.createPanel(t)},t.prototype.box=function(t){return!(t=ce({type:"box"},t||{})).mode&&t.text&&(t.mode="text"),t.mode&&(t.type="box:"+t.mode),this.createPanel(t)},t.prototype.stack=function(t){return t=ce({type:"stack"},t||{}),this.createPanel(t)},t.prototype.stackY=function(t){return t=ce({type:"stack:y"},t||{}),this.panel(t)},t.prototype.text=function(t){return void 0===t&&(t=""),this.createVisual({type:"text",val:t})},t.prototype.textStack=function(t){return void 0===t&&(t=""),this.createPanel({type:"stack:text",text:t})},t.prototype.rect=function(t){return this.createVisual(ce({type:"rect"},t||{}))},t.prototype.group=function(t){return this.createVisual(ce({type:"group"},t||{}))},t.prototype.svgContainer=function(t){return this.createVisual(ce({type:"svgContainer"},{innerSvg:t}))},t.prototype.image=function(t){return this.createVisual(ce({type:"image"},t||{}))},t.prototype.shape=function(t,e){return this.createVisual(ce({type:"shape",mode:t},e||{}))},t.prototype.icon=function(t){return this.createVisual(ce({type:"icon",name:_e(t)?t:null},t||{}))},t.prototype.attr=function(t,e){return Me(t)?fe(this.svgStyles,t,{fontFamily:"",fontSize:""}):_e(t)&&h(e)&&this.svgStyles[t]&&(this.svgStyles[t]=e),h(t=this.renderer.attr(null,t,e))?t:this},t.prototype.add=function(t){return t&&this.attr({container:t}),this},t.prototype.button=function(t){return this.createPanel(ce({type:"button"},t||{}))},t.prototype.input=function(t){return this.createPanel(ce({type:"input"},t||{}))},t.prototype.file=function(t){return this.createPanel(ce({type:"file"},t||{}))},t.prototype.color=function(t){return this.createPanel(ce({type:"color"},t||{}))},t.prototype.range=function(t,e,i){return this.createPanel(ce({type:"range"},t||{}),e,i)},t.prototype.finishAnimations=function(){return jb.getAnimations().map((function(t){return t.cancel()}))},t.prototype.disableAnimation=function(){var t=!1===this.attr("disableAnimation");return t&&this.attr("disableAnimation",!0),t},t.prototype.enableAnimation=function(){this.attr("disableAnimation",!1)},t.prototype.createPanel=function(t,e,i){for(var n=iC[t.type],r=t.val||[],o=[],s=0,a=r.length;s<a;s++){var h=r[s];if(h instanceof Array){o.push([]);for(var l=0,u=h.length;l<u;l++){var c=h[l];(c=c instanceof BA?c:this.createLayoutItem(c))&&o[s].push(c)}}else(c=h instanceof BA?h:this.createLayoutItem(h))&&o.push(c)}return(t=new n(this,t)).chart=e,t.uiParent=i,o.length&&t.val(o),t},t.prototype.createVisual=function(t){var e=t.type,i=nC[e];if(!i){if(t.isNanoChart){t=Object.keys(Ar("nanoChartTypes").members),i=e.length;for(var n=0,r=t.length;n<r;n++){var o=t[n],s=e,a=o;if(0===s.length)s=a.length;else if(0===a.length)s=s.length;else{for(var h=[],l=0;l<=a.length;l++)h[l]=[l];for(var u=0;u<=s.length;u++)h[0][u]=u;for(l=1;l<=a.length;l++)for(u=1;u<=s.length;u++)h[l][u]=a[l-1]===s[u-1]?h[l-1][u-1]:Math.min(h[l-1][u-1]+1,Math.min(h[l][u-1]+1,h[l-1][u]+1));s=h[a.length][s.length]}if(3>s&&(!p||s<i)){var p=o;i=s}}Wg.emit("warning","layout",p?"microchartNotFoundSuggestion":"microchartNotFound",{data:[e,p],container:c(this.renderer,"wrapper.el")})}return null}return new i(this,t)},t.prototype.createLayoutItem=function(t){return t.type||_e(t.type)?(El(t),iC[t.type]?this.createPanel(t):this.createVisual(t)):null},t}(),hC=function(){function t(t){void 0===t&&(t={}),this.schema=t,this.lengths={},this.indexes={},this.calculations={},this.uniqTypes={},this.ordered={},this.data={},this.dataFlat={}}return t.prototype.getKeys=function(){for(var t=this.getAllKeys(),e=[],i=0,n=t.length;i<n;i++)this.data[t[i]].length&&e.push(t[i]);return e},t.prototype.getAllKeys=function(){return Object.keys(this.data)},t.prototype.getKey=function(t){return(t=this.data[t])?t.slice():[]},t.prototype.getKeyRef=function(t){return this.data[t]||[]},t.prototype.hasKey=function(t){return this.data[t]&&this.data[t].length},t.prototype.hasAllKeys=function(t){for(var e=!0,i=0,n=(t="array"===d(t)?t:t.split(",")).length;i<n;i++)if(!this.hasKey(t[i])){e=!1;break}return e},t.prototype.hasAnyKeys=function(t){for(var e=0,i=t.length;e<i;e++)if(this.hasKey(t[e]))return!0},t.prototype.getValue=function(t,e){var i;return(i=this.data[t])?i[e]:void 0},t.prototype.setValue=function(t,e,i){this.data[t][e]=i},t.prototype.getItem=function(t){for(var e,i=this.getKeys(),n={},r=0,o=i.length;r<o;r++){var s=i[r];h(e=this.getValue(s,t))&&(n[s]=e)}return n},t.prototype.findValue_i=function(t,e,i){void 0===i&&(i=0);var n,r,o=this.uniqTypes[t];return o&&"date"===o[0]?this.findValue_iDate(t,e,i):(r=this.data[t])&&(n=r.indexOf(e,i))>i-1?this.indexes[t][n]:void 0},t.prototype.findValue_iDate=function(t,e,i){void 0===i&&(i=0);var n=this.data[t];e=e.getTime?e.getTime():e;for(var r=n.length;i<r;i++)if(n[i].getTime()===e)return this.indexes[t][i]},t.prototype.findInterpolatedInfo=function(t,e){var i=this.uniqTypes[t];if(i&&"date"===i[0])return this.findInterpolatedInfo_date(t,e);i=0;for(var n=(t=this.data[t]).length;i<n;i++){var r=t[i],o=void 0;if(e===r)return{i,inter:0};if(e>=r&&i<n-1&&e<(o=t[i+1]))return{i,inter:ii(0,1,r,o,e)}}return{i:-1,inter:0}},t.prototype.findInterpolatedInfo_date=function(t,e){t=this.data[t];var i=d(e);e="string"===i?Date.parse(e):"date"===i?e.getTime():e,i=0;for(var n=t.length;i<n;i++){var r=t[i].getTime(),o=void 0;if(e===r)return{i,inter:0};if(e>=r&&i<n-1&&e<(o=t[i+1].getTime()))return{i,inter:ii(0,1,r,o,e)}}return{i:-1,inter:0}},t.prototype.max_i=function(t){return(t=this.calculations[t])?t.max_i:-1},t.prototype.min_i=function(t){return(t=this.calculations[t])?t.min_i:-1},t.prototype.max=function(t){return(t=this.calculations[t])?t.max:void 0},t.prototype.min=function(t){return(t=this.calculations[t])?t.min:void 0},t.prototype.sum=function(t){return(t=this.calculations[t])?t.sum:void 0},t.prototype.sumAbs=function(t){return(t=this.calculations[t])?t.sumAbs:void 0},t.prototype.concat=function(t){return this.getKeyRef(t).slice(0)},t.prototype.indexObject=function(t,e){var i=Object.keys(t);this.indexKeys(i,t,e)},t.prototype.indexKeys=function(t,e,i){for(var n,r=0,o=t.length;r<o;r++){var s=t[r],a=this.schema[s]||{},l=e[s];n=this.data[s]=this.data[s]||[];var u=this.indexes[s]=this.indexes[s]||[];if(this.lengths[s]=this.lengths[s]+1||1,h(e[s]))if(n[i]=l,u.push(i),"number"===(n=this.addUniqType(s,l)))this.addCalcValue(s,l,i);else if("array"===n&&a.flatten)for(s=this.dataFlat[s]=this.dataFlat[s]||[],a=0,n=l.length;a<n;a++)s.push(l[a]);else"date"===n&&this.addCalcValue(s,l.getTime(),i)}},t.prototype.sortBy=function(t,e,i){void 0===e&&(e=!0);var n=this,r=this.indexes[t],o=!!r,s=i?function(t){return i(n.getItem(t))}:function(){var e=n.data[t];return o=e&&e.length,function(t){return e[t]}}();if(o){r=r.map((function(t,e){return{_i:t,val:s(e)}}));var a=function(t,e){return t.val<e.val?-1:t.val>e.val?1:0};return r.sort(e?a:function(t,e){return a(e,t)}),Cd(r,(function(t){return t._i}))}},t.prototype.sortByNone=function(){var t=this,e=0;Ad(ze(this.data),(function(i){t.data[i].length>e&&(e=t.data[i].length)}));var i=[];return Fd(e,(function(t){return i.push(t)})),i},t.prototype.addUniqType=function(t,e){return e=d(e),0>(t=this.uniqTypes[t]=this.uniqTypes[t]||[]).indexOf(e)&&t.push(e),e},t.prototype.addCalcValue=function(t,e,i){var n=this.calculations[t]=this.calculations[t];n?(e>n.max&&(n.max=e,n.max_i=i),e<n.min&&(n.min=e,n.min_i=i),n.sum+=e,n.sumAbs+=pm.abs(e)):this.calculations[t]={min:e,max:e,min_i:i,max_i:i,sum:e,sumAbs:pm.abs(e)}},t.prototype.reset=function(t){var e=this;t?this.resetKey(t):(Ad(this.getKeys(),(function(t){e.resetKey(t)})),this.lengths={})},t.prototype.resetKey=function(t){delete this.data[t],delete this.indexes[t],delete this.calculations[t],delete this.uniqTypes[t],delete this.lengths[t],delete this.ordered[t]},t.prototype.countDecimals=function(t){var e=this.data[t],i=[0];if(this.dataFlat[t]?e=this.dataFlat[t]:2!==t.length||!this.data[t[0]]||"e"!==t[1]&&"s"!==t[1]||(e=this.data[t[0]]),e&&e.length){t=0;for(var n=e.length;t<n;t++)i.push(gm(e[t]))}return Math.max.apply(Math,a(i))},t.prototype.log=function(t){t=Object.keys(this.data),Ad(t,(function(t){}))},t}(),lC=function(){function t(t){this.chart=t,this.items={},this.spItems=[]}return t.prototype.getSPItems=function(){return this.spItems.slice(0)},t.prototype.register=function(t){var e=Wo(t);return this.items[e]=t,"SmartPalette"===t.kind&&this.spItems.push(t),t},t.prototype.remove=function(t){if(t=Se(t.id,t.currentOptions.id))return this.removeById(t)},t.prototype.exists=function(t){return this.items[t]},t.prototype.filter=function(t){return md(this.items,t)},t.prototype.destroyItem=function(t){var e;return!!(e=this.items[t])&&(e.destroy&&e.destroy(),this.removeById(t),!0)},t.prototype.removeById=function(t){var e,i=this.items;return!!(e=i[t])&&("SmartPalette"===e.kind&&u(this.spItems,e),delete i[t],!0)},t}(),uC={},cC={LineString:"line",MultiLineString:"line",Polygon:"column",MultiPolygon:"column",Point:"marker",MultiPoint:"marker"},pC={organization:"organizational"},fC=function(){function t(t,e){var i={};if(0<e.length)if("string"===d(e)){i=Pl(e,"seriesType,chartType");var n=Pl(e,"seriesType,chartType",!0);i.invalid&&(i={},n={})}else i=e;if(0<t.length||!i.chartType)if("string"===d(t))var r=Pl(t=function(t){var e=ze(pC);return Ad(e,(function(e){return t=t.replace(new RegExp("\\b"+e+"\\b","i"),pC[e])})),t}(t),"chartType"),o=Pl(t,"chartType",!0);else r=t;switch((n=yd({},n,o,i,r)).chartType){case"radar":case"gauge":var s=!0}return{dst:i,ct:r,ctdst:n,isPaneType:s}}function e(e,i){var n,r=s,a=e.toLowerCase();return i&&(n=o(i))&&(r=(i=t(s,n)).ctdst),!!(r.chartType&&r.chartType.toLowerCase()===a||r.seriesType&&r.seriesType.toLowerCase()===a)||("calendar"===e||"heatmap"===e||"variwide"===e?a===r.seriesType:void 0)}function i(e){var i;return e&&e.currentOptions&&(e=e.currentOptions),e&&(i=o(e))?t(s,i):t(s,"")}function n(t,e){var n=i(e);return(e=(n=n.ctdst||n)[t])?e.toLowerCase():e||"seriesType"!==t||"map"!==n.chartType?void 0:"map"}function r(t){var e;if(a.chartType&&-1<"pie,gauge,funnel,cone,pyramid".indexOf(a.chartType)&&(e=!0),e&&t){for(var i=[],n=[],r=0,o=t.length;r<o;r++){e=!1;var s=t[r];s.i=r,s.type&&Pl(s.type,"chartType","noDef").chartType&&(i.push([s]),e=!0),e||n.push(s)}return n.length&&i.splice(0,0,n),i}return e}function o(t){var i,n,r,o=t.type;return e("map")&&!o&&(i=t.map)&&(n=i.type||c(i,"features.0.geometry.type"))&&(o=(r=cC[n])?r:n),o}var s,a={},h={};return{init:function(e){var i=c(e,"type")||"";i=t(i,e=c(e,"defaultSeries.type")||c(e,"defaultSeries_type")||""),a=i.ct||{},h=i.dst||{},s=i.ctdst||{},i.isPaneType},isType:e,getIsTypeChecker:function(e){var i,n=s;e&&(i=o(e))&&(e=t(s,i),n=e.ctdst);var r=function(t,e){return n[t]&&n[t].toLowerCase()===e};return function(t){var e=t.toLowerCase();return!(!r("chartType",e)&&!r("seriesType",e))||("calendar"===t||"heatmap"===t||"variwide"===t?e===n.seriesType:void 0)}},hasSetting:function(e,i,n){var r,a=s;if(n&&(r=o(n))&&(a=(n=t(s,r)).ctdst),n=a[e])if(n=n.toLowerCase(),"behavior"===e){if(-1<(","+n+",").indexOf(","+i.toLowerCase()+","))return!0}else if(n&&n===i.toLowerCase())return!0},settingVal:n,getSettingChecker:function(t){var e,n=i(t);return n=n.ctdst||n,function(t){return(e=n[t])?e.toLowerCase():e||"seriesType"!==t||"map"!==n.chartType?void 0:"map"}},curCtDst:i,mergeSettings:t,getPaneGroups:function(t){var e,i=[],n=[];h.chartType&&(e=1);for(var r=0,o=t.length;r<o;r++){var s=!1,a=t[r];if(a.i=r,e||a.type){var l=e||Pl(a.type,"chartType","noDef");(e||l.chartType)&&(i.push([a]),s=!0)}s||n.push(a)}return 0<n.length&&i.splice(0,0,n),Cd(i,(function(t){var e=Cd(t,(function(t){return t.id})).join("");return t.hash=e,t}))},shouldDataMerge:r,dataMergeType:function(t){if(r())return t=gd(t,(function(t){return gd(t.points,(function(t){return Se(t[1],t.y,0).length}))})),"gauge"===a.chartType&&t?"collect":"sum"},isMapLayer:function(t){if(e("map")&&("object"==typeof t.getMapData()||e("map")&&(c(t.userOptions,"mapDataId")||c(t.userPoints,"0.mapDataId"))))return!0},isHoriz:function(){return"horizontal"===n("chartType")||"horizontal"===n("linearGaugeType")}}},dC={solid:"",dot:"1,3",dash:"4,3",dashdot:"4,3,1,3",dashdotdot:"4,3,1,3,1,3",shortdash:"3,1",shortdot:"1,1",shortdashdot:"3,1,1,1",shortdashdotdot:"3,1,1,1,1,1",longdash:"8,3",longdashdot:"8,3,1,3",longdashdotdot:"8,3,1,3,1,3"},mC=function(t){return t},gC={},vC=function(t,e){var i=function(t){var e=gC[t];return e||(e=gC[t]=t.split(".")),e},n=[{option:"outline.color",check:mC,dependent:"outline.width",value:1},{option:"outline.width",check:function(t){return 0<t},dependent:"boxVisible",value:!0},{option:"fill",check:mC,dependent:"boxVisible",value:!0,important:!0}];return n.push.apply(n,a(e||[])),Ad(n,(function(e){var n=Id(e.option)?e.option:[e.option];n=gd(n,(function(n){return e.check(p(t,i(n)))}));var r=e.important||Te(p(t,i(e.dependent)));n&&r&&Re(t,i(e.dependent),e.value)})),t},yC=function(t,e,i,n,r){var o;Te(o=t[i])||(e[n||i]=r?r(o):o)},xC=h,bC=[10,5,4,2,1,.5,.4,.2],wC=[50,20,10,5,4,2,1],AC={badMin:"min",badMax:"max"},CC=pm,SC=function(t,e){return{val:function(i){return t(eu(i.indexedData),e?i.scCache:i.cache,"max","min")},axis:"y"}},kC=function(t,e,i){return{val:function(n){return e(n.pOptions[t],i?n.scCache:n.cache,t+"Max",t+"Min")},axis:t}},_C=function(t,e,i){return{val:function(i){return e(i,t)},axis:t,fStr:i}},MC=function(t,e){return l(t.cache,e)?t.cache[e]:t.scCache&&t.scCache[e]},TC=function(t,e,i){return(t=t.cache["y"===e?"list":e+"List"]).length?i(t):""},OC=function(t){return{val:function(e){return t(e)},yVal:!0}},zC={yaxislabel:function(t){return t.cache.yAxis?p(t.cache.yAxis.currentOptions,["label","text"]):void 0},xaxislabel:function(t){return t.cache.xAxis?p(t.cache.xAxis.currentOptions,["label","text"]):void 0},zaxislabel:function(t){return t.chart.currentOptions.zAxisLabelText||p(t.chart.currentOptions,["zAxis","label","text"])},percentoftotal:_C("y",ru),ypercentoftotal:_C("y",ru),xpercentoftotal:_C("x",ru),zpercentoftotal:_C("z",ru),icon:function(t){return t.point?t.point.getIconTag():void 0}},DC={percentofdatarange:SC($l,!0),ypercentofdatarange:SC($l,!0),xpercentofdatarange:kC("x",$l,!0),zpercentofdatarange:kC("z",$l,!0),percentofdatamax:SC(Jl,!0),ypercentofdatamax:SC(Jl,!0),xpercentofdatamax:kC("x",Jl,!0),zpercentofdatamax:kC("z",Jl,!0),percentofseriesrange:SC($l),ypercentofseriesrange:SC($l),xpercentofseriesrange:kC("x",$l),zpercentofseriesrange:kC("z",$l),percentofseriesmax:SC(Jl),ypercentofseriesmax:SC(Jl),xpercentofseriesmax:kC("x",Jl),zpercentofseriesmax:kC("z",Jl),percentofaxisrange:_C("y",iu),ypercentofaxisrange:_C("y",iu),xpercentofaxisrange:_C("x",iu),percentofseries:_C("y",nu),ypercentofseries:_C("y",nu),xpercentofseries:_C("x",nu),zpercentofseries:_C("z",nu),percentofgroup:_C("y",ou),ypercentofgroup:_C("y",ou),xpercentofgroup:_C("x",ou),zpercentofgroup:_C("z",ou),percentile:_C("y",su,"n0"),ypercentile:_C("y",su,"n0"),xpercentile:_C("x",su,"n0"),zpercentile:_C("z",su,"n0"),seriespointcount:function(t){return t.series.userPoints.length},seriesname:function(t){return t.sOptions.name},parentid:function(t){return t.pOptions.parent||""},parentname:function(t){var e=t.pOptions.parent,i=t.chart.chartItemManager.exists(e);return(e&&i?i:t.sOptions).name},complete:function(t){return Se(c(t.pOptions,"complete.y"),c(t.pOptions,"complete"),0)},zvalue:function(t){return t.pOptions.z},xvalue:function(t){var e=h(t.pOptions.x)?t.fOptions.xIsTime?new Date(t.pOptions.x):t.pOptions.x:t.pOptions.name;return h(e)?e:h(t.point.x)?t.point.x:"category"===p(t.cache,["xAxis","type"])&&p(t.cache,["xAxis","catList",t.indexedData.x])||void 0},yvalue:OC((function(t){return au(t)})),value:OC((function(t){return au(t)})),ystart:OC((function(t){return tu(t.indexedData)?t.indexedData.ys:t.indexedData.y})),open:OC((function(t){return t.pOptions.open})),close:OC((function(t){return t.pOptions.close})),high:OC((function(t){return h(t.pOptions.high)?t.pOptions.high:tu(t.indexedData)?t.indexedData.ye:t.indexedData.y})),low:OC((function(t){return h(t.pOptions.low)?t.pOptions.low:tu(t.indexedData)?t.indexedData.ys:t.indexedData.y})),id:function(t){return t.pOptions.id},name:function(t){return t.pOptions.name||("string"==typeof t.pOptions.x?t.pOptions.x:t.indexedData.name||"")||(h(t.point.x)?t.point.x:"category"===p(t.cache,["xAxis","type"])&&p(t.cache,["xAxis","catList",t.indexedData.x]))||""},color:function(t){return go(t.series.getPointAttr(t.point).baseColor,0)},yrange:function(t){return eu(t.indexedData)},subvaluelist:function(t){return(t=t.pOptions.subvalue)&&t.values?t.values.join(","):""}},EC={type:function(t){return MC(t,"type")},maxpointname:function(t){return MC(t,"nMax")},ymaxpointname:function(t){return MC(t,"nMax")},xmaxpointname:function(t){return MC(t,"nXMax")},zmaxpointname:function(t){return MC(t,"nZMax")},minpointname:function(t){return MC(t,"nMin")},yminpointname:function(t){return MC(t,"nMin")},xminpointname:function(t){return MC(t,"nXMin")},zminpointname:function(t){return MC(t,"nZMin")},pointcount:function(t){return MC(t,"list").length},median:function(t){return TC(t,"y",Je)},ymedian:function(t){return TC(t,"y",Je)},xmedian:function(t){return TC(t,"x",Je)},zmedian:function(t){return TC(t,"z",Je)},mode:function(t){return TC(t,"y",$e)},ymode:function(t){return TC(t,"y",$e)},xmode:function(t){return TC(t,"x",$e)},zmode:function(t){return TC(t,"z",$e)},rangesum:function(t){return MC(t,"yRangeSum")},yrangesum:function(t){return MC(t,"yRangeSum")},yaverage:function(t){return MC(t,"average")},average:function(t){return MC(t,"average")},zaverage:function(t){return MC(t,"zAverage")},xaverage:function(t){return MC(t,"xAverage")}},PC={lasty:function(t){return TC(t,"y",Ae)},lastx:function(t){return TC(t,"x",Ae)},lastz:function(t){return TC(t,"z",Ae)},name:function(t){return t.series.name},value:function(t){return t.cache.sum},color:function(t){return t.sOptions.color?t.sOptions.color:1===t.series._points.length?t.series._points[0].tokenValue("%color"):t.series.info.style.base.color},id:function(t){return t.sOptions.id||t.sOptions.options.id},ylist:function(t){return t.cache.list?t.cache.list.join(","):""},xlist:function(t){return t.cache.list?t.cache.list.join(","):""},zlist:function(t){return t.cache.list?t.cache.list.join(","):""}},BC={name:function(t){return Se(t.item.name,t.cache.name,c(t.cache,"label.text"),"")},color:function(t){return t.item.color},minutes:function(t){return hu(t,6e4)},hours:function(t){return hu(t,36e5)},days:function(t){return hu(t,864e5)}};Ue("value,ysum",(function(t){return BC[t]=function(t){return t.val.pop?t.val[1]:t.val}})),Ue("min,ymin,xmin",(function(t){return BC[t]=function(t){return Se(t.evaluedValue[0],t.cache.min,t.cache.low,t=(t=t.cache.value)&&(Id(t[0])?t[0][0]:t[0]))}})),Ue("max,ymax,xmax",(function(t){return BC[t]=function(t){return Se(t.evaluedValue[1],t.cache.max,t.cache.options,t=(t=t.cache.value)&&(Id(t[0])?t[0][1]:t[1]))}})),Ue("range,yrange",(function(t){return BC[t]=function(t){return t.val.pop?t.val[1]-t.val[0]:t.val}})),Ue("Sum,Average",(function(t){var e=pi(t);Ue("Min,Max",(function(i){var n=pi(i);Ue("y,x,z",(function(r){var o="y"===r;o&&(EC[n+e]=function(e){return MC(e,n+t)}),EC[r+n+e]=function(e){return MC(e,(o?n:r+i)+t)}}))}))})),Ue("Sum,Min,Max,Range,Absmax",(function(t){return Ue("y,x,z",(function(e){var i=pi(t),n="y"===e;n&&(EC[i]=function(t){return MC(t,i)}),EC[e+i]=function(r){return MC(r,n?i:e+t)};var r=i+"ofseries";n&&(PC[r]=function(t){return t.scCache[i]}),PC[e+r]=function(r){return r.scCache[n?i:e+t]}}))}));var LC,RC,FC=ue(DC,zC),VC=ue(PC,ce(zC,EC)),IC=ue({title:function(t){return t.chart.options("title.label.text")},maxseriesname:function(t){return MC(t,"snMax")},ymaxseriesname:function(t){return MC(t,"snMax")},xmaxseriesname:function(t){return MC(t,"snXMax")},zmaxseriesname:function(t){return MC(t,"snZMax")},minseriesname:function(t){return MC(t,"snMin")},yminseriesname:function(t){return MC(t,"snMin")},xminseriesname:function(t){return MC(t,"snXMin")},zminseriesname:function(t){return MC(t,"snZMin")},name:function(t){return MC(t,"name")},typelist:function(t){return t.cache.typeList.join(",")},sumlist:function(t){return t.cache.sumList.join(",")},ysumlist:function(t){return t.cache.sumList.join(",")},xsumlist:function(t){return t.cache.xSumList.join(",")},zsumlist:function(t){return t.cache.zSumList.join(",")}},EC),NC=BC,jC=Pg,WC=/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(.\d+)[+-](\d{2}):(\d{2})/g,HC=function(t,e){return function(i){return t[e](i)}},YC=function(t,e){var i=Ym(t);return t=e([i[0],i[1]]),e=e([i[2],i[3]]),0>(e=Um([t[0],t[1],e[0],e[1]]))[2]&&(e[0]-=e[2],e[2]=Math.abs(e[2])),0>e[3]&&(e[1]-=e[3],e[3]=Math.abs(e[2])),e},UC=[3,2,3,2],GC=/(-?[0-9]+),(-?[0-9]+)/,ZC=/[\s,]/,XC={top:"t",topright:"r",right:"r",bottomright:"r",bottom:"b",topleft:"l",left:"l",bottomleft:"l"},qC={topright:"righttop",bottomright:"rightbottom",topleft:"lefttop",bottomleft:"leftbottom"},KC={insidetop:"tctc",insidetopright:"trtr",insideright:"mrmr",insidebottomright:"brbr",insidebottom:"bcbc",insidetopleft:"tltl",insidelefttop:"tltl",insiderighttop:"trtr",insiderightbottom:"brbr",insideleftbottom:"blbl",insideleft:"mlml",insidebottomleft:"blbl",insidecenter:"mcmc",insidemiddle:"mcmc",top:"bctc",topcenter:"bctc",righttop:"tltr",right:"mlmr",middleright:"mlmr",rightbottom:"blbr",bottom:"tcbc",bottomcenter:"tcbc",lefttop:"trtl",left:"mrml",middleleft:"mrml",leftbottom:"brbl",topright:"brtr",bottomright:"trbr",topleft:"bltl",bottomleft:"tlbl",outsidetopright:"bltr",outsidebottomright:"tlbr",outsidetopleft:"brtl",outsidebottomleft:"trbl",outsiderighttop:"bltr",outsiderightbottom:"tlbr",outsidelefttop:"brtl",outsideleftbottom:"trbl"},QC={top:0,bottom:0,middle:0,left:1,right:1,center:1},$C=Cd(function(t){return(t=Ar(t))?Object.keys(t.members):[]}("orientation"),(function(t){return t.toLowerCase()})).join("|"),JC=function(){function t(t,e,i){if(void 0===i&&(i=[]),this.currentOptions={},this.userOptions={},this.chart=t,void 0===e){var n=1;e={}}e=this.normalizeOptions(e),this.userOptions=xd(e),c(this.userOptions,"data.length")&&(this.userOptions.data=this.userOptions.data.map((function(t){return xd(t)}))),this.renderer=t&&(t.renderer||t),this.init.apply(this,a(i)),!n&&this.setOptions()}return t.prototype.options=function(t,e){return"string"==typeof t?this.optionsGet(t):(wd(this.userOptions,this.normalizeOptions(t)),this.setOptions(),this)},t.prototype.init=function(){this.defaultMutable=!0},t.prototype.normalizeOptions=function(t,e){return qe(t,e)},t.prototype.optionsGetter=function(t){return Ru(this,t)},t.prototype.optionsGet=function(t){return c(this.currentOptions,t.replace(/_/g,"."))},t.prototype.defaultOptions=function(){return{}},t.prototype.contextOptions=function(){return this.defaultContextOptions},t.prototype.dependentOptions=function(){return[]},t.prototype.completeUserOptions=function(){return vC(this.userOptions,this.dependentOptions())},t.prototype.setOptions=function(){var t=[this.defaultOptions()],e=this.contextOptions();return e&&t.push(e),t.push(this.completeUserOptions()),!this.defaultMutable&&t.unshift({}),this.currentOptions=wd.apply(null,t),this},t}(),tS=function(t){function e(e,i,n){return void 0===n&&(n=[]),(e=t.call(this,e,i,n)||this).attribs={},e.events={},e.updateOptions={},e.subscriptions=[],e}return n(e,t),e.prototype.init=function(){this.defaultMutable=!0},e.prototype.defaultOptions=function(){return this.chart?{animation:this.chart.options("animation")}:{}},e.prototype.setOptions=function(){return t.prototype.setOptions.call(this),this.setRootVisuals(),this},e.prototype.options=function(t,e){var i=this.optionsGetter(t);return"NotGetter"!==i?i:(wd(this.userOptions,this.normalizeOptions(t)),this.setOptions(),!1!==e&&this.render(null,e),this)},e.prototype.normalizeUpdateOpt=function(t,e){return"object"==typeof e?(t=bd(t),e=wd(t,qe(e))):e=t,e},e.prototype.afterUpdate=function(t){if(t&&t.then){var e=this;jb.await((function(){t.then&&(t.then.call(e.chart),delete t.then)}))}},e.prototype.setRootVisuals=function(){return this.rootPanel||(this.rootPanel=this.renderer.panel()),this},e.prototype.setAttribs=function(){return this},e.prototype.render=function(t,e){return this},e.prototype.getBounds=function(t){var e=t||this.rootPanel,i=e;for(t=[0,0];i;)t[0]+=i.x.px+i.offsetX,t[1]+=i.y.px+i.offsetY,i=i.parent;return e.isPatched?e=[(e=e.getBbox()).width,e.height]:((i=e.combinations).length||(i=e.composeCombinations()),i=i[0],e=[Se(c(e.attrs,"width"),i.minSize.width.px),Se(c(e.attrs,"height"),i.minSize.height.px)]),t.concat(e)},e.prototype.add=function(t,e){return this.parentLayoutItem=t||this.renderer,this.render(),this.rootPanel.add(t,e),this},e.prototype.destroy=function(){Ad(this.rootVisuals,(function(t){return t&&t.destroy&&t.destroy()})),this.rootPanel&&this.rootPanel.destroy()},e.prototype.handleEvent=function(t,e,i,n){if(h(e)&&h(i)&&(e=this.events[e]))return e[t](i,n)},e.prototype.trigger=function(t,e){this.events[t].trigger(e,this)},e.prototype.on=function(t,e,i){return(t=this.handleEvent(i?"onDefer":"on",t,e,i))&&this.subscriptions.push(t),this},e.prototype.un=function(t,e){return this.handleEvent("un",t,e),this},e.prototype.triggerUser=function(t,e){return this.triggerUserTarget(t,this,e)},e.prototype.triggerUserTarget=function(t,e,i){var n=this.currentOptions.events;if(z(n=(t=n&&he(n,t))&&n[t]))return n.call(e,i||void 0)},e.prototype.hasUserEvent=function(t){var e=this.currentOptions.events;if(t){if("any"===t)return e&&ze(e).length;if(e)return(t=he(e,t))&&z(e[t])}},e.prototype.hasAnyNamedEvent=function(t){return this.hasUserEvent(t)||this.events[t]},e.prototype.click=function(t){},e}(JC),eS=function(t){function e(e,i,n){return void 0===n&&(n=[]),(n=t.call(this,e,i,n)||this).chart=e,void 0===i&&(i={}),n.id=i.id||void 0,n.ciManager=e.chartItemManager,n.ciManager.register(n),n}return n(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.ciManager.remove(this)},e}(tS),iS=function(t){var e=[],i=function(t,n){var r;if(void 0===n&&(n=""),"object"!=typeof t||null===t)return t;var o=function(t,r){var o=typeof t;r=n.length?n+"."+r:r,"object"===o&&null!==t?i(t,r):"function"===o&&e.push([r,t])};if(Array.isArray(t)){var s=t.length;for(r=0;r<s;r++)o(t[r],r)}else for(r in t)t.hasOwnProperty(r)&&o(t[r],r)};return i(t),e},nS=ye("rotate fontFamily fontStyle fontWeight fontSize color margin padding".split(" ")),rS=ye(["val","xAlignment","yAlignment","stroke"]),oS=function(t){function e(e,i,n){return(e=t.call(this,e,i)||this).target=n,e.currentState="",e}return n(e,t),e.prototype.setRootVisuals=function(){var t=this.rootVisuals=this.rootVisuals||{},e=this.rootPanel,i=this.renderer;return this.rootPanel||(e=this.rootPanel=i.panel()),t.background||(t.background=t.background||i.item({type:"rect",fill:"transparent"}).add(e)),t.text||(t.text=t.text||i.textStack().attr({width:"auto",autoWrap:"none",val:this.getText()}).add(e)),this},e.prototype.setAttribs=function(){this.currentOptions;var t,e={};return e[""]=this.translate(this.currentOptions),(t=this.currentOptions.states)&&(t.hover&&(e.hover=this.translate(c(this.currentOptions,"states.hover"))),t.select&&(e.select=this.translate(c(this.currentOptions,"states.selected")))),this.attribs=e,this},e.prototype.applyAttrs=function(t){this.rootPanel.attr(ve(t,rS)),this.rootVisuals.text.attr(ve(t,nS)),this.chart.triggerOptionsApplied("label",this)},e.prototype.isVisible=function(){return!1!==this.currentOptions.visible&&this.getText().length},e.prototype.getSize=function(t){if(!this.isVisible())return[0,0];t&&this.applyAttrs(t),this.rootPanel.updateCombinations();var e=this.rootPanel.combinations;return t=this.rootPanel.calculateMargin(),e.length?[(e=e[0].minSize).width.px+t.horizontal.px,e.height.px+t.vertical.px]:[0,0]},e.prototype.getSizes=function(t){if(!this.isVisible())return[[0,0]];t&&this.applyAttrs(t),this.rootPanel.updateCombinations(),t=this.rootPanel.combinations;var e=this.rootPanel.calculateMargin();return e=[e.horizontal.px,e.vertical.px],t.length?(t[0].minSize,Cd(t,(function(t){return[(t=t.minSize).width.px+e[0],t.height.px+e[1]]}))):[[0,0]]},e.prototype.render=function(){var t=this;this.setOptions(),this.setAttribs();var e=this.currentOptions,i=this.attribs[""],n=i.attr.label;i=i.layout.label;var r=this.rootVisuals.text;if(this.isVisible()){this.rootPanel&&this.rootPanel.visible(!0),this.applyAttrs(i);var o=this.rootVisuals.text.variant;90===Math.abs(i.rotate)&&"center"===i.yAlignment&&o&&r.attr({y:o.minSize.width.px/2*(0>i.rotate?1:-1)}),r&&(r.attr(n),r.attr({val:this.getText()}),c(e,"states.hover")&&((void 0).on("mouseover",(function(){t.setState("hover")})),(void 0).on("mouseout",(function(){t.setState("")}))))}else this.rootPanel&&this.rootPanel.visible(!1);return this},e.prototype.translate=function(t){var e={};return t=t||this.currentOptions,yd({},t.style||{}),Fe(e,t,(function(t,e){t.color=e}),"color",go),{attr:{label:e},layout:{label:Wl(this.currentOptions,void 0,{color:this.currentOptions.baseColor})}}},e.prototype.setState=function(t){if(t!==this.currentState){var e=this.attribs[t],i=e.attr.label;this.rootPanel.options(e.layout.label),this.rootPanel.attr(i),this.currentState=t}},e.prototype.attr=function(t){this.rootPanel.attr(t)},e.prototype.getTextEl=function(){return this.rootVisuals.text},e.prototype.getText=function(){return this.evalText(this.options("text"))||""},e.prototype.evalText=function(t){var e=this.target||this.chart;return t&&e&&e.replaceTokens&&(t=e.replaceTokens(t)),t},e}(tS),sS="visible fill outline opacity radius padding position margin corners shadow width height".split(" "),aS=function(t){return(t=t?t.boxDefaults():iv()).fill=wo(t.fill,.8),t.position="bltl",t},hS=function(t){function e(e,i,n){return(e=t.call(this,e,i,[e,i,n])||this).target=n,e.fillShading="box",e.asHTML=!1,e.isVisible=!1,e.applyOptions(!1),e}return n(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];(t=s(t,3))[0],t[1],t[2]},e.prototype.defaultOptions=function(){var t=c(this.chart.currentOptions,"defaultAnnotation");return wd(aS(this.chart),t)},e.prototype.setRootVisuals=function(){var t=this,e=this.renderer;return this.rootPanel||(e=this.rootPanel=this.rootPanel||(this.asHTML||this.currentOptions.asHTML?e.renderer.htmlElement().attr({left:0,top:0}):e.box({autoWrap:"default",transition:{auto:!0}})),this.rootVisuals||(this.rootVisuals={content:this.createContentVisual(e)}),e.on("click",(function(e){return t.click(e)}))),this},e.prototype.getBounds=function(e){return!e&&this.currentOptions.asHTML?this.bbox():t.prototype.getBounds.call(this,e)},e.prototype.createContentVisual=function(t){var e=this.renderer;return this.asHTML||this.currentOptions.asHTML?e.renderer.htmlElement().add(t):e.textStack().add(t)},e.prototype.bbox=function(t){var e=this.rootPanel,i=e.getBbox();return this.currentOptions.asHTML&&(t=t?Ge(this.currentOptions.margin):[0,0,0,0],i.x=(parseFloat(e.attr("left"))||0)-t[3],i.y=(parseFloat(e.attr("top"))||0)-t[0],i.width=i.width+t[1]+t[3],i.height=i.height+t[0]+t[2]),[i.x,i.y,i.width,i.height]},e.prototype.visible=function(t){return h(t)||(t="none"!==this.rootPanel.attr("display")),this.rootPanel.attr({display:t?"block":"none"}),this.setVisible(t),this},e.prototype.setVisible=function(t){this.isVisible=t},e.prototype.alignTo=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];(t=this.rootPanel).alignTo.apply(t,a(e))},e.prototype.options=function(t,e){var i=this.optionsGetter(t);if("NotGetter"!==i)return i;i=this.normalizeOptions(t);var n=this.userOptions.label,r=i.label&&i.label.text;return n=n&&n.text,r=h(r)&&n!==r,Ce(this.userOptions,i)||p(e,["force"])?(this.setOptions(),i=h(e),this.applyOptions(i?e:{skipReflow:!0}),!1===e||i&&e.skipReflow||(!(r=(i=this.rootPanel)&&i.isPatched&&(r||void 0))&&i&&this.chart.isRendered&&!1!==e&&(t=ze(t),0<Ed(t,sS).length&&(r=!0)),r&&(s(zu(this),1)[0]?i.refresh&&i.refresh():this.chart.chartAreaSet.reflow(e,!1,!0)),this.afterUpdate(e)),this):this},e.prototype.normalizeOptions=function(e){var i,n,r=void 0;return void 0===r&&(r="corners"),"undefined"!==(n=d(i=c(e,r)))&&"object"===n&&(e[r]=function(t){if("object"==typeof t){var e=[];return Ad(["topLeft","topRight","bottomRight","bottomLeft"],(function(i,n){e[n]=t[i]})),e}}(i)),t.prototype.normalizeOptions.call(this,e)},e.prototype.applyOptions=function(t){void 0===t&&(t={}),t=qe(t),this.rootPanel||this.setOptions();var e=this.currentOptions,i=this.userOptions,n=this.rootPanel,r=this.rootVisuals.content,o=this.asHTML||e.asHTML,s=xd(Se(t.animation,e.animation,{}));t=xd(e);var a=Wl(e.label),h=c(e,"label.text");if(!1===s&&(s={duration:0}),o){var l=this.rootPanel,u=l.transition(),p=l.renderer.isAnimationDisabled(t);t.animation=l.isPatched&&!p?u?wd(u.getAnimationOptions(),s):s:null,t=Il(t)}else(t=Nl(t,Se(e.fillShading,this.fillShading))).animation=s;return((h=this.evalText(h))||!this.asHTML&&r&&r.textAttr!==h||this.asHTML&&n.innerHTML!==h)&&(a=wd(a,{animation:s}),this.asHTML||e.asHTML?a.innerHTML=h:(a.val=h,i.width&&(i=i.width-(t.padding?t.padding[1]+t.padding[3]:0)-2*(t["stroke-width"]||0),a.maxWidth||a.width||(a.maxWidth=i),a.strategy="none")),r&&r.attr(a)),this.checkVisibility(e),e=this.currentOptions.position,this._pos_!==e?(this._pos_=e,(r=this._posInfo_=Du(this.currentOptions))[0]?(e=r[1],i=r[2],a=this.chart.chartAreaSet,r=this.rootPanel.getBboxArray?this.rootPanel.getBboxArray():[0,0].join(this.bbox(!0).slice(2)),i=0===i?this.chart.rootVisuals.itemsBox.getGlobalBboxArray():a.items[0].getContentGlobalBbox(),e=[e[0]+i[0]-r[0],e[1]+i[1]-r[1]]):e=void 0):e=void 0,e&&(t[o?"left":"offsetX"]=o?e[0]+"px":e[0],t[o?"top":"offsetY"]=o?e[1]+"px":e[1]),n.attr(this.transformRootAttr(t)),this.triggerOptionsApplied(),this},e.prototype.triggerOptionsApplied=function(){this.chart.triggerOptionsApplied("annotation",this)},e.prototype.transformRootAttr=function(t){return t},e.prototype.checkVisibility=function(t){t=!1!==t.visible;var e=this.rootPanel?"none"!==this.rootPanel.attr("display"):this.isVisible,i=t!==e;this.setVisible(e),i&&this.visible(t)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this._unsubscribeContentBox&&this._unsubscribeContentBox(),this.rootPanel&&this.rootPanel.destroy()},e.prototype.remove=function(t){var e,i=this.chart;u(i._annotations,this),(e=gd(i.userOptions.annotations,{id:this.id}))&&u(i.userOptions.annotations,e),this.destroy(),!1!==t&&this.chart.chartAreaSet.reflow(!1,!1,!0)},e.prototype.measure=function(t){return this.isMeasured=!0,t&&!this.currentOptions.maxWidth&&this.rootPanel.attr({maxWidth:t[2]}),this.rootPanel?this.rootPanel.isHtml?vn(this.bbox(!0)):this.rootPanel.setPreliminarySize(!0).getGlobalBboxArray(!0):[0,0,0,0]},e.prototype.positionApplied=function(t){},e.prototype.positionUpdated=function(t){this.positionApplied(t)},e.prototype.getText=function(){},e.prototype.evalText=function(t){var e=this.target||this.chart;return e&&e.replaceTokens&&"string"==typeof t&&-1<t.indexOf("%")&&(t=e.replaceTokens(t)),t},e}(eS),lS=function(t){function e(e,i){return(i=t.call(this,e.chart,i,e)||this).chartArea=e,i.fillShading="titleBox",i}return n(e,t),e.prototype.applyOptions=function(){var e=this.currentOptions;return!1===e.visible?(this.rootPanel.attr({suspend:"true"}),this):(t.prototype.applyOptions.call(this),(e=c(e,"position"))&&("full"===e?this.rootPanel.attr({width:"100%",strategy:"none"}):this.rootPanel.attr({width:"auto"})),this)},e.prototype.triggerOptionsApplied=function(){this.chart.triggerOptionsApplied("title",this)},e.prototype.defaultOptions=function(){var t=this.chart;return t=t?t.boxDefaults():iv(),wd(t,{position:"left",padding:[3,3,6,3],corners:["cut","square","square","square"],label:{align:"left",style:{fontSize:14}},shadow:Se(t.shadow,!0)})},e.prototype.dependentOptions=function(){return[{option:"fill",check:function(t){return t},dependent:"padding",value:3}]},e.prototype.setRootVisuals=function(){return t.prototype.setRootVisuals.call(this),this.rootPanel.attr({transition:!1}),this},e.prototype.createContentVisual=function(t){return this.renderer.textStack().add(t)},e}(hS),uS=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.kind="EntryWrapper",e}return n(e,t),e.prototype.defaultOptions=function(){return{}},e.prototype.styleIconVisual=function(t,e){if(t){t=t.base;var i=wd({},this.currentOptions);Le(i,"outline.color",c(i,"outline.color")||xo("outline",i.color||"white")),i=Fl(i),t&&t.attr(i),e.isStyled=!0}},e.prototype.getIconVisual=function(t,e,i){e=this.renderer;var n=(i=i.iconVisual||{}).root=i.root||e.panel({yAlignment:"center"});return(t=this.getIconPaths(t)).base&&!i.base&&(i.base=i.base||e.renderer.path({d:t.base}).add(n)),i},e.prototype.getIconPaths=function(t){return{base:bx.rectangle(0,0,t[0],t[1],{r:2,corners:["round","round","round","round"]}),extra:void 0}},e.prototype.setState=function(t){},e.prototype.replaceTokens=function(t,e){return this.chart.replaceTokens(t,e)},e.prototype.getFormatInfo=function(){return this.chart.getFormatInfo()},e}(eS),cS=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.kind="RangeValueEntry",e}return n(e,t),e.prototype.replaceTokens=function(t,e){return gu(t,this,e||this.getFormatInfo())},e}(uS),pS=function(t){return"string"==typeof t?(t=t.trim()).match(ym)?parseFloat(t):t.match(/\/|:|AM|PM|\.\d\./g)&&!Qd(new Date(t).getTime())&&6<=t.length&&6<=t.replace(/[^0-9]/g,"").length?new Date(t).getTime():parseFloat(t):t},fS=function(){function t(t,e){this.chart=t,this.kind="SmartPalette",this.axisRange=[],this.legendEntries=[],this.colorRanges=[],this.mode="colorBar",this.rangesMode="manual",this.currentOptions={},this.userOptions={},this.refreshExtremes=!1,Wo(e),this.setOptions(e),this.id=e.id,t&&(this.ciManager=t.chartItemManager).register(this)}return t.prototype.options=function(t){var e=Ru(this,t);return"NotGetter"!==e?e:(this.setOptions(t),this)},t.prototype.setOptions=function(t){wd(this.userOptions,this.normalizeOptions(t,"colors,id")),this.refreshExtremes=_e(t.pointValue)&&this.currentOptions.pointValue!==this.userOptions.pointValue,this.currentOptions=this.translateOptions(wd({},this.defaultOptions(),this.userOptions)),this.initialized=!1,this.mode=t.ranges?"ranges":"colorBar",this.stopPosDefined=!0,this.colorRanges=[],this.stops=this.getStops(),this.setStopRange()},t.prototype.normalizeOptions=function(t,e){return qe(t,e)},t.prototype.translateOptions=function(t){var e;if(e=t.ranges)if("array"===d(e))t.ranges=Cd(e,(function(t){return"object"===d(t)?t:{value:t}}));else{var i=e.min,n=e.max,r=[];if(!h(e=e.interval)||h(i)&&h(n)||(Wg.emit("warning",t.id||this.id,"minMaxRequired",{container:this.chart.getWrapper()}),i=i||0,n=Se(n,3*e)),h(i)&&h(n)){var o=n-i;n=Se(e,o/3),20<(e=dm(o/n))&&(n=dm(o/20),e=dm(o/n),Wg.emit("warning",t.id||this.id,"spRangesOverflow",{data:["ranges.interval"],container:this.chart.getWrapper()})),o=0;for(var s=e;o<s;o++)r.push({value:o===e-1?[i+n*o,i+n*(o+1)]:i+n*o});t.ranges=r}}return t},t.prototype.defaultOptions=function(){return{}},t.prototype.syncLegendEntries=function(t){var e,i=t.smartPalette,n=i.getRangeConfigs(),r=[];return i.legendEntries.length?(r=i.legendEntries,Ad(r,(function(t){return t.setColumns()}))):(Ad(n,(function(i){r.push(e=t.addEntry(new dS(t.chart,i))),e.setColumns()})),i.legendEntries=r),r},t.prototype.getRangeConfigs=function(){var t=this.currentOptions,e=t.ranges,i=d(e);this.axisConfig;var n=function(e,i){return wd({legendEntry:{value:"%min - %max",name:" ",cursor:"default",set:1}},t.defaultRange||{},e,i)};if("array"===i)return this.colorRanges.length?this.colorRanges:Cd(e,(function(t,i){var r=i?e[i-1]:void 0,o=i<e.length-1?e[i+1]:void 0;return i=lm(t.value,pS),o?(r=o.value,n({min:i.pop?i[0]:i,max:r.pop?r[0]:r},t)):"array"===d(i)?n({min:i[0],max:i[1]},Vd(t,"value")):n({min:i,max:i+Math.abs(i-pS(r.value))},t)}))},t.prototype.setStopRange=function(){var t=Cd(this.stops,(function(t){return t[0]})),e=Math.min.apply(Math,a(t));t=Math.max.apply(Math,a(t)),this.stopRange=t-e,this.stopExtremes=[e,t];var i=lm(this.currentOptions.colorsValueRange,pS);this.clips=!(0<=e&&1>=t)||i},t.prototype.getStops=function(e){var i=this,n=this,r=n.currentOptions,o="ranges"===n.mode?function(){var e=r.ranges,o=[],s=!0,h=[];if(Ad(e,(function(t){var e="object"===d(t)?t.value:t;s=!!(t=t.color)&&s,(e=lm(e,pS)).pop?(o.push([e[0],t,1]),o.push([e[1],t]),h.push(e[0])):(o.push([e,t,1]),h.push(e))})),!s){r.colors||(r.colors=["white"],Wg.emit("warning",r.id,"colorsRequired",{container:i.chart.getWrapper()}));for(var l=r.colors,u=Math.min.apply(Math,a(h)),c=[],p=(Math.max.apply(Math,a(h))-u)/(l.length-1),f=0,m=l.length;f<m;f++)c.push([u+p*f,l[f]]);var g=new t(n.chart,{stops:c,invert:r.invert});Ad(o,(function(t){t[1]=g.getValueColor(t[0])})),Ad(e,(function(t){t.color=t.value.pop?g.getValueColor(pS(t.value[0])):g.getValueColor(pS(t.value))})),g.destroy()}return o}():function(t){if(t&&t.length)return t.map((function(t){return(t=t.slice(0))[0]=pS(t[0]),t}))}(r.stops)||function(){var t=r.colors,i=lm(r.colorsValueRange,pS);n.stopPosDefined=!1,"solid"===e&&t.push(t[t.length-1]);var o=Se(c(i,"0"),0),s=(Se(c(i,"1"),1)-o)/(t.length-1);return Cd(t,(function(t,i){return"solid"===e?[o+i*s,t,1]:[o+i*s,t]}))}();return r.invert&&"ranges"!==n.mode&&function(){var t=[],e=[];e=o.map((function(t){return pS(t[0])}));for(var i=0,n=o.length;i<n;i++)e[i]=o[i][0];for(e=[Math.min.apply(null,e),Math.max.apply(null,e)],i=o.length-1;-1<i;i--){n=o[i];var r,s=void 0;s=[Qe(e[1]-pS(n[0])+e[0],2),n[1]],(r=0<i?o[i-1]:void 0)&&(3<r.length?(s[2]=1-r[3],s[3]=1-r[2]):2<r.length&&(s[2]=0,s[3]=1-r[2])),t.push(s)}o=t}(),o},t.prototype.getPointColor=function(t,e,i){return i=i||{},e=this.getPointValue(e,t,i),this.getValueColor(e,t)},t.prototype.getValueColor=function(t,e){var i=this.stops||this.getStops(e);return function(){var t;if(e&&(t=e.info.style.base))for(var n=0,r=i.length;n<r;n++)"%color"===i[n][1].toLowerCase()&&(i[n][1]=t.color)}(),function(t){t:{for(var e=0,n=i.length;e<n;e++){var r=i[e];if(pS(r[0])>t){e=0===e?[r]:[i[e-1],r];break t}if(pS(r[0]),e===n-1){e=[r];break t}}e=void 0}if(n=e[0],r=[],1===e.length)return e[0][1];if(t=ii(0,1,n[0],e[1][0],t),2<n.length&&(r[0]=n[2],3<n.length&&(r[1]=n[3])),t<r[0])return n[1];if(1<r.length&&t>r[1])return e[1][1];var o=[0,1];return 1<r.length?o=r:0<r.length&&(o[0]=r[0]),t=ii(0,1,o[0],o[1],t),Ao(n[1],e[1][1],100*t)}(t=this.valueToStopPos(t))},t.prototype.setPointSpValues=function(t,e){var i=t.userPoints,n=(e=this.currentOptions).colorsValueRange,r=t.colorKey||"valueSP",o=function(t){return null!==t&&!Qd(t)},s=function(t){return o(t)&&h(t)};if(t.info.usesSmartPalette&&i&&i.length){var a=i.length-1,l=i[a];if(l[r]=this.getPointValue(l,t),this.extremes&&!this.refreshExtremes)var u=this.extremes[0],c=this.extremes[1];else o(l[r])&&(u=c=l[r]);for(l=this.getPointValue(i[0],t),c=s(c)?c:l,u=s(u)?u:l;a--;)l=(l=i[a])[r]=this.getPointValue(l,t),o(l)&&(l>c||!s(c)?c=l:(l<u||!s(u))&&(u=l));this.extremes=[u,c],this.refreshExtremes=!1,this.dataRange=c-u,i=!n&&0<=u&&1>=c,t=this.axisConfig={},a=void 0,(a=e.colorsValueRange)?(u=a[0],c=a[1]):i&&this.clips?(u=0,c=1):this.clips||(u=this.stopPosToValue(0),c=this.stopPosToValue(1)),u=ql(u,c,8,{minIntervalGap:0}),this.axisRange=[u.min,u.max],c=.001*(u.max-u.min),t.min=u.min-c,t.max=u.max+c,t.interval=u.interval,t.tickInterval=u.interval,t.startOnTick=t.endOnTick=!1}return this.extremes},t.prototype.getPointValue=function(t,e,i){i=i||{},this.chart.ctManager;var n=this.currentOptions,r=h(t._i)?e._points[t._i]:gd(e._points,{id:t.id})||gd(e._points,{currentOptions:{id:t.id}});return r||(t=0),i=i.spSrc,"number"==typeof t?r=t:(t=e.ctmIsType("heatmap")?"percentOfZAxisRange":"percentOfYAxisRange",(n=n.pointValue)||(n=e=1<e.userPoints.length?"chart"===i?"{%percentOfDataRange/100}":"{%percentOfSeriesRange/100}":"{"+t+"/100}"),"function"===d(e=n)?r=e(r):(-1===e.indexOf(":")&&(e=e.replace("}",":n5}")),this.tokenUsed=e,r=(r=r.replaceTokens(e,{y:{culture:"en-US"},x:{culture:"en-US"}})).replace(/,/g,""),r=pS(r))),r},t.prototype.valueToStopPos=function(t){var e,i=Fu(this),n=i.dataPerc;return i.stopPerc&&!n&&(e=this.axisRange)&&h(e[0])?ii(0,1,e[0],e[1],t):t},t.prototype.stopPosToValue=function(t){var e,i=Fu(this),n=i.dataPerc;return i.stopPerc&&!n&&(e=this.extremes)&&h(e[0])&&!Qd(e[0])?ii(e[0],e[1],0,1,t):t},t.prototype.getTraditionalStops=function(t,e){var i=this,n=[],r=i.getStops(t),o=[];t=i.axisRange;var s=function(t){return ii(0,1,o[0],o[1],t)};o=i.stopExtremes;for(var a=0,h=r.length;a<h;a++){var l=r[a],u=a<h?r[a+1]:void 0;if(n.push([s(pS(l[0])),l[1]]),u){if(2<l.length){var c=1===l[2]?1e-4:0;n.push([ii(s(pS(l[0])),s(u[0])-c,0,1,l[2]),l[1]])}3<l.length&&n.push([ii(s(pS(l[0])),s(u[0]),0,1,l[3]),u[1]])}}return e&&(e.pop&&(t=e),e&&i.clips&&2===t.length&&(n=function(t,e,n){function r(t){return t=ii(o[0],o[1],0,1,t),t=i.stopPosToValue(t),i.getValueColor(t)}var s;return s=function(){for(var i=[],r=0,o=t.length;r<o;r++){var s=t[r],a=r<o-1?t[r+1]:"undefined",h=0<r?t[r-1]:"undefined";if(s[0]<e&&a[0]>e)i.push(e);else if(!(s[0]<e&&a[0]<e))if(s[0]===e)i.push(s[0]);else if(a[0]!==e)if(s[0]>n&&h){if(h[0]<n){i.push(n);break}}else i.push(s[0])}return i}(),function(t){for(var i=[],o=0,s=t.length;o<s;o++){var a=t[o];i.push([ii(0,1,e,n,a),r(a)])}return i}(s)}(n,e=s(i.valueToStopPos(t[0])),t=s(i.valueToStopPos(t[1]))))),n},t.prototype.getPaletteCSS=function(t,e){t=this.getTraditionalStops(t);var i=[];return i.push(e?"to bottom":"to right"),t.map((function(t){var e=vo(t[1]).hex;t=100*pS(t[0]),i.push(e+" "+t+"%")})),"background: linear-gradient("+i.join(", ")+");"},t.prototype.destroy=function(){this.ciManager.remove(this),this.destroyEntries()},t.prototype.destroyEntries=function(){Ad(this.legendEntries,(function(t){return t.destroy()}))},t}(),dS=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.kind="SmartPaletteEntry",e}return n(e,t),e}(cS),mS=function(){function t(t,e){this._layout=t,this._renderer=t.renderer,this._options={label:"",type:"default",delay:300,fill:"#fff"},this._mini=this._isShowing=this._isStarted=!1,LC||(this._renderer.cssText("\n\n.loader,\n.loader .loader-overlay {\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\tleft: 0;\n\tbottom: 0;\n\toverflow: hidden;\n}\n\n.loader {\n\tanimation:loader-fadeIn ease-in 1;\n\tanimation-fill-mode:forwards;\n\tanimation-duration:0.1s;\n\n\topacity: 0;\n\tvisibility: visible;\n}\n\n.loader.hide,\n.loader.anim-hide {\n\tanimation:loader-fadeOut ease-in 1;\n\tanimation-fill-mode:forwards;\n\tanimation-duration:0.03s;\n}\n\n.loader.hide {\n\tanimation-duration:0s;\n\tvisibility: hidden;\n}\n\n.loader .loader-overlay {\n\topacity: 0.3;\n}\n\n.loader .loader-text {\n\tcolor: #666;\n\tmargin-top: 5px;\n}\n\n.loader.mini .loader-text {\n\ttop: 7px;\n\tleft: 20px;\n}\n\n.loader .loader-icon-holder {\n\tposition: relative;\n\ttop: calc(50% - 35px);\n\ttext-align: center;\n}\n\n.loader.mini .loader-icon-holder {\n\ttop: 7px;\n\tleft:0;\n}\n\n.loader.mini .loader-text {\n\ttop: 1px;\n\tfont-size: 6px;\n}\n\n.loader.bars .loader-icon,\n.loader.bars .loader-icon:before,\n.loader.bars .loader-icon:after {\n\tbackground: rgba(50,102,187, 0.75);\n\tanimation: loader-bars 1s infinite ease-in-out;\n\twidth: 10px;\n\theight: 40px;\n}\n.loader.bars .loader-icon {\n\tcolor: rgba(50,102,187, 0.75);\n\ttext-indent: -9999em;\n\tfont-size: 11px;\n\t-webkit-animation-delay: -0.16s;\n\tanimation-delay: -0.16s;\n\tmargin: 0 auto;\n}\n\n.loader.bars .loader-icon:before,\n.loader.bars .loader-icon:after {\n\tposition: absolute;\n\ttop: 0;\n\tcontent: '';\n}\n\n.loader.bars .loader-icon:before {\n\tleft: -15px;\n\tanimation-delay: -0.32s;\n}\n.loader.bars .loader-icon:after {\n\tleft: 15px;\n}\n\n.loader.bars.mini .loader-icon,\n.loader.bars.mini .loader-icon:before,\n.loader.bars.mini .loader-icon:after {\n\twidth: 5px;\n\theight: 20px;\n\tanimation: loader-bars 1s infinite ease-in-out;\n}\n\n.loader.bars.mini .loader-icon:before {\n\tleft: -7px;\n\tanimation-delay: -0.32s;\n}\n\n.loader.bars.mini .loader-icon:after {\n\tleft: 7px;\n}\n\n.loader.bars.mini .loader-icon {\n\ttop: 5px;\n\tleft: 5px;\n}\n\n\n@keyframes loader-fadeIn { 0% { opacity:0; } 100% { opacity:1; } }\n@keyframes loader-fadeOut { 0% { opacity:1; transform: scale(1); } 99% { transform: scale(1); } 100% { opacity:0; transform: scale(0); } }\n\n@keyframes loader-bars {\n0%,\n80%,\n100% {\n\ttransform: scaleY(0.75);\n}\n40% {\n\ttransform: scaleY(1.25);\n}\n}\n\n@keyframes loader-default { from {  opacity: 1 } to {  opacity: 0 } }\n\n\n.loader.default .loader-icon {\n\twidth: 50px;\n\theight: 50px;\n\tposition: relative;\n\tmargin: 0 auto;\n}\n\n.loader.default .loader-icon .inner\n{\n\tanimation: loader-default ease-out 0.96s infinite;\n\tposition: absolute;\n\tbackground: #444; \n\tborder-radius: 2px;\n\ttransform-origin: 2px 25px;\n\tleft: 50%; \n\theight: 25%;\n\twidth: 8.33%;\n}\n\n.loader.default.mini .loader-icon {\n\twidth: 20px;\n\theight: 20px;\n}\n\n.loader.default.mini .loader-icon .inner\n{\n\tborder-radius: 1px;\n\ttransform-origin: 0px 10px;\n}\n\n.loader.default .loader-icon .inner:nth-of-type(1) {\n\ttransform: rotate(0deg);\n\tanimation-delay: -0.88s;\n}\n.loader.default .loader-icon .inner:nth-of-type(2) {\n\ttransform: rotate(30deg);\n\tanimation-delay: -0.8s;\n}\n\n.loader.default .loader-icon .inner:nth-of-type(3) {\n\ttransform: rotate(60deg);\n\tanimation-delay: -0.72s;\n}\n\n.loader.default .loader-icon .inner:nth-of-type(4) {\n\ttransform: rotate(90deg);\n\tanimation-delay: -0.64s;\n}\n.loader.default .loader-icon .inner:nth-of-type(5) {\n\ttransform: rotate(120deg);\n\tanimation-delay: -0.56s;\n}\n.loader.default .loader-icon .inner:nth-of-type(6) {\n\ttransform: rotate(150deg);\n\tanimation-delay: -0.48s;\n}\n.loader.default .loader-icon .inner:nth-of-type(7) {\n\ttransform: rotate(180deg);\n\tanimation-delay: -0.4s;\n}\n.loader.default .loader-icon .inner:nth-of-type(8) {\n\ttransform: rotate(210deg);\n\tanimation-delay: -0.32s;\n}\n.loader.default .loader-icon .inner:nth-of-type(9){\n\ttransform: rotate(240deg);\n\tanimation-delay: -0.24s;\n}\n.loader.default .loader-icon .inner:nth-of-type(10){\n\ttransform: rotate(270deg);\n\tanimation-delay: -0.16s;\n}\n.loader.default .loader-icon .inner:nth-of-type(11) {\n\ttransform: rotate(300deg);\n\tanimation-delay: -0.08s;\n}\n.loader.default .loader-icon .inner:nth-of-type(12) {\n\ttransform: rotate(330deg);\n}\n"),LC=!0),e&&this.options(e)}return t.prototype.options=function(t){ue(this._options,t)},t.prototype.loading=function(t,e){return!1===t?this.end():!this._renderer.isRootHidden()&&this.start(t,e)},t.prototype.destroy=function(){this.end(),this._loaderElement&&this._loaderElement.destroy()},t.prototype.ensureAnimationApplied=function(t){var e=this,i=(new Date).getTime()-e._endTime;e._animationApplied||!e._isShowing||!0!==e._options.break||0>i?t():(e._loaderElement.attr({"animation-delay":"0ms"}),$n((function(){e._animationApplied=!0,e.insideRequest=!0,t(),e.insideRequest=!1})))},t.prototype.mainClass=function(){return"loader "+this._options.type},t.prototype.createElements=function(){if(!this._loaderElement){this._loaderElement=this._renderer.htmlElement("",{class:this.mainClass()+" hide"}).add(this._renderer.wrapper),this._overlayElement=this._renderer.htmlElement("",{class:"loader-overlay"}).add(this._loaderElement),this._iconHolderElement=this._renderer.htmlElement("",{class:"loader-icon-holder"}).add(this._loaderElement),this._iconElement=this._renderer.htmlElement("",{class:"loader-icon"}).add(this._iconHolderElement),this._textElement=this._renderer.htmlElement("",{class:"loader-text"}).add(this._iconHolderElement);for(var t=0;12>t;t++)this._renderer.htmlElement("",{class:"inner"}).add(this._iconElement)}return this._loaderElement},t.prototype.end=function(){if(!this._isStarted||!this._loaderElement)return!1;if(this._isShowing){var t=0<(new Date).getTime()-this._endTime&&this._animationApplied?"anim-hide":"hide";this._loaderElement.attr({class:this.mainClass()+" "+(this._mini?"mini ":"")+t,"animation-delay":"0ms"})}return this._isStarted=this._isShowing=!1,!0},t.prototype.start=function(t,e){var i=this,n=i._isStarted,r=(h(e)?e:i._options.delay)||0,o=!i._loaderElement,s=_e(t)||null===t?t:i._options.label,a=i._textToShow!==s;return!(i._isStarted&&!a&&e||(i._isStarted=!0,i._textToShow=s,i.createElements(),function(){if((a||o)&&i._textElement.attr({innerHTML:s}),!i._isShowing){var t=i._layout.getRootBox();i._mini=50>t.height||50>t.width,i._endTime=r+(new Date).getTime(),i._animationApplied=!1,$n((function(){if(!i._animationApplied){i._animationApplied=!0;var t=i._endTime-(new Date).getTime();i._isShowing&&i._loaderElement.attr({"animation-delay":(0<t?t:0)+"ms"})}})),i._loaderElement.attr({class:i._mini?i.mainClass()+" mini":i.mainClass(),width:t.width+"px",height:t.height+"px","animation-delay":r+"ms"}),i._overlayElement.attr({"background-color":i._options.fill||"#fff"}),i._isShowing=!0}}(),n))},t}(),gS={contentArea:0,axis:1},vS=function(){function t(t){this.layout=t,this.uses={}}return t.prototype.use=function(t){return this.uses=t,this},t.prototype.build=function(t){var e=this.layout,i={};t=this.uses=t||this.uses;var n=wd({content:{holder:{stretch:!0}},axis:{offset:0}},t);if(t.title&&(i.titleBoxPanel=e.panel(),i.titleBox=new lS(t.title.holder).add(i.titleBoxPanel)),t.axis){var r=n.axis.offset;i.topAxes=e.panel({type:"stack:y"}).attr(Uu("left","bottom",0,-r)),i.leftAxes=e.panel({type:"stack:x"}).attr(Uu("right","top",-r,0)),i.rightAxes=e.panel({type:"stack:x"}).attr(Uu("left","top",r,0)),i.bottomAxes=e.panel({type:"stack:y"}).attr(Uu("left","top",0,r))}var o=[],s=t.outline?t.outline.width:1;if(t.content&&t.content.stroke){i.contentStroke=e.renderer.path({fill:"none",stroke:"none","stroke-width":t.content.stroke.width});var a=!0===t.content.stroke.onFront}t.background&&(i.caBackgroundPanel=e.panel({padding:s/2}),i.caBackground=e.rect(Yu({fill:"rgba(0,0,0,0)",shadow:!1})).add(i.caBackgroundPanel),(t.contentHolderFront||a)&&i.contentStroke.add(i.caBackgroundPanel),t.contentHolderFront||o.push(i.caBackgroundPanel));var h=function(t){return Yu(e.panel({type:"panel"})).attr({x:s/2,y:s/2})};t.axisMarkers&&(i.axisMarkersBehind=h(),i.axisMarkersFront=h()),t.gridLines&&(i.gridLinesBehind=h(),i.gridLinesFront=h()),i.dataContent=h(),r=Hu({}),r=i.contentHolder=e.panel(n.content.holder.stretch?Yu(r):r);var l=function(t){return t&&o.push(t)};return l(i.gridLinesBehind),!t.axis&&t.contentHolderFront?(l(i.axisMarkersBehind),i.axisContentBehind=h(),o.push(i.axisContentBehind)):l(i.axisMarkersBehind),o.push(i.dataContent),l(i.gridLinesFront),l(i.axisMarkersFront),!t.axis&&t.contentHolderFront&&(i.axisContentFront=h(),o.push(i.axisContentFront)),i.content=e.panel(Yu(Hu({val:o}))).add(r),t.contentOverlay&&(i.contentOverlay=e.panel(Yu(Hu({}))).add(r)),!t.contentHolderFront&&!1===a&&i.contentStroke.add(r),t.annotationLayer&&(i.anHolder=e.panel(Yu(Hu({}))).add(r)),t.overflow&&(i.topOverflow=e.panel(),i.leftOverflow=e.panel(),i.rightOverflow=e.panel(),i.bottomOverflow=e.panel()),a=function(t){if(!t)return t;var i=e.panel({zIndex:gS.axis});return t.add(i),i},a={type:"grid",val:[[e.panel(),a(i.topAxes),e.panel()],[a(i.leftAxes),r,a(i.rightAxes)],[e.panel(),a(i.bottomAxes),e.panel()]]},t.contentHolderFront&&(i.contentHolderBehind=e.panel(),i.contentHolderFront=e.panel()),i.grid=!t.axis&&t.contentHolderFront?e.panel({val:[i.caBackgroundPanel,i.contentHolderBehind,r,i.contentHolderFront]}):t.axis?e.panel(n.content.holder.stretch?Yu(a):a):r,i.mainStacks=t.overflow?e.panel({type:"stack:y",val:[Hu({val:t.title?[i.topOverflow,{type:"stack:y",yAlignment:"bottom",val:[i.titleBoxPanel]}]:[i.topOverflow]}),{type:"stack:x",val:[Hu({val:[i.leftOverflow]}),i.grid,Hu({val:[i.rightOverflow]})]},Hu({val:[i.bottomOverflow]})]}):i.grid,i},t}(),yS={custom:1e3,AxisMarker:1200},xS=function(t){var e=t.point,i=t.yVal;return t=t.color||e.tokenValue("%color"),{value:i,label:{color:.65<(e=Zr(t))?"#000":"#fff"},fill:t,outline:{color:.85<e?"#d3d3d3":t},gridLine:{color:t}}},bS=function(){function t(t){this.chartArea=t,this.boxes=[],this.labelBoxes=[],this.paths=[],this._allBoxes=void 0,this.anyColLabelOverflow=!1}return t.prototype.addIdBox=function(t,e){e.id=t,this.addBox(e)},t.prototype.addBox=function(t){t&&4===t.length&&this.boxes.push(t)},t.prototype.addBodyBox=function(t){this.addBox(t)},t.prototype.addLabelBox=function(t,e){t&&4===t.length&&(t.id=e,this.labelBoxes.push(t))},t.prototype.reset=function(){this.boxes=[],this.labelBoxes=[],this._allBoxes=void 0,this.anyColLabelOverflow=!1},t.prototype.collideAllExcept=function(t,e){if(Fn(this.boxes,t)||Fn(this.labelBoxes,t))return!0},t.prototype.collideAll=function(t,e){if(Fn(this.boxes,t,e)||Fn(this.labelBoxes,t,e))return!0},t.prototype.collideLabels=function(t,e){return!!Fn(this.labelBoxes,t,e)},t.prototype.alignAvoid=function(t,e){return t=_n(t,this.boxes,e),_n(t,this.labelBoxes,e)},t}(),wS=function(t,e){t=!1!==(t=Se(t.currentOptions.mouseTracking,{})).enabled&&!1!==t;var i=!0;return e&&(i=!1!==e.currentOptions.mouseTracking),t&&i},AS=function(t){function e(e,i){var n=t.call(this,e.chart,i,[e,i])||this;return n.series=e,n.attribs={point:{},states:{}},n.kind="Point",n.visuals={marker:void 0,rect:void 0,body:void 0,rectComplete:void 0,errorY:void 0,errorX:void 0,errorXV:void 0,errorYV:void 0,label:void 0,labelConnector:void 0},n._state="",n.info={},n.isMousedOver=!1,n.chart=e.chart,n.x=i.x,n.y=i.y,n.name=i.name,n._i=i._i,n._state="",(n.selected=i.selected)&&hc(n,!0),n}return n(e,t),e.prototype.init=function(t,e){this.series=t,this._i=e._i,this.defaultMutable=!0},e.prototype.options=function(t,e){var i,n=this.series,r=!0,o=this.optionsGetter(t);if("NotGetter"!==o)return o;if("object"==typeof t.mapData&&(this.setMapData(t.mapData),1===ze(t).length))return this;if(o=ze(t=qe(t,"map,mapData,geometry")),0<Ed(o,qg).length?n.seriesDirty.pointData(!0):0<Ed(o,Kg).length&&n.seriesDirty.pointIndex(!0),0<(i=Ed(o,Qg)).length&&(h(t.selected)&&hc(this,t.selected),h(t.muted)&&"select"!==this._state&&this.setState(t.muted?"mute":""),this.chart.isRendered&&this.syncLeCheckbox(),o.length===i.length)){r=!1;var s=!0}if(h(t._i)&&(this._i=t._i),ue(this.userOptions,t),s?ue(this.currentOptions,t):(n.userPoints[this._i]=this.userOptions,this.genOptions()),cc(this),r&&!1!==e){n.chartArea.invalidate(),n.setDataInfo(),e=this.normalizeUpdateOpt({animation:n.currentOptions.animation},e),this.chart.redraw(e);var a=!0}return this.triggerUser("update"),!a&&this.afterUpdate(e),this},e.prototype.defaultOptions=function(){return uc(this.series,this._i)},e.prototype.contextOptions=function(){},e.prototype.setOptions=function(){return t.prototype.setOptions.call(this),cc(this),this},e.prototype.setState=function(t,e){var i=this,n=i.series,r=i.chart;n.chartArea,t=pc(i,t);var o={};if(h(null==e?void 0:e.animation)){wd(o,!1===e.animation?{duration:0}:e.animation);var s=!!o.duration}var a=function(t){return wd(s?{animation:o}:{},t)};if(t!==i._state){var l=(i.coord()||{}).styleSet||n.getPointAttr(this);e=l.pointAttr;var u,c=l.svAttr;l=function(t){var e=t.rootPanel;return e?e.rect||e.el:t},(u=i.visuals.body)&&(l=l(u))&&l.attr&&l.attr(a(e[t])),(u=i.visuals.rectComplete)&&(e=ac(n.visualizer,i,t),i.visuals.rectComplete.attr(a(e))),Ad(["errorY","errorX","errorXV","errorYV"],(function(e){(u=i.visuals[e])&&u.attr(a(c[t]))})),e=i.selected,l=i.selected="select"===t,i._state=t,n=n.info.type.isPie,l&&!e?(i.triggerUser("select"),r._pointSelection(),n&&i.options({exploded:!0})):!l&&e&&(i.triggerUser("unselect"),r._pointSelection(),n&&(lc(i,!1),i.options({exploded:!1})))}},e.prototype.select=function(t,e,i){hc(this,t=h(t)?t:!this.selected,i)},e.prototype.mouseOver=function(t){var e=this.chart,i=c(t,"eventArgs");if(!this.isMousedOver&&wS(this.series,this)){this.isMousedOver=!0;var n=e.hoveredPoint;return e.hoveredPoint=this,n&&n!==this&&n.mouseOut(t),e.hoveredPoint=this,!1!==(t=this.triggerUser("mouseOver",i))&&"select"!==this._state&&this.setState("hover"),i=this.mouseOverOutCursor(),e.setCursor(i.over),t}},e.prototype.mouseOut=function(t){var e=c(t,"eventArgs"),i=this.series;if(this.isMousedOver=!1,!this._cursorCaptured){if(c(i.currentOptions,"mouseTracking.sticky"))var n=!!(n=this.chart.hoveredPoint)&&n.series===i;return n||("select"!==i.state&&i.setState(""),i.tooltip.hideTooltip(),!1===n&&i.triggerUser("mouseOut",t),this.chart.hoveredPoint=void 0),!1!==(t=this.triggerUser("mouseOut",e))&&"select"!==this._state&&(this.setState(""),i.visualizer.hideHaloMo()),this.chart.setCursor(),t}},e.prototype.click=function(t){var e=this.currentOptions.nativeClick,i=c(t,"eventArgs"),n={eventArgs:t.eventArgs,currentTarget:this};ue(n,this.series.chartArea.clickData(n));var r=this.series.currentOptions.pointSelection;t=t.accumulate||i&&i.ctrlKey,!1!==this.triggerUser("click",n)&&(e&&e.call(this,n),r&&this.select(void 0,void 0,t),this.syncLeCheckbox())},e.prototype.mouseOverOutCursor=function(){var t=this.currentOptions,e=this.series.currentOptions,i=t.cursor||e.cursor,n=wS(this.series,this);e=e.pointSelection,t=this.hasUserEvent("click")||t.nativeClick;var r={over:void 0,out:"initial"};return n&&(i||e||t)&&(r.over=i||"pointer"),r},e.prototype.genOptions=function(){if(this.currentOptions.mapDataId&&this.userOptions.mapDataId&&this.currentOptions.mapDataId===this.userOptions.mapDataId){var t=this.currentOptions.map,e=this.userOptions.map,i=void 0,n=void 0;delete this.currentOptions.map,delete this.userOptions.map,this.userOptions.mapData&&this.currentOptions.mapData&&this.userOptions.mapData!==this.currentOptions.mapData&&this.userOptions.mapData.id===this.currentOptions.mapData.id&&(i=this.currentOptions.mapData,n=this.userOptions.mapData,delete this.currentOptions.mapData,delete this.userOptions.mapData),this.currentOptions=wd(this.defaultOptions(),this.userOptions),this.currentOptions.map=t,this.userOptions.map=e,i&&n&&(this.currentOptions.mapData=i,this.userOptions.mapData=n)}else this.currentOptions=wd(this.defaultOptions(),this.userOptions)},e.prototype.getMapData=function(){return c(this.info,"map")||c(this.userOptions,"mapData")||c(this.userOptions,"map")||{}},e.prototype.setMapData=function(t){return Le(this.info,"map",t),this},e.prototype.getPosConfig=function(){return{}},e.prototype.destroy=function(){Ad(this.visuals,(function(t){return t&&t.destroy()}));var e=this.legendEntry;e&&e.destroy(),this.chart.setCursor(),t.prototype.destroy.call(this)},e.prototype.syncLegendItems=function(t){var e=this.series;t=1/e.points().items.length,t=e._i+t*this._i,e=e.chart.requestLegend(e);var i=this.options("legendEntry.visible");!1===i||"none"!==e.spMode&&!0!==i||(this.legendEntry?this.legendEntry.setColumns():this.legendEntry=e.addEntry(this,t))},e.prototype.syncLeCheckbox=function(){var t;null!==(t=this.legendEntry)&&void 0!==t&&t.checkbox&&(this.legendEntry.updateCheckbox(),this.legendEntry.checkbox.refresh())},e.prototype.getIconVisual=function(t,e,i){return e!==this&&(e=void 0),this.series.getIconVisual(t,e||this,i)},e.prototype.iconName=function(){return this.series.iconName()},e.prototype.getIconTag=function(){var t=this.series,e=t.info.style;return t=t.getPointAttr(this.currentOptions).baseColor||e.base.color,"<icon name="+this.iconName()+" fill="+t+" verticalAlign=middle width=20 height=10>"},e.prototype.styleIconVisual=function(t){var e=this.series.getPointAttr(this.currentOptions);t&&t.base.attr(e.pointAttr[""])},e.prototype.getParents=function(){var t=this.series,e=t.visualizer,i=[];return e.getParents?i=e.getParents(this):Wg.emit("warning","","The getParents() function is not supported for this type of series type.",{container:t.chart.getWrapper()}),or(Gg,(function(){return i}),(function(t){}))()},e.prototype.getChildren=function(){var t=this.series,e=t.visualizer,i=[];return e.getChildren?i=e.getChildren(this):Wg.emit("warning","","The getChildren() function is not supported for this type of series type.",{container:t.chart.getWrapper()}),or(Gg,(function(){return i}),(function(t){}))()},e.prototype.replaceTokens=function(t,e){return fu(t,this.series,this,e||this.series.getFormatInfo())},e.prototype.tokenValue=function(t){return this.replaceTokens({token:t})},e.prototype.remove=function(t){var e=this.series,i=vd(e.userPoints,{id:this.options("id")});-1<i&&(e.removePoint(i,t),this.triggerUser("remove"))},e.prototype.zoomTo=function(t){var e=this.series;if(e.ctManager.isType("calendar"))e.zoomTo(t);else if(e.ctManager.isType("map")){var i=this.getMapData();(i=c(i,"bbox")||c(i,"properties.bbox"))&&e.chart.zoom(i,t)}else(i=e.chartArea._isStaticDragArea?ri(i=4===(i=this.coord()).xyz.length?ln(i.xyz):i.xyz.slice(0,2))?{center:Xm(i,e.visualizer._coordOffset)}:void 0:ri(i=e.indexer.getValue("pos",this._i).xyz.slice(0,2))?{pos:i}:void 0)&&e.chartArea.zoom(i,t)},e.prototype.setRootVisuals=function(){return this},e.prototype.coord=function(){return this.series.indexer.getItem(this._i).coordinates},e.prototype.bbox=function(){var t=this.coord();if(t.pathObj&&t.pathObj.isPath)var e=t.pathObj.bbox();else{var i=_e(t.pathD)?t.pathD:t.pathD.pop?t.pathD.join(" "):void 0;t.htShape?e=t.htShape.bbox():_e(i)?(i=-1<i.indexOf("url")?xn(vn(this.visuals.body.getBbox())):i)&&(e=px(i)):t.pathD.bbox&&(e=t.pathD.bbox())}!e&&t.xyz&&(e=t.xyz.slice(0,2)).push(0,0),em(i=[],t.sv,t.svs);var n=[e];return em(n,c(t,"collision.body")),i.length&&n.push(sn(i)),1<n.length&&(e=rn(n)),e},e}(eS),CS={top:"bottom",bottom:"top",left:"right",right:"left",center:"center",middle:"middle"},SS={top:"right",bottom:"left",left:"top",right:"bottom",center:"middle",middle:"center"},kS=function(){var t={normal:{},range:{},stacked:{},ganttCandle:{}};return Ad({normal:{auto:"outtop,intop,outbottom",others:"inmiddle,inbottom"},range:{auto:"outtop,inmiddle,outbottom",others:"intop,inbottom"},ganttCandle:{auto:"inmiddle,outtop,outbottom",others:""},stacked:{auto:"inmiddle",others:"intop,inbottom"}},(function(e,i){Ad(e,(function(e,n){return t[i][n]=function(t){return t=t.split(","),Cd(t,(function(t){return{align:"incenter",vAlign:t}}))}(e)}))})),t},_S=function(t){return"i"===t[0]?["in",t.substr(2).toLowerCase()]:["out",t.substr(3).toLowerCase()]},MS=function(t,e,i,n,r){return e=r?e:i,t=r?t.align:t.vAlign,n&&n[0]!==t[0]||e&&e.toLowerCase()!==_S(t)[1]},TS=function(t){return"i"===t.align[0]&&"i"===t.vAlign[0]},OS=function(t,e){return(t=_S(t))[0]+e[t[1]]},zS=function(t,e){var i=e?SS:CS;return{align:OS(e?t.vAlign:t.align,i),vAlign:OS(e?t.align:t.vAlign,i),rotation:t.rotation||0}},DS=function(t,e,i,n,r,o){return i=e.slice(0),r=function(t,e){var i=[],n=ln(t);t=Ym(t);var r={u:[n[0],t[1]],d:[n[0],t[3]],l:[t[0],n[1]],r:[t[2],n[1]]};return Ad(["u","d","l","r"],(function(t){var n;(n=e[t])&&i.push(yn(r[t],[n,n]))})),i}(e,r),i=a([i],n,r),o=(o=o.rectComplete)?vn(o):void 0,i=rn(i),e=Mn(e,a(n,r,o?[o]:[])),t.isHoriz()?(e=nn(e,[e[2]-10,e[3]]),i=nn(i,[i[2]+10,i[3]])):(e=nn(e,[e[2],e[3]-10]),i=nn(i,[i[2],i[3]+10])),{in:e,out:i}},ES=function(t,e,i,n,r){return t=en(rn(a([e],i)),-5),{in:Mn(e,i),out:t,outCorner:en(t,3)}},PS=function(t,e,i,n,r){t=t.isHoriz();var o=r.getValue("coordinates",n);return n=r.getValue("coordinates",n-1),o&&n&&(i=i.slice(0),n=n.xyz,o=o.xyz,t?i.push(sn([o,[n[0],o[1]]])):i.push(sn([o,[o[0],n[1]]]))),{in:Mn(e,i),out:en(rn(a([e],i)),-5)}},BS=function(t,e,i){var n=(e=e.currentOptions.label||{}).align,r=e.verticalAlign,o="auto"===e.placement?void 0:e.placement;if(t=n||r||o,e.rotation,i=function(){var t={normal:{auto:[{align:"left",vAlign:"top"},{align:"center",vAlign:"top"},{align:"right",vAlign:"top"},{align:"left",vAlign:"middle"},{align:"right",vAlign:"middle"},{align:"left",vAlign:"bottom"},{align:"center",vAlign:"bottom"},{align:"right",vAlign:"bottom"}],others:[{align:"incenter",vAlign:"inmiddle"}]}};return Ad(t.normal.auto,(function(e,i){t.normal.others.push({align:"in"+e.align,vAlign:"in"+e.vAlign})})),function(t){Ad(t,(function(e,i){(e=t[i]).align="out"+e.align,e.vAlign="out"+e.vAlign}))}(t.normal.auto),t}(),e.alignSequence)return e.alignSequence;if(n&&r)return[{align:(t=o&&"i"===o[0]?"in":"out")+n,vAlign:t+r}];e=(i=i.normal).auto;var s=function(t){var e=!n||MS(t,n,r,o,!0);return t=!r||MS(t,n,r,o,!1),e&&t};return t&&(e=md(e,(function(t){return!s(t)})),e.push.apply(e,a(md(i.others,(function(t){return!s(t)}))))),e},LS=function(t,e){var i,n,r=h(e);Ad(t,(function(t){var o=0,s=_S(t.vAlign)[1],a=_S(t.align)[1];if(r){var l=ln(t.box);l=_i(e,l),(!h(n)||l<n)&&(n=l,i=t)}"center"===a&&(o++,"top"===s&&o++),"middle"===s&&o++,t.score=o})),r&&(i.score+=3)},RS=function(t,e,i,n,r){return ln(e=vn(e.coordRect)),LS(t),(t=zd(t,(function(t){return t.score}))).reverse(),t},FS=function(t,e,i,n,r){n=function(t){return r.getValue("coordinates",t)},e=n(i._i);var o=n(i._i-1),s=n(i._i+1);if(n=[],i.series.ctSvIs("lineSeriesType","step")||(o&&n.push([e.xyz,o.xyz]),s&&n.push([e.xyz,s.xyz])),2===n.length){i=ki(n[0][0],n[0][1]);var a=ki(n[1][0],n[1][1]);a=i+(a=_m(a-i+180,360)-180)/2+180}else n.length&&(a=ki(n[0][1],n[0][0]));return function(t,e,i,n){var r,o;h(i)?(Ad(t,(function(t){var s=ki(e,ln(t.box)),a=0;s=Math.abs(_m(i-s+180,360)-180),(!h(o)||s<o)&&(r=t,o=s),45>s?a+=2:(135<s&&(a+=1),n.length&&(In(t.box,n[0])&&(a-=2),n[1]&&In(t.box,n[1])&&(a-=2))),t.score=a})),r&&r.score++):LS(t,e)}(t,e.xyz,a,n),(t=zd(t,(function(t){return t.score}))).reverse(),t},VS=function(t,e,i,n,r){var o=function(t){return r.getValue("coordinates",t)};n=o(i._i);var s=o(i._i-1);o=o(i._i+1);var a=i.series;i=0===a._i;var h=a.yAxis;return a=h.isStackedFull(),function(t,e,i,n,r,o){Ad(t,(function(t){var s=0,a=t;r?a=o?zS(t,!0):zS(zS(t,!0)):o&&(a=zS(t));var h=_S(a.vAlign)[1];if(a=_S(a.align)[1],i||n){var l=i?"right":"left";e?"bottom"===h&&a===l?s+=2:("middle"===h&&a===l||"bottom"===h&&"center"===a)&&s++:(a===l&&s++,"bottom"!==h&&s++)}else e?"bottom"===h&&"center"===a?s+=2:"middle"===h?s++:"top"===h&&--s:("center"===a&&s++,"top"===h&&s++);t.score=s}))}(t,(h=h.isStacked())&&!(h&&!a&&i),!s,!o,e=e.isHoriz(),e?n.xyz[0]<n.xyzs[0]:n.xyz[1]>n.xyzs[1]),(t=zd(t,(function(t){return t.score}))).reverse(),t},IS="circle diamond four-point-star five-point-star six-point-star seven-point-star".split(" "),NS=function(t){function e(e){var i=t.call(this,e)||this;return i.series=e,i.kind="base",i.typeConfig={axes:"x,y",values:"x,y",requiredData:"x,y",supportedData:"x,y,subvalue,subvalueX",privateAxes:"",customAxisOptions:{}},i.typeConfigCtSpecific={chartType:{gauge:{privateAxes:"x",customAxisOptions:{x:{}}},radar:{x:{isRadial:!0,scale:{range:{padding:0}}},y:{isRadial:!0}}},radarType:{polar:{x:{radialInterpolation:"spider"}},spider:{x:{radialInterpolation:"spider"}}},gaugeType:{},linearGaugeType:{horizontal:{}}},i.shapeLabelMeta={},i.debugBBox=!1,i.staticBodyDGetter=void 0,i.staticSeriesBodyInfo=oe,i.staticPointCompleteVisInfo=oe,i.coordDirty=!0,i.coordinates={},i.paths={areas:void 0,lines:void 0},i.pointValueParser=nc,i.collidePointBoxes=!0,i.getLabelHitTest=function(){return function(t,e,i){var n=t.meta.label;t=t.meta.labelAttr;var r=n&&n.slice(2);return n&&Bn([n[0]+(t.offsetX||0),n[1]+(t.offsetY||0),r[0],r[1]],[e,i])}},Tc(e),i.debounce=new Hg,i}return n(e,t),e.prototype.getTypeConfigDefault=function(){return{axes:"x,y",values:"x,y",requiredData:"x,y",supportedData:"x,y,subvalue,subvalueX",privateAxes:"",customAxisOptions:{}}},e.prototype.getTypeConfig=function(t){if(!this._typeConfigCache||t){var e=this.series;t=this.getTypeConfigDefault();var i,n,r,o=this.typeConfigCtSpecific,s=this.series.ctManager.getSettingChecker(e);for(r in o)e=o[r],(i=s(r))&&(n=e[i])&&wd(t,n);o&&(delete t.chartTypeSpecific,wd(t,o)),this._typeConfigCache=t}return this._typeConfigCache},e.prototype.pointArrayExpander=function(t){return{x:t[0],y:t[1]}},e.prototype.pointLeVisible=function(t){return!0},e.prototype.contextDefaults=function(){},e.prototype.eachPoint=function(t){for(var e=this.series.points().items,i=0,n=e.length;i<n&&!1!==t(e[i],e[i]._i);i++);},e.prototype.render=function(t,e){var i,n,r,o=this.series,s=o.currentOptions,l=this,u=o.info.type,c=(o.pane||o.chartArea).collisionManager,f=l.isHoriz(),d=o.rootVisuals,m=o.info,g=m.type,v=p(o.chart.currentOptions,["navigator","enabled"]),y=o.renderer;if(h(l.lastRenderVisibility)&&!l.lastRenderVisibility&&!o.isVisible)return l;var x=Se(p(o.currentOptions,["defaultPoint","subvalue","line","length"]),20),b=x,w=function(e){var r;e&&(r=e(l,t))&&(C=r.d)&&(i={d:C,zIndex:h(r.zIndex)?r.zIndex:o.zIndex+Jg.series},r.clipPath&&(i.clipPath=r.clipPath),i=l.render_applyDynamicAttrVals([i,r.state,{animation:r.animation}],t,r.state),(n=r.visGetter())?(i.animation&&(e=l.getAnimatorOptions(r.shapeName))&&(i.animation.pathAnimation=e,e.fromD=p(n,["data","attrs","d"]),n.finishAnimation()),i.clipPath&&i.animation&&(e=n.data.vals["clip-path"])&&(e.el.attr({animation:i.animation,d:i.clipPath}),delete i.clipPath),n.attr(i)):(r.visSetter(n=y.path(i)),n.add(r.target),Ad(r.events,(function(t,e){return n.on(e,t)}))))},A=d.points;y=y.renderer,t=Me(t)?t:{},d=A&&A.pixelCorrection,o.state=s.selected?"select":s.muted?"mute":o.state||"",(g.drawArea||g.drawLine)&&(d&&("step"===o.ctSv("lineSeriesType")||g.drawMarker&&"polar"!==o.ctSv("radarType")&&!1!==p(o.currentOptions,["defaultPoint","marker","visible"]))?t.coordinatesCorrection=function(t){return Nu(A,t,1)}:t.coordinatesCorrection=function(t){return t.map((function(t){return[t[0],t[1]]}))}),!e&&o.preRender(t),t.coordinatesCorrection=null,Ad(l.staticSeriesBodyInfo,w);var C,S,k,_,M,T,O,z,D,E=o.points().items,P=function(t,e,i,n,r,o){var s,a="",h=function(t){return f&&!o||!f&&o?[[t[0],t[1]-r],[t[0],t[1]+r]]:[[t[0]-r,t[1]],[t[0]+r,t[1]]]};if(g.drawRect&&t){var l=Ln(t=vn(t),e,1),u=Ln(t,i,1);l||u||(s=function(t,e){var i=e[0][1]==e[1][1];(e[0][0]>e[1][0]||e[0][1]>e[1][1])&&(e=[e[1],e[0]]);var n,r,o=[];return i?(e[0][0]<t[0]&&(n=[e[0],[t[0],e[0][1]]]),e[1][0]>t[0]+t[2]&&(r=[[t[0]+t[2],e[1][1]],e[1]])):(e[0][1]<t[1]&&(n=[e[0],[e[0][0],t[1]]]),e[1][1]>t[1]+t[3]&&(r=[[e[1][0],t[1]+t[3]],e[1]])),n&&o.push(n),r&&o.push(r),o}(t,[e,i]))}return s?Ad(s,(function(t){t&&t.length&&(a+=Ds(Ia(t)),n&&n.labelObstacles.push(sn(t)))})):(a=Ds(Ia([e,i])),n&&n.labelObstacles.push(sn([e,i]))),r&&(a+=Ds(Ia(h(e))),a+=Ds(Ia(h(i)))),a},B=this.staticBodyDGetter||_c;e=function(e,s){if(!(z=E[L.renderOrder[e]]))return"continue";if(S=o.indexer.getValue("coordinates",z._i),M=z.visuals,S){var d=z.currentOptions;e=d.marker||{},D=S.styleSet||o.getPointAttr(d),S.styleSet=D,T=D.svAttr[""],O=!1,r=z._state=d.selected?"select":d.muted?"mute":z._state||"",(s=D.pointAttr[r])||("select"===r&&Wg.emit("warning",o.name||o.id,"pointSelectNoAttrs",{data:[d.id||d.name||d.x],container:o.chart.getWrapper()}),s=D.pointAttr[""]),k=S.xyz,_=S.xyzs,S.meta.labelObstacles=[],D.labelVisible&&l.initPointLabel(z,S,D,t),m.hasSubvalues&&(b=Se(p(d,["subvalue","line","length"]),x),b*=Se(S.width,S.unclusteredWidth,p(S,["marker","size"]),10)/100),v&&g.drawMarker&&(g.drawLine||g.drawArea)||m.hasMaxedMarkerLimit&&g.drawMarker&&(g.drawLine||g.drawArea)&&(d.color||d.outline||d.marker||M.body||(O=!0)),L.isRadial&&(O=!1);var R=void 0,F=void 0,V=void 0;if(!O&&(!(F=S.prev)||F.isVisible||S.isVisible||S.everVisible)){F&&!F.isVisible&&S.isVisible&&M.body&&F.pathD&&M.body.attr({d:F.pathD,animation:!1}),C=S.pathObj||S.path||B(l,z,S,A,s.r,D.drawMarker),S.pathD=C;var I=F=void 0;(I=S.meta.marker)&&(F=0<I[2]&&0<I[3]);var N=(I=o.getPointMarkerType(z.currentOptions))&&I.indexOf&&-1<I.indexOf("url(");if(!("marker"!==m.type.seriesType||bx[I]||"needle"===I||N||h(I=Se(z.currentOptions.mouseTracking,p(o.currentOptions,["defaultPoint","mouseTracking"])))&&!0!==I)){var j=px(C);j=yn(ln(j),[Math.max(15,j[2]),Math.max(15,j[3])]);var W=l.getLabelHitTest();S.hitTest=function(t,e){return Bn(j,[t,e])||W(this,t,e)},S.meta.marker=j.slice(0)}if(F||!za(C)?("string"==typeof C&&Am(C,"url(")?(R=C.replace(/url\(/g,"").replace(/\)/g,""),i=Mc(k[0],k[1],o,z,R,e)):C.arcShape&&"object"==typeof C?(i=wd(pe(C.arcShape),{zIndex:o.zIndex+Jg.body}),V=!0):i={d:C,zIndex:o.zIndex+Jg.body},i=l.render_applyDynamicAttrVals([i,s],t,s),(n=M.body)?((s=l.getPointAnimatorOptions(S,z))&&!jd(s)&&(i.animation.pathAnimation=s,!n.isComposite&&n.finishAnimation()),n.attr(i)):(V&&"solid"===o.ctSv("columnType")&&(i.shading="solid"),M.body=n=V?y.element("arcShape",i):R?y.element("image",i):y.path(i),n.add(A))):(n=M.body)&&n.attr({d:C}),V&&n.hitTest){var H=S.htShape=n;S.hitTest=function(t,e){return H.hitTest(t,e)}}else if(!S.hitTest&&_e(S.pathD)&&!1!==d.mouseTracking){var Y=S;S.hitTest=function(t,e){return(Y.htShape||(Y.htShape=Ca(Y.pathD))).hitTest(t,e)}}!1!==o.isVisible&&(c.addBodyBox(p(S,["collision","body"])),c.addBox(S.meta.marker))}if(u.drawMarker||!o.currentOptions.forceMarker&&!0!==e.visible||(s=o.getPointAttr(d,!0).pointAttr[r],(C=function(t,e,i,n,r){var o=i.xyz,s=i.xyzs;n=Se(n,5);var a=t.series.xAxis;return a=[a&&a.isStackedFull()?(o[0]+s[0])/2:o[0],o[1]],"string"==typeof e&&Am(e,"url(")?e:(s=(o=t.currentOptions).marker||{},r=Bo((r=Iu(r,a,1))[0],r[1],2*n,2*n),(n=my(s.offset))&&(r=Eo(pe(r),n[0],n[1])),n=(r=xc(e,r.x,r.y,r.width,r.height))?r.pop?Ds(r):r:"M0 0",_e(o=p(o,["marker","rotate"]))&&-1<o.indexOf("%")&&(o=parseFloat(t.replaceTokens(o))),o&&"circle"!==e&&(t="auto"===o?p(i,["arc","angle"])+90:o,n=(r.isPath?n:Ca(n)).rotate(t)),n)}(z,l.getBodyShapeName(z,!0),S,s.r,A)).indexOf&&Am(C,"url(")?(d=(R=o.xAxis)&&R.isStackedFull()?(k[0]+_[0])/2:k[0],V=k[1],R=C.replace(/url\(/g,"").replace(/\)/g,""),i=Mc(d,V,o,z,R,e)):(i={d:C,zIndex:o.zIndex+Jg.marker},R=void 0),i=l.render_applyDynamicAttrVals([i,s],t,s),(n=M.marker)?n.attr(i):(M.marker=n=R?y.element("image",i):y.path(i),n.add(A))),m.hasSubvalues&&!l.isRadial&&"ohlc"!==m.type.seriesType){e={get:function(){return M.errorY},set:function(t){return M.errorY=t},onX:!1},s={get:function(){return M.errorX},set:function(t){return M.errorX=t},onX:!0};var U=T["stroke-width"]||1,G=b/2;R=function(e,r){e=Nu(A,e,U),i={d:P(S.rect,e[0],e[1],S.meta,"candlestick"!==u.seriesType?G:0,r.onX),zIndex:o.zIndex+Jg.error},i=l.render_applyDynamicAttrVals([i,T],t,T),(n=r.get())?n.attr(i):(r.set(n=y.path(i)),n.add(A))},S.sv&&S.svs&&(d=S.sv,V=S.svs,F=f?0:1,m.drawRect&&(S.sv[F]===S.xyz[F]&&(d=S.xyzs),S.svs[F]===S.xyzs[F]&&(V=S.xyz)),R([d,V],e)),S.svx&&S.svxs&&R([S.svx,S.svxs],s),e=f?S.svxv:S.svv,s=f?S.svv:S.svxv;var Z=[];if(e){Z=[];var X=[];Ad(Nu(A,e,U),(function(t){t=[[t[0]-G,t[1]],[t[0]+G,t[1]]],Z.push.apply(Z,a(t)),S.meta.labelObstacles.push(t),X.push(t)})),i={d:Na(X),zIndex:o.zIndex+Jg.error},i=l.render_applyDynamicAttrVals([i,T],t,T),(n=M.errorYV)?n.attr(i):(M.errorYV=n=y.path(i),n.add(A))}if(s){Z=[];var q=[];Ad(Nu(A,s,U),(function(t){t=[[t[0],t[1]-G],[t[0],t[1]+G]],Z.push.apply(Z,a(t)),q.push(t)})),S.meta.labelObstacles.push(sn(Z)),i={d:Na(q),zIndex:o.zIndex+Jg.error},i=l.render_applyDynamicAttrVals([i,T],t,T),(n=M.errorXV)?n.attr(i):(M.errorXV=n=y.path(i),n.add(A))}}m.hasComplete&&w((function(t){return t.staticPointCompleteVisInfo(t,z,S)})),D.labelVisible&&g.isShape&&!o.pane||g.isAnnotation?(L.renderLabel(z,D,S,o.indexer,t),c.addLabelBox(S.meta.label)):(l.hideVisual(l.getLabelWrapper(M.label,D)),l.hideVisual(M.labelConnector))}else l.hideVisual(M.body),l.hideVisual(l.getLabelWrapper(M.label,D));l.hideUnusedPointVisuals(z),z.chart.triggerOptionsApplied("point",z)};var L=this;for(s=0,d=E.length;s<d;s++)e(s);return l.isRendered=!0,l.hideUnused(),l.lastRenderVisibility=o.isVisible,l},e.prototype.renderLabels=function(t,e){var i=((e=this.series).pane||e.chartArea).collisionManager;if(e.info.type.isAnnotation||!(e.chart.isRendered&&this.isRendered||e.isVisible))return this;(t=Me(t)?t:{}).coordinatesCorrection=null;for(var n,r,o,s=e.points().items,a=0,h=s.length;a<h;a++)(o=s[this.renderOrder[a]])&&(n=e.indexer.getValue("coordinates",o._i),r=o.visuals,n?(r=o.currentOptions,(r=n.styleSet||e.getPointAttr(r)).labelVisible&&e.isVisible&&(this.renderLabel(o,r,n,e.indexer,t),r=n.meta.label,this.collidePointBoxes?i.addLabelBox(r):r&&i.addLabelBox(Sc(n.meta.labelTextBox,r,n.meta.labelAttr)))):(this.hideVisual(r.body),this.hideVisual(r.label)),this.hideUnusedPointVisuals(o));return this.isRendered=!0,this.hideUnused(),this},e.prototype.renderHierarchy=function(t){return this},e.prototype.getAnimatorOptions=function(t,e){e=this.updateInfo;var i=this.series;if(e&&e.action){var n=i.ctManager.settingVal("lineSeriesType",i.currentOptions);return{action:e.action,at:e.at,count:Se(e.count,1),del:e.del||0,type:n,shapeName:t,shift:e.shift||!1,fromD:void 0,pointsLen:i._points.length}}return null},e.prototype.getPointAnimatorOptions=function(t,e){if(this.isRadial&&e){var i=p(this.series,["pointBodyDGenerator"]);if("needle"===this.getBodyShapeName(e)&&t.coordPrev)return{needle:{from:t.coordPrev,to:t,gen:function(t){return i("needle",t)}}};if("circular"===this.series.ctSv("gaugeType")){var n=_i(t.arc.cxy,t.xyz),r=t.coordPrev;return{xlat:{from:t.coordPrev,to:t,fn:function(e){var i=r.xyz,o=t.xyz,s=i[0];return i=i[1],o=[s+(o[0]-s)*e,i+(o[1]-i)*e],s=r.arc.angle,[(e=wi(t.arc.cxy,s+(t.arc.angle-s)*e,n))[0]-o[0],e[1]-o[1]]}}}}}return{}},e.prototype.renderDebug=function(t,e,i){},e.prototype.isHoriz=function(){var t=this.series;return(t.pane||t.chartArea).isHoriz},e.prototype.renderLabel=function(t,e,i,n,r){!function(t,e,i,n,r,o){var s,a=t.series,l=n.meta,u=e.visuals,c=e.currentOptions.label,f=a.pane||a.chartArea;e.labelAutoHidden=!1;var d=f.collisionManager,m=function(i,n){var r=t.collidePointBoxes?i:Sc(l.labelTextBox,i,l.labelAttr);if(n?!d.collideLabels(r):!d.collideAll(r,e.id))return!(l.shape&&(i.isInside||Bn(l.shape,ln(i)))&&!Pn(l.shapePadded||l.shape,i))},g=function(t){return m(t,!0)};t.initPointLabel(e,n,i,o),u=t.getLabelWrapper(u.label,i),f=l.labelSize.slice(0);var v=t.possibleLabelPositions(e,"",i,n,r);r=l.labelAttr,n.meta.label=void 0,n.meta.labelPossible=v,g=gd(v,(function(t){return m(t,!1)}))||gd(v,g),n.meta.isVertical&&(s=!0),g||!1!==i.label.autoHide||(v.length?g=v[0]:(g=l.xy,l.shape&&(g=ln(l.shape)),v=[g=[g[0]-f[0]/2,g[1]-f[1]/2,f[0],f[1]]])),v[0]&&(g||t.isRadial)?((n=n.meta.label=g||v[0])&&n.rotate&&!h(r.rotate)&&(r.rotate=n.rotate),h(r.rotate)&&Nd(r.rotate)?(g=ln(n),wd(r,{x:g[0]-f[0]/2,y:g[1]-f[1]/2}),r.rotate=[r.rotate,f[0]/2,f[1]/2]):s?(g=ln(n),wd(r,{x:g[0]-f[0]/2,y:g[1]-f[1]/2}),r.rotate=[-90,f[0]/2,f[1]/2]):(wd(r,{x:n[0],y:n[1]}),r.rotate=[0,0,0]),(r=t.render_applyDynamicAttrVals([r,{zIndex:a.zIndex+Jg.label}],o)).zIndex=a.zIndex+Jg.label,(t.hcLabelsOnly||n.isInside)&&i.label.hcColor&&(r.fill=i.label.hcColor,(a=p(c,["outline","color"]))&&$v(a)&&(r.stroke=vo(ny(r.fill,a)).hex)),u.attr(r)):(v.length&&(i=v[0],u.attr({x:i[0],y:i[1]})),t.hideVisual(u),l.autoHidden=!0,e.labelAutoHidden=!0,Wg.emit("tip",a.name||"","pLabelHidden",{data:[a.name||a.currentOptions.id||" ",Sm(l.labelText,10)],container:a.chartArea.chart.getWrapper()}))}(this,t,e,i,n,r)},e.prototype.initPointLabel=function(t,e,i,n){var r=this.series,o=e.meta,s=t.visuals,a=this.kind,h=(r.pane||r.chartArea).collisionManager,l=r.info.style.base,u=r.renderer,c=r.rootVisuals,f=r.info.type;r.chartArea;var m=this.isHoriz();return o.labelSize?o.labelSize:("function"===d(r=p(t.currentOptions,["label","text"])||r.info.labelTextInfo.label)&&(r=r(t)||""),r=t.replaceTokens(r),o.labelText=r,t=Wl(i.label,"pie"===a?["offset"]:void 0,l),a={},t.autoWrap="default",t.val=r,(r=p(o,["label","bounds"]))&&(this.collidePointBoxes?(a.width=r[2],a.height=r[3]):(a.maxWidth=r[2],a.maxHeight=r[3],a.width=null,a.height=null),a.x=r[0],a.y=r[1],yd(t,{xAlignment:"center",yAlignment:"middle"}),t.maxWidth=r[2],t.maxHeight=r[3],t.width=null,t.height=null),(l=!s.label)?s=s.label=u.textStack().attr(wd({},t)):(u={},null!=n&&n.animation&&(u.animation=xd(n.animation)),s=s.label.attr(wd(u,t))),n=s.setPreliminarySize(!0).getBboxArray().slice(2),u=10<=Math.max(n[0]-a.maxWidth,n[1]-a.maxHeight),l?u?(c=this.wrapLabel(s,a,i).add(c.points),n[0]=a.maxWidth,n[1]=a.maxHeight):c=s.attr(a).add(c.points):c=this.getLabelWrapper(s,i).attr(a),!f.drawRect&&"ohlc"!==this.kind||m||(this.isRadial?(f=((e=e.pathOptions).innerR+e.r)/2,e=_i(Ai(e.cxy,e.start,f),Ai(e.cxy,e.end,f))):e=e.rect.width,n[0]>e&&(h.anyColLabelOverflow=!0)),!p(i,["label","autoHide"])&&o.shape&&(i=!m||h.anyColLabelOverflow,h=o.shape[2],m=o.shape[3],f={fitWidth:null,fitHeight:null},.5<(e=i?h/n[1]:m/n[1])&&(1>(e=Math.floor(100*e)/100)&&(n[0]*=e,n[1]*=e),i&&(f.fitHeight=h),!i&&(f.fitHeight=m)),c.attr(f)),this.collidePointBoxes||(a.width=r[2],a.height=r[3],a.maxWidth=null,a.maxHeight=null,c.attr(wd({},a)),o.labelTextBox=[0,0,Math.min(r[2],n[0]),Math.min(r[3],n[1])]),delete t.width,delete t.height,o.labelAttr=t,o.labelSize=r?[r[2],r[3]]:n,o.labelInternalSize=n),this},e.prototype.wrapLabel=function(t,e,i){return t.attr(e)},e.prototype.getLabelWrapper=function(t,e){return p(e,["label","wrapped"])?t.parent.parent:t},e.prototype.possibleLabelPositions=function(t,e,i,n,r){return function(t,e,i,n,r,o){var s=t.series;i=s.isVisible,s.info.type,n=!1===(e.currentOptions.label||{}).autoHide;var h=r.meta,l=vn(t.series.contentRect()),u=0,c=h.labelSize,p=h.labelObstacles;h.marker&&(u=r.meta.marker[2]),h=ES,("line"===t.kind||"area"===t.kind)&&s.ctSvIs("lineSeriesType","step")&&(h=PS);var f=h(t,r=yn(r.xyz,[u,u]),p,e._i,o);return r=BS(t,e),Ad(r,(function(t){var e="o"===t.align[0],i="o"===t.vAlign[0];e=(-1<t.align.indexOf("left")||-1<t.align.indexOf("right"))&&(-1<t.vAlign.indexOf("top")||-1<t.vAlign.indexOf("bottom"))&&f.outCorner?f.outCorner:e||i?f.out:f.in,t.box=wn(a([0,0],c),e,t.align,t.vAlign).box})),r=i&&n?zd(r,(function(t){return!Pn(l,t.box)})):i?md(r,(function(t){return Pn(l,t.box)})):r,s=s.info.type.drawArea&&!t.isRadial?VS:s.info.type.drawLine&&0===p.length?FS:RS,r.length&&(r=s(r,t,e,f,o)),i&&n&&(r=zd(r,(function(t){return!Pn(l,t.box)}))),Cd(r,(function(t){return t.box}))}(this,t,e,i,n,r)},e.prototype.getBodyShapeName=function(t,e){return this.series.getPointMarkerType(t.currentOptions)},e.prototype.updatePointsGlobals=function(){var t=this.series.pane;return this.pointsGlobals=t?t.getGlobalOffsets():void 0},e.prototype.setCoordinates=function(t,e){function i(t,e){void 0===e&&(e={xIsSorted:!0,isFinal:!1});var i=e.isFinal,n=e.xIsSorted,r=p(u.currentOptions,["line","tension"]);r=h(r)?qd(ii(.7,1,0,1,r),0,1):.8;var s={spline:function(t){return[ja(t,r)]},step:g?function(t){return Ia(t)}:function(t,e){return function(t,e,i){void 0===e&&(e=!0);var n=[];n.push("M",t[0].join(" "),"L"),e=e?function(e){n.push(t[i?e:e-1][0]+" "+t[i?e-1:e][1])}:function(e){n.push(t[i?e-1:e][0]+" "+t[i?e:e-1][1])};for(var r=1,o=t.length;r<o;r++)e(r),n.push(t[r][0]+" "+t[r][1]);return n}(t,e,!n)},normal:function(t){return Ia(t)}}[F?"spline":M];if(S.drawLine||S.drawArea){e=[];var l=function(t,e,i){return void 0===i&&(i=!1),i?Ds(s(t))+"Z"+Ds(s(e))+"Z":(e.reverse(),t.push.apply(t,a(e)),Ds(s(t))+"Z")};O.length&&(O=o?o(O):O,E.push(O),t=t||0<L.length,S.drawLine&&(g?i&&(e=E.slice(0),1===E.length?B.push(Ds(s(O,R))+(t?"":"Z")):((t=e[e.length-1].slice(0)).push.apply(t,a(e[0])),t=Ds(s(t,R)),B.push(t),2<E.length&&(t=E.slice(1,E.length-1),Ad(t,(function(t){B.push(Ds(s(t,R)))}))))):1<O.length&&B.push(s(O,R))),S.drawArea&&(g?(P.push({s:D,e:O}),i&&(L=[],1===P.length?(D=o?o(D):D,L.push(l(D,O,!0))):(i=(t=P[P.length-1]).s.slice(0),t=t.e.slice(0),e=P[0].s,t.push.apply(t,a(P[0].e)),i.push.apply(i,a(e)),L.push(l(i,t)),2<P.length&&(i=P.slice(1,P.length-1),Ad(i,(function(t){L.push(l(t.s,t.e))})))))):(D.reverse(),D=o?o(D):D,(e=[s(O,R)]).push(s(D,!R).join(" ").replace(/M/gi,"L")),L.push(Ds(e)+"Z"))))}O=[],D=[]}var n,r,o=e?e.coordinatesCorrection:null,l=this,u=l.series,c=u.currentOptions,f=u.indexer,d=u.pane,m=u.chartArea.isZoomLive();if(h(l.lastRenderVisibility)&&!l.lastRenderVisibility&&!u.isVisible)return l;var g=!!d&&d.isRadial,v=u.indexer.data.coordinates||u.prevCoords;v&&(v=v.slice(0));var y=t.x,x=t.y,b=t.width,w=t.height,A=u.ctManager,C=u.info,S=C.type,k=u.userPoints,_=u.points().items,M=A.settingVal("lineSeriesType",c),T=p(c,["emptyPointMode"])||"undefined",O=[],D=[],E=[];e=[];var P=[],B=[],L=[],R=l.isHoriz(),F=A.isType("map")&&"line"===S.seriesType&&"spline"===M||A.isType("radar")&&d&&"polar"===d.getRadarType()&&"line"===S.seriesType,V=p(d,["projection","val2linxy"]),I=R?t.height:t.width;g&&(I=1,l.isRadial=!0);var N=h(A=(d=d?d.xAxis:u.xAxis).clusterCounts[u.type]);A=Se(A,1);var j=d.getShortestDistPerc(),W=j*I,H=d.currentOptions.spacingPercentage,Y=W*H;(1<=Y||g)&&(W-=Y);var U=Se(d.currentOptions.staticColumnWidth,W),G=U/A;"column"!==c.type||g||(G=Math.max(G,5));var Z=U/A;g||(G=Qe(G),Z=Qe(U/A)),d=Se(u.clusterIndex,1);var X=-G*A/2+G*d,q={xLength:1,clusterWidth:j-(1<=(Y=j*H)?Y:0)};wd(q,{thisWidth:q.clusterWidth/A}),wd(q,{unclusteredWidth:q.clusterWidth/A,clusterOffset:-q.thisWidth*A/2+q.thisWidth*d}),A=function(t){return"string"==typeof t&&-1<t.indexOf("%")?parseInt(t)/100*Math.min(b,w):t};var K=function(t,e){var i;(i=n[t])&&(r[t]=at.apply(void 0,a(i)),e&&z(e)&&(r[t]=e.apply(void 0,a(r[t]))))},Q=function(t){var e;if(e=n[t]){var i=r[t]=[];Ad(e,(function(t){i.push(at.apply(void 0,a(t)))}))}},$=f.hasAllKeys("ys,ye"),J=f.hasAllKeys("xs,xe");d=u.ctManager.settingVal("bubbleSizingType",u.options());var tt=A(p(c,["size","max"]))||50,et=A(p(c,["size","min"]))||5,it=hi(tt/2),nt=hi(et/2);f.indexKeys(["coordinates","bbox"],{},0);var rt=function(t,e){return[y+t*b,x+e*w]};H=function(t,e){return[J?t:q.clusterOffset+q.thisWidth/2+t,e]};var ot=function(t){return J?t:q.clusterOffset+q.thisWidth/2+t};A=function(t,e){return[t,J?e:X+G/2+e]};var st=function(t,e,i){return V&&(t=(e=s(R?V(e,t,i):V(t,e,i),2))[0],e=e[1]),t=rt(t,e),g&&(h(i)||(i=.9),t.push(b/2*i)),t};d={column:g?H:function(t,e){return[J?y+t*b:y+X+G/2+t*b,x+e*w]},marker:g?st:rt,bubble:"width"===d?function(t,e,i){return(t=st(t,e)).push(ii(et,tt,0,1,i)),t}:function(t,e,i){return(t=st(t,e)).push(2*Math.sqrt(ii(nt,it,0,1,i)/Math.PI)),t}},d.ohlc=d.column,R&&(d.column=g?A:function(t,e){return[y+t*b,J?x+e*w:x+X+G/2+e*w]}),d.variwide=d.column;var at=d[u.type]||d.marker;for(H=function(e,o){o=[];var s={};if(f.getValue("isEmpty",e))return"ignore"!==T&&i(!0),"continue";n=f.getValue("pos",e),r={width:N?G:void 0,unclusteredWidth:Z,clusterSpace:j*I,meta:s},l.clearPrevCoord(f.getValue("coordinates",e)),f.setValue("coordinates",e,r);var d=g&&S.drawRect?st:void 0;K("xyz",d),K("xyzs",d);var y=r.xyzs;d=r.xyz;var x=y[1]-d[1],b=G;if(g){var w=l.series.pane.angleArc();r.arc={angle:ii(w.start,w.end,0,1,n.xyz[0]),cxy:ln(vn(t))}}s.xy=d,w=void 0;var A=J?y[0]:d[0]-G/2,M=J?d[0]-y[0]:G,z=void 0;if(g&&(x=n.xyzs[1]-n.xyz[1],A=J?n.xyzs[0]:n.xyz[0]-G/2,z=J?n.xyzs[0]:n.xyz[0],M=J?n.xyz[0]-n.xyzs[0]:b),N)if(g){if(R){if(x=r.rectPos={y:J?n.xyzs[1]:ot(n.xyz[1]-G/2),x:n.xyzs[0],width:n.xyz[0]-n.xyzs[0],height:G,ccw:n.xyzRDesc[1]},n.xyzRDesc[1]&&Id(k[e].y)){for(b=void 0,0>x.width?b=x.x+x.width:0<x.width&&(b=x.x,x.x+=x.width);b<x.x;)b+=1;x.width=b-x.x}}else x=r.rectPos={x:ot(z)-G/2,y:n.xyz[1],width:M,height:x};r.arcPos={start:x.x,end:x.x+x.width,angle:x.x+x.width/2}}else R?(w=J?y[1]:d[1]-G/2,b=J?d[1]-y[1]:G,x=y[0]-d[0],w={y:w,x:d[0],width:x,height:b}):w={x:A,y:d[1],width:M,height:x},w=Lo(w),s.shape=vn(w);if(h(A)&&M&&(r.rect=w,S.drawRect&&C.hasComplete&&(A=n.completee-n.completes,M=n.completeXe-n.completeXs,g?(x=r.rectPos,r.rectCompletePos=R?{x:ii(x.x,x.x+x.width,0,1,n.completes),y:ii(x.y+x.height,x.y,0,1,n.completeXe),width:A*x.width,height:M*x.height,targetBox:vn(t)}:{x:x.x+n.completeXs*x.width,y:x.y+(1-n.completee)*x.height,width:M*x.width,height:A*x.height,targetBox:vn(t)}):r.rectComplete=R?{x:ii(w.x,w.x+w.width,0,1,n.completes),y:ii(w.y+w.height,w.y,0,1,n.completeXe),width:A*w.width,height:M*w.height}:{x:w.x+n.completeXs*w.width,y:w.y+(1-n.completee)*w.height,width:M*w.width,height:A*w.height}),w&&o.push([w.x,w.y,w.width,w.height])),O.push(d),F&&n.interpPoints&&Ad(n.interpPoints,(function(t){O.push(at.apply(void 0,a(t)))})),S.drawArea&&D.push(y),C.hasSubvalues&&!g&&(Ad(["sv","svs","svx","svxs"],K),Ad(["svv","svxv"],Q)),u.coordinatesModifier&&u.coordinatesModifier(l,r),y=(r.styleSet=m?v[e].styleSet:u.getPointAttr(u.userPoints[e])).markerSize,w=p(c,["defaultPoint","marker","visible"])||!0===p(k[e],["marker","visible"]),S.drawMarker||c.forceMarker||w)if(C.hasMaxedMarkerLimit&&!w&&(y=0),l.isRadial&&"needle"===l.getBodyShapeName(_[e])){if(!m){var E,P=(s=u.pointBodyDGenerator)&&s("needle",r);r.hitTest=function(t,e){return(E=E||Ca(P)).hitTest(t,e)}}}else s.marker=yn(d,[y,y]),s=s.marker.slice(0),d=void 0,(d=0===e||e===k.length-1?p(uc(l.series,e),["marker","offset"]):Se(p(k[e],["marker","offset"]),p(c,["defaultPoint","marker","offset"])))&&(d=my(d))&&(s=Xm(s,d)),o.push(s);if(!S.isRadarColumn&&o.length&&!m){var B=15>(o=rn(o))[2]||15>o[3]?an(o,[15,15]):o.slice(0);if($&&!S.isRadar&&(B=function(t,e){return rn([t,sn(e)])}(B,[r.xyzs]),!S.drawRect&&h(U)&&(s=.8*U,B=an(B,R?[0,s]:[s,0]))),r.pathD=xn(B),!h(s=Se(k[e].mouseTracking,p(c,["defaultPoint","mouseTracking"])))||!0===s){var L=l.getLabelHitTest();r.hitTest=function(t,e){return Bn(B,[t,e])||L(this,t,e)}}f.setValue("bbox",e,o)}},d=0,A=k.length;d<A;d++)H(d);if(i(null,{isFinal:!0,xIsSorted:u.info.xIsSorted}),l.paths={lines:B,areas:L},l.coordinates.line=E,S.drawArea&&(l.coordinates.area=e),l.coordRect=t,l.validate(!0),v)for(d=0,A=_.length;d<A;d++)(e=u.indexer.getValue("coordinates",d))&&(e.coordPrev=l.clearPrevCoord(v[d]));return l.renderOrder=f.sortByNone(),l.renderOrderRev=l.renderOrder.slice(0),l.renderOrderRev.reverse(),this},e.prototype.clearPrevCoord=function(t){var e=t&&t.coordPrev;return e&&(e.prevCoord&&(this.clearPrevCoord(e),e.prevCoord=void 0),e.pathD&&(e.pathD.clearCache&&e.pathD.clearCache(!0),e.pathD=void 0),e.hitTest=void 0,t.coordPrev=void 0),t},e.prototype.setPos=function(t,e){},e.prototype.getShapeOptions=function(t,e){var i=this.series;return e=i.pane||i.chartArea,i=i.currentOptions.shape,e.defaultShapeOptions&&(i=Jf({},i,e.defaultShapeOptions().ca)),Cc(i,t)},e.prototype.validate=function(t){this.coordDirty=!t},e.prototype.hideUnused=function(){var t=this.series,e=t.visuals;return(t=t.info.type).drawLine||t.tree||!e.line||this.hideVisual(e.line),!t.drawArea&&e.area&&this.hideVisual(e.area),this},e.prototype.hideVisual=function(t){t&&(t.finishAnimation&&t.finishAnimation(),t.attr({opacity:0}))},e.prototype.hideUnusedPointVisuals=function(t){},e.prototype.render_applyDynamicAttrVals=function(t,e,i){var n=this.series;if(i=i||n.info.style.states[n.state]||{},t.pop&&1<t.length){for(var r=wd({},t[0]),o=1,s=t.length;o<s;o++)r=$f(r,t[o]);t=r}return r=t.animation?t.animation:{},t.animation=e&&e.animation?wd({},n.getAnimationConfig(),e.animation||{},r):wd({},!1!==e?n.getAnimationConfig():{duration:0},r),n.isVisible?(t.opacity=Se(t.opacity,i.opacity,1),t.display="block"):(t.opacity=0,t.display="none"),t},e.prototype.render_applyDynamicAttrValsLE=function(t,e,i){return(t=this.render_applyDynamicAttrVals(t,e,i)).opacity=1,t.display="block",t},e.prototype.getPointIconVisual=function(t,e,i){return this.getIconVisual(t,e,i)},e.prototype.getIconVisual=function(t,e,i){var n,r=this,o=r.series,s=o.renderer,a=i.iconVisual||{},h=r.getIconPaths(t,e);e=function(e,u){u="string"==typeof h[e]&&0===h[e].indexOf("url(")?{src:n=h[e].replace(/url\(/g,"").replace(/\)/g,""),cx:t[0]/2,cy:t[1]/2,zIndex:5,width:t[0],height:t[1]}:r.render_applyDynamicAttrValsLE([{d:h[e],opacity:1,zIndex:u},{}],{animation:o.getAnimationConfig()},{}),(a[e]=a[e]||(n?s.renderer.element("image",u).add(l):s.renderer.path(u).add(l))).attr(u),i.icons[e]=u.d};var l=a.root=a.root||s.panel({yAlignment:"center"});return h.base?e("base",2):Oc(a.base),h.extra?e("extra",1):Oc(a.extra),a},e.prototype.getIconPaths=function(t,e){return yc(this,t,e)},e.prototype.getIconStyles=function(t){return kc(this)},e.prototype.setIconVisualAttr=function(t,e){var i,n=this,r=n.series,o=n.getIconStyles(t);if(t)var s=t.base,a=t.extra;if(t=function(t){var o={animation:!!e.isStyled&&r.getAnimationConfig()};return i=n.render_applyDynamicAttrValsLE(t,{},{}),i=wd(i,o),!1===r.isVisible&&(n.modifyHiddenIconStyle(i),delete i.display,delete i.opacity),i},o.base&&s){var h=t(o.base),l=e.icons.base;l&&(h.d=l),s.attr(h)}o.extra&&a&&a.attr(t(o.extra)),e.isStyled=!0},e.prototype.modifyHiddenIconStyle=function(t){var e=t.fill;return!1===this.series.isVisible&&(t.fill&&(e=Cr(e=Qr(e=ko(e,.8),"v",-.2)),t.fill=e),t.stroke&&(t.stroke=ko(t.stroke,.2)),1<t["stroke-width"]&&(t["stroke-width"]=1)),t},e.prototype.showHalo=function(t){var e=this.series,i=e.chartArea,n=vn(i.contentRect),r=e.visuals,o=e.renderer;if(t&&!e.indexer.getValue("isEmpty",t._i)){var s=t.currentOptions.focusGlow;if(!1!==s){var a=s?ue({opacity:.9,width:3,color:"#dedeac"},s):{opacity:.9,width:3,color:"#dedeac"};a.width=h(a.width)?2*a.width:a.width,Am(a.color,"%")&&(a.color=t.replaceTokens(a.color)),Gl(a)&&(s=Fl({outline:a}),wd(s,{d:Ds(this.haloPath(t,a)),"stroke-linejoin":"round","pointer-events":"none",zIndex:1}),t=t.visuals.body,i.panes&&t&&(n=en(rn([n,vn(t.box())]),-10)),s.clipPath={d:xn(n)+s.d,"clip-rule":"evenodd"},(n=xd(s))["stroke-opacity"]*=.4,s["stroke-width"]*=.6,e.haloPath=s.d,(i=r.pointHalo||[]).length||(i=r.pointHalo=[o.renderer.path().add(e.rootVisuals.pointHalo),o.renderer.path().add(e.rootVisuals.pointHalo)]),i[0].attr(s),i[1].attr(n))}}else(i=r.pointHalo||[]).length&&Ad(i,(function(t){return t.attr({d:"M0 0"})})),e.haloPath=""},e.prototype.hideHalo=function(){this.showHalo()},e.prototype.hideHaloMo=function(){var t=this.series,e=t.xAxis;t=t.chartArea.tooltip.cttEnabled(t.yAxis,e),e=e&&(e.currentOptions.crosshair||{}).enabled,t||e||this.hideHalo()},e.prototype.haloPath=function(t,e){var i=this.series;e=e.width;var n=i.indexer.getValue("coordinates",t._i);i=i.info.hasMaxedMarkerLimit;var r=n&&Se(n.pathD,n.pathObj,n.meta.bodyD),o="string"==typeof r&&-1<r.indexOf("url("),s=r.arcShape,a=!o&&za(r);return s?t.visuals.body.attrApplier.outlinePath():o?xn(vn(t.visuals.body.box())):((a||i)&&(t=n.meta.xy||n.xyz,r=bx.circle(t[0]-e/2,t[1]-e/2,e,e)),r)},e.prototype.pointMouseOver=function(t,e){var i=this.series,n=i.chart,r=n.hoveredPoint===e&&this.hoveredItem===e;p(n.hoveredPoint,["series"]),i.chartArea.debounce.clear("unmute"),(this.hoveredItem=e)&&e.mouseOver(t);var o,s,a=i.translateToGlobal([t.x,t.y]);i.pane&&(o=i.pane.getGlobalOffsets()),!1===p(n.currentOptions,["defaultTooltip","enabled"])&&e.labelAutoHidden&&(s=e.visuals.label)&&s.attr({opacity:1}).refresh(),!i.chartArea.tooltip.cttEnabled(i.yAxis,i.xAxis)&&i.tooltip.showTooltip(e,t,a,o),e&&!r&&this.showHalo(e),e&&!r&&((t=fc(e))?dc(e,"",t):("select"!==i.state&&i.setState("hover"),e.chart.highlighted&&mc(e.chart,e)))},e.prototype.pointMouseOut=function(t,e){var i=this.series,n=i.chart;i=i.chartArea,this.hoveredItem=void 0,!1===p(n.currentOptions,["defaultTooltip","enabled"])&&e.labelAutoHidden&&(n=void 0,(n=e.visuals.label)&&n.attr({opacity:0}).refresh()),t=e&&e.mouseOut(t),this.hideHalo(),!1!==t&&e&&!1!==p(e.currentOptions,["states","mute","enabled"])&&i.debounce.defer("unmute",(function(){mc(e.series.chart)}),230)},e.prototype.pointClick=function(t,e){e&&e.click(t)},e.prototype.pointMouseOutAny=function(){var t;if(t=this.hoveredItem)return"select"!==this.series.state&&this.series.setState(""),this.pointMouseOut({},t),!0},e}((function(t){this.series=t})),jS={marker:NS},WS=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.staticSeriesBodyInfo=[zc,vc],e.kind="area",e}return n(e,t),e.prototype.contextDefaults=function(){},e.prototype.hideUnusedPointVisuals=function(t){Oc((t=t.visuals).marker),Oc(t.labelConnector),Oc(t.rectComplete),Oc(t.rect)},e.prototype.getIconPaths=function(t,e){var i=t[0],n=t[1];return(t=bc(this,t,e)).extra+=" L "+i+" "+n+" L0 "+n+" Z",t},e.prototype.getIconStyles=function(e){var i=this.series.info.style.attr;return e=t.prototype.getIconStyles.call(this,e),(e=(i=wd(e,{extra:i.area})).extra).fill&&!e.stroke&&(e.stroke=Dr(e.fill)),i},e}(NS),HS=function(t){function e(e){var i=t.call(this,e)||this;return i.series=e,i.kind="column",i.typeConfig={axes:"x,y",values:"x,y",requiredData:"x,y",supportedData:"x,y,subvalue,subvalueX,complete,completeX",privateAxes:"",customAxisOptions:{}},i.staticBodyDGetter=Ac,i.staticPointCompleteVisInfo=Ec,i.staticPositionsFromAligments=Dc,i.connectorVisuals=[],i.connectorAttrs=[],i.connectorAttrsHL=[],i}return n(e,t),e.prototype.buildChildLookup=function(){this.series.chartArea.buildChildLookup()},e.prototype.getChildren=function(t){return this.series,this.buildChildLookup(),this.series.chartArea.childLookup[t.currentOptions.id]||[]},e.prototype.getTypeConfigDefault=function(){return{axes:"x,y",values:"x,y",requiredData:"x,y",supportedData:"x,y,subvalue,subvalueX,complete,completeX",privateAxes:"",customAxisOptions:{}}},e.prototype.render=function(e){return t.prototype.render.call(this,e),this},e.prototype.setCoordinates=function(e,i){return c(this,"series.pane.isRadial")&&(this.isRadial=!0,this.staticBodyDGetter=this.series.pane.staticBodyDGetter,this.staticPositionsFromAligments=this.series.pane.staticPositionsFromAligments),t.prototype.setCoordinates.call(this,e,i),this},e.prototype.getParents=function(t){var e,i=this,n=[],r=[];return t?((e=t.options("parent"))&&(r=Ku(e)),Cd(r,(function(t){return i.series.ciManager.exists(t)}))):(this.eachPoint((function(t){(e=t.options("parent"))?(r=Ku(e),!i.series.ciManager.exists(r[0])&&n.push(t)):n.push(t)})),kd(n))},e.prototype.renderHierarchy=function(t){var e=this.series,i=this.isHoriz(),n=e.indexer,r=e[(i?"x":"y")+"Axis"].isInverted()?1:0,o=function(t,e,n){void 0===n&&(n=3);var o=function(t,e,i){return ai(t,e)>ai(t,i)?i:e},s=Ym(e.meta.shape),a=t.xyz.slice(0,2),h=e.xyz.slice(0,2),l=i?1:0,u=i?0:1,c=a[l]<h[l]?1:-1,p=a[l];h=h[l];var f=ai(p,h)-e.clusterSpace/2,d=ai(p,o(p,s[l],s[l+2])),m=t.xyz[u];t=e.xyz[u];var g,v=e.xyzs[u],y=[g=a],x=function(t,e){var i=g.slice(0);i[t]=e,y.push(g=i)},b=zd([v,t]),w=5*r;return e=m+w,o=o(g[u],b[0],b[1]),t=0<(a=g[u]-o)?-1:1,s=function(t){void 0===t&&(t=1),x(u,m+w/t),x(l,p+f*c),x(u,qd(v+w/t,b[0],b[1])),x(l,p+d*c)},Tm(b,e)&&t!==r?s(1):Tm(b,e)?(x(u,e),x(l,p+d*c)):0===a?s(1.5):t===r?(x(u,o-w),x(l,h),x(u,v)):t!==r&&s(1),Ua(y,n)},s=[];return this.eachPoint((function(t){return function(t,i){if(i.length){var r=n.getValue("coordinates",t._i);Ad(i,(function(i){if(i){var n=e.ciManager.exists(i.pid);if(n&&n.series.isVisible){var a=n.series.indexer.getValue("coordinates",n._i),h=wd({color:"#494949",width:1,caps:{end:{type:"arrow",size:4,concavity:.005}}},n.series.options("line")||{},t.options("connectorLine")||{},i.line);i.zIndex=5,i=wd(Ll(h),{d:o(a,r,h.radius),key:t.id+"-"+n.id,zIndex:Se(i.zIndex,5)}),s.push(i)}}}))}return[]}(t,qu(t))})),this.updateDeps(s,t),this},e.prototype.updateDeps=function(t,e){var i=this,n=i.series.renderer.renderer,r=i.series.rootVisuals.area;t=p(e,["preserveNoodleAttrs"])?Cd(t,(function(t){return i.render_applyDynamicAttrVals(t,e)})):i.connectorAttrs=Cd(t,(function(t){return i.render_applyDynamicAttrVals(t,e)})),null!=e&&e.animation&&(t=(t=t.slice(0)).map((function(t){return(t=xd(t)).animation=e.animation,t})));var o=i.connectorAttrsHL;return o.length&&(t=t.map((function(t){var e=gd(o,(function(e){return e.key===t.key}));return e?wd({},t,e):t}))),t&&h(t.length)&&re(t,i.connectorVisuals,(function(t){var e=n.path(xd(t)).add(r);e.data.key=t.key,i.connectorVisuals.push(e)}),(function(t,e){return e.attr(xd(t))}),(function(t){r.removeChild(t.el),u(i.connectorVisuals,t),t.destroy()}),(function(t){return t.key}),(function(t){return t.data.key})),i},e.prototype.styleLines=function(t,e,i){return ec(this,t,e,i)},e.prototype.resetLines=function(t){var e=this,i=e.connectorAttrs.slice(0);if(t){var n=[],r=e.series.renderer.renderer,o=e.series.rootVisuals.area,s=function(t){var n=i[t],s=e.connectorVisuals[t];o.removeChild(s.el),s.destroy(),(s=r.path(wd(xd(n),{animation:{duration:0}})).add(o)).data.key=n.key,e.connectorVisuals[t]=s,e.connectorAttrsHL.length&&(t=gd(e.connectorAttrsHL,(function(t){return t.key===n.key})))&&u(e.connectorAttrsHL,t)};return t.forEach((function(t){var i=vd(e.connectorAttrs,(function(e){return e.key===t}));-1<i?s(i):n.push(t)})),n}e.connectorAttrsHL=[],this.updateDeps([],{animation:{duration:0}}),this.updateDeps(i,{animation:{duration:0}})},e.prototype.styleLine=function(t,e){var i=t.key,n=this.connectorVisuals,r=this.connectorAttrs,o=vd(r,(function(t){return t.key===i}));(n=n[o])&&(t=wd({},r[o],t),t=this.render_applyDynamicAttrVals(t,e),e&&(e=p(e,["animation"]))&&wd(t,{animation:e}),n.attr(t))},e.prototype.getBodyShapeName=function(t,e){return e?this.series.getPointMarkerType(t.currentOptions):"square"},e.prototype.hideUnusedPointVisuals=function(t){var e=t.series.options("forceMarker")||!0===c(t.currentOptions,"marker.visible");t=t.visuals,!e&&Oc(t.marker),Oc(t.labelConnector)},e.prototype.possibleLabelPositions=function(t,e,i,n,r){i=this.series,e=n.meta;var o=t.currentOptions.label||{},s=i.chartArea;s=(i.pane||s).collisionManager,i=this.isHoriz();var l=o.rotate;return o=!i&&s.anyColLabelOverflow,s=vn(this.series.contentRect()),e=e.labelSize.slice(0),h(l)&&(o=!1,90===Math.abs(l)?o=!0:0!==l&&(e=Nn(a([0,0],e),[l,0,0]).slice(2))),o&&(n.meta.isVertical=!0,e.reverse()),r=this.isRadial?r.getValue("pos",t._i):n,t=function(t,e,i,n){var r=e.currentOptions.label||{},o=r.align,s=r.verticalAlign,h="auto"===r.placement?void 0:r.placement;n=o||s||h,r.rotation;var l=e.series.info.hasYRanges,u=t.isHoriz(),c=e.series,p=(e=c.info).hasSubvalues;t=c.yAxis.isStacked();var f="category"===c.xAxis.type;return c=kS(),e=p||u&&f&&e.type.zStacked,r.alignSequence?r.alignSequence:h&&(u&&o||!u&&s)?(n="i"===h[0]?"in":"out",u?[{align:n+o,vAlign:"inmiddle"}]:[{align:"incenter",vAlign:n+s}]):(t=c[t?"stacked":e?"ganttCandle":l?"range":"normal"],e=function(t){return{u:function(t){return t},d:function(t){return Cd(t,(function(t){return zS(t)}))},r:function(t){return Cd(t,(function(t){return zS(t,!0)}))},l:function(t){return Cd(t,(function(t){return zS(zS(t,!0))}))}}[i](t)},r=e(t.auto),l=function(t){return!MS(t,o,s,h,u)},n&&(r=md(r,l),n=e(t.others),r.push.apply(r,a(md(n,l)))),r)}(this,t,r=i?r.xyz[0]>r.xyzs[0]?"r":"l":r.xyz[1]>r.xyzs[1]?"d":"u"),this.staticPositionsFromAligments(this,n,r,s,e,t,o)},e.prototype.getIconPaths=function(t,e){return wc(this,t,e)},e.prototype.getIconStyles=function(t){var e=(t=this.series).info,i=t.getPointAttr(),n=kc(this);if(e.hasUniqueStyles||e.type.colorByPoint)Fe(n,t=i.pointAttr[""],"base.hatch","hatch"),Fe(n,t,"base.hatchPattern","hatchPattern");else if(i=(e=(n=wd(n,{base:i.pointAttr[""]})).base.fill).linearGradient){var r=i.hash;(i=e.linearGradient=oo(90)).hash=r+"LE"+t.isVisible}return n},e.prototype.getPointAnimatorOptions=function(t,e){return(e=this.series.pane)&&e.isRadial&&t.coordPrev?"spider"===e.getRadarType()?{}:{slice:{to:t.pathOptions,from:t.coordPrev.pathOptions}}:{}},e.prototype.destroy=function(){var t=this,e=t.series;t.series.renderer.renderer;var i=e.rootVisuals.area;t.connectorVisuals.slice(0).forEach((function(e){i.removeChild(e.el),u(t.connectorVisuals,e),e.destroy()}))},e}(NS),YS=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.kind="line",e.staticSeriesBodyInfo=[vc],e}return n(e,t),e.prototype.contextDefaults=function(){},e.prototype.render=function(e){return t.prototype.render.call(this,e),this},e.prototype.hideUnusedPointVisuals=function(t){Oc((t=t.visuals).marker),Oc(t.labelConnector)},e.prototype.getIconPaths=function(t,e){return bc(this,t,e)},e.prototype.getIconStyles=function(e){var i=this.series,n=wd({},i.info.style.attr),r=t.prototype.getIconStyles.call(this,e),o=Math.max.apply(Math,a(i.chartArea.series((function(t){return t.info.type.drawLine})).items.map((function(t){return p(t.currentOptions,["line","width"])||0})))),s=1,h=function(t,e){return void 0===e&&(e=s),t?Math.max(1,t*e):t};if(i=function(t,e){return void 0===e&&(e=s),Math.round(h(t,e))},4<o&&(s=4/o),(o=n.line["stroke-width"])&&(n.line["stroke-width"]=i(o),i=void 0,2<o&&(i=n.line["stroke-dasharray"]))){o=i.split(",").map((function(t){return parseInt(t)})),o=Zd(o),e=Ca(e.extra.data.attrs.d).length();var l=s;l=Math.min(l,e/(2.2*o)),n.line["stroke-dasharray"]=i.split(",").map((function(t){return h(parseInt(t),l)})).join(",")}return wd(r,{extra:Vd(n.line,["caps"])})},e}(NS),US=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.kind="candlestick",e.typeConfig={axes:"x,y",values:"x,open,high,low,close"},e.pointValueParser=Pc,e.staticBodyDGetter=Ac,e}return n(e,t),e.prototype.getTypeConfigDefault=function(){return{axes:"x,y",values:"x,open,high,low,close"}},e.prototype.pointArrayExpander=function(t){return{x:t[0],open:t[1],high:t[2],low:t[3],close:t[4]}},e.prototype.hideUnusedPointVisuals=function(t){Oc((t=t.visuals).rect),Oc(t.marker),Oc(t.labelConnector)},e.prototype.getIconPaths=function(t,e){var i=t[1]/2,n=t.slice(0),r=Math.round(.4*t[0]),o=r/2;n[0]-=r;var s=wc(this,n,e);return Ad(s,(function(t,e){t=t.isPath?t:Ca(Ds(t)),s[e]=t.translate((function(t){return[t[0]+o,t[1]]}))})),s.extra="M0 "+i+" L "+o+" "+i,s.extra+="M"+(t[0]-o)+" "+i+" L"+t[0]+" "+i+" ",s},e.prototype.getIconStyles=function(t){return{base:{fill:t=this.series.info.style.base.color,stroke:xo("outline",t),"stroke-width":1},extra:{fill:"none",stroke:xo("outline",t),"stroke-width":1}}},e}(HS),GS=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.kind="ohlc",e.typeConfig={axes:"x,y",values:"x,open,high,low,close",customAxisOptions:{z:{visible:!1}}},e.pointValueParser=Bc,e.staticBodyDGetter=Lc,e}return n(e,t),e.prototype.getTypeConfigDefault=function(){return{axes:"x,y",values:"x,open,high,low,close",customAxisOptions:{z:{visible:!1}}}},e.prototype.pointArrayExpander=function(t){return{x:t[0],open:t[1],high:t[2],low:t[3],close:t[4]}},e.prototype.hideUnusedPointVisuals=function(t){var e=t.visuals;Oc(e.rect),!t.series.options("forceMarker")&&Oc(e.marker),Oc(e.marker),Oc(e.labelConnector)},e.prototype.getIconPaths=function(t,e){e=t[1]/2;var i=.3*t[0],n={extra:""};return n.extra="M0 "+e+" L "+t[0]+" "+e,n.extra+="M"+i+" 0 L"+i+" "+e,n.extra+="M"+(t[0]-i)+" "+t[1]+" L"+(t[0]-i)+" "+e,n},e.prototype.getIconStyles=function(t){return{extra:{fill:"none",stroke:xo("outline",this.series.info.style.base.color),"stroke-width":1}}},e}(HS),ZS=function(t){function e(e){var i=t.call(this,e)||this;return i.series=e,i.kind="variwide",e.chart.typeContextOptions={axes:{x:{spacingPercentage:0,scale:{type:"stackedFull"}}}},i}return n(e,t),e}(HS),XS=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.kind="bubble",e.typeConfig={axes:"x,y,z",values:"x,y,z",requiredData:"x,y,z",supportedData:"x,y,z,subvalue,subvalueX",customAxisOptions:{z:{visible:!1}}},e.staticBodyDGetter=Fc,e}return n(e,t),e.prototype.getTypeConfigDefault=function(){return{axes:"x,y,z",values:"x,y,z",requiredData:"x,y,z",supportedData:"x,y,z,subvalue,subvalueX",customAxisOptions:{z:{visible:!1}}}},e.prototype.pointArrayExpander=function(t){return{x:t[0],y:t[1],z:t[2]}},e.prototype.setCoordinates=function(e,i){var n=this.series;return t.prototype.setCoordinates.call(this,e,i),this.renderOrder=n.indexer.sortBy("z",!1)||n.indexer.sortBy("ze",!1),this.renderOrderRev=this.renderOrder.slice(0),this.renderOrderRev.reverse(),this},e.prototype.getIconPaths=function(t,e){return yc(this,t,e,"circle")},e.prototype.possibleLabelPositions=function(e,i,n,r,o){var s=this.series;s.isVisible,i=i||r.pathD||r.meta.bodyD,e.visuals,s.renderer,s.visuals,s.rootVisuals,s=r.meta;var a=r.xyz,h=s.labelSize;return s.marker&&r.meta.marker[2],i=Su(Ca(i),h,a),a=[],i?(i.isInside=!0,a.push(i)):(s.marker||(s.marker=[0,0,0]),s.marker[2]=r.xyzs[2],a=t.prototype.possibleLabelPositions.call(this,e,"",n,r,o)),a},e.prototype.hideUnusedPointVisuals=function(t){var e=t.visuals;Oc(e.rect),t.series.options("forceMarker")||t.options("marker.visible")||Oc(e.marker),Oc(e.labelConnector)},e}(NS);jS.area=WS,jS.column=HS,jS.line=YS,jS.candlestick=US,jS.ohlc=GS,jS.variwide=ZS,jS.bubble=XS;var qS,KS,QS,$S=function(){function t(t){var e=this;this.series=t,this.kind="Tooltip",this.currentOptions={radius:2,shadow:!0,boxVisible:!0,fill:"auto",outline:{color:"auto",width:1},transparency:.2,enabled:!0,timeout:1200,margin:7,padding:5,followCursor:"auto"},this.moveTooltip=nm((function(t,i,n){var r=e.chart.rootVisuals.tooltip;if(r){var o=r.rootPanel.el;o&&(t=e.position(t,e.targetPanel(),r.bbox(),i,!0,n).outBox,o.attr({animation:{duration:10},transform:{translate:t.slice(0,2)}}))}}),10);var i="Series"===t.kind?t.chartArea:t;this.chart=t.chart,this.curCA=i,this.chart.tooltipRef=this,this.currentOptions=wd({radius:2,shadow:!0,boxVisible:!0,fill:"auto",outline:{color:"auto",width:1},transparency:.2,enabled:!0,timeout:1200,margin:7,padding:5,followCursor:"auto"},i.currentOptions.defaultTooltip||this.chart.currentOptions.defaultTooltip||{}),this.isVisible=!1,this.debounce=new Hg}return t.prototype.options=function(t){return t=qe(t),this.setOptions(t),this},t.prototype.setOptions=function(t){return this.currentOptions=wd({radius:2,shadow:!0,boxVisible:!0,fill:"auto",outline:{color:"auto",width:1},transparency:.2,enabled:!0,timeout:1200,margin:7,padding:5,followCursor:"auto"},this.curCA.currentOptions.defaultTooltip||this.chart.currentOptions.defaultTooltip||{},t),this},t.prototype.targetMetrics=function(t){var e=t.coord(),i=this.currentOptions.margin||0;t.series;var n=c(e,"meta.label");return t=t.bbox(),4===c(e,"meta.marker.length")&&(t=rn([t,e.meta.marker])),{xyz:e.xyz,xyzs:e.xyzs,elBox:en(t,-i),labelBox:n?en(n,-i):n}},t.prototype.showTooltip=function(t,e,i,n){var r=this,o=this.currentOptions,s=this.debounce,a=this.isFollowCursor(t,e);t&&t!==qS&&!1!==o.enabled&&!0!==o.combined?(qS=t,s.clear("showtimeout"),s.clear("hidetimeout"),a?this.show(t,e,i,n):s.defer("showtimeout",(function(){return r.show(t,e,i,n)}),20)):a&&this.moveTooltip(t,i,n)},t.prototype.isFollowCursor=function(t,e){var i=this.currentOptions;return"boolean"==typeof i.followCursor?i.followCursor:!("touch"===e.device||i.combined||!t.series)&&!(t=t.series.info.type).isAnnotation&&(t.isShape||t.isMapLayer||t.tree)},t.prototype.hideTooltip=function(t){var e=this,i=this,n=this.series,r=this.debounce;if(t=Se(t,this.currentOptions.timeout,1200),r.clear("showtimeout"),r.clear("hidetimeout"),qS=null,!0!==n.options("mouseTracking.sticky")){var o=c(this.chart.rootVisuals,"tooltip.rootPanel.el");o&&r.defer("hidetimeout",(function(){KS===i&&(o&&o.attr&&o.attr({opacity:0,animation:{duration:40}}),setTimeout((function(){return e.hide()}),40))}),t)}},t.prototype.defaultAnimation=function(t){return{duration:t?0:40}},t.prototype.hide=function(){var t=this.chart.rootVisuals.tooltip;t&&t.isVisible&&(t.visible(!1),t.isVisible=!1,QS="",this.chart.renderer&&this.chart.renderer.refresh()),KS===this&&(KS.debounce.clear("hidetimeout"),KS=void 0)},t.prototype.translateToGlobal=function(t){var e=this.series.translateToGlobal(t);return 4===t.length&&e.push.apply(e,a(t.slice(2,4))),e},t.prototype.correctChartBox=function(t){return(t=this.translateToGlobal(t))[0]=-t[0],t[1]=-t[1],t},t.prototype.correctCABox=function(t){return this.series.correctRootBox(t)},t.prototype.targetPanel=function(){return this.series.rootVisuals.points},t.prototype.color=function(t){return t.tokenValue("%color")},t.prototype.text=function(t){var e=t.series;return z(e=Se(c(t.currentOptions,"tooltip"),c(e.currentOptions,"defaultPoint.tooltip"),e.getAutoTooltipText(t),e.info.labelTextInfo.tooltip))&&Oe(e=e(t))?(Wg.emit("warning",this.chart.id,"ttFnResultBad",{data:[e],container:this.chart.getWrapper()}),""):t.replaceTokens(e)},t.prototype.show=function(t,e,i,n){this.preShow(),this.chart.renderer;var r=this.chart,o=function(t){return t.pop?t.map((function(t){return t.id})).join(""):t.id}(t),s=(t.pop?t[0]:t).series;o+=s.id||s.currentOptions.name||s.currentOptions.id||"";var a=QS===o,l=this.targetPanel(),u=this.currentOptions;if(!a){if(s=r.rootVisuals.tooltip,!a){var f=this.text(t),d=this.color(t),m=c(u,"outline.color");if((m=wd({style:{"pointer-events":"none"}},u,{label:{text:f,align:this.chart.isRtlCulture?"right":"left",animation:{duration:0}},outline:{color:"auto"===m?xo("outline",d):m}})).margin=0,s){var g=s.isVisible;s.visible(!0),(r=s.rootPanel.el)&&r.attr&&r.attr({opacity:1})}else s=r.rootVisuals.tooltip=new tk(r,wd({asHTML:!1,autoWrap:"default"},m)).add(r.rootVisuals.front);s.options(m,!1),s.rootPanel.setPreliminarySize&&s.rootPanel.setPreliminarySize(!0)}r=s.bbox(),f=this.isFollowCursor(t,e),u=!!this.series.pane,n=(l=this.position(t,l,r,i,f,n)).xy,l=l.outBox,a?s.options({position:n.join(",")}):(a=s.chart.rootVisuals.itemsBox.getGlobalBboxArray(),u?(n=["rootVisuals","dataContent"],a=[(n=(p(this.series,n)||p(this.series.chartArea,n)).getGlobalBboxArray())[0]-a[0],n[1]-a[1]],n=[l[0]+a[0],l[1]+a[1]]):n=[l[0]-a[0],l[1]-a[1]],m=m.fill,r[3]&&(a=Vo(r),void 0===(l=this.currentOptions)&&(l={}),r=1-(l.opacity||1),l=h(l.radius)?l.radius/4+3:5,a=Math.round(l/a.height*100),d=go(d,r),d=so(oo(90),[["0%",d],["0%",d],[0+a+"%",io("#f0f2fd",r)],[0+a+"%",io("#ffffff",r)],[100-a+"%",io("#ffffff",r)],[100-a+"%",io("#e6e9fd",r)],["100%",d],["100%",d]])),s.options({fillShading:!1,fill:"auto"===m?d:m,position:n.join(",")},{animation:g?this.defaultAnimation():this.defaultAnimation(!0),force:!0}),KS=this,QS=o,this.postShow(t,e,i)),QS=o}},t.prototype.position=function(t,e,i,n,r,o){var s="TooltipCa"===this.kind,l=!!this.series.pane,u=this.curCA.rootVisuals.content,c=p(this.chart.userOptions,["defaultTooltip","margin"]),f=this.currentOptions.margin;if(r&&!h(c)&&(f=20),r)o&&(n[0]-=o.x,n[1]-=o.y);else{var d=this.targetMetrics(t);if(!d)return{xy:[0,0],outbox:i}}var m=d?d.xyz:n,g=d?d.xyzs:d;c=d?d.elBox:yn(m,[2*f,2*f]);var v=d&&d.labelBox?rn([c,d.labelBox]):void 0,y=g&&m[0]!==g[0];vn(("chartArea"===this.series.kind?this.series.rootVisuals.content:this.series.chartArea.rootPanel).getGlobalBbox());var x=en(vn(this.chart.rootPanel.getGlobalBbox()),0),b=this.correctCABox(vn(u.getGlobalBbox()));u=this.correctChartBox(vn(this.chart.rootPanel.getGlobalBbox()));var w=l?this.correctCABox(vn(this.chart.rootPanel.getGlobalBbox())):x,A=l?w:u.slice(0);if(l||Ad(this.curCA._axes,(function(t){if(t.isVisible){t=t.sideIndex();var e=Ym(b);switch(t){case 0:A=pn(A,e[1]),w=pn(w,e[1]);break;case 1:A=fn(A,e[2]),w=fn(w,e[2]);break;case 2:A=dn(A,e[3]),w=dn(w,e[3]);break;case 3:A=cn(A,e[0]),w=cn(w,e[0])}}})),e=[(e=Vu(e,y?[(m[0]+g[0])/2,m[1]]:m,1))[0]-i[2]/2,e[1]-i[3]-f],(f=(e=r?e:this.translateToGlobal(e)).slice(0)).push.apply(f,a(i.slice(2))),g="inCenter",m="outTop",c&&(s&&(this.curCA.isHoriz?(m=n[1]<u[3]/2?"outBottom":"outTop",g="inMiddle"):(g=n[0]<u[2]/2?"outRight":"outLeft",m="inMiddle")),f=wn(f,y=r?c:this.translateToGlobal(c),g,m).box,!s&&!r&&(y=(t[0]||t).series.visualizer,x=void 0,d&&d.labelBox&&(x=this.possiblePositions(t[0]||t,i,v,A,y)),x&&0!==x.length||(x=this.possiblePositions(t[0]||t,i,c,A,y)),0<x.length))){var C=!0;f=l?x[0]:this.translateToGlobal(x[0]),function(t,e){if(!Rn(t,e))return 0;var i=Math.max(t[0],e[0])-Math.min(Pm(t),Pm(e));return(i*=Math.max(t[1],e[1])-Math.min(Em(t),Em(e)))/(t[2]*t[3]+e[2]*e[3]-i)}(this.translateToGlobal(c),zn(f,w))&&(C="forced"!==x[0][4])}return f=zn(f,w),c&&!s&&!C&&Bn(f,n)&&(m="outTop"===m?"outBottom":"inMiddle",t=f.slice(0),f=zn(f=wn(f,y=r?c:this.translateToGlobal(c),g,m).box,w),r&&Bn(f,n)&&(r=u[2]-n[0],f=n[0]>f[2]||r>f[2]?zn(f=wn(f,y,g=n[0]>u[2]/2?"outLeft":"outRight",m).box,w):t)),o&&(f[0]+=Math.round(o.x),f[1]+=Math.round(o.y)),{xy:e,outBox:f}},t.prototype.possiblePositions=function(t,e,i,n,r){var o=(t=t.series).chartArea.collisionManager;r=t.yAxis;var s=t.isStacked,h=t.info.type,l=!1;h.drawRect||(l=!0);var u=function(t){return t.split(",").map((function(t){return{align:"out"+(t=t.split("-"))[0],vAlign:"out"+t[1]}}))},c=u("center-top,center-bottom,left-middle,right-middle");l&&c.push.apply(c,a(u("left-top,right-top,left-bottom,right-bottom"))),h.drawRect&&"horizontal"===t.ctSv("chartType")&&(c=c.map((function(t){return zS(t,!0)})),r&&!r.isInverted()&&(c=c.map((function(t){return zS(t)}))));var p=function(t){return Pn(n,t)};if(!(r=(t=c.map((function(t){return wn(a([0,0],e.slice(2)),i,t.align,t.vAlign).box}))).filter(p).filter((function(t){return p(t)&&s?!o.collideLabels(t):!o.collideAll(t)}))).length){if(p(t[0]))return t[0].push("possible"),[t[0]];t[0].push("forced"),r=[t[0]],1<t.length&&p(t[1])&&(t[1].push("possible"),r.push(t[1]),r.reverse())}return r},t.prototype.preShow=function(){KS&&KS.chart!==this.chart&&KS.hide(),KS=this},t.prototype.hideActiveTooltip=function(t){KS&&(t?KS&&t===KS.chart&&KS.hide():KS.hide())},t.prototype.postShow=function(t,e,i){"touch"===e.device&&this.hideTooltip(8e3),this.isVisible=!0,this.chart.chartAreaSet.items[0].debounce.clear("clickoff"),this.chart.tooltipRef=this},t.prototype.cttEnabled=function(t,e){var i=this.currentOptions,n=i.combined,r=t.currentOptions.crosshair||{};if(t=e&&e.options("crosshair.enabled"),r=r.enabled,i.enabled)return!!n||(h(n)?n:!(!0!==t||!e||r)&&t)},t}(),JS=function(t){function e(e){var i=t.call(this,e)||this;return i.chartArea=e,i.kind="TooltipCa",i}return n(e,t),e.prototype.color=function(t){return"#f0f0f0"},e.prototype.targetMetrics=function(e){var i=this,n=this.chartArea.isHoriz,r=(e=md(e,(function(t){return!t.series.indexer.getValue("isEmpty",t._i)})).map((function(e){return t.prototype.targetMetrics.call(i,e)}))).map((function(t){return t.xyz}));r.push.apply(r,a(e.map((function(t){return t.xyzs}))));var o,s;if(function(t){var e=zd(r,(function(e){return e[t]}));o=e[0],s=e[e.length-1]}(n?0:1),e.length)return{xyz:s,xyzs:o,elBox:rn(e.map((function(t){return t.elBox}))),labelBox:rn(e.map((function(t){return t.labelBox})))}},e.prototype.translateToGlobal=function(t){var e=this.targetPanel().getGlobalBbox();return e=[t[0]+e.x,t[1]+e.y],4===t.length&&e.push.apply(e,a(t.slice(2,4))),e},e.prototype.correctCABox=function(t){return t},e.prototype.targetPanel=function(){return this.chartArea.rootVisuals.content},e.prototype.defaultAnimation=function(t){return{duration:t?0:40}},e.prototype.text=function(e){var i=this;if(e.length){var n=function(t){var e=t[0],i=function(e){return t.map((function(t){return t.tokenValue(e)}))},n=i("%yValue"),r=Math.min.apply(Math,a(n)),o=Math.max.apply(Math,a(n)),s=Zd(n),h=t.length;return n=n.join(","),{xvalue:e.replaceTokens("%xValue"),ysum:s,sum:s,ylist:n,ymin:r,min:r,ymax:o,count:h,pointcount:h,max:o,colors:i("%color").map((function(t){return vo(t).hex})).join(",")}}(e),r=e[0].chart.options("defaultTooltip");return r=c(r,"label.text")||"<b>%xValue</b><br>%points",n.points=e.filter((function(t){return!1!==t.options("mouseTracking")})).map((function(e){return t.prototype.text.call(i,e)})).filter((function(t){return _e(t)&&t.trim().length})).join("<br>"),vu("function"==typeof r?r(e):r,n)}},e}($S),tk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.defaultOptions=function(){var t=c(this.chart.currentOptions,"defaultTooltip");return wd({radius:2,shadow:!0,boxVisible:!0,fill:"auto",outline:{color:"auto",width:1},transparency:.2,enabled:!0,timeout:1200,margin:7,padding:5,followCursor:"auto"},t)},e.prototype.triggerOptionsApplied=function(){},e}(hS);$m.documentElement;var ek,ik,nk,rk=function(t){function e(e,i){var n=t.call(this,e.chart,i,[e,i])||this;return n.chartArea=e,n.kind="Series",n.isVisible=!0,n.legendEntries=[],n.isStacked=!0,n.visuals={panel:void 0,line:void 0,area:void 0,pointHalo:void 0,shapeLabels:void 0},n.zIndex=0,n.cpbIndexOffset=0,n._points=[],n.pgCalcCache=[],n.userPoints=[],n.dataPoints=[],n.dirty=!0,n.state="",n.seriesDirty=new ok(n),n.chart=e.chart,n.renderer=e.renderer,n.ctManager=e.ctManager,n.indexer=new hC({svv:{flatten:!0},svxv:{flatten:!0}}),n.initFP(),i&&n.options(i,!1),n.tooltip=new $S(n),n}return n(e,t),e.prototype.init=function(){},e.prototype.getCaSeriesPoints=function(){var t=this,e=this.chartArea.userOptions.series;if(e&&e.length)return(e=gd(e,(function(e){return e.name===t.name})))&&e.points},e.prototype.initFP=function(){var t=this;this.points=or(Gg,Vc(this),Ic(this),{push:function(e,i){function n(t,e,n){var r=p(i,["shift"]);!0===r&&t.userPoints.shift(),e.pop&&(e=t.visualizer.pointArrayExpander(e)),t.userPoints.push(e);var o=t.getCaSeriesPoints();o&&o.push(e),t.visualizer.updateInfo={action:"splice",at:t.userPoints.length-1,count:1,del:0,shift:r},t.chart.renderer.finishAnimations(),t.invalidate().refresh(n),t.visualizer.updateInfo=void 0}Array.isArray(e)?e.forEach((function(i,r){return n(t,i,r===e.length-1)})):n(t,e,i)},splice:function(e,i,n,r){var o;(o=t.userPoints).splice.apply(o,a([e,i],n)),(o=t.getCaSeriesPoints())&&o.splice.apply(o,a([e,i],n)),t.visualizer.updateInfo={action:"splice",at:e,del:i,count:n.length},t.chart.renderer.finishAnimations(),t.invalidate().refresh(r),t.visualizer.updateInfo=void 0}})},e.prototype.syncLegendItems=function(){var t=this,e=this,i=e.info.type.colorByPoint,n=e.chartArea,r=e.chart,o=e.currentOptions.legendEntry||{},s=e.legendEntries,a=r.requestLegend(this),h=e.ctmIsType("map"),l=function(){e.legendEntry?e.legendEntry.setColumns():e.legendEntry=a.addEntry(t,e._i)},u=function(){e.legendEntry&&(e.legendEntry.destroy(),e.legendEntry=void 0)},c=function(t){t.syncLegendItems(e.legendEntry),t.legendEntry&&(s.push(t.legendEntry),t.legendEntry.setColumns())};if(!(!e.isVisible&&r.isRendered&&e.visualizer.isRendered||h&&e.currentOptions.isBaseLayer)){n.chartAreaSet.enumerateData();var f=!1!==p(e.chartArea.currentOptions,["legend","visible"]);if(i){!d&&e.setPoints();var d=!0}i&&f&&!1!==e.options("defaultPoint.legendEntry.visible")?(s=e.legendEntries=[],e.points().each(c),!0===o.visible?l():u()):(f&&!1!==o.visible?l():u(),e._points.length&&e._points[0].legendEntry&&(e.points().each((function(t){t.legendEntry&&(t.legendEntry.destroy(),t.legendEntry=void 0)})),e.legendEntries=[]),(e.info.hasUniqueStyles||s.length)&&(!d&&e.setPoints(),d=!0,e.points().each((function(t){f&&!0===t.options("legendEntry.visible")?c(t):t.legendEntry&&(t.legendEntry.destroy(),e.legendEntries=md(s,(function(e){return e!==t.legendEntry})),t.legendEntry=void 0)}))))}},e.prototype.iconName=function(){var t=this;if(!t._iconName){var e=function(t){return!t||0!==t.size&&"none"!==t.type},i=function(t){return"system/default/"+t},n=function(){var e=t.points(0);return e&&e.currentOptions.marker};e=!e(p(t.currentOptions,["defaultPoint","marker"]))||!e(n()),n=this.info.type,t._iconName=n.drawArea?i(e?"areaSolo":"area"):n.drawLine?i(e?"lineSolo":"line"):n.drawMarker?i("circle"):i("square")}return t._iconName},e.prototype.getIconVisual=function(t,e,i){return e===this&&(e=void 0),this.visualizer.getIconVisual(t,e,i)},e.prototype.styleIconVisual=function(t,e){t&&this.visualizer.setIconVisualAttr(t,e)},e.prototype.setAxes=function(){var t,e=this,i=e.options(),n=e.visualizer.getTypeConfig(),r=n.customAxisOptions||{},o=n.privateAxes||"";return n=n.axes.length?n.axes.split(","):[],Ad(n,(function(n){t=n+"Axis";var s,a=e.chartArea.axConfList,h=wd({},r[n]);(s=e[t])&&(s=s.parentAxis||s);var l=e.userOptions[t],u=l||i[t]||(s?s.id:void 0);(s=Am(o,n)&&(!s||!s.currentOptions.isPrivate))&&(u=xd(a[n][0]),l&&u.id!==l&&(u={}),delete u.id,(h=wd(h,u)).isPrivate=!0,u=l||fi(6)),l=e[t],(n=e[t]=e.chartArea.requestAxis(e,n,u,h)).isPrivate=s,l&&l.isPrivate&&l.id!==n.id&&l.destroy(),Le(e.currentOptions,t,n.id)})),this},e.prototype.assignAxes=function(){var t,e,i,n=this,r=this.visualizer.getTypeConfig().axes.split(","),o=this.chartArea.axConfList,s=this.options();Ad(r,(function(r){t=r+"Axis",o[r]=o[r]||[],(e=s[t])?"object"===d(e)&&(i=Wo(e),o[r].push(e),s[t]=i):(e=Se(o[r][0],n.chartArea.chartAreaSet.freeAxes[r]))&&(s[t]=e.id)}))},e.prototype.reIndexStringVals=function(t){var e=this.indexer,i=t.toPosition,n=[t.prefix];if(n.push.apply(n,a(t.usedDataKeys)),n=kd(n),t=e.data,Ad(n,(function(t){if(Am(e.uniqTypes[t],"string")){var n=e.getKey(t);e.reset(t);for(var r=0,o=n.length;r<o;r++){var s={};s[t]=i(n[r]),e.indexKeys([t],s,r)}}})),2===Ed(["ye","ys"],n).length&&t.ys&&t.ys.length){e.reset("yr"),n=0;for(var r=t.ys.length;n<r;n++)e.indexKeys(["yr"],{yr:t.ye[n]-t.ys[n]},n)}this.seriesDirty.pointIndex(!1)},e.prototype.getFormatInfo=function(){var t,e=this,i={},n=this.visualizer.getTypeConfig().axes.split(","),r=this.chart.currentOptions.defaultCultureName;return r&&(i.culture=r),Ad(n,(function(n){(t=e[n+"Axis"])?i[n]=t.getFormatInfo():i[n]={}})),i},e.prototype.options=function(t,e){var i=!0,n=this.optionsGetter(t);if("NotGetter"!==n)return n;var r=1===(n=ze(t)).length;if("object"==typeof t.mapData&&(this.setMapData(t.mapData),r))return this;if(0<Ed(n,$g).length){var o=r;ue(this.userOptions,t),ue(this.currentOptions,t),this.visualizer&&(h(t.muted)&&"select"!==this.state?this.setState(t.muted?"mute":""):h(t.selected)&&this.select(t.selected))}if(!o){if(h(t.visible)&&(this.isVisible=t.visible,r&&(i=!1),this.chart.isRendered&&this.legendEntry&&this.legendEntry.updateCheckbox(this.isVisible)),(t.points||t.emptyPointMode)&&(this.seriesDirty.points(!0),this.seriesDirty.pointIndex(!0),this.seriesDirty.resetCache()),this.userPoints=t.points||this.userPoints,delete t.points,((t=this.normalizeOptions(t)).defaultPoint||t.firstPoint||t.lastPoint)&&this.seriesDirty.points(!0),t=ue(this.userOptions,t),this.name=t.name||"",this.setOptions(),this.type=this.ctManager.settingVal("seriesType",this.options()),this.setType(i),!1!==e){e=this.normalizeUpdateOpt({animation:this.currentOptions.animation},e),i&&this.chartArea.invalidate(),this.chart.redraw(e);var s=!0}i&&this.chart.updateSideItems(e)}return this.chart.triggerOptionsApplied("series",this),!s&&this.afterUpdate(e),this},e.prototype.optionsGetter=function(e){return"visible"===e?this.isVisible:t.prototype.optionsGetter.call(this,e)},e.prototype.normalizeArrPoints=function(){var e;if(e=this.userPoints){var i=d(e);if("string"===i&&0===e.indexOf("JSC.points"))this.userPoints=We(e);else if("object"===i&&e.data)this.userPoints=vs(e);else if(e.length){i=0;for(var n=e.length;i<n;i++){var r=e[i];r.pop?e[i]=this.visualizer.pointArrayExpander(r):"number"==typeof r?e[i]={y:r}:t.prototype.normalizeOptions.call(this,e[i],"map,attributes")}this.userPoints=e}}},e.prototype.setType=function(t){var e=this.options(),i=this.ctManager;"gauge"===e.type&&(this.type=e.type="gauge marker");var n=i.settingVal("seriesType",e);"organizational"===(i=i.settingVal("chartType",e))&&(this.type=n=e.type="annotation"),n=e=n||this.type||n||i,n=l(jS,n)?jS[n]:NS,this.visualizer&&this.visualizer.kind===e||(this.visualizer=new n(this),this.setOptions(),this.assignAxes()),"calendar"===this.visualizer.kind&&(this.isStacked=!1),this.visualizer.getTypeConfig(!0),this._ctmIsTypeCache=this._ctSvCache=void 0,this.normalizeArrPoints(),!1!==t&&this.setData()},e.prototype.normalizeOptions=function(e){(function(t,e,i){var n,r;if("undefined"!==(r=d(n=c(t,e)))&&"array"===r){var o={};Ad(n,(function(t,e){o[i[e]]=t})),Le(t,e,o)}})(e=t.prototype.normalizeOptions.call(this,e),"size",["min","max"]),Yo(e,"emptyPointMode");var i,n,r=e;return"undefined"!==(n=d(i=c(r,"animation.easing")))&&"string"===n&&Le(r,"animation.easing",He(i)),e},e.prototype.defaultOptions=function(){var t=this.chart.options("navigator.enabled");return wd(t?wd({mouseTracking:{sticky:!1},markerLimit:110,opacity:.9,defaultPoint:{}},{line:{width:2}}):{mouseTracking:{sticky:!1},markerLimit:110,opacity:.9,defaultPoint:{}},{animation:this.chart.options("animation")})},e.prototype.contextOptions=function(){return this.visualizer?this.visualizer.contextDefaults():void 0},e.prototype.setOptions=function(){var t=this.chart.options("navigator.enabled"),e=this.normalizeOptions(this.chart.currentOptions.defaultSeries||{}),i=this.currentOptions=wd({},this.defaultOptions(),this.contextOptions(),e,this.userOptions);if(t&&"line"===this.ctManager.settingVal("seriesType",i)&&(this.currentOptions=wd(i,{defaultPoint:{marker:{type:"circle",color:"none",outline:{width:0}},states:{hover:{marker:{outline:{width:2}}}}}})),e=this.ctManager,t=this.ctSv("gaugeType"),"gauge"===e.settingVal("chartType",i)){var n=(e=e.curCtDst(i)).dst.explicit||"";e=Am((e.ct||{}).explicit||"","seriesType"),i=i.type||"";var r=Am(i,"gauge");n=-1!==n.indexOf("seriesType");var o="circular"===t?"marker":"column";if(!e&&!n)if("circular"===t){r&&!n&&(o=i+o,this.currentOptions.type=o);var s={type:o,defaultPoint:{marker:{type:"needle",length:.8}}}}else"linear"===t&&(r&&!n&&(o=i+o,this.currentOptions.type=o),s={type:o})}return s&&Jf(this.currentOptions,s),cc(this),this},e.prototype.ctSv=function(t){return this._ctSvCache||(this._ctSvCache=this.ctManager.getSettingChecker(this.currentOptions)),this._ctSvCache(t)},e.prototype.ctSvIs=function(t,e){return this.ctSv(t)===e},e.prototype.ctmIsType=function(t){return this._ctmIsTypeCache||(this._ctmIsTypeCache=this.ctManager.getIsTypeChecker(this.currentOptions)),this._ctmIsTypeCache(t)},e.prototype.correctRootBox=function(t){var e=this.chart.navigator;if(this.pane){var i=this.pane.getGlobalOffsets();t[0]-=i.x,t[1]-=i.y}return e&&(t[1]+=e.defaults.toolbarHeight,t[3]-=e.defaults.toolbarHeight),t},e.prototype.setInfo=function(){var t=this.ctManager,e=this.options(),i=t.hasSetting,n=function(t){return i("behavior",t,e)},r=t.settingVal("chartType",e),o=t.settingVal("seriesType",e);"organizational"===r&&(this.type=o=e.type="annotation"),t={seriesType:o,drawMarker:n("drawMarker"),drawArea:n("drawArea"),drawRect:n("drawRect"),drawLine:n("drawLine")||"organizational"===r,colorByPoint:n("colorByPoint")||h(e.palette),colorByPointLocal:h(e.palette),snapToZero:n("snapToZero"),drawSubvalue:n("drawSubvalue"),noNameGrouping:n("noNameGrouping"),tree:n("tree"),varyPalette:n("varyPalette"),labelConnector:n("labelConnector"),clusters:n("clusters"),noPos:n("noPos"),isMapLayer:t.isMapLayer(this),isAnnotation:n("annotation"),isShape:"visualshape"===t.settingVal("seriesLayout",e),isPie:"pie"===r,isRadar:"radar"===r,hasNeedles:"gauge"===r&&"marker"===o&&"needle"===p(e,["defaultPoint","marker","type"]),roundCaps:this.ctSvIs("columnType","roundcaps"),isRadarColumn:!1},"line"===p(e,["map","type"])&&(t.drawMarker=!1,t.drawArea=!1,t.drawLine=!0),(t.isPie||e.isMerged)&&(t.colorByPoint=!0),t.isRadar&&t.drawRect&&(t.isRadarColumn=!0),"gauge"===r&&(t.snapToZero=!0),n=p(this,["info","style"]),this.info={type:t,hasSubvalues:!1,hasComplete:!1,hasYRanges:!1,hasUniqueStyles:!1,hasMaxedMarkerLimit:!1,data:{},style:n||{},xIsSorted:!0,labelTextInfo:{},map:this.info?this.info.map:{}},"object"!==d(e.palette||this.chart.palette)&&"heatmap"!==r||(this.info.usesSmartPalette=!0)},e.prototype.setDataInfo=function(t){var e=this.visualizer,i=this.chart,n=this.info,r=n.type,o=this.userPoints,s=o.length,a=this.indexer,l=0,u=e.pointValueParser,c=e.pointDataKeys||qg;if(this.seriesDirty.pointIndex()||t){this._catCache=[],h(this._i)||this.chartArea.chartAreaSet.enumerateSeries(this),r.clusters&&(this.zAxis&&"stacked"===p(this.zAxis.currentOptions,["scale","type"])||"stacked"===p(this.chart.currentOptions,["zAxisScaleType"])||"stacked"===p(this.chart.currentOptions,["zAxis","scale","type"]))&&(r.clusters=!1,r.zStacked=!0),this.prevCoords=a.data.coordinates||this.prevCoords;var f=0===a.getAllKeys.length;a.reset(),t=void 0;var m=!0;!this.isVisible&&!f&&i.isRendered&&this.isStacked&&(t={y:0}),f=this.cpbIndexOffset;var g,v=function(t){return t};for(i=void 0,(i=this.currentOptions.defaultPoint)&&(g=i.subvalue)&&(v=function(t){return t.subvalue?t:wd(t,{subvalue:g})});l<s;l++){var y=o[l];this.setLegendEntryVisibility(y),Wo(y),v(y=t?wd({},y,t):y),y._i=l,r.colorByPoint&&(y.cpbIndex=Se(y.cpbIndex,r.colorByPointLocal?l:f++)),y=u(this,y,c,e.skipSubvalues),a.indexObject(y,l),l&&m&&h(y.x)&&Nd(y.x)&&y.x<a.data.x[l-1]&&(m=!1)}n.hasYRanges=!1,a.hasAllKeys(["y","ys"])&&(r.snapToZero=!1,n.hasYRanges=!0),a.hasAllKeys(["ys","ye"])&&!a.hasKey("y")&&(r.snapToZero=!1,n.hasYRanges=!0),this.currentOptions.isPreview&&(r.snapToZero=!1),n.hasMaxedMarkerLimit=r.drawMarker&&s>this.currentOptions.markerLimit,n.xIsSorted=m,a.hasAnyKeys(["subvalue","subvalueX"])&&(n.hasSubvalues=!0),a.hasAnyKeys(["complete","completee","completeX","completeXe"])&&(n.hasComplete=!0),e=void 0,r.varyPalette||a.hasAnyKeys(["color","outline","marker","label","fill"])||"candlestick"===r.seriesType?e=!0:"ohlc"===r.seriesType?p(this.currentOptions,["defaultPoint","altColor"])&&(e=!0):(r.tree||r.isRadarColumn)&&(e=!0),"object"===d(this.chart.options("palette"))?r.colorByPoint=!0:("%color"===p(i,["marker","fill"])||this.currentOptions.firstPoint||this.currentOptions.lastPoint)&&(e=!0),n.hasUniqueStyles=e||n.hasUniqueStyles,this.seriesDirty.pointIndex(!1),this.seriesDirty.pos(!0),this.validateData(),this.setAttribs(!0),this.visualizer.validate(!1),this.syncLegendItems()}},e.prototype.setLegendEntryVisibility=function(t){!1===this.visualizer.pointLeVisible(t)&&((t=t.legendEntry||(t.legendEntry={})).visible=Se(t.visible,!1))},e.prototype.validateData=function(){if(this.visualizer&&this.userPoints.length&&!this.ctmIsType("map")){var t=this.visualizer.getTypeConfig(),e=t.requiredData,i=t.supportedData,n=this.indexer.getAllKeys();e&&(e=e.split(","),Am(n,"ys")&&n.push("y"),Am(n,"xs")&&n.push("x"),Am(n,"zs")&&n.push("z"),Ed(n,e).length<e.length&&Wg.emit("error",this.id,"dataRequired",{data:[this.name||this.id,e.join(", ")],container:this.chart.getWrapper()})),i&&t.supportedData.split(",")}},e.prototype.setData=function(){this.setInfo(),this.setDataInfo(!0)},e.prototype.setPoints=function(){var t=this,e=t.xAxis||{};if(t.seriesDirty.points()){if(!t._points.length||t.dirty){t._defPointGen=void 0,re(t.userPoints,t._points,(function(e){return new AS(t,e)}),(function(t,e){return e.options(t,!1)}),(function(t){return t.destroy()}),(function(t,e){return Se(t.id,t.name)||e}),(function(t,e){return Se(t.currentOptions.id,t.currentOptions.name,t.id)||e}));var i=[],n={};Ad(t._points,(function(t){n[t.id]=t})),Ad(t.userPoints,(function(t){em(i,n[t.id])})),t._points=i}if(t.info.usesSmartPalette){var r=t.getSP(),o=r.userOptions.pointValue;100<this._points.length&&_e(o)&&Wg.emit("warning",t.id,"spPointValueSuggestion",{container:this.chart.getWrapper()}),r.setPointSpValues(t)}t.seriesDirty.points(!1)}return"category"===e.type&&p(e.currentOptions,["categories","length"])&&Ad(t._points,(function(e){e.currentOptions.name||"string"==typeof e.x||(e.name=t.xAxis.catList[t.indexer.data.x[e._i]])})),this},e.prototype.getAutoLabelText=function(t,e){function i(){switch(s.type.seriesType){case"candlestick":case"ohlc":var t=a?u(["%icon"," ","O:%open H:%high L:%low C:%close"]):"%xValue {%close-%open}<br/>Open: %open<br/>High: %high<br/>Low: %low<br/>Close: %close";return t;default:var e=t="",i=a?"":"<br/>",h=Am(wm(l.vScale),wm("stacked")),d=s.type.drawLine,g=1<o.chartArea.series().items.length,v=!a&&!d&&!h;return a?e="%icon":(l.sName&&g&&!v&&(t+=c("%seriesName")+"<br/>"),"category"===l.xScale?t+=l.xAxisLabel?"%xAxisLabel: "+c("%name")+"<br/>":"%name ":(l.pointName&&(t="%name<br/>"),t+=l.xAxisLabel?"%xAxisLabel: "+c("%xValue")+"<br/>":"%xValue ")),t+=m("yAxisLabel",i,p()," "),l.hasZ&&(t+=m("zAxisLabel","<br/>","%zValue","<br/>",!0)),a||(d||h?h&&(t+="<br/>%ypercentOfGroup% of "+f()):t+="<br/>"+n()),l.hasComplete&&(t+="<br/>%complete Complete"),r((t=e?u([e,"<span style='width:5;'> </span>",t]):t).trim())}}function n(t){var e="";return"time"!==l.vScale&&(e=h(t)?t+"% of ":"%percentOfSeries% of ",e+=l.sName?"%seriesName":s.type.colorByPoint?"Series":"%icon",Am(wm(l.vScale),wm("stacked"))&&(e+="<br/>%percentOfGroup% of "+f())),e}function r(t){return t.replace(/<br\/><br\/>/g,"<br/>").replace(/<br\/> <br\/>/g,"<br/>")}void 0===t&&(t={});var o=this,s=this.info,a=o.chartArea.tooltip.cttEnabled(o.yAxis,o.xAxis),l=wd(t,s.labelTextInfo);t=this.options("defaultPoint.label.text");var u=function(t){return(o.chart.isRtlCulture?t.reverse():t).join("")},c=function(t){return"<b>"+t+"</b>"},p=function(){return l.hasRange?"time"===l.vScale?"%yStart–%yValue":"(%yStart–%yValue)":"%yValue"},f=function(){return"category"===l.xScale?"%name":"%xValue"},d=function(){return l.pointName||_e(l.pointX)?l.pointName?"%name":"%xValue":""},m=function(t,e,i,n,r){return a?i:l[t]?e+"%"+t+": "+c(i)+"<br/>":(r?"("+i+")":i)+n},g="",v="";switch(l.ct){case"horizontal":case"vertical":case"radar":case"navigator":default:g=i();break;case"cone":case"pyramid":case"funnel":case"treemap":case"pie":g=function(){var t=d();return t+=" "+m("yAxisLabel","<br/>",p(),"<br/>"),l.hasZ&&(t+=" "+m("zAxisLabel","<br/>","%zValue","<br/>",!0)),r((t+=n()).trim())}();break;case"heatmap":g=function(){var t="";return"category"===l.xScale?t+=l.xAxisLabel?"%xAxisLabel: "+c("%name")+"<br/>":"%name ":(l.pointName&&(t="%name<br/>"),t+=l.xAxisLabel?"%xAxisLabel: "+c("%xValue")+"<br/>":"%xValue "),t+=" "+m("yAxisLabel","<br/>",p(),"<br/>"),l.hasZ&&(t+=" "+m("zAxisLabel","<br/>","%zValue","<br/>",!0)),r(t.trim())}();break;case"gauge":g=function(){var t=l.sName?"%seriesName":"";return t+=" "+d(),t+=t.trim().length?"<br/>":"",r((t+=m("yAxisLabel","<br/>",p(),"<br/>")).trim())}();break;case"organizational":v=g="%XValue";break;case"map":g=e?function(t){var e="",i=l.mapInfo||{};return t&&t.options("name")&&(e+="%name"),l.mapInfo&&l.serName&&l.serName!==i.name&&(e+=e.trim().length?"<br/>":"","province"===i.mapLevel&&(t=i.country,Am(wm(l.serName),wm(t))&&(e+="%country"))),l.serName&&(e+=e.trim().length?"<br/>":"",e+="%seriesName"),"marker"===s.type.st&&(e+=e.trim().length?"<br/>":"",e+="<br/>Lat: "+c("%yValue"),e+="<br/>Long: "+c("%xValue")),l.hasZ&&(e+=e.trim().length?"<br/>":"",e+=m("zAxisLabel","<br/>","%zValue","<br/>",!0)),r(e.trim())}(e):"%name",v="%name";break;case"calendar":g=i(),v="%name";break;case"venn":v="%name",g=r(((l.sName?c("%seriesName")+"<br/>":"")+"%name: "+p()).trim())}return{tooltip:g,label:t||v||"%yValue"}},e.prototype.getAutoTooltipText=function(t){return this.getAutoLabelText({pointName:t.name,pointX:t.options("x"),hasComplete:h(t.options("complete"))}).tooltip},e.prototype.setPane=function(t){this.pane=t,t.hasNeedles=t.hasNeedles||this.info.type.hasNeedles,t.hasRoundCaps=t.hasRoundCaps||this.info.type.roundCaps,Tc(this)},e.prototype.render=function(t,e){return this.renderRect=t.rect||t,this.userPoints.length&&this.visualizer.render(e),this},e.prototype.renderLabels=function(t,e){this.renderRect=t.rect||t,this.userPoints.length&&this.visualizer.renderLabels(e)},e.prototype.renderHierarchy=function(t,e){this.renderRect=t.rect||t,this.userPoints.length&&this.visualizer.renderHierarchy(e)},e.prototype.setPos=function(){var t,e=this,i=e.ctManager,n=e.pane,r=e.ctmIsType("radar"),o=e.ctmIsType("gauge"),l=e.info,u=e.options(),c=e.userPoints,f=p(u,["emptyPointMode"])||"undefined",d=o&&"marker"===l.type.seriesType,m=p(e.currentOptions,["defaultPoint","marker","length"]);i=i.settingVal("lineSeriesType",u);var g,v,y,x="line"===l.type.seriesType&&"spline"===i&&e.ctmIsType("map")||"line"===l.type.seriesType&&r&&n&&"polar"===n.getRadarType(),b=r?15/360:5;if(e.seriesDirty.pos()&&!e.info.type.noPos){e.info.labelTextInfo=jc(this),n=e.getAutoLabelText({},e._points[0]),ue(e.info.labelTextInfo,n),e.isStacked=e.yAxis.isStacked(),e.indexer.indexKeys(["pos"],{},0);var w=e.getXYZTranslator(),A=function(t,e,i,n){h(_[t])&&(M[t]=w(e,i,n))},C=w(0,0,0),S=function(t,e){return Math.floor(Mi(t,e)/b)},k=function(t,e,i,n){var r=[];return i&&Fd(i,(function(o){o&&(o=[ii(t[0],e[0],0,1,1/i*o),ii(t[1],e[1],0,1,1/i*o)],r.push(n?n.apply(void 0,a(o)):o))})),r};for(n=function(i,n){if((_=e.indexer.getItem(i)).isEmpty&&"ignore"===f&&!p(e,["pane","isRadial"]))return"continue";var o=ke(_.ye,_.y),a=ke(_.ys,0),u=ke(_.xe,_.x),c=ke(_.xs,u),b=ke(_.ze,_.z),T=void 0;d&&(t=ke(p(_,["marker","length"]),m,.8))&&(t.pop?(T=(n=s(t,2))[0],b=n[1]):(b=t,T=0)),T=ke(_.zs,T,b),M={xyz:w(u,o,b),xyzOrigins:C,xyzs:w(c,a,T),xyzRDesc:[c>u,a>o,T>b]},"map"===l.type.seriesType&&e.visualizer.setPos(_,M),l.hasSubvalues&&(A("sv",u,_.sv,b),A("svs",u,_.svs,b),A("svx",_.svx,o,b),A("svxs",_.svxs,o,b),h(_.svv)&&(M.svv=g=[],Ad(_.svv,(function(t){g.push(w(u,t,b))}))),h(_.svxv)&&(M.svxv=g=[],Ad(_.svxv,(function(t){g.push(w(t,o,b))})))),l.hasComplete&&(h(ke(_.completee,_.complete))||h(ke(_.completeXe,_.completeX))?(n=function(t,e,i){h(Le(M,e,ke(_[e],_[i])))?Le(M,t,_[t]||0):(M[t]=0,M[e]=1)},n("completes","completee","complete"),n("completeXs","completeXe","completeX")):M.completes=M.completee=M.completeXs=M.completeXe=0),e.indexer.setValue("pos",i,M),x&&y&&(i=void 0,e.ctmIsType("map")?i=S(y,[u,o]):r&&(i=S(v.xyz,M.xyz)),v.interpPoints=k(y,[u,o],i,w)),v=M,y=[u,o]},i=0,c=c.length;i<c;i++)n(i,c);if(r&&x){var _=e.indexer.getItem(0),M=e.indexer.getValue("pos",0);c=v.xyz[0]+2*ai(v.xyz[0],1),c=[v.xyz,[c,M.xyz[1]]],n=S(c[0],c[1]),v.interpPoints=k(c[0],c[1],n),v.interpPoints.unshift(c[0],c[0])}}else e.info.type.noPos&&(e.info.labelTextInfo=jc(this),n=e.getAutoLabelText(),ue(e.info.labelTextInfo,n));return e.seriesDirty.pos(!1),this},e.prototype.setCoordinates=function(t,e){return this.userPoints.length&&this.visualizer.setCoordinates(t||this.contentRect(),e),this},e.prototype.setState=function(t,e){if(void 0===e&&(e={}),this.chartArea,t=pc(this,t),this.state!==t){var i={},n=Se(e.continueAnimation,!0);if(e.animation){wd(i,!1===e.animation?{duration:0}:e.animation);var r=!!i.duration}e=function(t){return wd(r?{continueAnimation:n,animation:i}:{continueAnimation:n},t)};var o,s=this.info.type,a=this.getStateAttrs(t);s.drawLine&&(o=this.visuals.line)&&a.line&&o.attr(e(a.line)),s.drawArea&&(o=this.visuals.area)&&o.attr(e(a.area)),this.state=t,"select"===t&&this.chart._seriesSelection()}},e.prototype.getStateAttrs=function(t){var e=this.info.type,i=this.info.style,n=i.states;return t=n[t=pc(this,t)],n={line:void 0,area:void 0},e.drawLine&&(n.line=ue({},t)),e.drawArea&&(n.area=Fl({fill:Se(t.areaColor,i.base.areaColor),opacity:Se(t.areaOpacity,i.base.areaOpacity)})),n},e.prototype.getXYZValAxes=function(){var t=this.pane;return[p(t,["xAxis"])||this.xAxis,p(t,["yAxis"])||this.yAxis,t=p(t,["zAxis"])||this.zAxis]},e.prototype.getXYZTranslator=function(){var t=this.chartArea,e=this.pane,i=e?e.isHoriz:t.isHoriz,n=Se(p(e,["projection"]),t.projection),r=s(this.getXYZValAxes(),3);t=r[0],e=r[1],r=r[2];var o=t?t.getValToLin()||oe:se,a=e?e.getValToLin()||oe:se,h=r?r.getValToLin()||oe:se;return this.ctmIsType("map")?this.transformFn=function(t,e,i){return t=n.val2linxy(t,e),[o(t[0]),a(t[1]),h(i)]}:this.transformFn=i?function(t,e,i){return[a(e),o(t),h(i)]}:function(t,e,i){return[o(t),a(e),h(i)]}},e.prototype.preRender=function(t){void 0===t&&(t={});var e=t.rect||this.contentRect();if(t.rect){var i=ke(this.options("shape.padding"),.3);i&&(e=Po(e,i))}h(this._i)||this.chartArea.chartAreaSet.enumerateData(),this.setPos().setPoints().setAttribs().setCoordinates(e,t)},e.prototype.contentRect=function(){return this.renderRect},e.prototype.destroy=function(){var e=this.visualizer,i=this.rootChartArea||this.chartArea;e&&e.clearHighlightVisuals&&e.clearHighlightVisuals(),e&&e.destroy&&e.destroy(),this.rootVisuals=null,this._points&&this.points().each((function(t){return t.destroy()})),t.prototype.destroy.call(this),Ad(this.visuals,(function(t){return h(t)&&lm(t,(function(t){return t.destroy&&t.destroy()}))||!0})),this.legendEntry&&this.legendEntry.destroy(),this.xAxis&&(u(this.xAxis.serList,this),this.xAxis.dataInfo.serColl=this.xAxis.getSeriesColl((function(t){return t.isVisible}))),this.yAxis&&(u(this.yAxis.serList,this),this.yAxis.dataInfo.serColl=this.yAxis.getSeriesColl((function(t){return t.isVisible})),i&&u(i.renderBySortedSeriesRev,this))},e.prototype.translateToGlobal=function(t){var e=this.chartArea.rootVisuals.content.getGlobalBbox();return e=[t[0]+e.x,t[1]+e.y],2<t.length&&(e[2]=t[2],e[3]=t[3]),e},e.prototype.hitTest=function(t){var e=this.visualizer;if(this.isVisible&&wS(this)){var i,n=this.indexer.getKey("coordinates"),r=e.renderOrderRev;(e=e.pointsGlobals||e.updatePointsGlobals())&&(t[0]-=e.x,t[1]-=e.y),e=function(e){if((i=n[e])&&i.hitTest&&i.hitTest(t[0],t[1]))return!0};var o=void 0;if(r){r.length>n.length&&(r=r.filter((function(t){return t<n.length})));for(var s=0,a=n.length;s<a;s++)if(e(o=r[s]))return r=this._points[o],wS(this,r)&&r}else for(s=0,a=n.length;s<a;s++)if(e(s))return r=this._points[s],wS(this,r)&&r}},e.prototype.mouseOut=function(t){var e=this.chart.requestLegend(this);e&&e.pointOut(),this.visualizer.pointMouseOutAny()&&this.triggerUser("mouseOut",t)},e.prototype.mouseMove=function(t,e){if(wS(this)){e=this.chartArea;var i,n=this.visualizer,r=this.chart.requestLegend(this),o=[t.x,t.y];if(i=this.hitTest(o)){var s="hover"===this.state||n.hoveredItem;return e.crosshair(o,t,!0),n.pointMouseOver(t,i),r.pointOver(i),!s&&this.triggerUser("mouseOver"),!0}p(this.currentOptions,["mouseTracking","sticky"])||(n.pointMouseOutAny()&&this.triggerUser("mouseOut",t),r&&r.pointOut())}},e.prototype.mouseClick=function(t){var e;if(wS(this)&&(e=this.hitTest([t.x,t.y])))return this.visualizer.pointClick(t,e),this.triggerUser("click",t),e},e.prototype.pointOver=function(t,e){},e.prototype.showHaloAtX=function(t,e){void 0===e&&(e=!0);var i=this.indexer;t=i.findValue_i("x",t);var n=this.info.labelTextInfo.hasRange,r=[],o=this._points[t];if(o&&(!1!==o.options("mouseTracking")||e)&&this.visualizer.showHalo(o),h(t)){var s=i.getItem(t);return n?Ad(["svs","sv","ys","ye"],(function(t){h(t=s[t])&&r.push(t)})):r.push(ke(i.getValue("ye",t),i.getValue("y",t))),[this.yAxis,o,r]}},e.prototype.hideHalo=function(){this.visualizer.showHalo()},e.prototype.setAttribs=function(t){var e=this.currentOptions,i=this._i,n=this.ctmIsType("treemap"),r=e.line||n&&p(e,["shape","outline"])||{};n=this.info;var o=this.chart.palette,s=this.userPoints.length>e.markerLimit?1:2,a="array"===d(o)?o:cy("default");this.info.style={set:{color:h,opacity:u,line:{},area:{}},attr:{line:{},area:{}},states:{}},o=n.style;var h=Se(e.color,p(e,["defaultPoint","color"]),a[i%a.length]);i=Se(p(e,["defaultPoint","marker","type"]),Xg[i%Xg.length]);var l=Se((h=Co(h))[3],1),u=Se(e.opacity,1)*l;a=Se(p(e,["outline","opacity"]),e.opacity,1)*l,l*=Se(p(e,["shape","opacity"]),e.opacity,.8),h=Cr(h,"rgb");var c=xo(r.color||ay.seriesLine,h),f=p(e,["shape","fill"])||e.fill;if(f)var m=(f=xo(yo(f=function(t,e){if(e){if(e.pop&&2<e.length)return e.map((function(e){return"string"==typeof e?xo(e,t):e}));e.stops&&((e=xd(e)).stops=e.stops.map((function(e){e.splice(0)[1]=xo(e[1],t)})))}return e}(h,f)),h)).linearGradient?f:So(Co(f));if(m=this.ctSvIs("areaShadingType","subtle")?bo(hy.areaFill,m||h):h,u=o.base={color:h,altColor:"white",opacity:u,lineColor:c,lineOpacity:a,areaOpacity:l,areaColor:m,markerType:i},!t)return t=n.style.states,h=2,this.ctmIsType("organizational")&&(h=0),e=(o=e.states||{}).hover||{},m=o.select||{},o=o.mute||{},n.type.drawLine&&(s=n.style.set.line={width:ke(r.width,s),color:u.lineColor,opacity:Se(r.opacity,1)*u.lineOpacity,dashStyle:r.dashStyle},r.caps&&(s.caps=r.caps),t[""]=n.style.attr.line=Ll(s),r=e.line||{},t.hover=!1!==e.enabled?wd({},t[""],{"stroke-width":Se(r.width,s.width+h),stroke:xo(Se(r.color,e.color,s.color),u.color),"stroke-opacity":Se(r.opacity,e.opacity,s.opacity)}):{},r=m.line||{},t.select=!1!==m.enabled?wd({},t[""],{"stroke-width":Se(r.width,s.width+h),stroke:xo(Se(r.color,m.color,s.color),u.color),"stroke-opacity":Se(r.opacity,m.opacity,s.opacity)}):{},r=o.line||{},t.mute=!1!==o.enabled?wd({},t[""],{"stroke-width":Se(r.width,s.width),stroke:xo(Se(r.color,o.color,s.color),u.color),"stroke-opacity":Se(r.opacity,o.opacity,.15*s.opacity)}):{}),n.type.drawArea&&(((r=n.style.set.area={color:u.areaColor,opacity:u.areaOpacity}).fill=u.areaFill)||(this.ctSvIs("areaShadingType","subtle")?r.fill=bo(hy.areaFill,r.color):r.fill=r.color),!1!==e.enabled&&(t.hover.areaOpacity=Se(e.opacity,u.areaOpacity),e.fill&&(t.hover.areaColor=xo(e.fill,u.areaColor))),!1!==o.enabled&&(t.mute.areaOpacity=Se(o.opacity,.15*u.areaOpacity),o.fill&&(t.mute.areaColor=xo(o.fill,u.areaColor))),!1!==m.enabled&&(t.select.areaOpacity=Se(m.opacity,u.areaOpacity),m.fill&&(t.select.areaColor=xo(m.fill,u.areaColor))),n.style.attr.area=Fl(r)),this},e.prototype.getPointAttr=function(t,e){function i(t,e,i){var n={},r=function(e,i){return i?i(p(t,e)):p(t,e)},o=function(t){Ve(n,e,t,t)},s=function(t,i,r){Re(n,t,xo(p(e,t)||r,i))},a=function(e,i,n){h(p(t,e))&&Re(c,i,r(e,n))},l=function(t){return t&&t.pop&&2===t.length?go(t):t};s(["color"],M);var u=n.color&&xo(ay.outline,l(n.color));s(["outline","color"],M,u),e.fill&&(n.color=xo(yo(e.fill,void 0,void 0,void 0,M),M)),o(["outline","width"]),o(["outline","dashStyle"]),o(["size"]),o(["opacity"]),p(e,["hatch","style"])&&(o(["hatch","style"]),s(["hatch","color"],M));var c={color:i.color?mo(l(t.color),i.color,["val"]):l(t.color),opacity:r(["opacity"],i.opacity),outline:{color:r(["outline","color"],i.outlineColor),width:r(["outline","width"],i.outlineWidth)}};return a(["outline","dashStyle"],["dashStyle"],i.dashStyle),a(["size"],["size"],i.size),a(["hatch","style"],["hatch","style"],i.hatch),a(["hatch","color"],["hatch","color"],i.hatchColor),wd(c,n)}function n(t,e,i){var n,r,o,s=p(t,["states",e])||{},a=s.marker||{};return(n=Jf(a.outline,s.outline,i.outline))&&(a.outline=n),(n=a.fill||s.fill)&&(a.fill=n),h(r=Se(a.size,s.size))&&(a.size=r),h(o=Se(a.opacity,s.opacity,i&&i.opacity))&&(a.opacity=o),t=p(t,["marker","states",e])||{},Jf(a,t)||{}}var r=t?t.currentOptions?t.currentOptions:t:{},o=this.currentOptions,s=h(r._i)?uc(this,r._i):o.defaultPoint||{},a=!t,l=this.info.hasUniqueStyles||this.info.type.colorByPoint,u=this.info,c=u.style.base;this.ctManager;var f=u.type;this.currentOptions;var m,g=this.ctmIsType("calendar")?ay.lightenDark:this.ctmIsType("map")?"darkenmore":ay.outline,v=this.ctmIsType("map"),y={},x=f.drawMarker||o.forceMarker||p(s,["marker","visible"])||p(t?r:s,["marker","visible"]);if(e=e||f.drawMarker,(a||!l)&&(m=this.info.style.defaultPoint)&&(!e||m.drawMarker))return m;r=ve(r,{map:void 0,attributes:void 0,mapData:void 0}),m=(r=Jf(r,s||{})).label||{};var b=r.marker||{},w=r.states||{},A=w.hover||{},C=w.select||{},S=w.mute||{},k=!1!==p(this.currentOptions,["mouseTracking","enabled"]),_=!1!==S.enabled;k=(w=h(C.enabled)?C.enabled:!1!==this.currentOptions.pointSelection||a&&!l)||k&&!1!==A.enabled||!0===A.enabled;var M=a?r.color||c.color:this.getPointColors(r);if("object"==typeof M&&M.color){var T=M.fill;M=M.color}var O=xo(g,M);g=!1!==(f.labelVisible||m.visible)&&(!!p(m,["text","length"])||z(m.text)||m.visible);var D=Se(r.opacity,1)*c.opacity,E=this.getPointHatchStyle(r);if(!a&&r&&("candlestick"===this.info.type.seriesType||"ohlc"===this.info.type.seriesType)&&r.close<r.open){var P=(t||{}).altColor||(s||{}).altColor;if("ohlc"===this.info.type.seriesType)P&&r.color&&((r=wd({},r)).color=xo(P,r.color)),M=O=P?xo(P,O):O;else{(P=P||c.altColor)&&r.color&&((r=wd({},r)).fill=xo(P,r.color)),M=P?xo(P,c.altColor):c.altColor;var B=!0}}c=i(T={color:T?yo(T):M,opacity:D,hatch:{style:E},outline:{color:O,width:1}},r,{});var L=f.isAnnotation?{color:function(t){return t},outline:{color:function(t){return xo(ay.labelContrast,t)},width:function(t){return t+2}}}:{color:function(t){return xo(ay.hover,t)}};if(f.isMapLayer&&f.drawLine&&(L.outlineWidth=function(t){return t+2}),o=o.states||{},P=ye(["color","opacity"]),k)var R=fe({},o.hover||{},P),F=i(c,A=wd(R,A),L);if(_){R=fe({},o.mute||{},P);var V=i(c,S=wd(R,S),{opacity:function(t){return.15*t}})}if(w){var I=o.select||{};L=fe({},I,P),I=i(F,C=wd(I,C),{color:function(t){return xo("select",t)},outlineWidth:function(t){return t+1}})}if(g&&(C=m.color||p(m,["style","color"]),A=this.ctSvIs("columnType","cushion"),S="map"===this.ctSv("chartType")&&"marker"===this.ctSv("seriesType")&&"#505050","object"===d(R="center"!==m.align&&"middle"!==m.verticalAlign&&f.drawMarker?M:c.color)&&(R=Dr(R)),m.color=C||S||xo(f.isMapLayer||f.isAnnotation?ay.labelContrast:ay.label,R),C||A||(m.hcColor=xo(ay.labelContrast,R))),(e||x)&&(S=R=A=A=void 0,L=k&&n(r,"hover",o.hover||{}),S=w&&n(r,"select",o.select||{}),C=_&&n(r,"mute",o.mute||{}),T.marker=A={color:M,size:10,opacity:D,hatch:{style:E},outline:{color:O,width:1}},E=!h(b.visible)||b.visible,c.marker=A=i(A,b,{}),E||(A.size=0),k&&(E=h(L.visible)?L.visible:E,R=fe({},o.hover||{},P),F.marker=R=i(A,wd(R,L),{size:function(t){return 1.2*t},color:function(t){return xo(ay.hover,t)}}),E||(R.size=0)),w&&(E=h(S.visible)?S.visible:E,L=fe({},o.select||{},P),I.marker=S=i(R,wd(L,S),{color:function(t){return xo("select",t)},outlineWidth:function(t){return t+1}}),E||(S.size=0),I.marker=S),_&&(R=fe({},o.mute||{},P),V.marker=i(A,wd(R,C),{opacity:function(t){return.15*t}}))),b={},T=e?c.marker:c,E=b[""]=Rl(Fl(T)),k&&(T=e?F.marker:F,b.hover=Rl(Fl(T))),w&&(T=e?I.marker:I,b.select=Rl(Fl(T))),_&&(T=e?V.marker:V,b.mute=Rl(Fl(T))),!f.isMapLayer||f.drawLine||e||"bubble"===f.seriesType||(b[""]["stroke-linejoin"]="round",b[""].zIndex=this.zIndex,k&&(b.hover.zIndex=this.zIndex+1),w&&(b.select.zIndex=0)),"bubble"===f.seriesType&&h(r.zIndex)&&(b[""].zIndex=r.zIndex),u.hasSubvalues&&(T={opacity:D,outline:{width:Se((F=p(r,["subvalue","line"])||{}).width,1),color:xo(F.color||O,M),length:F.length,dashStyle:F.dashStyle}},y[""]=Fl(T)),this.chart.use3D||B||this.ctmIsType("venn")||!(v||f.drawRect||f.isShape&&!f.isPie||this.ctmIsType("heatmap")||this.ctmIsType("calendar")||this.ctmIsType("treemap"))||a||(B={},(v=p(this,["indexer","data","coordinates"]))&&(B.pointData=v[r._i]),E.fill&&E.fill.stops||this.attrShader(b,B)),!1===f.drawArea&&(b[""].fill="none",k&&(b.hover.fill="none"),w&&(b.select.fill="none")),g){var N=wd({},m);N=Ll(N=wd(N,m.line))}return f={baseColor:M,pointAttr:b,svAttr:y,labelVisible:g,labelConnector:f.labelConnector,labelConnectorAttr:N,drawMarker:f.drawMarker,label:m},a||!l?u.style.defaultPoint=f:(f.isDefault=a,this.indexer.indexKeys(["color"],{},0),this.indexer.setValue("color",r._i,f.baseColor)),(x||e)&&(f.markerSize=c.marker.size),this.ctmIsType("gauge")&&this.ctSvIs("gaugeType","circular")&&(t=(t||{}).altColor||(s||{}).altColor)&&(f.pointAttr[""].altColor=xo(t,M)),f},e.prototype.attrShader=function(t,e){var i=e.radAngle,n=this.ctManager,r=this.currentOptions,o=this.info.type.isRadarColumn,s=n.settingVal("columnType",r)||"default";if(n="horizontal"===n.settingVal("chartType",r)||this.ctSvIs("linearGaugeType","horizontal"),r=!1,this.ctmIsType("map")){s="subtle";var a=this.chart.ctManager;"map"===a.settingVal("seriesType")&&(s=(a=a.settingVal("columnType"))!==s?a:s)}h(i)&&(n=i),this.ctSvIs("funnelShapeType","square")&&(s="square"),"le"===i&&(n=!0,r=!1),i={horizontal:n,inverted:r,isRadial:o},this.ctmIsType("calendar")&&(i.strokeMode="lighterOnDark"),this.ctmIsType("treemap")&&"cushion"===s?(o=this.renderRect,n=e.pointData.cxy,r=e.pointData.bbox,e=ln(a=vn(o)),r=r[2]/a[2]+r[3]/a[3],i.offsets=[(e[0]-n[0])/o.width,(e[1]-n[1])/o.height],i.share=r):o&&e.pointData?i.lgCoords=this.pane.getShaderOptions(e.pointData.pathOptions):this.ctmIsType("gauge")&&this.ctSvIs("gaugeType","circular")&&(s=this.ctSvIs("seriesType","column")?"none":"subtle"),"roundcaps"===s&&(s="subtle"),function(t,e,i){function n(t,e,i,n){t&&(e&&0!==t["stroke-width"]&&(t.stroke=e),i&&(t.fill=i),n&&(t["stoke-width"]=n))}var r,o=i.horizontal,s=i.inverted,a=i.offsets,h=i.share,l=i.isRadial?i:o,u="lighterOnDark"===i.strokeMode?Jr:to,p=!0;"aqua"===t?(n(e[""],e[""].stroke,uo(e[""].fill,l,s)),(r=e.hover)&&n(r,r.stroke||Ao(u(r.fill),r.fill,50),uo(r.fill,l,s,!0),2),(r=e.select)&&n(r,r.stroke||Cr(u(r.fill)),uo(r.fill,l,s,!0))):"cushion"===t?(n(e[""],e[""].stroke,lo(e[""].fill,a,h)),(r=e.hover)&&n(r,r.stroke||Ao(u(r.fill),r.fill,50),lo(r.fill,a,h),2),(r=e.select)&&n(r,r.stroke||Cr(u(r.fill)),lo(r.fill,a,h)),p=!1):"rounded"===t?((r=e[""]).stroke=r.stroke||Cr(u(r.fill)),r.fill=co(r.fill,l,s),(r=e.hover)&&(r.stroke=r.stroke||r.fill,r.fill=co(r.fill,l,s,!0),r["stoke-width"]=2),(r=e.select)&&(r.stroke=r.stroke||Cr(u(r.fill)),r.fill=co(r.fill,l,s,!0))):"subtle"===t?(0!==(r=e[""])["stroke-width"]&&(r.stroke=r.stroke||Cr(u(r.fill))),r.fill=po(r.fill,l,s),(r=e.hover)&&(0!==r["stroke-width"]&&(r.stroke=r.stroke||r.fill),c(l,"isRadial")?(r.fill=Ao($r(r.fill),"#ffffff",20),p=!1):r.fill=po(r.fill,l,s,!0)),(r=e.select)&&(0!==r["stroke-width"]&&(r.stroke=r.stroke||Cr(u(r.fill))),r.fill=co(r.fill,l,s,!0))):"square"===t?((r=e[""]).stroke=r.stroke||Cr(u(r.fill)),r.fill=fo(r.fill,o,s),(r=e.hover)&&(r.stroke=r.stroke||r.fill,r.fill=fo(r.fill,o,s,!0)),(r=e.select)&&(r.stroke=r.stroke||Cr(u(r.fill)),r.fill=fo(r.fill,o,s,!0))):((r=e[""]).stroke=Cr(r.stroke||Cr(u(r.fill))),(r=e.hover)&&(r.stroke=r.stroke||r.fill,r.fill=Ao($r(r.fill),"#ffffff",20)),(r=e.select)&&(r.stroke=Cr(r.stroke||Cr(u(r.fill)))),p=!1),p&&i.lgCoords&&((t=function(t){t.linearGradient=i.lgCoords})(e[""].fill),e.hover&&t(e.hover.fill),e.select&&t(e.select.fill))}(s,t,i)},e.prototype.getPointColor=function(t){return(t=this.getPointColors(t)).fill||t.color},e.prototype.getSP=function(){var t,e=this.chart,i=this.currentOptions.palette||this.chart.palette,n="object"===d(i);if((!n||!(i.stops||i.colors||i.ranges))&&this.ctmIsType("heatmap")){var r=this.indexer.calculations.z;r?(this.chart.palette=i=py(n?i:{},[r.min,r.max]),this.chart.legends().each((function(t){return t.updateSp()}))):this.chart.palette=i={colors:this.chart.palette}}return i.id&&(t=e.getSmartPalette(i.id)),t||e.getSmartPalette(i)},e.prototype.getPointColors=function(t,e){var i,n=this.info,r=n.type,o=n.style.base,s=this.currentOptions;if(n=n.type.colorByPoint,e=e||r.drawMarker,r.isTree||(i=t.color),e){var a=t.marker||{},l=a.color;a=a.fill}return l&&(l=yo(l)),l||i?i?{color:go(i),fill:a||l}:{color:go(o.color),fill:a||l}:(n?("string"===(s=d(r=s.palette||this.chart.palette))&&(r=No(r)),o=go(o="object"===s?this.getSP().getPointColor(this,t):h(t=this.indexer.getValue("cpbIndex",t._i))?r[t%r.length]:o.color)):(o=t.color||o.color,r.varyPalette&&!t.color&&(s=t._i,o=_r((t=Or(o))[0],t[1],t[2]),s=.03*(i=h(s)?ui(1,s+1)[s]:pm.random()),.5<i&&(s=-s),o[2]=qd(o[2]+s*o[2],0,1),o=Cr([(o=kr(o[0],o[1],o[2]))[0],o[1],o[2],t[3]]),r.isVaryingColors=!0)),{color:o,fill:a})},e.prototype.getPointHatchStyle=function(t,e){e=this.info.type;var i=this.currentOptions,n=this.chart.currentOptions,r=n.defaultSeries||{},o=p(t,["hatch","style"]);return i=i.hatchPalette||n.hatchPalette||r.hatchPalette,o||(e.colorByPoint?"undefined"!==(e=d(i))&&("boolean"===e&&(i=cy("hatch")),h(t=this.indexer.getValue("cpbIndex",t._i))?o=i[t%i.length]:i&&(o=i[this._i%i.length])):i&&(o=i[this._i%i.length])),o},e.prototype.getPointMarkerType=function(t){var e,i=this.info.style.base;return(e=p(t,["marker","type"]))||(this.info.type.colorByPoint&&!this.info.usesSmartPalette&&t?(e=h(e=this.indexer.getValue("cpbIndex",t._i))?e:t._i||0,e=Xg[e%Xg.length]):e=i.markerType),e},e.prototype.getUniqueColors=function(t){var e=this.info,i=e.type,n=[];if(e.hasUniqueStyles||i.colorByPoint){for(var r=0,o=(e=this.indexer.getKey("color")).length;r<o;r++)if(i=e[r]){if(i!==s&&(n.push(i),n.length===t))break;var s=i}}else n.push(this.info.style.base.color);return n},e.prototype.setColor=function(){var t=this.chart,e=this.options("palette")||t.palette;"object"===d(e)&&t.getSmartPalette(e).setPointSpValues(this)},e.prototype.invalidate=function(){return this.dirty=!0,this.seriesDirty.all(!0),delete this.info.style.defaultPoint,this},e.prototype.refresh=function(t){return this.dirty&&(this.chartArea.invalidate(),this.chartArea.chartAreaSet.enumerateData(),this.setDataInfo(),!1!==t&&this.chart.redraw(Se(t,{animation:this.getAnimationConfig()})),this.chart.updateSideItems()),this},e.prototype.visible=function(t,e){var i=this.seriesDirty,n=this.chartArea;return h(t)?t!==this.isVisible&&(this.isVisible=t,this.dirty=!0,i.pos(!0),i.coord(!0),n.resetTimers()):(this.isVisible=!this.isVisible,this.dirty=!0,i.pos(!0),i.coord(!0),n.resetTimers()),this.dirty&&(this.legendEntry&&this.legendEntry.updateCheckbox(this.isVisible),n.series().each((function(t){return t.seriesDirty.pos(!0)})),!1!==e&&this.chart.redraw(e||{animation:this.getAnimationConfig()}),this.triggerUser(this.isVisible?"show":"hide")),this},e.prototype.getAnimationConfig=function(){return wd({},this.userOptions.animation||this.chart.currentOptions.animation)},e.prototype.select=function(t,e){var i;h(t)&&(i=t),this.points().each((function(i){return i.select(t,e)})),this.setState(i?"select":"")},e.prototype.removePoint=function(t,e){-1<t&&(this.userPoints.splice(t,1),this.visualizer.updateInfo={action:"splice",at:t,count:0,del:1},this.invalidate(),!1!==e&&this.refresh())},e.prototype.zoomTo=function(t){var e=this.ctmIsType("calendar");this._points.length&&this.ctmIsType("map")?(0===(e=this.chart.geoParser.getSeriesBBox(this))[2]&&0===e[3]&&(e=yn(e,[.01,.01])),this.chart.zoom(e,t)):e&&this.chart.zoom(this.currentOptions.attributes.date,t)},e.prototype.remove=function(t){var e=this.chartArea,i=vd(e._series,{id:this.id});-1<i&&(e.spliceSeries(i,1,[]),this.triggerUser("remove"),!1!==t&&e.chart.redraw())},e.prototype.yAt=function(t){var e=this.indexer;return e.data.y?this.interpolate("x","y",t):e.data.ys&&e.data.ye?[this.interpolate("x","ys",t),this.interpolate("x","ye",t)]:void 0},e.prototype.interpolate=function(t,e,i){var n=this.indexer;if("time"===this.xAxis.dataType&&"string"==typeof i&&"number"===n.uniqTypes.x[0]&&(i=Date.parse(i)),-1!==(t=n.findInterpolatedInfo(t,i)).i)return 0<t.inter?ii(i=n.getValue(e,t.i),e=n.getValue(e,t.i+1),0,1,t.inter):n.getValue(e,t.i)},e.prototype.getCalcCache=function(){return function(t){if(!t.calcCache){var e=t.indexer,i=t.userPoints.length,n=t.xAxis||{},r=t.zAxis||{},o="category"===n.type,s=Math.abs,a=HC(e,"getKey"),u=HC(e,"getItem"),p=HC(e,"sum"),f=HC(e,"sumAbs"),d=function(t){return t.name};o&&(d=function(t){return h(t.name)?t.name:n.catList[t.x]});var m=l(e.data,"ye")&&!l(e.data,"y"),g=0<a("xr").length,v=0<a("zr").length,y=!m,x=!g,b=!g,w=m?2*i:i,A=m?(p("ys")+p("ye"))/w:p("y")/i;g=g?(p("xs")+p("xe"))/w:p("x")/i,i=v?(p("zs")+p("ze"))/w:p("z")/i,v=y?"y":"ye",w=y?"y":"ys";var C=y?"y":"yr",S=x?"x":"xe",k=x?"x":"xs",_=y?a("y"):xe(a("yr")),M=x?a("x"):xe(a("xr")),T=b?a("z"):xe(a("zr")),O=a("name");o&&0===O.length&&0<M.length&&(O=M.map((function(t){return n.catList[t]}))),o=y?_:xe(a("ya")),x=x?M:xe(a("xa")),a=b?T:xe(a("za")),y=u(e.min_i(w));var z=u(e.max_i(v)),D=u(e.min_i(k)),E=u(e.max_i(S)),P=u(b?e.min_i("z"):e.min_i("zs"));e=u(b?e.max_i("z"):e.max_i("ze")),t.calcCache={list:_,xList:M,zList:T,nList:O,max:z[v],min:y[w],xMax:E[S],xMin:D[k],zMax:e.z,zMin:P.z,zAbsmax:Math.max(s(e.z),s(P.z)),nMax:d(z),nMin:d(y),nZMax:d(e),nZMin:d(P),nXMax:d(E),nXMin:d(D),sum:p(C),zSum:p("z"),xSum:p("x"),sumAbs:f(C),zSumAbs:f("z"),xSumAbs:f("x"),average:A,zAverage:i,xAverage:g,range:_.length?z[C]-y[C]:void 0,zRange:T.length?e.z-P.z:void 0,yRangeSum:p(C),yRangeSumAbs:f(m?"yr":"y"),yStartSum:p("ys"),name:t.name,type:t.currentOptions.type,xAxis:t.xAxis,yAxis:t.yAxis,zAxis:t.zAxis,zAxisLabelText:c(r.currentOptions,"label.text"),averList:o,xAverList:x,zAverList:a}}return t.calcCache}(this)},e.prototype.replaceTokens=function(t,e){return du(t,this,e||this.getFormatInfo())},e.prototype.tokenValue=function(t){return this.replaceTokens({token:t})},e.prototype.getMapData=function(){var t=p(this.info,["map"]);return"string"==typeof t||t&&0<ze(t).length||"string"==typeof(t=p(this.userOptions,["map"])||{})||t&&0<ze(t).length?t:p(Qm,["JSC","internal","_modules","maps","geo",this.userOptions.mapDataId])},e.prototype.setMapData=function(t){return Le(this.info,"map",t),this},e.prototype.getConfig=function(){var t=ue({},this.userOptions);return t.points=this.userPoints,t},e}(eS),ok=function(){function t(t){this.series=t,this.setAll(!0)}return t.prototype.setAll=function(t){this.pointData(t),this._coord=this._pos=this._points=t,this.series._ctSvCache=null,this.series._ctmIsTypeCache=null},t.prototype.any=function(){return this._pointData||this._pointIndex||this._points||this._pos||this._coord},t.prototype.points=function(t){var e=this;return e.getSet(t,e._points,(function(t){return e._points=t}))},t.prototype.pos=function(t){var e=this;return e.getSet(t,e._pos,(function(t){return e._pos=t}))},t.prototype.coord=function(t){var e=this;return e.getSet(t,e.series.visualizer.coordDirty,(function(t){return e.series.visualizer.coordDirty=t}))},t.prototype.pointData=function(t){var e=this;return!0===t?(e.pointIndex(t),e.series.chartArea.series().each((function(t){t.seriesDirty.pos(!0)})),e.resetCache(),e.series.chartArea.chartAreaSet._calcCache=void 0):!1===t&&e.pointIndex(t),e.getSet(t,e._pointData,(function(t){return e._pointData=t}))},t.prototype.resetCache=function(){this.series.calcCache=void 0,this.series.pgCalcCache=[]},t.prototype.pointIndex=function(t){var e=this;return e.getSet(t,e._pointIndex,(function(t){return e._pointIndex=t}))},t.prototype.all=function(t){this.setAll(t)},t.prototype.getSet=function(t,e,i){if(!h(t))return e;i(t)},t}(),sk=function(t){function e(i,n){return(n=t.call(this,i,n)||this).items=i,n.kindObject=e,n.points=or(Gg,Vc(n),Ic(n)),n}return n(e,t),e.prototype.options=function(t,e){var i=!this.items.length&&e,n=this.each((function(e){e.options(t,i)}));return!i&&!1!==e&&function(t){return!(1===(t=ze(t)).length&&Ed(t,$g).length)}(t)&&this.items[0].chart.redraw(e),n},e.prototype.remove=function(t){var e=[],i=this.items[0].chart;return Ad(this.items.slice(0),(function(t){t.remove?t.remove(!1):e.push(t)})),this.items=e,i&&!1!==t&&i.redraw(t),this},e}(Gg),ak=function(t){function e(e,i){return(i=t.call(this,e.chart,i)||this).marker=e,i.fillMod="axisMarkerY",i}return n(e,t),e.prototype.styleIconVisual=function(t,e){t=t.base;var i=this.marker.isRange(),n=wd({},this.currentOptions),r=n.line,o=r.color||xo("outline",n.color||"white");i?(Le(n,"outline.color",o),i=Fl(n)):(Le(n,"line.color",o),Le(n,"line.width",Math.min(4,r.width)),i=Ll(n.line)),t&&t.attr(i),e.isStyled=!0},e.prototype.getIconPaths=function(t){var e=t[0],i=t[1],n=.8*i;return this.marker.isRange()?{base:bx.square(0,n,t[0],t[1]-2*n),extra:void 0}:{base:Oa([[0,i/2],[e,i/2]],{isOpen:!0}),extra:void 0}},e}(cS),hk={top:"left",middle:"center",bottom:"left",left:"top",center:"middle",right:"bottom"},lk=function(t){function e(e,i){var n=t.call(this,e.chart,i,[e,i])||this;return n.axis=e,n.kind="AxisMarker",n.rootVisuals={path:void 0,label:void 0},n.invalid=!1,n._arrangeInfo={box:void 0,visible:!0,edgeBoxes:[],labelSizes:[],possible:[],used:void 0},n.events={click:new Rx},n.isHoriz=!e.isHoriz,n.options(i,!1),n}return n(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t=(e=s(t,2))[0],h((e=e[1]).value)?this.defaultContextOptions={legendEntry:{value:e.value.pop?"x"===t.prefix?"%xmin - %xmax":"%min - %max":"%value"}}:this.invalid=!0,this.axis=t},e.prototype.defaultOptions=function(){if(this.axis){var t=this.axis.options("defaultMarker");return wd({color:"#a6bce3",opacity:.8,line:{width:1,onTop:!1},labelPadding:5,legendEntry:{color:"#3a3e4b",value:"%"}},t||{})}},e.prototype.options=function(e,i){var n=this.axis,r=this.optionsGetter(e);return"NotGetter"!==r?r:(h(e.low)&&h(e.high)&&(e.value=[e.low,e.high]),t.prototype.options.call(this,e,i),c(n.userOptions,"markers.length")&&wd(n.userOptions.markers[this.getIndexInAx()],e),n.invalidate(),this.syncLegendEntry(e),!1!==i&&(!this.chart.isRendered||!this.isRendered||this.options("label")||this.options("includeInScale")||h(e.value)&&this.legendEntry?(this.render(n.viewState),this.axis.chart.redraw(i)):this.render(n.viewState)),this)},e.prototype.normalizeOptions=function(e){Uo(e=t.prototype.normalizeOptions.call(this,e),"color"),Uo(e,"line.color");var i=e.value;return"object"===d(i)&&h(i.low)&&h(i.high)&&(e.value=[i.low,i.high]),e},e.prototype.click=function(t){this.trigger("click",t)},e.prototype.setRootVisuals=function(){return this},e.prototype.setAttribs=function(){var t=this.currentOptions,e=this.axis;return t=this.isRange()?{fill:bo(e="x"===e.prefix?hy.axisMarkerX:hy.axisMarkerY,yo(t.color,1-Se(t.opacity,1)))}:Ll(wd({color:t.color,opacity:t.opacity},t.line)),this.attribs={path:t,label:void 0},this},e.prototype.render=function(t,e){this.setOptions().setRootVisuals().setAttribs();var i=this.currentOptions;t=this.axis;var n=i.label||{},r=this.rootVisuals,o=this.renderer.renderer,s=this.value();if(0!==s.length){var a=this.visualTarget(),l=c(i,"line.width"),u=t.getCaPath(s,a,void 0,{lineWidth:s.length?0:l,forMarker:1});return l=!r.path,this.invalid=!t.valVisible(s),((o=r.path=r.path||this.bindEventsOn(o.path())).parentNode!==a.el||Te(o.parentNode))&&o.add(a),(t=this.attrBuilder({d:u},this.attribs.path,e))["fill-rule"]="evenodd",l?t.animation=!1:t.reset=!0,o.attr(t),(r=r.label)&&this.getText()&&(this._arrangeInfo.visible?(r.add(a),t=this.attrBuilder(Wl(n,void 0,i),{"pointer-events":"none"},e),(e=this._arrangeInfo.used)&&e.box||(e=this._arrangeInfo.possible[0]),e&&e.box&&(r.rootPanel.visible(!0),i=e.rotation,n=e.textAlignment[0],a=e.textAlignment[1],!(l=0<i)||this.axis.isHoriz||h(this.userOptions.label.rotate)||(i*="right"===n?1:-1),s=0<i,o=l&&s?e.box[2]:0,s=l?s?0:e.box[3]:0,r.rootVisuals.text.attr({xContentAlignment:l?hk[a]:n,yContentAlignment:l?hk[n]:a,opacity:1}),t.rotate=[i,0,0],!1!==t.autoWrap&&(t.maxWidth=e.box[l?3:2]),t.offsetX=e.box[0]+o,t.offsetY=e.box[1]+s,t.zIndex=1,r.rootPanel.attr(t))):r.rootPanel.visible(!1)),this.isRendered=!0,this}},e.prototype.bindEventsOn=function(t){var e=this;return t.on("click",(function(t){e.click(t)})),t},e.prototype.syncLegendEntry=function(t){var e=this,i=e.axis,n=i.chartArea&&e.chart.requestLegend();n&&n.isVisible&&n.allowEntries()&&(e.legendEntry?(t&&h(t.value)&&e.legendEntry.target.options({value:t.value}),e.legendEntry.setColumns()):!1===c(e.currentOptions,"legendEntry.visible")||function(t){if(i.isRadial){var r=gd(e.chart.axes().items,(function(t){return ae(t.childAxes,i)}));return gd(n.items,(function(e){return(e=e.target.marker)&&e.axis===r&&J(e.currentOptions.value,t.value)}))}}(e.currentOptions)||(e.legendEntry=n.addEntry(new ak(e,Vd(e.currentOptions,["id"]))).setColumns(),e.legendEntry.sortOrderValue=yS[e.kind]))},e.prototype.resetTimers=function(){c(this,"_arrangeInfo.used.time")&&(this._arrangeInfo.used.time=0)},e.prototype.visualTarget=function(){var t=this._visualTargets=this._visualTargets||this.axis.chartArea.getAxisMarkerVisualTargets();return this.options("onTop")?t.front:t.behind},e.prototype.attrBuilder=function(t,e,i){return void 0===t&&(t={}),void 0===e&&(e={}),void 0===i&&(i={}),t=wd({},t,e,i),i.animation||(t=wd(t,{animation:this.chart.options("animation")})),t.opacity=this.invalid?0:1,t},e.prototype.getText=function(){var t=this.axis,e=c(this.currentOptions,"label.text");return e&&-1<e.indexOf("%")&&(e=gu(e,this,this.chart.getFormatInfo(void 0,"major")),e=t.chartArea.replaceTokens(e)),e},e.prototype.value=function(){var t=this.axis,e=Se(this.currentOptions.value,this._value);return t.normUserValue(e)},e.prototype.isRange=function(){return void 0!==this.value().pop},e.prototype.getIndexInAx=function(){var t=this;return vd(this.axis.currentOptions.markers,(function(e){return e.id===t.id}))},e.prototype.remove=function(t){this.destroy(),this.legendEntry&&!1!==t&&(this.legendEntry.legend.chart.chartAreaSet.reflow(t),this.chart.isRendered&&this.chart.renderer.refresh())},e.prototype.destroy=function(){var t=this.rootVisuals;this.axis.removeMarker(this),t.path.destroy(),t.label&&t.label.destroy(),this.legendEntry&&this.legendEntry.destroy()},e}(eS),uk=function(){function t(t,e,i){this.axis=t,this.valToLin=e,this.range=xd(t.range),this.chartArea=i,this.inverted=t.isInverted(),this.breaks=t.breaks,this.caRect=xd(i.contentRect),this.isLog=t.isLog()}return t.prototype.equalsRange=function(t){var e=this.range,i=t.range;if(e.min===i.min&&e.max===i.max){t:{if(e=this.breaks,i=t.breaks,e&&i){if(e.length===i.length){for(var n=0,r=e.length;n<r;n++){var o=e[n],s=i[n];if(!(o=o[0]===s[0]&&o[1]===s[1]||void 0)){e=void 0;break t}}e=!0;break t}}else if(e===i){e=!0;break t}e=void 0}if(e)return!0===this.inverted==(!0===t.isInverted())||void 0}},t.prototype.equals=function(t){var e=this.caRect;if(this.equalsRange(t)&&(t=t.chartArea.contentRect,e&&t&&0===Io(e,t)))return!0},t.prototype.isValid=function(){if(this.caRect)return!0},t.prototype.rect=function(){return this.caRect=this.caRect||this.chartArea.contentRect},t}(),ck=function(){function t(){this.items=[]}return t.prototype.get=function(t,e){for(var i,n=this.items,r=0,o=n.length-1;r<=o;){if(t===n[i=pm.floor((r+o)/2)].value)return n[i];t<n[i].value?o=i-1:r=i+1}return e?r||0:void 0},t.prototype.add=function(t){var e=this.get(t,!0);if("number"===d(e)){var i=e;e={value:t,clusters:{}},this.items.splice(i,0,e)}return e},t.prototype.toArray=function(){for(var t=this.items,e=[],i=0,n=t.length;i<n;i++)e.push(t[i].value);return e},t.prototype.getShortestRange=function(){var t=void 0,e=fm;return 1<this.items.length?(Ad(this.items,(function(i,n){n&&(n=i.value-t)<e&&(e=n),t=i.value})),e):1},t.prototype.getSmallestAbsValue=function(){var t=this.items,e=t.map((function(t){return Math.abs(t.value)})),i=Math.max.apply(Math,a(e)),n=i,r=0;for(t=t.length;r<t;r++){var o=e[r];0<o&&o<n&&(i=this.items[r].value,n=o)}return i},t.prototype.reset=function(){this.items=[]},t}(),pk={min:1,curly:3,measure:1.5},fk=function(t){return t&&"Point"===t.kind},dk=function(t){function e(e,i,n,r){return(n=t.call(this,e.chart,n,[e,r,n])||this).axis=e,n._value=i,n.type=r,n.visuals={},n.tickLen=0,n.invalid=!1,n.isDestroyed=!1,n._age=0,n._isNew=!0,n._metrics=void 0,n._visible=!0,n._isRange=h(i)&&!!i.pop,Qc(n),n}return n(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=s(t,3);t=i[0],e=i[1],i=i[2],this.defMinorTickOptions=i.defaultMinorTick,this.axis=t,this.type=e,this.defaultMutable=!1,this._isRange=h(i.value)&&!!i.value.pop,"function"==typeof i.target&&(this.target=i.target())},e.prototype.setType=function(t,e){this.type=t,e&&(this.userOptions.target=e),this.setOptions(),Qc(this)},e.prototype.defaultOptions=function(){if(this.axis){var t=this.axis.currentOptions;return"minor"===this.type?this.defMinorTickOptions||wd({},t.defaultTick,t.defaultMinorTick):t.defaultTick||{}}},e.prototype.dependentOptions=function(){return[{option:["line.color","line.width"],check:function(t){return t},dependent:"line.visible",value:!0}]},e.prototype.px=function(t,e){return this._px=h(t)&&!Qd(t)?t:void 0,this._pxPrev=h(e)&&!Qd(e)?e:void 0,this._px},e.prototype.getTickTargetPanel=function(){var t=this.axis;return this.currentOptions.onTop?t.chartArea.rootVisuals.gridLinesFront:t.chartArea.rootVisuals.gridLinesBehind},e.prototype.options=function(e,i){var n=this.optionsGetter(e);return"NotGetter"!==n||(e&&(h(e.value)&&(this._needUpdateText=this._value!==e.value,this._value=e.value,this._isRange=!!e.value.pop),"function"==typeof e.target&&(this.target=e.target())),n=t.prototype.options.call(this,e,i),Te(i)&&Me(e)&&!this.chart.dirty&&this.axis.options({})),n},e.prototype.setRootVisuals=function(){var t=this.axis,e=this.getTickTargetPanel();return t&&!this.rootVisuals&&(this.rootVisuals={ticks:t.rootVisuals.tickSpacer,labels:t.rootVisuals.main,gridLines:e}),this},e.prototype.bindEvents=function(){var t=this;if(t.visuals){var e=t.hasUserEvent("click"),i=t.visuals.labelText;e=e?"pointer":"default",i.on("vclick",(function(e){return t.click(e)})),i.on("mouseover",(function(e){return t.mouseover(e)})),i.on("mouseout",(function(e){return t.mouseout(e)})),i.attr({cursor:e})}return t},e.prototype.mouseover=function(t){var e=this.target,i=this.chart.touched(),n="x"===this.axis.prefix;if(!1!==this.triggerUser("mouseOver",t)&&e&&fk(e)){var r=e.series;qc(this)&&(t=tp(this).debounce,e=n?e:r,t.clear("unmute"),dc(e,"",fc(this)||(n?"group":"series")),i&&t.defer("unmute",(function(){mc(r.chart)}),8e3))}},e.prototype.mouseout=function(t){var e=this.target;if(!1!==this.triggerUser("mouseOut",t)&&e&&fk(e)&&qc(this)){var i=e.series;tp(this).debounce.defer("unmute",(function(){mc(i.chart)}),230)}},e.prototype.click=function(t){var e="x"===this.axis.prefix,i=this.target;!1!==this.triggerUser("click",t)&&i&&(fk(i)&&qc(this)&&"touch"!==t.device?(t=i.series,tp(this).debounce.clear("unmute"),mc(t.chart)):"touch"===t.device&&(this.axis.chartArea.resetTimers(),fk(i)&&(tp(this),t=e?i:i.series,this.chart.highlighted===t&&mc(t.chart))))},e.prototype.setPos=function(){},e.prototype.value=function(){var t=this.axis,e=Se(this.currentOptions.value,this._value);return t.normUserValue(e)},e.prototype.render=function(t,e){if(void 0===e&&(e={}),this.isDestroyed)return this;this.setOptions().setRootVisuals();var i=this.currentOptions,n=this.axis,r=n.chartArea,o=!1;t=this.visuals;var s=this.renderer,a={},l=s.renderer,u=this._metrics,f=n.isRadial,d=this._positionData,m=this.getVisualTargets(),g=this.value(),v=n.currentOptions.orientation,y="top"===v||"right"===v||"opposite"===v;if("origin"===this.type){var x=(v=n.userOptions.originTick)&&!1===v.enabled;o=n.linToPos(this._px),(v||0!==o&&1!==o)&&!x&&(i=wd({},i,n.currentOptions.originTick))}if(this._isSquished&&n.currentOptions.defaultHiddenTick&&(i=wd({},i,n.currentOptions.defaultHiddenTick)),x=i.fill&&"none"!==i.fill,h(this._metrics.px)){if(v=n.tickVisible(g)||i.internal,o=!t.tickLine&&!x,v||!o){o=void 0;var b=(o=Ll(i.line||{}))["stroke-width"]||0;if(!x){var w=t.tickLine=t.tickLine||l.path().attr({opacity:0}).add(m.line),A=void 0;if(this._rngData)if(f=this._rngData.renderData)a=wd({d:f.d},f.pathOptions);else{a={},f=n._rngData.origin;var C=n.duV("inside"===i.placement),S=f[C.vc],k=[];f=function(t){var e=[],n=[];n[C.vc]=S,n[C.hc]=t,e.push(Iu(m.tick,n,b)),Wc(e,C.o,Se(i.line.length,5)),k.push(Ia(e))},f(this._metrics.px[0]),f(this._metrics.px[1]),a={d:Ds(k)}}else A=d.tickPoints,d=f?A[0]:Iu(m.tick,A[0],b),f=f?A[1]:Iu(m.tick,A[1],b),a={d:d?Ia([f,d]):"M0 0"};A=this.attrBuilder(a,o,e),a={},w.attr(A)}if(e.onCa){o=!t.gridLine,y="column"===(u=pe(i.gridLine||{})).width;var _=!!x||!n.autoHideGrid();o&&!Gl(i.gridLine)||!m.grid||(Fe(u,u,"visible","visible",(function(t){return"auto"===t?_:t})),y&&(s=n.isStackedFull(),u.width=s?n.clusterWidth(this._value):n.clusterWidth(),u.caps=r.hasRoundCaps?"round":void 0,delete u.dashStyle),u=Ll(u),s=g,y?("column"===(y=u["stroke-width"])&&(y=n.clusterWidth()),y&&(u["stroke-width"]=Math.round(y+b)),this._isRange&&("category"===n.type||this.options("gridLine.center"))&&(s=ti(g))):this._isRange&&this.options("gridLine.center")&&(s=ti(g)),n=n.getCaPath(s,m.grid,void 0,{lineWidth:u["stroke-width"],multiShape:this._isRange}),(t=t.gridLine=t.gridLine||l.path(n).attr({opacity:0})).parentNode&&t.parentNode===m.grid.el||t.add(m.grid),(n=p(o=this.attrBuilder({zIndex:5,d:n},u,e),["caps","size"]))&&n!==o["stroke-width"]&&(o.caps.size=o["stroke-width"]),t.attr(o))}else{o=Wl(Kc(this,i.label)),l=u.text,Le(i,"label.text",l);var M=this.angledAttr();if(a.val=l,a=this.attrBuilder(a,wd({autoWrap:"default"},o),e),h(o.opacity)&&(a.opacity=o.opacity),a=Vd(a,["rotate","x","y"]),r=M.rotate?M.rotate.length?M.rotate[0]:M.rotate:0,l=Se(i.outline&&i.outline.width,1),o=Zl(i),g="inside"===c(n.currentOptions,"defaultTick.placement"),f=i.line.length,o=i.padding-(o?2*l:0),d={padding:r?0:o,radius:i.radius,corners:i.corners,fill:i.fill,outline:i.outline},!r&&x&&(d.shape={callout:{position:n.isHoriz?[.5,y!==g?1:0]:[y!==g?0:1,.5],size:[f,f]}}),M=wd(M,Nl(d)),x&&(M.zIndex=3),Ad(["animation","margin"],(function(t){a[t]&&(M[t]=a[t],delete a[t])})),!t.label){var T=t.label=s.box();if(t.labelText=s.textStack().add(T),T.add(m.label),this.bindEvents(),this.chart.inited){var O=a.opacity,z=a.animation;T.renderer.isAnimationDisabled(a)||(M.opacity=0,T.await((function(){T.el.transition({middle:{to:{opacity:O}},end:{opacity:O},animation:z})})))}}s="none"!==a.autoWrap&&"ellipsis"!==a.textOverflow,M.xContentAlignment=this.contentAlignment(),s&&(a.xContentAlignment=M.xContentAlignment),a.width=u.textSize[0],a.height=u.textSize[1],(this.isCrosshair||"sp"===this.axis.prefix)&&(a.animation={duration:0}),t.labelText.attr(a),u=r?0:o,!r&&u&&(M.x-=u,M.y-=u),t.label.attr(M),Zl(i)&&!r&&(u=t.labelText.setPreliminarySize().getBbox(),u=(s=t.label.getPaddingOffset(u.width,u.height)).left,s=s.top,l&&(s-=l*(n.isHoriz?g&&y||!g&&!y?-1:1:0)),(u||s)&&t.label.attr({x:M.x-u,y:M.y-s}))}this.visible(v,e)}this._isNew=!1}return this},e.prototype.contentAlignment=function(){if(this._isRange&&!1===this._rngData.rotate&&!1!==this.currentOptions.enabled)return"center";switch(this.axis.sideIndex()){case 0:case 2:return"center";case 1:return"left";case 3:return"right"}return null},e.prototype.getVisualTargets=function(){return this.axis.getVisualTargets(this.currentOptions,this._isRange)},e.prototype.angledBounds=function(){var t,e=this.metrics().textSize;if(t=this.angledAttr())return Nn([t.x,t.y,e[0],e[1]],t.rotate)},e.prototype.angledAttr=function(){var t=this.axis,e=t.currentOptions,i=this._positionData,n=i.textBBox,r=ln(n),o=Se(e.defaultTick.padding,3),s={x:n[0],y:n[1]},a=this.labelSize,l=a[0];if(a=a[1],h(this._cxyRotate))s.rotate=[this._cxyRotate,r[0]-n[0],r[1]-n[1]];else if((!this._isRange||this._isBaseRange)&&t.isHoriz){n=0===(n=t.sideIndex())||1===n,e=Se(r=c(e,"defaultTick.label.rotate"),e.autoRotate);var u=[0,0];if("angled"===t.labelMode&&e){if(s.x+=i.textBBox[2]/2,i=bi(0,0,(e=Ii(e))-90,a/2).x,n?(s.x-=i,0>e?u=[0,a]:(u=[l,a],s.x-=l),t.isHoriz&&(s.y=t.tickMetricsData.getMaxLength()-this._metrics.tickLength-o-a)):(s.x+=i,0>e&&(u=[l,0],s.x-=l)),this._isBaseRange&&t.isHoriz){i="inside"===this.currentOptions.placement;var p=Ke(e)*Math.abs(Math.cos(e*Math.PI/180)),f=Math.abs(Math.sin(e*Math.PI/180));p*=l,a*=f;var d=Math.abs(this._metrics.px[1]-this._metrics.px[0]),m=Math.max(0,Math.abs(p)+Math.abs(a)-d);t=Te(r)?d/t.tickMetricsData.getMaxLength():1,s.x=m?s.x-(n?-1:1)*Ke(e)*(d*t/2-a/2):s.x-(n?-1:1)*p*t/2,i&&(s.y-=f*(l/2+o+this.tickLen))}s.rotate=[e,u[0],u[1]]}}return s.rotate||(s.rotate=[0,0,0]),s},e.prototype.metrics=function(t){void 0===t&&(t={});var e=this.currentOptions,i=this.axis,n=this.tickLen=Se(p(e,["line","length"]),5),r=Se(this.currentOptions.padding,3),o=this._px=i.getCaLen(this.value());if(i=i.valToAngle(this.value()),!Xl(e.label))return this.labelSize=[0,0],this._metrics={angle:i,px:o,textSize:[0,0],tickLength:n,tickPadding:r};var s,a,l=this.renderer,u=this.getText();if((a=this._metrics)&&(a=this._metrics,void 0===(e=e.label.style)&&(e={}),a=a.text===u&&a.fontFamily===e.fontFamily&&a.fontSize===e.fontSize&&a.fontStyle===e.fontStyle&&a.fontWeight===e.fontWeight),a&&(s=!0),e=this._metrics||{},s)this._metrics=wd(e,{tickLength:n,tickPadding:r,px:o,angle:i});else{s=Wl(Kc(this)),(l=l.textStack()).attr(wd({autoWrap:"default",val:u},s));var c=l.composeCombinations()[0];a=[c.minSize.width.px,c.minSize.height.px],s.maxWidth&&(c=c.components[0].maxLineWidth,a[0]=h(c)?c:a[0]),c=void 0,!~u.indexOf(" ")||~u.indexOf("<br")||~u.indexOf("\n")||~u.indexOf("</")||"none"===s.autoWrap||"default"===s.autoWrap||(l.attr({maxWidth:a[0]-1,autoWrap:"auto"}),c=[(c=l.composeCombinations()[0]).minSize.width.px,c.minSize.height.px]),a=this.labelSize=a,h(s.width)?a[0]=parseFloat(s.width):h(s.maxWidth)&&parseFloat(s.maxWidth)<a[0]&&(a[0]=parseFloat(s.maxWidth)),l.destroy(),this._metrics=wd(e,{tickLength:n,textSize:a,primTextSize:a,altTextSize:c,text:u,fontFamily:s.fontFamily,fontSize:s.fontSize,fontStyle:s.fontStyle,fontWeight:s.fontWeight,tickPadding:r,px:o,angle:i})}return h(t.altTextSize)&&((n=this._metrics).textSize=this.labelSize=(t.altTextSize?n.altTextSize:n.primTextSize)||n.textSize),this._metrics},e.prototype.getText=function(){var t,e,i=this,n=i.currentOptions,r=i.axis,o="category"===r.type,s=i.value(),a=c(n,"label.text"),l=i.type+(i.isFirst?" first":""),u=r.getFormatInfo(Id(s)?s[0]:s,l);u=u.culture+u.fStr,"function"==typeof n.target&&(e=n.target());var p=e||(r.chartArea.replaceTokens?r.chartArea:r.chart);if(!i._formattedText||u!==i._formatInfoHash||i._needUpdateText){a||("minor"===i.type?a=c(r.currentOptions,"defaultMinorTicklabel.text"):"major"===i.type&&(a=c(r.currentOptions,"defaultTicklabel.text"))),e=d(a);var f=r.getFormatInfo(void 0,"major");n=function(t,e,n){e=h(e)&&"function"==typeof e.pop&&2===e.length?{value:Cm(e),min:e[0],max:e[1]}:{value:e,name:e},f.isTime&&n&&delete f.isTime,t=vu(t,e,f),i._formattedText=p.replaceTokens(t)},a?"function"===e?(a=Se(a(function(t){return o&&t.pop&&2===t.length&&0==t[0]%.5&&0==t[1]%.5?1===ai(t[0],t[1])?Qe(ti(t)):[t+.5,t-.5]:t}(s)),"")+"",i._formattedText=a?vu(a,{value:s},((t={})[r.prefix]=r.getFormatInfo(s,l),t)):""):"string"===e&&(t=ae(a,"%"),e=ae(a,"{"),t&&o&&"function"==typeof s.pop?n(a,r.format(s,{tickType:l},!0)):t||e?n(a,e?s:lm(s,(function(t){return r.format(t,{tickType:l})})),!e):i._formattedText=a):i._formattedText="category"!==r.type?"time"===r.type&&2===s.length?r.format(s[0],{tickType:l}):lm(s,(function(t){return r.format(t,{tickType:l})})):r.format(s,{tickType:l}),i._formattedText=Cm(i._formattedText),u=lm(s,(function(t){return r.getFormatInfo(t,l)})),s=u[0]||u,i._formatInfoHash=s.culture+s.fStr}return i._needUpdateText=!1,i._formattedText},e.prototype.invalidate=function(){return this.invalid=!0,this},e.prototype.validate=function(){this.invalid=!1},e.prototype.attrBuilder=function(t,e,i){return void 0===t&&(t={}),void 0===e&&(e={}),void 0===i&&(i={}),t=wd(e,t),h(i.animation)?wd(t,{animation:i.animation}):!1===i?t.animation=!1:t=wd(t,{animation:this.chart.options("animation")}),this.invalid||(t.opacity=1),t},e.prototype.remove=function(t){this.destroy(),!1!==t&&this.axis.renderOnCa(t)},e.prototype.destroy=function(){var t=this,e=0,i=this.axis;-1<(e=i._ticks.indexOf(this))&&i._ticks.splice(e,1),Dd(i.currentOptions.customTicks,(function(e){return e.id===t.id})),Dd(i.userOptions.customTicks,(function(e){return e.id===t.id})),(e=this.visuals).gridLine&&e.gridLine.destroy(),e.tickLine&&e.tickLine.destroy(),e.label&&e.label.destroy(),this.ciManager.remove(this)},e.prototype.visible=function(t,e){var i=this,n=this.visuals,r=function(t,n){t&&t.attr(i.attrBuilder({},{opacity:n?1:0},e))};t!==this._visible&&function(t){r(n.gridLine,t),r(n.tickLine,t),n.label&&r(n.label.el,t),i._visible=t}(t)},e}(eS),mk=function(t){return t instanceof Date?t.getTime():t},gk=["scale","staticColumnWidth","spacingPercentage"],vk=((ek={})[1]={line:{visible:!0}},ek[0]={line:{visible:!1}},ek),yk=function(t,e){return!e&&t&&t.pop&&(e=t[1],t=t[0]),t>e&&(t=(e=s([e,t],2))[0],e=e[1]),[t,e]},xk=function(t){return{string:"string",category:"string",number:"number",date:"time",time:"time"}[t]||t},bk=function(t){function e(e,i,n){var r=t.call(this,e.chart||e,i,[e,n,i])||this;return r.serList=[],r.catList=[],r.dataPositions=new ck,r.clusterCounts={},r.originValue=void 0,r.min=void 0,r.max=void 0,r.breaks=[],r.events={setRange:new Rx},r.isVisible=!0,r.type="",r.usedDataKeys=[],r.noData=!0,r.dataInfo={precision:0,seriesTypesUnique:[],serColl:void 0},r.isPrivate=!1,r.childAxes=[],r._ticks=[],r._markers=[],r.labelMode="normal",r.altGridFillVisuals=[],r.attribs={},r.initSizeMetrics=function(){r._sizeMetrics={clipped:[0,0],bbox:[0,0,0,0],length:0,size:[0,0],labelSize:[0,0],history:[]}},r.toPosition=function(t){var e=d(t),i="category"===r.type,n="time"===r.type;if("string"===e){if(-1<t.indexOf("%"))t=r.chartArea.chartAreaSet.replaceTokens({token:t},r.getFormatInfo());else if(n)return r._toPosition(new Date(t).getTime())}else{if(t.pop)return e=typeof t[0],t=Cd(t,(function(t){return r.toPosition(t)})),i&&!r.isRadial&&"string"===e&&(t=zd(t),t=zm(t,-.5)),t;if("object"===e&&n)return os(t,r.range?r.range.min:r.min,r.range?r.range.max:r.max);if(i)return t}return r._toPosition(t)},r.toText=function(t){return t},r._toPosition=function(t){return t},r._autoTimeFormats={},r._incompatableTypes={stackedFull:"time"},r.overflowSize={tL:[0,0],bR:[0,0],margins:[0,0,0,0]},r._nRects=[],r.zoomRange=[],"chartArea"===e.kind&&(e._axes.push(r),("x"===n?e.xAxis:e.yAxis).push(r),e.chartAreaSet._axes.push(r)),r.initSizeMetrics(),r.possibleKeys=function(t){var e="sv"+("x"===t?"x":"");return[""+t,t+"s",t+"e",""+e,e+"s",e+"v"]}(n),r.resetMetricsData(),r.initFP(),r.options(i,!1),r}return n(e,t),e.prototype.getFormatInfo=function(t,e){var i=!!e,n=i?"_formatInfo":"_formatInfoData";if(!this[n]||h(t)){var r={},o=this.currentOptions,s=this.dataType,a=0,l=!1;e&&(l=e.split(" "),e=l[0],l="first"===l[1]),r.fStr=o.formatString,r.culture=o.cultureName||this.chart.currentOptions.defaultCultureName||"en-US",r.fStr?(r.fStrStrict=!0,r.precision=this.dataInfo.precision):"number"===s?(!1!==this.options("defaultTick.enabled")&&this.tickPositions&&this.tickPositions.all.length&&(a=li(function(t){var e=[];return lm(t,(function(t){return e.push(t)})),_d(zd(e))}(this.tickPositions.all))),e=void 0,!i&&h(e=this.dataInfo.precision)&&(e=Math.min(e,3),e=Math.max(e,a),r.fStr="n"+e)):"time"===s&&(r.fStr=h(t)?{year:"yyyy",month:"MMM",day:"d",hour:"t",minute:"t",second:"T",millisecond:"fff"}[Py(t)]:"d",r.fStr=this._autoTimeFormats[e]||r.fStr,"major"===e&&l?r.fStr=this._autoTimeFormats.majorFirst:"minor"===e&&l&&(r.fStr=this._autoTimeFormats.minorFirst)),r.isTime="time"===s,!r.fStr||r.isTime&&h(t)||(this[n]=r)}return r||this[n]},e.prototype.format=function(t,e){var i=this;e=i.getFormatInfo(t,(void 0===e?{tickType:null}:e).tickType);var n=function(t){return h(t)&&t.toFixed&&-1<t&&i.catList.length>t?i.catList[t]:""};if("category"===i.type){if(h(t)){if(t.pop&&2===t.length&&0==t[0]%.5&&0==t[1]%.5){if(1!==ai(t[0],t[1]))return t=zd(t),lm([t[0]+.5,t[1]-.5],n);t=Qe(ti(t))}if(n=n(t))return n}}else{if("time"===i.type)return e=e.fStr,i.formatter("object"==typeof e?e:void 0).formatDate(new Date(t),e);i.isStackedFull()&&(t*=100)}return i.formatter().formatNumber(t,e.fStr)},e.prototype.formatter=function(t){return t?new Pg(this.currentOptions.cultureName||"en-US",t):(this._formatter||(this._formatter=new Pg(this.currentOptions.cultureName||"en-US",{})),this._formatter)},e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t=(e=s(t,2))[0],e=e[1],"chartArea"===t.kind&&(this.chartArea=t),this.prefix=e,this.defaultContextOptions=c(this.chart,"typeContextOptions.axes."+e)||{};var i=t.ctManager||t.ctm;t.isHoriz||i&&i.isHoriz()?this.isHoriz="y"===e:"x"===e&&(this.isHoriz=!0),this.isRadial=!1,this.updateOptions={animation:this.chart.options("animation")},this.defaultMutable=!0},e.prototype.initFP=function(){var t=this;t.ticks=or(Gg,(function(){return t._ticks}),(function(){return 0}),{push:function(e,i){t.userOptions.customTicks=t.userOptions.customTicks||[],t.userOptions.customTicks.push(e),t.setOptions(),!1!==i&&(t.render(void 0,i).renderOnCa(i),!t.valVisible(e.value)&&t.chart.redraw(i))}}),t.markers=or(Gg,(function(){return t._markers}),(function(){return 0}),{push:function(e,i){(function(t,e,i){var n,r=t.childAxes.length?t.childAxes.splice(0):[t];Ad(r,(function(r){r.userOptions.markers=r.userOptions.markers||[],r.userOptions.markers.push(e),r._markers.push(new lk(r,e)),n=!0,r.syncLegend(),t.chart.isRendered&&!1!==i&&t.chart.renderer.refresh(),!1!==i&&r.renderOnCa(i)})),n&&t.chart.isRendered&&!1!==i&&t.chart._legends[0].isVisible&&(t.chart.chartAreaSet.reflow(i),t.chart.renderer.refresh())})(t,e,i),!1!==i&&t.renderOnCa(i),t.chart.chartAreaSet.reflow(i),!1!==i&&!t.valVisible(e.value)&&t.chart.redraw(i)}})},e.prototype.normalizeOptions=function(e){var i,n;if("undefined"!==(n=d(i=p(e=t.prototype.normalizeOptions.call(this,e),["scale","range"])))){var r=function(t){return"number"===(t=d(t))||"string"===t};"array"===n?("time"===e.scale.type&&(_e(i[0])&&(i[0]=hp(i[0])),_e(i[1])&&(i[1]=hp(i[1]))),Le(e,"scale.range",{min:i[0],max:i[1]})):"object"===n&&("time"===e.scale.type&&(_e(i.min)&&(i.min=hp(i.min)),_e(i.max)&&(i.max=hp(i.max))),h(i.min)&&!r(i.min)&&(i.min=void 0),h(i.max)&&!r(i.max)&&(i.max=void 0))}return h(p(e,["scale","invert"]))&&Le(e,"scale.invert",!0===p(e,["scale","invert"])),Ad(e.markers,Wo),e.customTicks&&(e.customTicks=Cd(e.customTicks,(function(t,e){return"number"==typeof t?{value:t}:(t._lI=e,t)}))),e},e.prototype.defaultOptions=function(){var t=this.chart.options("defaultCultureName");this.defaultContextOptions.cultureName=t||"en-US",t=function(t){var e={scale:{type:"auto",defaultBreak:{type:"zigzag",line:{width:10,color:"#d6d6d6"}}},crosshair:{snapToData:!0,gridLine:{width:1,dashStyle:"longdash",color:"#BDBDBD",visible:!0},fill:"#fff",outline:{color:"#a9a9a9"},radius:3,corners:"round"},label:{align:"center",margin:5,style:{color:"#474747",fontSize:"13px",fontWeight:"normal"}},line:{color:"#A0A0A0",width:1},defaultTick:{gridLine:{width:1,color:"#e6e6e6",visible:"auto"},line:{color:"#e2e2e2",length:5},label:{offset:"0,0",style:{color:"#5f5f5f",fontSize:"12px"},margin:5},fill:"none",outline:"none",padding:3},defaultMinorTick:{gridLine:{width:1,color:"rgba(223,223,223,0.59)",dashStyle:"ShortDash"},line:{color:"#e2e2e2",length:4,width:1},padding:3,label:{style:{color:"#7b7b7b"}}},defaultHiddenTick:{label:{opacity:.05,offset:null},gridLine:{opacity:.2},line:{opacity:.5}},spacingPercentage:.2,originTick:{gridLine:{color:"#f0cfcd"}},autoRotate:-45};if("y"===t.prefix){var i=t.range,n=i&&i.min,r=i&&i.max;if(h(n)&&h(r)){var o=Math.max(Math.abs(n),Math.abs(r));1e4<o&&(t.type||t.isLog()||(e.defaultTick.label.text=function(e){var i=t.currentOptions.formatString||"",a="c"===i[0],h=i.slice(1);if(i=a?"c":"n",e){var l=(r-n)/(t._ticks.length||1),u=s(Fg(o),2),c=u[1];return u=Math.pow(1e3,u[0]),l=Math.log(u/l)/Math.log(10),a=h||Math.max(a?2:0,0<l?Math.ceil(l):0),e/u!==Math.round(e/u)&&a++,"{%value/"+u+":"+i+a+"}"+c}return"{%value:"+i+(h||(a?2:0))+"}"}))}}if(t.isLog()&&(e.formatString="g10"),t.isHoriz||(wd(e,{alternateGridFill:"#f7f7f7"}),delete e.autoRotate),"x"===t.prefix){var a=(i=t.range)&&i.min;i=i&&i.max,h(a)&&h(i)&&1e3<=a&&9999>=i&&(e.formatString="d")}return wd(e,vk[t.chart.getStyling()])}(this);var e=this.chart.currentOptions.defaultAxis;return e&&wd(t,e),this.defaultContextOptions?wd(t,this.defaultContextOptions||{}):t},e.prototype.dependentOptions=function(){return[{option:["line.color","line.width","line.breaks"],check:function(t){return t},dependent:"line.visible",value:!0}]},e.prototype.options=function(t,e){var i=this.chart,n=i.currentOptions.defaultAxis||{},r=this.optionsGetter(t);if("NotGetter"!==r)return r;t=wd({},t),t=this.normalizeOptions(t),this.invalidate(),r=(r=t.orientation)&&r!==this.userOptions.orientation;var o=ze(t);if(0<Ed(o,gk).length&&Ad(this.serList,(function(t){return t.seriesDirty.all(!0)})),wd(this.userOptions,t),this.setOptions(),h(o=this.options("visible"))&&(this.isVisible=o),this.currentOptions.staticDraggable&&(this._isDragHost=!0),t.events&&(o=t.events.setRange)&&this.events.setRange.on(o),(t.defaultTick||t.defaultMinorTick)&&this.ticks().each((function(e){wd(e.defMinorTickOptions,t.defaultTick,t.defaultMinorTick),e.options({},!1)})),r&&this.isAdded&&this.resetVisuals(),r=this.rootVisuals,(t.label||n.label)&&r&&r.label&&r.label.options(this.currentOptions.label),h(np(this))&&(n=this.getParentPanel(),(r=p(this.rootPanel,["parent"]))&&n&&r!==n&&(this.parentLayoutItem=n||this.renderer,this.rootPanel.add(n),this.applyCaOffset())),!1!==e){e=this.normalizeUpdateOpt({animation:i.currentOptions.animation},e),this.chartArea.invalidate(),this.setRange(),i.redraw(e);var s=!0}return i.triggerOptionsApplied("axis",this),!s&&this.afterUpdate(e),this},e.prototype.getParentPanel=function(t){var e=this.currentOptions;return t=t||p(this.rootPanel,["parent"]),h(e.caOffset)&&!1!==this.isVisible&&t&&t instanceof KA?t.parent:t},e.prototype.invalidate=function(){return this._formatter=this._formatInfoData=this._formatInfo=void 0,this.setOptions(),this},e.prototype.getRange=function(){var t=this.range;return{min:t.min,max:t.max,dataMin:this.min,dataMax:this.max}},e.prototype.getCategories=function(){return"category"===this.type?this.catList?this.catList.slice(0):[]:void 0},e.prototype.syncLegend=function(){Ad(this._markers,(function(t){t.syncLegendEntry()}))},e.prototype.setData=function(t){void 0===t&&(t=!1);var e=this,i=e.prefix,n=e.chartArea,r=e.currentOptions,o=c(r,"scale.syncWith")||"",s=n.isZoomLive(),l=[],u=0,f=[],d=n.ctManager,m=d.isType("heatmap")||d.isType("calendar");e.isHeatmap=m,d=e.chart.options("axisToZoom");var g=n.getZoomAxes()[0],v="y"===i&&g&&(!d||-1===d.indexOf("y"))&&(g&&g.isZoomed||n.axes("x").isZoomed);if(e.options("type"),this._isDragHost)return this;if(n=e.dataInfo.serColl=e.getSeriesColl((function(t){return t.isVisible})),"map"===e.options("type")){var y=!0;if(n.each((function(t){y&&"map"!==t.type&&(y=!1)})),n=e.dataInfo.serColl=n.filter((function(t){return"map"!==t.type})),y)return e.mapsOnly=!0,this}n.each((function(t){return t.seriesDirty.pointIndex()&&t.setDataInfo()}));var x=[];if(e.applyAxisSync(o,n))return this;var b=e.possibleKeys.slice(0);if(e.isStackedFull()&&b.splice(b.indexOf("y"),1),n.each((function(t){f.push.apply(f,a(Ed(t.indexer.getKeys(),b)))})),!f.length){if(!(r=p(r,["scale","range"]))||r.pop||h(r.min)||h(r.max)||(r=void 0),!r||"none"===o)return e.noData=!0,this;e.data=r.slice?r.slice(0):[r.min,r.max]}e.noData=!1,e.usedDataKeys=kd(f);var w=!0;e.serList=n.each((function(t){var i,n=t.indexer;if(x.push(t.type),v&&t.xAxis.isZoomed){var r=t.xAxis.range;if(r=[r.min,r.max],t.info.labelTextInfo.xNotSorted){for(var o=n.data.x,h=n.data.y,c=i=void 0,p=void 0,f=void 0,d=[],g=0,y=o.length;g<y;g++){var b=o[g];(void 0===i||b>r[0]&&b<i)&&(i=b,d[0]=g),(void 0===c||b<r[1]&&b>c)&&(c=b,d[1]=g),b<r[1]&&b>r[0]&&(b=h[g],(void 0===p||p<b)&&(p=b),(void 0===f||f>b)&&(f=b))}o=[f,p]}else-1===(d=[(d=[n.findInterpolatedInfo("x",r[0]),n.findInterpolatedInfo("x",r[1])])[0].i+1,d[1].i])[0]&&-1===d[1]?d=void 0:(-1===d[1]?d=[d[0]]:-1===d[0]&&(d[0]=0),2===d.length&&(d[1]++,d[1]=qd(d[1],d[0]+1,n.lengths.x-1)),o=[t.yAt(r[0]),t.yAt(r[1])])}for(g=0,r=e.usedDataKeys.length;g<r;g++)if("svv"===(h=e.usedDataKeys[g])||"svxv"===h?i=n.dataFlat[h]:(i=n.getKey(h),d&&(i=i.slice.apply(i,a(d)),"y"===h&&(i.splice(0,0,o[0]),i.push(o[1])))),m&&(i=kd(i)),i&&i.length){for(c=l.length,p=0,f=i.length;p<f;p++)y=i[p],w&&l[p+c-1]>y&&(w=!1),l.push(y);s?u=e.dataInfo.precision:(i=n.uniqTypes[h])&&-1<i.indexOf("number")&&(u=Math.max(n.countDecimals(h),u))}e.isHeatmap&&(l=kd(l)),A=A||t.info.labelTextInfo.xNotSorted||!1===t.info.xIsSorted||!1===w})).items;var A="x"!==i||A;return e.dataInfo={precision:u,seriesTypesUnique:kd(x),serColl:n},e.data=l,Dd(l,(function(t){return Oe(t)||Qd(t)})),l&&"object"==typeof l[0]?(i=Cd(l,(function(t){return t.getTime()})),e.dataSortedUniq=Cd(_d(A?zd(i):i),(function(t){return new Date(t)}))):e.dataSortedUniq=_d(A?zd(l):l),e.invalidate(),!t&&e.detectType(),this},e.prototype.applyAxisSync=function(t,e){var i=this;if(t||(t=function(t,e){if(!e.items.length&&!p(t.currentOptions,["scale","range"]))return(e=t.chartArea.chartAreaSet.freeAxes[t.prefix].id)!==t.id&&e}(this,e)),t=this.syncAxis=this.ciManager.exists(t)){this.min=t.min,this.max=t.max,this.range=xd(t.range),this.type=t.type,this.dataType=t.dataType,this.usedDataKeys=t.usedDataKeys.slice(0),this.catList=t.catList.slice(0),this._toPosition=t._toPosition;var n=c(t.currentOptions,"scale.type");return n&&!c(this.userOptions,"scale.type")&&(this.currentOptions.scale=this.currentOptions.scale||{},this.currentOptions.scale.type=n),"category"===t.type&&(e.each((function(t){t.reIndexStringVals(i)})),e.items.length||(this.dataPositions=xd(t.dataPositions),this.resetTicksLabels())),this.setViewState(!0),!0}},e.prototype.detectType=function(){var t,e=this,i=this,n=[];i.prefix;var r=[],o=i.usedDataKeys;if(i.mapsOnly)return i.dataType=xk("number"),this;var s=i.getSeriesColl().items;Ad(s,(function(e){Ad(o,(function(o){(t=e.indexer.uniqTypes[o])&&n.push.apply(n,a(t)),t&&"string"===t[0]?(r.push(e.indexer.getKey(o)),e._catCache=e._catCache||[],e._catCache[o]=e.indexer.getKey(o)):"category"===i.type&&t&&"number"===t[0]&&p(e._catCache,[o,"length"])&&r.push(e._catCache[o].slice(0))}))})),r=Cd(r,kd);var h=i.currentOptions.categories,l=h&&h.length;if(l)if(r.length){h=h.slice(0);var u=[];r.forEach((function(t){return u.push.apply(u,a(t))})),u=kd(u);var f=md(u,(function(t){return-1===h.indexOf(t)}));f.length?(r=h).push.apply(r,a(f)):r=h}else r=h;f=(n=kd(n))[0],1<n.length||(i.dataType=xk(f)),f=c(i.userOptions,"scale.type"),f=this.checkTypeCompatability(f,i.dataType)&&f||c(i.contextOptions(),"scale.type");var d=function(t){i.dataType=xk(i.type="category"),t.length&&Array.isArray(t[0])&&"string"==typeof t[0][0]&&(t=Ql(t)),i.catList.length&&t.length&&i.catList.join("")!==t.join("")&&i.resetTicksLabels();var e=i.catList=t;i.childAxes&&Ad(i.childAxes,(function(t){return t.resetTicksLabels()})),i._toPosition=function(t){return e.indexOf(t)}};return-1<n.indexOf("string")?("time"===f?(i.dataType=i.type="time",i._toPosition=hp):"map"!==i.chart.ctManager.settingVal("chartType")&&d(l?r:Ql(r)),Ad(s,(function(t){t.reIndexStringVals(e)})),i.setData(!0)):-1<n.indexOf("date")?(i.dataType=i.type="time",i._toPosition=hp):-1<n.indexOf("number")&&r&&r.length||r&&r.length&&!f?(d(r),i.dataType="number",i._toPosition=function(t){return t}):"time"===f&&(i.dataType=i.type="time"),i.originValue="category"!==i.type&&"time"!==i.type?0:void 0,this._duV=void 0,this},e.prototype.checkTypeCompatability=function(t,e){var i=!t||!e||this._incompatableTypes[t]!==e;return!i&&Wg.emit("warning",this.id,"incompatableAxisTypeOptions",{container:this.chart.getWrapper(),data:[t,e]}),i},e.prototype.getSeriesColl=function(t){var e=this,i=e.parentAxis||e;return t?"function"==typeof t?e.chart.series((function(n){var r;return(null===(r=n[e.prefix+"Axis"])||void 0===r?void 0:r.id)===i.id&&t(n)})):(t[e.prefix+"Axis"]={id:i.id},e.chart.series(t)):e.chart.series((function(t){var n;return(null===(n=t[e.prefix+"Axis"])||void 0===n?void 0:n.id)===i.id}))},e.prototype.setRange=function(t,e){var i,n=this,r=this,o=r.syncAxis,s=r.currentOptions,l=r.currentOptions.scale,u={axOptions:s,axLength:r._sizeMetrics.length},f=r.range,m=wd({},r.range),g=r.toPosition;if(r.noData||r._isDragHost||r.mapsOnly)return this;r.snapToZero=!1,l.includeOrigin?u.snapZero=!0:"time"!==r.type&&(r.chartArea,"y"===r.prefix&&r.getSeriesColl({info:{type:{snapToZero:!0}}}).items.length&&(u.snapZero=!0)),r.snapToZero=u.snapZero,f=function(t){y=r.min=t[0],x=r.max=t[1]};var v=r.dataSortedUniq;if(ri(v=[v[0],v[v.length-1]])||!ri([r.min,r.max])){if(o?f([o.min,o.max]):("time"===r.dataType?f(Cd(v,r._toPosition)):f(v),function(t){var e=[],i=s.markers;t=t.getCustomTicks();var n=[];i&&e.push.apply(e,a(i)),t&&e.push.apply(e,a(t)),Ad(e,(function(t){t.includeInScale&&((t=g(t.value)).pop?n.push.apply(n,a(t)):n.push(t))})),n.length&&(e=[Math.min.apply(Math,a(n)),Math.max.apply(Math,a(n))],x=Math.max(x,e[1]),y=Math.min(y,e[0]))}(this)),y===x)if(r.snapToZero&&0<y&&0>y-.2)var y=0,x=.2;else y-=.2,x+=.2;if(!o&&Fe(u,r.userOptions,(function(t,e){Oe(e)||(t.userMin=Oe(e.min)?void 0:g(e.min)-.2,t.userMax=Oe(e.max)?void 0:g(e.max)+.2)}),"scale.range"),Fe(u,r.userOptions,(function(t,e){null!==e&&"object"==typeof e&&"time"!==r.dataType&&"time"!==r.type?Wg.emit("warning",r.id,"objInterval",{data:[r.prefix],container:n.chart.getWrapper()}):t.userInterval=e}),"scale.interval"),!o&&r.setAutoScaleBreaks(),u.breaks=o?o.breaks:r.breaks,!o&&Fe(u,r.currentOptions,(function(t,e){"array"===d(e)&&(t.breaks=e)}),"scale.breaks"),u.minInterval=c(s,"scale.minInterval"),u.userMinorInterval=l.minorInterval,f=h(f=p(s,["scale","maxTickCount"]))?Math.max(f-1,2):f,r.isZoomed)y=mk(r.zoomRange[0]),x=mk(r.zoomRange[1]),u.userMin=y,u.userMax=x,(f=r.range=ql(y,x,Se(f,8),u)).min=mk(y),f.max=mk(x);else{o=c(r.userOptions,"scale.range.min"),l=c(r.userOptions,"scale.range.max"),v=Se(o,y);var b=Se(l,x);r.isStackedFull()?((f=r.range=ql(y,x,Se(f,10),u)).min=0,f.max=1):"z"!==r.prefix||u.snapZero?(f=r.range=ql(v,b,Se(f,8),u),"time"===r.type&&(f.min=y,f.max=x)):f=r.range={min:r.min,max:r.max},Oe(o)||(f.min=g(o)),Oe(l)||(f.max=g(l)),r.unZoomedRange={min:f.min,max:f.max}}return h(i=c(s,"scale.minorInterval"))&&"number"==typeof i&&(f.minorInterval=i),h(i=c(s,"scale.interval"))&&i&&"auto"!==i&&(f.interval=i),h(i=c(s,"scale.zoomLimit"))?r.zoomLimit=i:r.zoomLimit=r.viewState?Math.max(r.linToVal(5)-r.linToVal(0),.001*(r.max-r.min)):.05*(f.max-f.min),r.loadDPs().adjustRange().setViewState(t,e),m.min===f.min&&m.max===f.max||r.getSeriesColl({isVisible:!0}).each((function(t){return t.seriesDirty.pos(!0)})),this}},e.prototype.removeMarker=function(t){var e=this;t=this._markers.indexOf(t),Dd(this.currentOptions.markers,(function(t){return t.id===e.id})),this._markers.splice(t,1)},e.prototype.adjustRange=function(){var t=this,e=t.snapToZero,i=t.min,n=t.max,r=t.isHoriz!==t.chartArea.isHoriz&&"x"===t.prefix,o=.5,s=function(e){return p(t.userOptions,["scale","range",e])},l=s("min"),u=s("max"),c=s("padding");if(!t.syncAxis&&!t.isZoomed){if(s=t.range,t.isHeatmap)r=.5,"category"!==t.type&&(r=t.shortestValDistance/2),s.min=Oe(l)?i-r:t.normUserValue(l),s.max=Oe(u)?n+r:t.normUserValue(u);else if(h(c))r=0,Nd(c)?r=ai(n,i)*c:"time"===t.type&&c.unit&&(r=rs(c).unitRange),i=[i-r,n+r],e&&(i=[Math.min(i[0],0),Math.max(i[1],0)]),s.min=Oe(l)?i[0]:t.normUserValue(l),s.max=Oe(u)?i[1]:t.normUserValue(u);else{var f=(e=t.getSeriesColl((function(t){return t.isVisible}))).filter((function(t){return t.info&&t.info.type.drawRect}));e=e.filter((function(t){return t.info&&"bubble"===t.info.type.seriesType})),c=0<f.items.length;var d=0<e.items.length;if((c||d)&&(o+=t.options("spacingPercentage")/2.2),"category"===t.type)s.min=Oe(l)?i-o:l,s.max=Oe(u)?n+o:u;else{if(r&&!t.isLog()){var m=void 0,g=[],v=0;f.each((function(t,e){t.indexer.calculations.x&&(g.push(t.indexer.min("x"),t.indexer.max("x")),v=Math.max(v,t.indexer.data.x.length))}));var y=g[0]===i&&g[1]===n;if(f.items.length&&g.length){var x=t.getShortestDistPerc();m=[Math.min.apply(Math,a(g)),Math.max.apply(Math,a(g))],x=(ai(n,i)||0)/Math.max(v-1,1),x*=o,y?(0===x&&(x=o),s.min=m[0]-x,s.max=m[1]+x):(s.min=Math.min(m[0]-x,s.min),s.max=Math.max(m[1]+x,s.max)),x=!0}g=[],v=0,e.each((function(t,e){t.indexer.calculations.x&&(g.push(t.indexer.min("x"),t.indexer.max("x")),v=Math.max(v,t.indexer.data.x.length))})),o=.1,f=g[0]===i&&g[1]===n,e.items.length&&g.length&&(o*=(m=[Math.min.apply(Math,a(g)),Math.max.apply(Math,a(g))])[1]-m[0],f?(s.min=m[0]-o,s.max=m[1]+o):(s.min=Math.min(m[0]-o,s.min),s.max=Math.max(m[1]+o,s.max)),x=!0)}s.min=Oe(l)?s.min:t.normUserValue(l),s.max=Oe(u)?s.max:t.normUserValue(u),x||"category"===t.type||t.isLog()||!r&&"time"!==t.type||(r=c?.05:d?.1:.02,r*=ai(s.max,s.min),Oe(l)&&(s.min=i-r),Oe(u)&&(s.max=n+r))}}t.isLog()&&t.minAbsValue&&(l=t.minAbsValue,u=Math.log(Math.abs(l))/Math.log(p(t.userOptions,["scale","logBase"])||10),i=function(t){var e=Math.floor(t);return.3>t-e?e-1:e},n=function(t){var e=Math.ceil(t);return.3>e-t?e+1:e},l=0>l?n(u):i(u),t.range.smLog=l,0===t.range.max?t.range.log[1]=l:0===t.range.min&&(t.range.log[0]=l)),t.unZoomedRange={min:s.min,max:s.max}}return this},e.prototype.setAutoScaleBreaks=function(){return this.autoScaleBreaks(),this},e.prototype.autoScaleBreaks=function(){function t(t,e){t.sort(e?function(t,e){return t[2]-e[2]}:function(t,e){return e[2]-t[2]})}var e=this.dataSortedUniq,i=[this.min,this.max],n=this.max-this.min,r=0,o=0,s=100,a=[],h=c(this.userOptions,"scale.breaks.limit"),l=c(this.userOptions,"scale.breaks"),u=[];if(h){if(l=c(this.currentOptions,"markers")){n=0;for(var p=l.length;n<p;n++){var f=l[n],m=void 0;"array"===d(f.value)&&1<f.value.length?(m=this.toPosition(f.value[1]),e.push(m)):m=this.toPosition(f.value),(Tm(i,m)||f.includeInScale)&&e.push(m)}e.sort((function(t,e){return t<e?-1:t>e?1:0})),n=(e[e.length-1]>this.max?e[e.length-1]:this.max)-(e[0]<this.min?e[0]:this.min)}for(t(i=function(t){for(var e=[],i=0,n=t.length;i<n;i++)i&&e.push([t[i-1],t[i],t[i]-t[i-1]]);return e}(e),!0),l=0;l<i.length;l++)e=(p=i[l][2])/n*100,p<.08*n&&(e<s&&(s=e),r++,o+=p);if(o/=r,0<r){if(e=n/(e=.08/(s/100))*(e-1),f=3>r?35:10>r?30:15>r?25:20>r?20:15,7>s&&1<=r){for(l=0,r=i.length;l<r;l++)(p=(m=i[l])[2])>10*o&&p/n*100>f&&a.push(m);for(t(a,!1),o=[],r=0,i=a.length;r<i&&r<h;r++)o.push(a[r]);for(h=r=0,o=(a=o).length;h<o;h++)i=a[h],r<e?r+=i[2]:(a.splice(h--,1),o=a.length);if(a.length)for(e=r=void 0,e=r=8<n/(h=n-((h=(h=function(t){var e=[];t[0][0];for(var i=0,n=t.length;i<n;i++)e.push(t[i][0]),e.push(t[i][1]);return[Math.min.apply(null,e),Math.max.apply(null,e)]}(a))[1]-h[0])- -.2*(n-h)))*s?.4*h:.2*h,1<a.length&&(r=e=2*r),h=0,o=a.length;h<o;h++)s=a[h],"time"===this.type&&(s[0]=mk(s[0]),s[1]=mk(s[1])),s[0]+e>s[1]-r?(n=.2*s[2],s[0]+=n,s[1]-=n):(s[0]+=e,s[1]-=r),u.push(s)}(function(t,e){void 0===e&&(e=!0),t.sort(e?function(t,e){return t[0]-e[0]}:function(t,e){return e[0]-t[0]})})(u),this.breaks=u}else this.breaks=[]}else l&&(this.breaks=sp(this,l))},e.prototype.loadDPs=function(){var t=this,e=this,i=e.chartArea;if("chartArea"!==i.kind||!i.isZoomLive()){var n=this.dataPositions;n.reset();var r=function(t){return t};Ad(this.serList,(function(i){if(i.isVisible){var o=i.indexer.getKey(t.prefix);o=o.length?o:e.data.slice(0);var s=i.indexer.uniqTypes[t.prefix];s&&"date"===s[0]&&(r=function(t){return t.getTime()}),s=0;for(var a=o.length;s<a;s++){var h=n.add(r(o[s])),l=i.info.type;l.clusters&&(h.clusters[l.seriesType]=(h.clusters[l.seriesType]||0)+1)}}})),this.loadDPs_shortestDistance(),this.loadDPs_minAbsValue()}return this},e.prototype.normUserValue=function(t){var e=this.toPosition(t);return this.isRadial||"category"!==this.type||"string"!=typeof t||(e=[e-.5,e+.5]),e},e.prototype.getShortestDistPerc=function(){return this.syncAxis?this.syncAxis.getShortestDistPerc():h(this.shortestValDistance)?this.shortestValDistance/(this.range.max-this.range.min):1},e.prototype.setTickPositions=function(){var t=this,e=t.currentOptions,i=e.scale||{},n=!1!==c(e,"defaultTick.enabled"),r=!1!==c(e,"defaultMinorTick.enabled"),o=t.range,s=[];e=[];var l,u=i.interval,p=i.minorInterval,f=t.getPointTicks(),d=t.getCustomTicks();t.pointTicks={values:f.map((function(t){return t.value})),configs:f.map((function(t){return t.config})),points:f.map((function(t){return t.point}))};var m=i.type&&0===i.type.toLowerCase().indexOf("log"),g=i.logBase||10;u&&"auto"!==u||(u=void 0);var v=function(e){var i=[];return Ad(e,(function(e){t.valVisible(e)&&i.push(e)})),i};if(m&&!h(u))n=function(e,i,n,a){void 0===a&&(a=100);var h=0,u=r&&"auto"===p;u&&(l=l||[]);for(var c=function(){if(y=parseFloat(Math.pow(g,e).toFixed(7))*(n?-1:1),t.valVisible(y)&&s.push(y),e+=i,u){var r=y,c=parseFloat(Math.pow(g,e).toFixed(7));Fd(10,(function(e){e&&(-1===s.indexOf(r)&&Math.abs(r)<Math.abs(c)&&t.valVisible(r)&&l.push(r),r+=y)}))}f=h++>a||y>o.max||y<o.min};!f;)c();if(r&&"auto"===p)for(e=o.log[0];!f;){-1===s.indexOf(y)&&t.valVisible(y)&&l.push(y);var f=!0}},0===o.min?(n(o.smLog,1,!1),o.logMin=Math.log(s[0])/Math.log(g),t.valVisible(0)&&s.push(0)):0===o.max?(t.valVisible(0)&&s.push(0),n(o.smLog,1,!0),o.logMax=Math.log(Math.abs(s[s.length-1]))/Math.log(g)):0<o.min?n(Math.floor(o.log[0]),1,!1):0>o.max?n(Math.floor(o.log[1]),1,!0):(-1<o.min&&(n(Math.ceil(o.log[0]),-1,!0,1),o.logMin=Math.log(Math.abs(s[s.length-1]))/Math.log(g)),1>o.max&&(n(Math.ceil(o.log[1]),-1,!1,1),o.logMax=Math.log(s[s.length-1])/Math.log(g)),-1>=o.min&&n(o.logMax||o.smLog||0,1,!0),t.valVisible(0)&&s.push(0),1<=o.max&&n(o.logMin||o.smLog||0,1,!1)),o.logRange=s.length-1;else if("category"===t.type)n&&(s=v(t.dataPositions.toArray()),(n=t.catList)&&n.length&&s.length<n.length&&(s=v(n.map((function(t,e){return e})))),t.isRadial||(s=s.map((function(t){return[t-.5,t+.5]}))));else if("time"===t.type)!n||u||p||i.minInterval?(n&&(s=t._getTimeTickPositions()),r&&h(p)&&(l=t._getTimeTickPositions(!0))):(n=t._getTimeTickPositionsAuto(),s=n.major,l=n.minor);else{if(i=u||o.interval,v=li([o.min,o.max,i]),n){var y=Qe(pm.floor(o.min/i)*i,v);for(n=1,u=y;y<=o.max;)t.valVisible(y)&&s.push(y),y=Qe(u+i*n++,v)}if(r&&h(o.minorInterval))for(v=li([o.min,o.max,o.minorInterval]),y=Qe(pm.floor(o.min/o.minorInterval)*o.minorInterval,v),l=[],n=0,u=y;y<=o.max;)-1===s.indexOf(y)&&t.valVisible(y)&&l.push(y),y=Qe(u+o.minorInterval*n++,v)}if(t.invalidate(),d){var x=[],b=[];for(n=0,i=d.length;n<i;n++)if(v=d[n],"time"!==t.type||"object"!=typeof v.value||v.value.pop||"function"==typeof v.value.getMonth)h(v.value)&&(m=u=t.toPosition(v.value),t.isRadial||"category"!==t.type||("string"==typeof v.value&&(u=[u-.5,u+.5]),2===u.length&&(m=zm(u,.1))),t.valVisible(m)&&(x.push(u),s.push(u)));else for(u=os(v.value.pattern||v.value,t.min,t.max),m=0;m<u.length;m++)u[m].v=v.value,t.valVisible(u[m])&&(x.push(u[m]),s.push(u[m]));!b.length&&(b=void 0)}if(f&&f.length)for(n=0,i=f.length;n<i;n++){if(v=f[n],u=t.toPosition(v.value),!t.isRadial&&"category"===t.type){u=[u-.5,u+.5];var w=!0}t.valVisible(u)&&(x.push(u),s.push(u))}return t.tickPositions=_d(w?s:zd(s)),e.push.apply(e,a(s)),x&&(t.tickPositions.custom=x,e.push.apply(e,a(x))),b&&(t.tickPositions.cpPositions=b,e.push.apply(e,a(b))),l&&(t.tickPositions.minor=l,e.push.apply(e,a(l))),w=t.tickPositions.length===f.length&&w,t.tickPositions.all=_d(w?e:zd(e)),this},e.prototype._getTimeTickPositions=function(t){var e=this.range,i=this.options("scale."+(t?"minorInterval":"interval"));i&&"auto"!==i||(i=void 0);var n=rs(i||e.interval),r=Se(t=h(t=p(this.currentOptions,["scale","maxTickCount"]))?Math.max(t,2):t,10);return!i&&e.range/(n.unitRange*n.count)>r&&(n=rs(e.range)),e.timeInterval=n,t=ns(n,void 0,new Date(Math.round(e.min)),new Date(Math.round(e.max))),!i&&t[0].length>2*r&&(n.multiplier=Math.floor(t[0].length/r),t=ns(n,void 0,new Date(Math.round(e.min)),new Date(Math.round(e.max)))),this._autoTimeResult=e={intervals:t,pair:{major:{unit:n.unit,multiplier:n.count},minor:{unit:n.unit,multiplier:n.count}},sigUnits:is(t)},this._autoTimeFormats=es(e),t[0]},e.prototype._getTimeTickPositionsAuto=function(){var t=this.range;t=[new Date(Math.round(t.min)),new Date(Math.round(t.max))];var e=p(this.currentOptions,["scale","maxTickCount"]);return e=Se(e=h(e)?Math.max(e,2):e,10),e=(t=function(t,e,i,n){var r,o,s=Ey(),a=function(i){return r=i=ns(i.major,i.minor,t,e),i[0].length+(i[1]?i[1].length:0)},h=0,l=0;if(n)var u=o=n.pair,c=a(n.pair),p=r;else for(;l<i&&(o=s[h])&&!((l=a(o))>i||3<r.minorRemoval.close);)h++,u=o,c=l,p=r;return{pair:u,count:c,intervals:p,sigUnits:is(p)}}(t[0],t[1],e,this.chartArea.isDragging&&this._autoTimeResult)).intervals,this._autoTimeResult=t,this._autoTimeFormats=es(t),{major:e[0],minor:e[1]}},e.prototype.loadDPs_shortestDistance=function(){var t=this.range;return this.shortestValDistance=this.dataPositions.getShortestRange(),this.shortestPercDistance=this.shortestValDistance/(t.max-t.min),this},e.prototype.loadDPs_minAbsValue=function(){this.isLog()&&(this.minAbsValue=this.dataPositions.getSmallestAbsValue())},e.prototype.isLog=function(){return op(this,(function(t){return 0===t.toLowerCase().indexOf("log")}))},e.prototype.isStacked=function(){return op(this,(function(t){return-1<t.indexOf("stacked")}))},e.prototype.isStackedFull=function(){return op(this,(function(t){return"stackedfull"===t.toLowerCase()}))},e.prototype.getValToLin=function(){return this.viewState?this.viewState.valToLin:void 0},e.prototype._getValToLin=function(){var t=this,e=t.range,i=t.breaks,n=t.isInverted(),r=n?[0,1]:[1,0];if(i.length){var o=(n=t._openRanges()).ranges,s=n.sum;return function(t){var n;return(n=ji(o,t))?ii(r[0],r[1],0,s,t-n[0]+n[2]):(n=ji(i,t))&&(n=ji(o,n[0]))?ii(r[0],r[1],0,s,n[2]+n[1]-n[0]):ii(r[0],r[1],e.min,e.max,t)}}var a=t.userOptions.scale||{};if(t.isLog()){var l=a.logBase||10,u=function(t){return 0===t?t:Math.log(Math.abs(t))/Math.log(l)},c=function(t){var i=0>e.min*e.max;if(i&&-1<e.min)var n=e.logMin-e.log[0]-1;else n=0===e.min?e.logMin-1:e.log[0],i&&(1>e.max&&(n-=e.log[1]),n+=1);if(i&&1>e.max)var r=e.logMax-e.log[1]-1;else r=0===e.max?e.logMax-1:e.log[1],i&&(-1<e.min&&(r-=e.log[0]),r+=1);var o=e.logRange,s=e.smLog;return 0===t?0<=e.min?0:0>=e.max?1:i&&-1>e.min&&1>e.max?1-Math.abs(r/o):i&&-1<e.min&&1>e.max?1-Math.abs(n/o):i&&-1<e.min&&1<e.max?Math.abs(n/o):Math.abs((s-n)/o):0>t?i&&(-1<e.min||1>e.max)?(e.log[0]-u(t))/o:i?(n-u(t)-1)/o:(n-u(t))/o:0<t?(i&&(n-=2*s),i&&(1>e.max||-1<e.min)?1-(e.log[1]-u(t))/o:i?(u(t)+n+1)/o:(u(t)-n)/o):void 0};return n?function(t){return c(t)}:function(t){return 1-c(t)}}var p=t.fitRange,f=e.min,d=e.max,m=function(t){return ii(r[0],r[1],f,d,p?qd(t,f,d):t)};return t.isStackedFull()&&"category"===t.type?function(e){var i=t._stackTranslators;return i=i?i.forward(e):e,m(h(i)?i:e)}:m},e.prototype._openRanges=function(t){var e=this.range,i=this.isInverted(),n=e.min,r=e.max,o=this.breaks;e=[];var s=0,a=0;if(o.length?(e=Cd(Zi(o,[n,r]),(function(t){var e=[t[0],t[1],a];return a+=t[1]-t[0],e})),s=qi(e)):(e.push([n,r,0]),s=r-n),t){var h=[];for(t=0;t<e.length;t++)r=o=(n=e[t])[2]/s,o=o+(n[1]-n[0])/s+(t===e.length-1?0:-1e-14),h.push([i?r:1-o,i?o:1-r,{valRange:n}])}return{ranges:e,sum:s,posRanges:h}},e.prototype.linToVal=function(t,e){return this.posToVal(this.linToPos(t),e)},e.prototype.posToVal=function(t,e){var i=this.range;if(ip(i)){var n=i.min,r=i.max,o=this.isInverted(),h=[0,1],l=this._isDragHost||o?[n,r]:[r,n],u=this._openRanges(!0),c=function(t){return ii(l[0],l[1],h[0],h[1],t)};n=function(t){var e=ji(u.posRanges,t);if(!e)return c(t);var i=s(e[2].valRange,2),n=i[0];return i=i[1],ii((n=o?[n,i]:[i,n])[0],n[1],e[0],e[1],t)},n=this.breaks.length?n:c,this.isLog()?(n=this.options("scale.logBase")||10,r=i.log[0],t=(o?t:1-t)*(i.log[1]-r)+r,(i=Math.pow(n,Math.abs(t)))<n&&(i=n*(i-1)/(n-1)),n=Ke(t)*i):this.isStackedFull()&&"category"===this.type?(i=this._stackTranslators,n=n(t),n=i?i.backward(n):n):n=n(t),n=e?qd(n,Math.min.apply(Math,a(l)),Math.max.apply(Math,a(l))):n}return n},e.prototype.linToPos=function(t){return ii(0,1,0,this._sizeMetrics.length,t)},e.prototype.valToAngle=function(t,e){},e.prototype.isInBreak=function(t){return!!ji(this.breaks,t)},e.prototype.valVisible=function(t,e){var i=this.range,n=[i.min,i.max];e=h(e)?e:!!t.pop;var r="category"===this.type&&e?.5:0;return t.pop?this.valVisible(t[0],e)||this.valVisible(t[1],e)?!(n[0]===t[1]||n[1]===t[0]):(t=Wi(n,[t[0]+r,t[1]-r]))&&t.length:t-r>=i.min&&t+r<=i.max&&!this.isInBreak(t)},e.prototype.tickVisible=function(t){var e=!!t.pop;if(this.valVisible(t))return(e=-1<Uc(this.tickPositions.all,t))&&"category"===this.type&&2===t.length?this.valVisible(zm(t,.1)):e;if(this.hasCalPatBreaks){var i=this.range;return i=[i.min,i.max],e?Tm(i,t[0])&&Tm(i,t[1]):Tm(i,t)}},e.prototype.isInverted=function(){var t=Se((this.currentOptions.scale||{}).invert,!1),e=this.prefix,i="x"===e,n="y"===e,r="z"===e;return e="sp"===e,(i||e)&&!this.isHoriz&&this.type&&this.type.match("category|string|time")&&(t=!t),(i||r||e)&&(t=!t),this.chartArea&&this.chartArea.isHoriz&&(i||n||e)&&(t=!t),e&&(t=!t),this.isRadial&&i&&!this.isHoriz&&(t=!t),t},e.prototype.clusterWidth=function(t){return h(t)?this.clusterWidthByValue(t):(t=this._sizeMetrics||{},Se(this.options("staticColumnWidth"),this.getShortestDistPerc()*t.length*(1-this.options("spacingPercentage"))))},e.prototype.clusterWidthByValue=function(t){var e=this.getValToLin(),i=this.shortestValDistance/2;return this._sizeMetrics.length*(e(t+i)-e(t-i))},e.prototype.duV=function(t){var e;if(void 0===t&&(t=!1),!(e=this._duV)){void 0===(e=void 0)&&(e=!1);var i=this.isInverted(),n=this.sideIndex(),r=[-1,0],o=[0,-1],s=[1,0],a=[0,1],h=[i?1:-1,0],l=[i?-1:1,0],u=[0,i?1:-1];(n=[{f:h,b:l,o,i:a,vc:1,hc:0},{f:u,b:i=[0,i?-1:1],o:s,i:r,vc:0,hc:1},{f:h,b:l,o:a,i:o,vc:1,hc:0},{f:u,b:i,o:r,i:s,vc:0,hc:1}][e?(n+2)%4:n]).inside=e,e=Lu(n)}return this._duV=e,e=this._duV(),t&&(e.o[0]*=-1,e.o[1]*=-1,e.i[0]*=-1,e.i[1]*=-1,e.inside=t),e},e.prototype.measure=function(t){var e=this.chartArea,i=this.viewState,n=this.rootVisuals,r=this.sideIndex();if(this.renderer,this._isZoomLive=e.isZoomLive&&e.isZoomLive(),c(this.currentOptions,"label.text"),i&&!1!==this.isVisible){var o=n.label.rootPanel.calculateMargin();if(t&&(this.rootVisuals&&this.applyCaOffset(),t.pop&&(t=this.viewState.caRect={x:0,y:0,width:t[0],height:t[1]}),t)){i=this.measure_ticks(this.chartArea.isRendering);var s=this.tickBounds=i.slice(0);if(this.isHoriz?s[1]+=2===r?t.height:-s[3]:s[0]+=1===r?t.width:-s[2],"caPaneLinear"===e.kind&&e.hasRoundCaps&&"x"===this.prefix&&(e=this.clusterWidth()/2,r=Bl(r=vn(t),this.isHoriz?[-e,0]:[0,-e]),this.tickBounds=rn([r,s])),!i)return a;var a=un(i,vn(t));e=this._sizeMetrics.clipped,r=[0,0];var h=[0,0];return this.isHoriz?(s=this._sizeMetrics.clipped=[t.width,i[3]],this._sizeMetrics.length=t.width,r[0]=Math.abs(Math.min(0,i[0])),h[0]=i[2]+i[0]-t.width):(s=this._sizeMetrics.clipped=[i[2],t.height],this._sizeMetrics.length=t.height,r[1]=Math.abs(Math.min(0,i[1])),h[1]=i[3]+i[1]-t.height),("hidden"===this.options("overflow")||this.chartArea.isDragging)&&(r=[0,0],h=[0,0]),this.overflowSize={tL:r,bR:h},!e.length||e[0]===s[0]&&e[1]===s[1]||this.rootVisuals.main.attr(this.isHoriz?{height:s[1],width:"*"}:{width:s[0],height:"*"}),t=n.label.getSize({width:this._sizeMetrics.length-o.horizontal.px}),this._sizeMetrics.labelSize=t,this.isHoriz?(n.labelContainer.attr({height:t[1]}),this.rootPanel.attr({width:0})):n.labelContainer.attr({width:t[1]}),this.rootPanel.setPreliminarySize(!0),0===(n=this.rootPanel.getBbox()).width&&("sp"!==this.prefix&&(n=Vo(a)),this.isHoriz&&(n.height+=t[1]||0)),this.isHoriz?this.rootVisuals.labelContainer.attr({height:t[1]}):this.rootVisuals.labelContainer.attr({width:t[1]}),this._sizeMetrics.bbox=i,this._sizeMetrics.size=[n.width,n.height],this.setViewState(!0),this.setViewStateSize(),a=this._sizeMetrics.history,t=this._sizeMetrics.clipped,2===a.length&&(this._sizeMetrics.history=[a[1]]),this._sizeMetrics.history.push([Math.round(t[0]),Math.round(t[1])]),i[2]=n.width,i[3]=n.height,[0,0,n.width,n.height]}}else if(!1===this.isVisible)return this._sizeMetrics.length=this.isHoriz?t[0]:t[1],[0,0,0,0];return a},e.prototype.setLength=function(t){return this._sizeMetrics.length=this.isHoriz?t.width:t.height,this},e.prototype.requireReflow=function(){var t=this.currentOptions.defaultTick;if(t){var e=t.label;if("inside"===t.placement||e&&"inside"===e.placement)return!1}return 2===(t=this._sizeMetrics.history).length&&(this.isHoriz&&t[0][1]!==t[1][1]||!this.isHoriz&&t[0][0]!==t[1][0])},e.prototype.resetMetricsData=function(){var t={maxTextSize:[0,0],maxLength:0,maxRadiusLen:0,maxLengthRange:0,getMaxLength:function(){return t.overlapRange?Math.max(t.maxLength,t.maxLengthRange):t.maxLength+t.maxLengthRange}};this.tickMetricsData=t},e.prototype.measure_ticks=function(t){var e=this;void 0===t&&(t=!1);var i=this,n=i.viewState,r=[],o=[],s=[],l=[],u=[],f=[],d=i.isHoriz?1:0,m=i.isHoriz?function(t,e,i){return(e&&t.rotated?t.rotated[3]:(i&&t.altTextSize?t.altTextSize:t.textSize)[1])+t.tickLength+t.tickPadding||0}:function(t,e,i){return(e&&t.rotated?t.rotated[2]:(i&&t.altTextSize?t.altTextSize:t.textSize)[0])+t.tickLength+t.tickPadding||0},g=c(i.currentOptions,"defaultTick"),v="inside"===g.placement;g=c(g,"label.rotate")||0,g=i.isHoriz&&0!==g;var y,x=[],b=[],w=[],A=function(){(y=Zc(i)).valTicks,x=y.rngTicks,b=y.valArrange,w=y.rngArrange};if(n&&!1!==i.isVisible){i.setTicks(n).setAttribs(),A(),i._rngData=ap(i,x),A();var C=0;Ad(b,(function(t){if(t.invalid)$c(e,t);else{var i=t.metrics();Xl(t.currentOptions.label)&&"inside"!==t.currentOptions.placement&&(s.push(i.textSize[0]),l.push(i.textSize[1]),C+=i.primTextSize[1],u.push(m(i)),f.push(m(i,!1,!0)),o.push(i))}})),A=s.length?[Math.max.apply(Math,a(s)),Math.max.apply(Math,a(l))]:[0,0];var S=u.length?Math.max.apply(Math,a(u)):0,k=f.length?Math.max.apply(Math,a(f)):0;i.tickMetricsData.maxTextSize=A,i.tickMetricsData.maxLength=S,i.tickMetricsData.maxLengthAlt=k,i.tickMetricsData.maxRadiusLen=0,A=[];var _=void 0,M=!1;S=Te(c(i.currentOptions,"defaultTick.label.rotate"))&&Te(i.userOptions.autoRotate)&&"angled"!==i.labelMode,n=!i.isHoriz&&n.axisSize&&n.axisSize[1]>2*C,k=[];for(var T=0,O=b.length;T<O;T++){var z=b[T];if(!z.invalid){var D=$c(this,z,{altTextSize:!1}),E=D.textBBox;_=_&&Rn(_,E);var P=n&&10<E[2]/E[3],B=_&&i.isHoriz,L=!1!==p(z.currentOptions,["label","autoWrap"])&&z._formattedText&&!z._formattedText.match(/<br\s*\/?>/);if(S&&L&&z._metrics.altTextSize&&(B||P)){if(!M&&_&&(_=(D=$c(this,M=b[T-1],{altTextSize:!0})).textBBox,k[k.length-1]=D.textLength,Xl(M.currentOptions.label)&&i.tickVisible(M.value())&&(r[r.length-1]=M._bbox,A[A.length-1]=_),!Rn(_,E))){_=E,M=!1;continue}E=(D=$c(this,z,{altTextSize:!0})).textBBox,M=!0}else M=!1;k.push(D.textLength),Xl(z.currentOptions.label)&&i.tickVisible(z.value())&&(r.push(z._bbox),A.push(E)),_=E}}if(k.length&&(i.tickMetricsData.maxLength=Math.max.apply(Math,a(k))),g||i.isHoriz&&Vn(A)||t&&"angled"===i.labelMode){i.labelMode="angled";var R=function(){var t=[],e=c(i.currentOptions,"defaultTick.label.rotate")||0;if(i.isHoriz&&(e||i.currentOptions.autoRotate))return Ad(b,(function(e){if(!e.invalid){var i=e.angledBounds();Xl(e.currentOptions.label)&&t.push(i),e.metrics().rotated=i}})),rn(t)}()||R}else i.labelMode="normal";"angled"===i.labelMode&&(u=[],Ad(o,(function(t){u.push(m(t,!0))})),i.tickMetricsData.maxLength=Math.max.apply(Math,a(u)),r=[],Ad(b,(function(t){t.invalid||($c(e,t,{tickPointsOnly:!0}),Xl(t.currentOptions.label)&&r.push(t._bbox))}))),R=rn(r)||[0,0,0,0],(t=md(w,(function(t){return t._rngData.visible}))).length&&(t=function(t){var e=i._rngData=Xc(i,t);return(t=rn(Cd(t,(function(t){return t._positionData.bbox}))))[1]=0,t[e.duV.vc+2]=e.depth,t}(t),g=0===y.fullRangesLevel,R[d+2]=v?0:g?Math.max(t[d+2],R[d+2]):t[d+2]+R[d+2],i.tickMetricsData.maxLengthRange=v?0:t[d+2],i.tickMetricsData.overlapRange=g)}return h(d=i.currentOptions.caOffset)&&(i.isHoriz?R[3]=Math.max(0,R[3]+d):R[2]=Math.max(0,R[2]+d)),R||[0,0,0,0]},e.prototype.sideIndex=function(){var t=this.currentOptions.orientation;return t="right"===t||"top"===t||"opposite"===t,this.isHoriz?t?0:2:t?1:3},e.prototype.sideDepth=function(){var t=this._sizeMetrics.size;return this.isHoriz?t[1]:t[0]},e.prototype.autoHideGrid=function(){return h(this._autoHideGrid)||(this._autoHideGrid=function(t){var e="category"===t.type,i=!!t.syncAxis,n=c(t.userOptions,"defaultTick.gridLine");if("x"===t.prefix&&e){if(t.isHeatmap)return!0;if(n&&Gl(n))return!1;var r=t.getSeriesColl().items,s=kd(Cd(r,(function(t){return t.yAxis})));n=t.isRadial;var a=function(){var t;try{for(var e=o(s),i=e.next();!i.done;i=e.next()){var n=i.value.range;if(!n||0!==n.min&&0!==n.max)return!1}}catch(t){var r={error:t}}finally{try{i&&!i.done&&(t=e.return)&&t.call(e)}finally{if(r)throw r.error}}return!0}(),h=kd(Cd(r,(function(t){return t.info.type.seriesType})));return r=0<md(r,(function(t){return t.info.hasYRanges})).length,!n&&a&&function(){var e;try{for(var i=o(s),n=i.next();!n.done;n=i.next()){var r=n.value;if(r){var a=r.getValToLin()(0);switch(t.sideIndex()){case 0:case 3:return 0===a;case 1:case 2:return 1===a}}}}catch(t){var h={error:t}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(h)throw h.error}}}()&&!r&&function(t){return 0===md(t,(function(t){return"column"!==t&&"area"!==t&&"variwide"!==t})).length}(h)&&e||e&&i}}(this)),this._autoHideGrid},e.prototype.render=function(t,e){void 0===e&&(e=this.updateOptions);var i,n=this.viewState;this.renderer;var r=this.viewStatePrev;if((i=this.syncAxis)&&(n=this.viewState=xd(i.viewState),r=this.viewStatePrev=xd(i.viewStatePrev)),n){var s=wd({},e);if(s.isTransitioning=this.isTransitioning,!1!==this.isVisible&&this.isAdded){t=t||this.chartArea.renderRect;var h=this.isTransitioning?[r,n]:n;(n.caRect=t)&&(this.measure(t),this._autoHideGrid=void 0,function(t){for(var e=Zc(t).valArrange,i=function(i){if(-1<i)for(var n=e.length;i<n;i++){var r=e[i];if(t.tickVisible(r.value())&&!r._isSquished)return i}return-1},n=0,r=e.length-1;n<r;n++){var o=e[n];o._isSquished=!1,t.tickVisible(o.value())?o._age=0:o._age++}n=0,o=!1;for(var s,h,l,u;!o;){var c=i(n);if(r=i(c+1),-1<c&&-1<r){c=e[c],s=e[r],h=u=!1;var p=c.angledAttr();"angled"===t.labelMode&&0!==p.rotate[0]?(h=c._metrics,l=s._metrics,h=Vi(Se(h.px[0],h.px),Se(l.px[0],l.px),h.textSize,l.textSize,p.rotate[0],Se(c.currentOptions.padding,0)+Se(s.currentOptions.padding,0))):c._cxyRotate?(h=[ln(c._bboxClipped),ln(s._bboxClipped)],h=Di((h=[jn(c._bboxClipped,a([c._cxyRotate],h[0])),jn(s._bboxClipped,a([s._cxyRotate],h[1]))])[0],h[1])):h=Rn(c._bboxClipped,s._bboxClipped),h&&(s.rank>c.rank?u=s._isSquished=!0:s.rank<c.rank?c._isSquished=!0:u=s._isSquished=!0),n=u?n:r}else o=!0}}(this),function(t){var e,i=Zc(t),n=i.rngTicks,r=i.rngArrange;i=t.duV();var s=!1;if(n&&n.length){t.isZoomed||"category"!==t.type||(s=!0);var a=n[0].getVisualTargets({},!0).tick,h=i.hc,l=Hc(n=en(vn(t.viewState.caRect),-8),i.i,n[h+2]);l.push(0,0),n=rn([n,l]);var u=Ym(n);l=lm([u[h],u[h]+8,u[h+2]-8,u[h+2]],(function(t){return Qe(ii(0,1,u[h],u[h+2],t),2)}));var p=s?[1,1,1,1]:[0,1,1,0];n={d:xn(n),fill:{linearGradient:t.isHoriz?[0,0,1,0]:[0,0,0,1],stops:Cd(l,(function(t,e){return[t,"white",p[e]]}))}},!s&&a.attr({mask:n})}if(r.length){for(t._rngData=Xc(t,r),s=0;s<r.length;s++){l=(n=r[s])._rngData.shapeOptions;var f=wd({},n.currentOptions.line);Gl(f)?"#e2e2e2"===f.color&&(f.color="#a8a8a8"):f.color="none",l&&(n._rngData.renderData=Jc(n,c(l,"points"),wd(l.options,f),a))}a=(n=t._rngData).levels;var d=n.edges;n=n.origin,l=[],f=function(t,e){return gd(r,(function(i){return i._metrics.px[0]===t[0]&&i._metrics.px[1]===t[1]&&i._rngData.level===e}))};var m=function(t,e){return gd(t,(function(t){return t[0]===e||t[1]===e}))};try{for(var g=o(d),v=g.next();!v.done;v=g.next()){var y=v.value;for(s=a.length-1;0<=s;s--)if(d=void 0,d=m(a[s],y)){var x=f(d,s);if(x&&Gl(x.currentOptions.line)){var b=x._rngData.renderData.endPoints,w=b[0][i.hc]===y?b[0]:b[1];t.valVisible(t.linToVal(w[i.hc]))&&((d=[])[i.hc]=w[i.hc],d[i.vc]=n[i.vc],l.push([w,d]))}break}}}catch(t){var A={error:t}}finally{try{v&&!v.done&&(e=g.return)&&e.call(g)}finally{if(A)throw A.error}}l.length&&(t._rngData.connectorLines=l)}}(this),this.render_rngLines(t,s),Ad(this._ticks,(function(t){return t.render(h,s)})),this.garbageCollection(),this.render_line(t,e),this.render_alignLabel())}else!1===this.isVisible&&this.isAdded&&this.resetVisuals();!e.invalidate&&this.validate()}return this},e.prototype.garbageCollection=function(){Ad(this._ticks.slice(0),(function(t){t&&6<t._age&&t.destroy()}))},e.prototype.render_alignLabel=function(){var t=this.currentOptions.label,e=this.sideIndex(),i=this._sizeMetrics.labelSize;this.isHoriz||(t.rotation=0===e||1===e?90:-90,e=ln([0,0,i[1],i[0]]),this.rootVisuals.labelContainer.attr({offsetX:e[0]-i[0]/2,offsetY:e[1]-i[1]/2,rotate:[t.rotation,i[0]/2,i[1]/2]}))},e.prototype.renderOnCa=function(t,e){void 0===e&&(e=this.updateOptions);var i=this.viewState,n=this.viewStatePrev;(t=t||this.chartArea.renderRect)&&this.isVisible&&i&&(i.caRect=t,t=this.isTransitioning?[n,i]:i,this.renderGridLines(t,e),this.render_markers(t,e),this.validate())},e.prototype.renderGridLines=function(t,e){Ad(this._ticks,(function(i){return i.render(t,wd({onCa:!0},e))})),this.render_altGrid(t,e)},e.prototype.getGridLinesTarget=function(){var t=c(this.currentOptions,"defaultTick.gridLine.onTop"),e=this.chartArea.rootVisuals;return t?e.gridLinesFront:e.gridLinesBehind},e.prototype.render_altGrid=function(t,e){void 0===t&&(t=this.chartArea),void 0===e&&(e={});var i=this;t=Yc("time"===i.type?i.tickPositions.all:i.tickPositions);var n,r,o=i.renderer.renderer,s=i.attribs.altGrid,a=i.viewState,h=i.viewStatePrev,l=i.altGridFillVisuals,u=i.getGridLinesTarget(),c=function(){return Ad(l,(function(t){return t.invalid=!0}))},p=function(t){return gd(l,(function(e){return e.value[0]===t[0]&&e.value[1]===t[1]}))},f=h&&!1!==e;if(s&&"none"!==s.fill&&!function(t){var e=t.chartArea;if(e.chartAreaSet&&e.axes&&!t.userOptions.alternateGridFill){var i=e.axes({prefix:"y"}).items.length;if(e=e.chartAreaSet.freeAxes.y.id,1<i&&t.id!==e)return!0}}(i)){c();for(var d=0,m=t.length;d<m-1;d+=2){var g=[t[d],t[d+1]];(n=i.getCaPath(g,u,a))&&((c=p(g))?(c.invalid=!1,c.visual.attr(wd({d:n,opacity:1},e))):(f&&(r=i.getCaPath(g,u,h)),c={value:g,visual:o.path(wd({d:r||n,opacity:0,animation:!1,zIndex:4},Vd(s,["animation"]))).add(u),invalid:!1},l.push(c),g=wd({d:n,opacity:1,"fill-rule":"evenodd"},s,e),f||(g.animation=!1),c.visual.attr(g)))}Ad(md(l,{invalid:!0}),(function(t){t.visual.attr(wd({opacity:0,d:i.getCaPath(t.value,u,a)},e))}))}},e.prototype.init_markers=function(){var t=this.currentOptions.markers||[];if((t&&t.length||this._markers.length)&&!this._markers.length)for(var e=0,i=t.length;e<i;e++){var n=t[e];if(n.value&&n.value.pattern){var r=sp(this,[n.value.pattern]);n.value=Cd(r,(function(t){return t.slice(0,2)}))}this._markers.push(new lk(this,n))}},e.prototype.render_markers=function(t,e){void 0===e&&(e={});var i=this;t=!i.isRadial;var n=i.currentOptions.markers||[];i.init_markers(),(n&&n.length||i._markers.length)&&(t&&ep(i._markers),Ad(i._markers,(function(t){t.render(i.viewState,e)})))},e.prototype.render_line=function(t,e){var i=this;e=i.rootVisuals.line;var n=i.currentOptions,r=n.line,o=i.userOptions.line,s=i.chart.options("defaultAxis.line");r.visible=r.visible||!!o&&Gl(o)||!!s&&Gl(s),(o=Ll(r)).d=this.getLinePath(t),s=function(t){var e=0;return Ca(t).translate((function(t){var i=1e-4*e++;return[t[0]+i,t[1]+i]}))};var a=i.options("line.breaks");if(a){var l=0;o.d=Ca(o.d).translate((function(t){var e=1e-4*l++;return[t[0]+e,t[1]+e]})),t=i.isRadial?Ca(o.d).length():Mi((t=i.getLinePathPoints(t))[0],t[1]),ue(o,t=i.ticksToDashAttr(t,n.line.width,a)),o["stroke-linecap"]="round"}else if(r.caps&&(n=i.originValue,o.caps)){a=void 0,a={eachShape:!0,size:"300%"},h(this.originValue)&&(a.start={overflow:!0}),o.caps=Jf(o.caps,a);var u=i.duV(),c=(t=i.getLinePathPoints(t))[0][u.vc];a=function(t){var e=[];return e[u.vc]=c,e[u.hc]=i.getCaLen(t),e},h(n)&&i.valVisible(n)?(n=a(n),a=Ia([n,t[0]]).join(" "),a+=Ia([n,t[1]]).join(" "),o.d=a):h(n)&&(0>=(t=[i.range.min,i.range.max])[1]&&t.reverse(),a=Ia(t.map(a)),o.d=a,o.caps.start={type:"none"})}_e(r=r.color)&&-1<r.toLowerCase().indexOf("smartpalette")&&(r=r.split(/:/gi),(r=i.chart.getSmartPalette(1<r.length?r[1]:i.chart.palette))&&(r=r.getTraditionalStops(!1,[i.range.min,i.range.max]),i.isInverted()||(r=Cd(r,(function(t){return[1-t[0],t[1],t[2]]})),r=zd(r,(function(t){return t[0]}))),o.stroke=yo({stops:r,angle:i.isHoriz?0:90}),o.d=s(o.d)),o["stroke-opacity"]=1),e.attr(o)},e.prototype.render_rngLines=function(t,e){t={width:1,color:"#4c4c4c",dashStyle:"dash",opacity:.2},e=this.renderer;var i=this.rootVisuals.mainRng,n=c(this._rngData,"connectorLines"),r=this.rootVisuals.rngConnectors,o=[];if(n&&n.length){var s=Ll(t);Ad(n,(function(t){Ia(t,o)})),s.d=Ds(o)}s?r?r.attr(s):r=this.rootVisuals.rngConnectors=e.renderer.path().attr(s).add(i):r&&r.attr({opacity:0})},e.prototype.setRootVisuals=function(){var t=this.renderer;if(!this.rootVisuals&&!1!==this.options("visible")){var e=t.panel({cssClass:"labelContainer"}),i=t.panel("stack:"+(this.isHoriz?"y":"x")),n=t.panel(),r=t.renderer.path().add(n),o=t.panel({zIndex:2}).add(n);t=new oS(this.chart,this.currentOptions.label).add(e);var s=this.duV();0>s.o[s.vc]?(e.add(i),n.add(i)):(n.add(i),e.add(i)),this.rootVisuals={stack:i,main:n,label:t,labelContainer:e,line:r,mainRng:o},this.applyCaOffset(),this.rootPanel&&i.add(this.rootPanel),this.rootPanel=i}return this},e.prototype.applyCaOffset=function(){var t=this.currentOptions,e=h(t.anchorWidth)?t.anchorWidth:Se(c((this.chartArea||this.chart.chartAreas(0)).currentOptions,"outline.width"),1)/2,i=this.duV();t=i.o;var n=i.hc;(i=i.i.slice(0))[n]=1,e=Hc([0,0],i,e),t=Hc(e,t,np(this)||0),this.rootVisuals.stack.attr({offsetX:t[0],offsetY:t[1]})},e.prototype.setAttribs=function(){var t=this.isHoriz,e=this.currentOptions.alternateGridFill,i=d(e);t=this.isRadial?hy.altGridFillRad:t?hy.altGridFillX:hy.altGridFillY;var n={fill:e||"none"};return e&&"none"!==e?"object"!==i?n={fill:bo(t,e)}:Ul(n,e):n={fill:"none"},this.attribs.altGrid=n,this},e.prototype.setViewState=function(t,e){var i,n=this.viewState;return(i=this.syncAxis)?(this.viewState=xd(i.viewState),this.viewStatePrev=xd(i.viewStatePrev)):n&&n.equalsRange(this)&&n.isLog===this.isLog()?this.posDirty=!1:(n&&(this.isTransitioning=!0),this.viewStatePrev=n,this.coordinatesDirty=this.posDirty=!0,this.viewState=new uk(this,this._getValToLin(),this.chartArea),!t&&this.viewState.isValid()&&this.render(null,e),this.trigger("setRange",this.viewState.range)),this},e.prototype.setViewStateSize=function(){var t;return(t=this.viewState)&&(t.axisSize=this._sizeMetrics.clipped.slice(0),t.axisBBox=this._sizeMetrics.bbox.slice(0)),this},e.prototype.validate=function(){return this.isTransitioning=this.coordinatesDirty=this.posDirty=!1,this},e.prototype.getCaPath=function(t,e,i,n){var r=this;void 0===i&&(i=this.viewState),void 0===n&&(n=1);var o=h(t.pop),s=!1,a=t;if((!o||h(t[0])&&!h(t[0].pop))&&(a=[t]),"object"==typeof n){var l=n;n=Se(l.lineWidth,1),l.posOnly,s=l.multiShape}var u="";return Ad(s&&o?t:a,(function(t){t=r.getCaPoints(t,e,i,n),u+=Ia(t).join(" ")+(s||!o&&!r.isRadial?"":"Z")})),u},e.prototype.getCaPoints=function(t,e,i,n){void 0===i&&(i=this.viewState),void 0===n&&(n=1),t=this.toPosition(t);var r=!1;if("object"==typeof n){var o=n;n=Se(o.lineWidth,1),r=o.posOnly}var s=function(t){return Math.max(-1e6,Math.min(1e6,i.valToLin(t)))},l=i.caRect||i.chartArea.contentRect||i.chartArea.innerRect,u=i.chartArea,c=this.isHoriz,p=h(t.pop),f=u.rootVisuals.gridLinesBehind;if(o=function(t){return t=s(t),t=c?t*l.width:t*l.height,(2===(t=c?[[t,l.y],[t,l.y+l.height]]:[[l.x,t],[l.x+l.width,t]]).length?ju:Nu)(e||f,t,n)},this.isRadial){var d=vn(l),m=d[2],g=d[3],v=d[1],y=d[0];d=u.getRadarType();var x=function(t){return r?[t[0],t[1]]:[y+t[0]*m,v+t[1]*g]},b=this.interpolationAxis;if(this.isHoriz){var w=u.projection.val2linxy,A=function(t,e){return x(w(t,e))};"polar"===d?o=function(t){return t=s(t),[A(t,0),A(t,1)]}:p||(A=u.projection.webVal2linxy,o=function(t){return t=s(t),[A(t,0),A(t,1)]})}else if(!this.isHoriz){var C=u.projection.val2linxy,S=b.getTicksPos();o=function(t){var e=s(t);return Cd(S,(function(t){return x(C(t,e))}))}}}if(p){u=o(t[0]),o=o(t[1]).reverse();var k=this._duV();(t[0]===t[1]||1>ai(u[0][k.hc],o[0][k.hc]))&&(o=o.map((function(t){return Xm(t,k.f)}))),u.push.apply(u,a(o))}else u=o(t);return u},e.prototype.ticksToDashAttr=function(t,e,i){void 0===e&&(e=1),yd(i=i||{},{gap:.01,cap:!0,invert:!1});var n=this,r=i.custom,o=[],s=0,h={},l=n.getTicksPos();r?(l=r,1<Math.max.apply(Math,a(r))&&(l=Cd(r,(function(t){return n.viewState.valToLin(t)})))):l=r||n.getTicksPos(),e=2*(t*i.gap/2+(i.cap?e/2:0))/t,l[0]>l[l.length-1]&&(l=Cd(l,(function(t){return 1-t})));var u=Zi(l=Gi(l,[0,1],e),[0,1]);return Ad(u,(function(e,i){var n=i===u.length-1,r=n?void 0:u[i+1],a=e[1]-e[0];0===i&&0<e[0]&&(s=e[0]*t),o.push(a*t),r&&o.push((r[0]-e[1])*t),n&&1>e[1]&&o.push((1-e[1])*t+2)})),i.invert&&o.unshift(0),h["stroke-dasharray"]=o.join(","),s&&(h["stroke-dashoffset"]=-s),h},e.prototype.getCaLen=function(t,e){void 0===e&&(e=this.viewState);var i=e.caRect||e.chartArea.contentRect,n=this.isHoriz,r=e.valToLin;return lm(t,(function(t){return t=r(t),n?t*i.width:t*i.height}))},e.prototype.getLinePath=function(t){var e=this.currentOptions,i=s(this.getLinePathPoints(t),2),n=i[0];return i=i[1],e=Ll(e.line),this.breakLine(t,[n,i],e["stroke-width"])},e.prototype.getLinePathPoints=function(t){t="inside"===c(this.currentOptions,"defaultTick.placement");var e=this.range,i=t?0:this.tickMetricsData.getMaxLength();switch(t=this.getCaLen(e.min),e=this.getCaLen(e.max),this.sideIndex()){case 0:var n=[e,i],r=[t,i];break;case 1:r=[0,t],n=i=[0,e];break;case 2:r=[t,0],n=i=[e,0];break;case 3:n=[i,e],r=[i,t]}return[r,n]},e.prototype.breakLine=function(t,e,i,n){var r=this,o=r.currentOptions,s=r.rootVisuals.main,a=[],l=e[0][0],u=e[0][1],p=r.isInverted();e="gap"===(e=(c(o,"scale.defaultBreak.type")||"").toLowerCase())||"zigzag"===e?c(o,"scale.defaultBreak.line.width")/2:0;var f=t.y,d=t.x,m=t.x+t.width,g=t.y+t.height;t=r._openRanges();var v=function(t){return r.isHoriz?[t,u]:[l,t]};return r._nRects=a,function(t,e){var n="";e=p?-e:e,r.isHoriz&&(e=-e);for(var l=0,u=t.length;l<u;l++){var c=t[l],y=r.getCaLen(c[0]),x=r.getCaLen(c[1]),b=(h(o.anchorWidth)?o.anchorWidth:Se((r.chartArea||r.chart.chartAreas(0)).options("outline.width"),1))/2,w=v(y>x?y+b:y-b),A=v(x>y?x+b:x-b),C=v(y),S=v(x);S=[C,S],r.isHoriz?(S.push([C[0],f]),S.push([C[0],g])):(S.push([m,C[1]]),S.push([d,C[1]])),C=en(sn(S),-.5),a.push(C),1<t.length&&l<t.length-1&&(A=v(r.getCaLen(c[1])+(x>y?b-e:e-b))),l&&(w=v(r.getCaLen(c[0])+(y>x?b-e:e-b))),s&&(w=(c=ju(s,[w,A],i,b||void 0))[0],A=c[1]),n+=Ds(Ia([w,A]))}return n}(n?Hi(t.ranges,n):t.ranges,e)},e.prototype.getBreakRects=function(){return this._nRects.slice(0)},e.prototype.resetTimers=function(){Ad(this._markers,(function(t){return t.resetTimers()}))},e.prototype.getPointTicks=function(){var t=this,e=t.dataInfo.serColl,i=t.prefix,n=i+"AxisTick",r="category"===t.type,o=r&&"x"===i;t.chartArea;var s=t._isZoomLive,a=!!t.syncAxis,h=t.usedDataKeys;if(e&&!e.items.length&&t.syncAxis)e=t.syncAxis.dataInfo.serColl;else if(e&&!e.items.length){e=t.chart.series().filter((function(t){return t.isVisible}));var l=!0}else t.parentAxis&&(e=t.parentAxis.dataInfo.serColl);if(!s){var c=[],p=[],f=function(t){var e=t&&t.series[("x"===i?"y":"x")+"Axis"];if(e)return e.getValToLin()("x"===i?t.y:t.x)},d=function(e,n,s,a,l){if(a=o?Se(a.name,a.x):t.isStacked()&&l.hasKey(i+"s")?[l.getValue(i+"s",n),l.getValue(i+"e",n)]:Se(a[i],l.getValue(i,n),l.getValue(h[0],n)),s={point:function(){return e._points.length||e.setPoints(),e._points[n]},config:s,value:a=r&&"number"==typeof a?[a-.5,a+.5]:t.normUserValue(a)},l=gd(c,{value:a})){var d=l.point(),m=s.point();if(d!==m)switch(d=f(d),m=f(m),t.sideIndex()){case 0:case 3:var g=d>m;break;case 1:case 2:g=d<m}else g=!0}l?g&&(u(c,l),c.push(s)):(c.push(s),p.push(a))},m=function(e,i){var n=t.id&&t.id===e.axisId;return i=i[t.prefix+"Axis"].id===t.id,l?n:a?n||i:!e.axisId||n};e&&e.each((function(t){var e=function(t){return t&&t[n]},i=t.indexer,r=t.currentOptions,o=i.data[n]&&0<i.data[n].length,s=t.userPoints,a=s.length,h=e(r.defaultPoint),l=e(r.firstPoint)||e(r.lastPoint),u=function(t){return t};if(h){var c=Lu(h);u=function(t){return wd(c(),t)}}if(h){if(m(h,t))for(o=0;o<a;o++)h=i.getValue(n,o),d(t,o,u(h||{}),s[o],i)}else if(o){var p=i.data[n],f=i.indexes[n];for(o=0;o<(f?f.length:0);o++){var g=f[o];(h=p[g])&&m(h,t)&&d(t,g,u(h),s[g],i)}}l&&((l=e(r.firstPoint))&&m(l,t)&&null!==s[0].y&&d(t,0,l,s[0],i),(e=e(r.lastPoint))&&m(e,t)&&null!==s[a-1].y&&d(t,a-1,e,s[a-1],i))}));var g=[];p.length&&(p=kd(p),Ad(p,(function(t){return g.push(gd(c,{value:t}))})),g.positions=p),t._getPointTicks=g}return t._getPointTicks},e.prototype.getCustomTicks=function(){if(!this._isZoomLive){var t=this.currentOptions,e=this.userOptions,i=Cd(t.customTicks||[],(function(e){var i=wd({},t.defaultTick);return wd(i,e)}));if(h(this.originValue)&&e.originTick&&!1!==c(t,"defaultTick.enabled")&&!1!==c(t,"originTick.enabled")){var n=wd({},t.defaultTick);(n=wd(n,e.originTick)).value=this.originValue,i.push(n)}this._getCustomTicks=i}return this._getCustomTicks},e.prototype.setTicks=function(t){var e=this,i=e.currentOptions,n=e._isZoomLive,r=e.isLog(),o=function(t,e){return ii(t,t+e,0,1,l.valToLin(t))},a=function(t,i){return t=t.rect(),e.isHoriz?o(t.x,t.width):o(t.y,t.height)},h=(t=s(t.pop?t:[void 0,t],2))[0],l=t[1];if(l.rect(),l.isValid()){var u=void 0;t=void 0,e.setTickPositions().invalidateTicks();var c=wd(r?{label:{visible:!1}}:{},i.defaultTick,i.defaultMinorTick),f="inside"===c.placement&&!e.isRadial&&"category"!==e.type;i=0;for(var d=e.tickPositions.all.length;i<d;i++)if(u=e.tickPositions.all[i],!f||0!==i&&i!==e.tickPositions.all.length-1||!(u<=e.range.min||u>=e.range.max)){var m=e.findTickInfo(u);(t=e.findTick(u,r?m.type:void 0))?(t.type!==m.type?(t.options(m.config,!1),t._needUpdateText=!0):_e(u=t.currentOptions.value)&&-1<u.indexOf("%")&&(t._needUpdateText=!0),!n&&t.setType(m.type)):(m.config.defaultMinorTick=c,e._ticks.push(t=new dk(this,u,m.config,m.type))),t.validate()}for(i=0,d=e._ticks.length;i<d;i++)t=e._ticks[i],e.isTransitioning&&!t.invalid?t.px(a(h||e.viewStatePrev),a(l,t.value())):t.px(a(l,t.value()));for(e._ticks=zd(e._ticks,(function(t){return Se(t._value[0],t._value)})),e._ticks=zd(e._ticks,(function(t){return t._isRange&&"custom"===t.type?2:1})),r=!1,i=n=0,d=e._ticks.length;i<d;i++)t=e._ticks[i],(a=e.tickVisible(t.value()))&&n++,!r&&a?r=t.isFirst=!0:t.isFirst=!1;100<n&&(t="category"===e.type,(r=!!p(e.currentOptions,["scale","interval"]))||t)&&(n={data:[e.prefix,n],container:this.chart.getWrapper()},r&&!t?Wg.emit("tip",e.id,"time"===e.type?"manyTicksTime":"manyTicks",n):t&&Wg.emit("tip",e.id,"manyTicksCat",n))}return this},e.prototype.resetTicksLabels=function(){Ad(this._ticks,(function(t){delete t._formattedText}))},e.prototype.invalidateTicks=function(){for(var t=this._ticks,e=0,i=t.length;e<i;e++)t[e].invalidate();return this},e.prototype.findTick=function(t,e){for(var i=0,n=this._ticks.length;i<n;i++){var r=this._ticks[i],o=r.value(),s=t;if((o.pop?o[0]===s[0]&&o[1]===s[1]:o===s)&&(!e||r.type===e))return r}},e.prototype.findTickInfo=function(t){var e=this,i={};if(h(t.v)){var n="custom",r=e.getCustomTicks();i=gd(r,{value:t.v}),delete(i=wd({},i)).value}else{var o=e.tickPositions,s=o.minor||[],a=o.custom||[],l=e.originValue,u=e.pointTicks.values||[];if(e._isZoomLive,r=Uc(u,t),"number"==typeof t&&"category"===this.type&&"string"==typeof u[0]&&(r=t),-1<r){n="custom";var c=(i=e.pointTicks).points[r];(i=i.configs[r]).target=function(){return c&&c()}}else-1<Uc(a,t)?(n="custom",r=e.getCustomTicks(),i=gd(r,(function(i){i=i.value;var n=e.toPosition(i);return"category"===e.type&&"string"==typeof i&&(n=[n-.5,n+.5]),n.pop?Ne(n,t):n===t})),i=wd({},i)):h(l)&&t===l?n="origin":-1<Uc(o,t)?n="major":-1<Uc(s,t)&&(n="minor")}return{type:n,config:i}},e.prototype.getTicksPos=function(t){return void 0===t&&(t=this.viewState),!this.tickPositions&&this.setTickPositions(),lm(this.tickPositions.all,(function(e){return t.valToLin(e)}))},e.prototype.add=function(t){return this.isAdded||(this.isAdded=!0,!1!==this.isVisible&&(this.parentLayoutItem=(t=this.getParentPanel(t))||this.renderer,this.rootPanel.add(t))),this},e.prototype.crosshairXy=function(t,e,i){var n=this.prefix,r=this.isHoriz?0:1;return t=t["x"===n||"y"===n?r:-1],i=this.crossLinToVal(t,i),h(t)&&this.crosshair(e?wd({value:i},e):{value:i}),i},e.prototype.crossLinToVal=function(t,e){var i=this.syncAxis||this,n=this.options("crosshair");return t=this.linToVal(t),i=i.dataPositions.toArray(),n.snapToData||"x"===this.prefix&&!1!==n.snapToData||e?("category"===this.type&&0===i.length&&(i=this.tickPositions.map((function(t){return t[0]+.5}))),function(t,e){var i,n=[];try{for(var r=o(t),s=r.next();!s.done;s=r.next()){var a=s.value;n.push([ai(a,e),a])}}catch(t){var h={error:t}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(h)throw h.error}}return n=zd(n,(function(t){return t[0]})),t.length&&n[0][1]}(i,t)):t},e.prototype.crosshair=function(t){var e=this;if(clearTimeout(e.crossTimeout),e.isVisible&&!e.isRadial&&!e.childAxes.length){var i=e.crossTicks=e.crossTicks||[],n=function(t){$c(e,t),t.render(e.viewState,{onCa:!0,animation:!1}),t.render(e.viewState,{onCa:!1,animation:!1})},r=e.options("crosshair");if(h(t)&&!0===r.enabled){if(h((t=t.pop?t:[t])[0]))var o=t.map((function(t,e){return wd({key:e},r,t)})),s=!0}else o=[];return re(o,i,(function(t){(t=new dk(e,t.value,wd({internal:!0},t),"custom")).isCrosshair=!0,e.crossTicks.push(t),n(t)}),(function(t,e){e.options(t,!1),n(e)}),(function(t){u(e.crossTicks,t),t.remove()}),(function(t){return t.key}),(function(t){return t.currentOptions.key})),e.rootPanel.refresh(),s&&(e.crossTimeout=setTimeout((function(){e.crosshair(),e.chart.series().each((function(t){return t.visualizer.hideHalo()}))}),8e3)),t&&1===t.length?t[0]:t}},e.prototype.setDataRange=function(t){this.min=t[0],this.max=t[1],t=this.range={min:t[0],max:t[1]},this.unZoomedRange=pe(t),this._isMapHost=!0},e.prototype.setMapRange=function(t,e){this.min=Math.min(t[0],e[0]),this.max=Math.max(t[1],e[1]),this.range={min:e[0],max:e[1]},this.unZoomedRange={min:this.min,max:this.max},this.zoomLimit=Math.max(t[1],e[1])-Math.min(t[0],e[0]),this.zoomRange=this.zoomRange||[Math.min(t[0],e[0]),Math.max(t[1],e[1])],this._isMapHost=!0},e.prototype.setStaticRange=function(t,e){this._isDragHost=!0,this.min=t[0],this.max=t[1],this.range={min:e[0],max:e[1]},this.zoomLimit=this._sizeMetrics.length=e[1]-e[0],this.zoomRange=this.zoomRange.length?this.zoomRange:e,this.linToVal=function(t){return t}},e.prototype.zoom=function(t,e,i){var n=!1;n=!this.isZoomed;var r=this._isDragHost?[this.min,this.max]:this.unZoomedRange,o=this._isDragHost?this.zoomRange:[this.range.min,this.range.max],a=1<ai((r=r||{min:this.min,max:this.max}).min,r.max)?2:5,l=function(t,e){return 0===mm(t[0],e[0],a)&&0===mm(t[1],e[1],a)};return h(t)||h(e)?this.canZoom(t,e)&&(t=(e=s(yk(t,e),2))[0],e=e[1],t=h(t)&&mk(t),e=h(e)&&mk(e),this._formatInfo=void 0,t!==e&&(this.zoomRange=[t,e],this.isZoomed=!0,this._isDragHost||(n&&(this.unZoomedRange={min:this.range.min,max:this.range.max}),r=this.unZoomedRange,this.isZoomed=!l([t,e],[r.min,r.max])),"map"===this.options("type")?(this.range.min=t,this.range.max=e):this._isDragHost||this.setRange(!1,i),n=!0)):(this.isDragging=this.isZoomed=!1,this.zoomRange=[],this.isZoomed=!1,this.setRange(!0,i)),n=!l(this.isZoomed?this.zoomRange:[this.range.min,this.range.max],o),!this._isDragHost&&Ad(this.serList,(function(t){return t.seriesDirty.pos(!0)})),!1!==i&&this.chart.redraw(i),t=this.chartArea,n&&t.zoomUpdated(),n},e.prototype.drag=function(t){var e=this.zoomRange.slice(0),i=this.unZoomedRange?this.unZoomedRange:this;if(i=[i.min,i.max],this.isDragging=!0,e[0]+t<i[0]&&(t=i[0]-e[0]),e[1]+t>i[1]&&(t=i[1]-e[1]),e[0]+=t,e[1]+=t,t)return this._isDragHost?this.zoomRange=e:this.zoom(e[0],e[1],!1),!0},e.prototype.canDrag=function(){if(this._isDragHost){var t=this.zoomRange.slice(0),e=this.unZoomedRange?this.unZoomedRange:this;return ai(t[0],t[1])<ai(e.min,e.max)}return this.isZoomed},e.prototype.canZoom=function(t,e){if(t=(e=s(yk(t,e),2))[0],e=e[1],this._isMapHost||this._isDragHost&&(this.min!==this.range.min||this.max!==this.range.max))return!0;if(t!==e){var i=this.zoomLimit;if("object"===d(this.zoomLimit)&&"time"===this.type&&(i=Ko(this.zoomLimit)),ai(e,t)>i)return!0}},e.prototype.destroyVisuals=function(){Ad(this.rootVisuals,(function(t){return t&&t.destroy()})),Ad(this._ticks.slice(0),(function(t){return t&&t.destroy()})),this._ticks=[],this.rootPanel.destroy(),this.rootVisuals=this.rootPanel=void 0},e.prototype.destroy=function(){t.prototype.destroy.call(this);var e=this.chartArea._axes.indexOf(this);-1<e&&this.chartArea._axes.splice(e,1)},e.prototype.resetVisuals=function(){this.isAdded=!1,this._duV=void 0,this.destroyVisuals(),this.setRootVisuals(),this.initSizeMetrics(),this.chartArea.rootPanel.refresh()},e.prototype.getVisualTargets=function(t,e){void 0===t&&(t={}),void 0===e&&(e=!1);var i=this.rootVisuals,n=this.chartArea.rootVisuals,r=n.axisFront,o=n.axisBehind,s=n.axisBehindAll,a=Se(t.onTop,this.options("onTop")),h=Se(p(t,["label","onTop"]),a);return t=Se(p(t,["gridLine","onTop"]),a)?n.gridLinesFront:n.gridLinesBehind,n=i=e=e?i.mainRng:i.main,r&&o&&(e=a?r:o,i=h?r:o,n=h?r:s),{tick:e,label:i,line:n,grid:t}},e}(eS),wk=function(t){function e(i,n){return(n=t.call(this,i,n)||this).items=i,n.kindObject=e,n.markers=or(Gg,function(t){return function(){var e=[];return t.each((function(t){e=e.concat(t._markers)})),e}}(n),oe),n.ticks=or(Gg,function(t){return function(){var e=[];return t.each((function(t){e=e.concat(t._ticks)})),e}}(n),oe),n}return n(e,t),e}(Gg),Ak=function(t){function e(e,i){return(e=t.call(this,e,i,"sp")||this).possibleKeys=["spValue"],e.initFP(),e.options(i,!1),e}return n(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];(t=s(t,3))[0],e=t[1],t[2],this.prefix=e,this.defaultContextOptions={},this.updateOptions={animation:this.chart.options("animation")}},e.prototype.defaultOptions=function(){return wd(t.prototype.defaultOptions.call(this),{crosshair:{enabled:!0}})},e.prototype.renderGridLines=function(t,e){},e}(bk),Ck=function(t){function e(e,i,n){var r=t.call(this,e.chart,n)||this;return r.parent=e,r.palette=i,r._axes=[],r.isHoriz=Se(n.isHoriz,"horizontal"===e.layoutDirection),e=wd({orientation:r.isHoriz?"bottom":"right",anchorWidth:0},c(i.currentOptions,"colorBar.axis")),e=r.axis=new Ak(r,e),r._axes.push(e),r.initFP(),e.chartArea=r,e.setRootVisuals(),e.isHoriz=r.isHoriz,r.collisionManager=new bS(r),r}return n(e,t),e.prototype.getAxisMarkerVisualTargets=function(){var t=this.rootVisuals;return{behind:t.axisMarkersFront,front:t.axisMarkersFront}},e.prototype.requestLegend=function(t){return null},e.prototype.initFP=function(){var t=this;this.axes=or(wk,(function(){return t._axes}),(function(t){}))},e.prototype.getBarSize=function(t){var e,i=this.palette.options("colorBar")||{};if(i=this.isHoriz?this.swatchSize=[Se(i.length,kk),Se(i.width,Sk)]:this.swatchSize=[Se(i.width,Sk),Se(i.length,kk)],t=this.updateChartBox(t)){var n=[0,0];(e=this.overflows)&&(n=[e[1]+e[3],e[0]+e[2]]),this.swatchSize=[Math.min(i[0],t[2]-n[0]),Math.min(i[1],t[3]-n[1])]}return this.swatchSize},e.prototype.updateChartBox=function(t){return t&&h(t[2])&&h(t[3])&&(this.chartBox=en(t,10)),this.chartBox},e.prototype.pointOver=function(t){var e=this.axis,i=this.palette,n=i.getPointValue(t.currentOptions,t.series);null===n||Qd(n)||(i=i.getValueColor(n),e.crosshair(xS({point:t,yVal:n,color:i})))},e.prototype.pointOut=function(){this.axis.crosshair()},e.prototype.getUserWH=function(){var t=this.isHoriz,e=this.palette.options("colorBar")||{};return[t?e.length:e.width,t?e.width:e.length]},e.prototype.measure=function(t,e){var i=this.axis;this.setRootVisuals();var n=this.palette.axisConfig,r=this.getBarSize(t);if(this.axisSize=void 0,n){i.range=n,i.fitRange=!0,i.setViewState(),this.axisSize=i.measure(r),n=this.updateOverflows();var o=this.getBarSize(t);if(o[0]===r[0]&&o[1]===r[1]||(r=o,this.axisSize=i.measure(r)),i=(r=this.size=this.isHoriz?[r[0]+n[0],r[1]+this.axisSize[3]+n[1]]:[r[0]+this.axisSize[2]+n[0],r[1]+n[1]])[0]>t[2],r=r[1]>t[3],(i||r)&&(n=this.getUserWH(),!e&&i&&!h(n[0])||r&&!h(n[1])))return this.measure(t,!0)}return this.size},e.prototype.renderAxis=function(){var t=this.axis,e=this.contentRect,i=t.range.min;null!==i&&!Qd(i)&&h(i)&&h(t.range.max)&&t.render(e).renderOnCa(e)},e.prototype.patchAxis=function(){var t=this,e=t.rootVisuals,i=t.axis;i.isAdded||(e=[e.topAxes,e.rightAxes,e.bottomAxes,e.leftAxes][t.axis.sideIndex()],i.isVisible&&i.rootPanel&&(i.add(e),e.on("pixelCorrection",(function(){t.renderAxis()})),i.rootPanel.isPatched||i.rootPanel.await((function(){return t.renderAxis()}))))},e.prototype.render=function(t){var e=this.rootVisuals;t=this.getBarSize(t),this.rootPanel.attr({width:this.size[0],height:this.size[1]}),this.contentRect={x:0,y:0,width:t[0],height:t[1]},this.patchAxis();var i=this.axis.options("scale.invert");return i=yo(i={stops:this.palette.getTraditionalStops(null,!0),angle:this.isHoriz?i?180:0:i?90:-90}),e.colorContent.attr({fill:i,width:t[0],height:t[1]}),this},e.prototype.updateOverflows=function(){var t=Xu(this);return this.overflows=t.slice(0),[t[1]+t[3],t[0]+t[2]]},e.prototype.setRootVisuals=function(){var t=this.renderer;if(!this.rootVisuals){var e=this.rootVisuals=Wu(t).build({outline:{width:0},axis:{offset:.5},content:{holder:{stretch:!1}},axisMarkers:!0,overflow:!0});e.colorContent=t.rect({radius:3}).add(e.dataContent),this.rootPanel=e.mainStacks}return this},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.axis.destroy()},e}(eS),Sk=25,kk=300,_k=function(t){return t&&"Series"===t.kind},Mk=function(t){return t&&"Point"===t.kind},Tk=function(t){function e(e,i,n){var r=t.call(this,e.chart,c(i.currentOptions,"legendEntry")||{},[e,i])||this;return r.legend=e,r.target=i,r.sortOrderValue=n,r.rowVisuals=[],r.textVisualsRef=[],r.state="",r.icons={},r.legend=e,r.bindEvents(),r.optionsApplied(),r}return n(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];e=(t=s(t,2))[1],this.legend=t[0],this.target=e},e.prototype.defaultOptions=function(){return wd(wd({set:0,checkbox:{color:"#555555",size:12}},this.legend.currentOptions.defaultEntry),this.target.currentOptions.legendEntry)},e.prototype.options=function(e,i){var n=this.optionsGetter(e);if("NotGetter"!==n)return n;var r=Se(c(e,"checkbox.checked"),c(e,"checkbox_checked")),o=h(r),s=c(this.currentOptions,"checkbox.checked");n=h(s)&&!h(c(this.userOptions,"checkbox.checked"))&&!o,this.isCustom&&!this.legend._isSyncing&&this.chart.isRendered&&this._onUserOptions&&this._onUserOptions(e);var a=t.prototype.options.call(this,e,i);return n?Le(this.currentOptions,"checkbox.checked",s):o&&this.chart.isRendered&&!1!==i&&(this.updateCheckbox(r),this.checkbox&&this.checkbox.refresh()),"EntryWrapper"===this.target.kind&&(this.target.options({legendEntry:e},i),this.legend.isDirty=!0,!1!==i&&this.chart.chartAreaSet.reflow(void 0,!1,!0)),this.optionsApplied(),this.afterUpdate(i),a},e.prototype.optionsApplied=function(){this.userOptions.checkbox&&delete this.userOptions.checkbox.checked,this.chart.triggerOptionsApplied("legendEntry",this)},e.prototype.render=function(t){return this.updateStyles(!0),this},e.prototype.zoomTo=function(){return this.target&&this.target.zoomTo&&this.target.zoomTo(),this},e.prototype.refreshOptions=function(t){var e=this.target.options("legendEntry");e&&this.options(e,t)},e.prototype.getBounds=function(e){var i=this;if(e)return t.prototype.getBounds.call(this,e);var n=[];return Ad(this.rowVisuals,(function(t){n.push(i.getBounds(t))})),rn(n)},e.prototype.updateTrackerPosition=function(){var t=this.getBounds();t&&this.trackerElement.attr(Vo(en(t,-2)))},e.prototype.updateCheckbox=function(t){if(this.checkbox){var e=this.target,i=this.checkbox.attrs.name;(t=lp(e)+(Se(t,up(e))?"":"-blank"))!==i&&this.checkbox.attr({name:t})}return this},e.prototype.setRootVisuals=function(){return this},e.prototype.bindEvents=function(){var t,e=this,i=e.chart,n=e.target;if(!e.trackerElement){var r="pointer",o=e.hasUserEvent("click");(t=e.options("cursor"))?r=t:Mk(n)?n.series.options("pointSelection")||o||n.series.chartArea.canZoom()||(r="default"):(_k(n)||o)&&("EntryWrapper"!==n.kind||o)||(r="default"),n=e.options("initialCursor"),!i.isRendered&&n&&(r=n),(i=e.trackerElement=e.trackerElement||e.renderer.renderer.rect().attr({cursor:r,fill:"rgba(255,255,255,0)",zIndex:1}).add(i.rootVisuals.front)).on("mouseover",(function(t){return e.mouseover(t)})),i.on("mouseout",(function(t){return e.mouseout(t)})),i.on("vclick",(function(t){return e.click(t)}))}},e.prototype.mouseover=function(t){var e=this,i=e.legend,n=e.target,r=_k(n),o=Mk(n),s=o||r,a=e.chart.ctManager,h=a.isType("map"),l=a.isType("calendar");a="select"===n._state;var u=(i=i.chart.chartAreas(0)).debounce;if(t="touchend"===t.type,h=cp(e)&&!h&&!l,l=function(){u.defer("mute",(function(){dc(n,"",fc(e))}),36)},i.resetTimers(),!1!==e.triggerUser("mouseOver",n)){if(n.mouseOver){if(s&&h)if(!a&&n.setState(""),t&&e.chart.highlighted===n)u.run("unmute")||mc(e.chart);else{l();var c=!0}}else if(r&&h)if(n.isVisible)l(),c=!0;else var p=!0;else h&&!o&&(p=!0),!a&&n.setState("hover");e.setState("hover"),p?c&&e.chart.touched()&&u.defer("unmute",(function(){mc(n.chart)}),2e3):u.clear("unmute")}},e.prototype.mouseout=function(t){this.legend;var e=this.target,i=_k(e),n=Mk(e);t="select"===e._state||"select"===e.state,!1!==this.triggerUser("mouseOut",e)&&((i||n)&&cp(this)&&((i=(n?e.series.chartArea:e.chartArea).debounce).clear("mute"),i.defer("unmute",(function(){mc(e.chart)}),230)),e.setState&&!t&&e.setState(""),this.updateStyles())},e.prototype.click=function(t){var e,i=this,n=i.target,r="touchend"===t.type,o=Mk(n),s=(o?n.series.chartArea:n.chartArea)||i.chart.chartAreaSet.items[0],a=_k(n)||o;r&&s&&s.debounce.clear("touchTimeout");var l=function(t){return Le(i.currentOptions,"checkbox.checked",t)};if(i.checkbox&&!a){var u=l(!c(i.currentOptions,"checkbox.checked"));i._onUserOptions=function(t){h(t=Se(c(t,"checkbox.checked"),c(t,"checkbox_checked")))&&(e=!0)}}if(!1!==n.triggerUser("legendEntryClick")&&!1!==i.triggerUser("click",n)){if(a){u=(a=i.chart.ctManager).isType("map"),a=a.isType("calendar"),l=_k(n);var p=n.isVisible,f=i.chart.options("axisToZoom");f=f&&"none"!==f,cp(i)&&(r&&o&&!i.checkbox?(i.mouseover(t),s.debounce.defer("touchTimeout",(function(){s.clickOff()}),8e3)):!1!==p&&mc(n.chart)),n.visible&&!a&&!u&&l&&n.visible(),n.zoomTo&&(f||a)&&n.zoomTo(),this.chart.resetTimers()}else i.checkbox&&(i.updateCheckbox(u),i.checkbox.refresh(),l(u));i.checkbox?n.click&&n.click({eventArgs:t,accumulate:!!i.checkbox}):"Point"===n.kind&&"pie"===n.series.ctSv("chartType")&&n.select()}else i._onUserOptions&&!e&&l(!c(i.currentOptions,"checkbox.checked"));i._onUserOptions=void 0,t.preventDefault()},e.prototype.updateStyles=function(t){var e=this.target,i=this.chart.ctManager;i.isType("map");var n=c(this.currentOptions,"checkbox.checked");i=i.isType("calendar"),n=h(n)||this.checkbox&&i,this.targetVisible=Se(e.isVisible,!0),-1<this.legend.getTemplateColumns().indexOf("%icon")&&this.styleIconVisual(),n&&this.updateCheckbox(Se(c(this.currentOptions,"checkbox.checked"),this.targetVisible)),!1===this.targetVisible?this.setState("hidden",t):this.setState("",t)},e.prototype.setColumns=function(){var t=this,e=this,i=e.currentOptions,n=e.legend,r=i.set,o=n.getTemplateColumns(r),s=e.target;e.refreshOptions(!1);var a=c(e.userOptions,"checkbox.enabled");c(n.currentOptions,"defaultEntry.checkbox.enabled");var l=n.checkboxManual?a:function(t){return!(t.chart.ctManager.isType("map")||!(_k(t)||Mk(t)&&t.series.currentOptions.pointSelection))}(s)?!1!==a:a;if(n.isVisible){var u=Wl(i);delete u.val,u.autoWrap="default";var f=n.getColumnAlignments(r);e.rowVisuals=Cd(o,(function(n,r){var o,a=n.toLowerCase();if("%checkbox"===a)(o=e.rowVisuals[r])||(l?(r=wd({fill:i.checkbox.color},i.checkbox,{name:lp(s)+(up(s)?"":"-blank")}),o=n=e.renderer.panel({yAlignment:"center"}),e.checkbox=e.renderer.icon(r),e.checkbox.add(n),h(r=c(i,"checkbox.checked"))&&e.updateCheckbox(r)):o=e.renderer.panel({}));else if("%icon"===a)if(o=e.rowVisuals[r])e.iconVisual=o=t.getIconVisual(),o=o.root;else{e.iconVisual=o=t.getIconVisual(),e.rootVisuals={icon:o};var d=o.base,m=o.extra;r=t._iconSize?e._iconSize[0]:Se(i.iconWidth,p(i,["icon","width"]),20),o.root.attr({width:r,height:t._iconSize?e._iconSize[1]:10,xAlignment:"center",yAlignment:"middle"}),(o=o.root).on("pixelCorrection",(function(){var t=Se(c(d,"data.attrs.stroke-width"),1);t=Iu(o,[0,0],t),d&&d.attr({translate:t}),m&&m.attr({translate:t})}))}else"%name"===a?n=e.options("name"):"%value"===a&&(n=e.options("value")),"function"==typeof n&&(n=n(s)),e.options("attributes")&&(n=gu({attr:n},e,wd({mode:"AttrOnly"},e.chart.getFormatInfo()))),n=s.replaceTokens(n),a=wd({xAlignment:f[r],yAlignment:"middle"},u),(o=e.rowVisuals[r])?a.val=n:(o=e.renderer.textStack(n),e.textVisualsRef.push(o)),!1===s.isVisible&&s.chart.isRendered||o.attr(a);return!1===s.isVisible&&s.chart.isRendered||e.refreshOptions(!1),o}))}return this},e.prototype.getIconVisual=function(){var t=this.currentOptions,e=this.target,i=t.icon,n=Se(t.iconWidth,p(i,["width"]),20),r=d(i);if(e=e.getIconVisual([this._iconSize?this._iconSize[0]:n,this._iconSize?this._iconSize[1]:10],e,this),this._iconSize=null,i){var o=e.base||e.extra;o&&(i="object"===r?"none"===i.name?10:Se(i.size,i.width,n):"string"===r&&"none"===i?10:n,t=xc(t.icon,0,0,i,i))&&(o.attr({d:t}),this._iconSize=[i,i])}return e},e.prototype.styleIconVisual=function(){var t=this.currentOptions;this.target;var e=this.getIconVisual();this.target.styleIconVisual(e,this),e=this.getIconVisual(),(t=t.icon)&&(e=e.base||e.extra)&&(t=Fl(t),e.attr(t),this._iconColor=p(e,["data","attrs","fill"]))},e.prototype.setState=function(t,e){if(t!==this.state||e){var i=wd({},this.currentOptions);"normal"!==t&&(e=this.options("states."+t))&&wd(i,e);var n=Wl(i);delete n.val,n.autoWrap="default",i=(e=this.legend.rootPanel).getBbox(),Ad(this.textVisualsRef,(function(t){t.attr(n),t.isPatched&&t.patch()}));var r=e.setPreliminarySize(!0).getBbox();r.width===i.width&&r.height===i.height||e.refresh(),this.state=t}},e.prototype.remove=function(t){var e=this.legend;this.destroy(),e.syncCustomEntries(),e.isDirty=!0,!1!==t&&e.chart.chartAreaSet.reflow(!1,!1,!0)},e.prototype.hideTracker=function(){this.trackerElement&&this.trackerElement.hide(!0)},e.prototype.destroy=function(){var t,e=this.legend,i=u(this.legend.items,this);(t=gd(e._userEntries,{id:this.id}))&&(u(e._userEntries,t),u(e.userOptions.customEntries,t),u(e.currentOptions.customEntries,t)),-1<i&&(this.legend.isDirty=!0),this.textVisualsRef=[],Ad(this.rowVisuals,(function(t){return t.destroy()})),this.trackerElement&&this.trackerElement.destroy()},e}(eS),Ok=[120,70],zk=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isDirty=!0,e.fillShading="box",e.items=[],e.spItems=[],e.spMode="none",e._aligmentsCache=[],e._customEntries=[],e}return n(e,t),e.prototype.init=function(t){this.alignTo=t,this.kind="Legend",this.updateSp(),this.initFP()},e.prototype.initFP=function(){var t=this;t.entries=or(Gg,(function(){return t.items}),(function(){return 0}),{push:function(e,i){t._userEntries=t._userEntries||[],t._userEntries.push(e),t.syncCustomEntries(),t.isDirty=!0,!1!==i&&t.chart.chartAreaSet.reflow(void 0,!1,!0)}})},e.prototype.options=function(e,i){var n=this.optionsGetter(e);return"NotGetter"!==n?n:(this.isDirty=!0,t.prototype.options.call(this,e,!1),!1!==i&&this.chart.chartAreaSet.reflow(void 0,!1,!0),this.afterUpdate(i),this)},e.prototype.updateSp=function(){var t,e=this.chart,i=e.palette&&!1!==c(e.palette,"colorBar.visible");return(e=this.smartPalette="object"===d(t=e.palette)&&i?e.getSmartPalette(t):void 0)?this.spMode=e.mode:!1===i&&(this.spMode="colorBar"),this.colorBar&&("colorBar"!==this.spMode?(this.colorBar.destroy(),this.colorBar=void 0):this.smartPalette.destroyEntries()),this},e.prototype.allowEntries=function(){return this.chart.ctManager.isType("calendar"),!0},e.prototype.setOptions=function(){t.prototype.setOptions.call(this),this.isVisible=!1!==this.currentOptions.visible,this.setLayoutDirection(),this.updateSp();var e=this._userEntries=this.currentOptions.customEntries||[];return Ad(e,Wo),this},e.prototype.defaultOptions=function(){var t=this.chart,e=(t=t?t.boxDefaults():iv()).label.style;return{position:"right top",fill:t.fill,layout:"auto",radius:t.radius,boxPointerEvents:!1,boxVisible:t.boxVisible,corners:["cut","square","cut","square"],outline:t.outline,title:{label:{style:{fontSize:"13px"}}},defaultEntry:{name:"%name",value:"%value",icon:{width:20},style:{color:e.color,fontSize:"11px"},states:{hidden:{style:{color:"#707070"}}}},headerStyle:{color:e.color,fontSize:"12px",fontWeight:"normal"},horizontalSpacing:3,margin:!1===t.boxVisible?0:7,template:"%value %icon %name",name:"%name",value:"%value",shadow:Se(t.shadow,!0),sortOrder:0}},e.prototype.normalizeOptions=function(e,i){return h((e=t.prototype.normalizeOptions.call(this,e,i)).width)&&!h(e.maxWidth)&&(e.maxWidth=e.width),e},e.prototype.contextOptions=function(){return wd({},this.defaultContextOptions||{},c(this.chart,"typeContextOptions.legend")||{})},e.prototype.dependentOptions=function(){return[{option:"fill",check:function(t){return t},dependent:"margin",value:7}]},e.prototype.defaultEntryOptions=function(){},e.prototype.pointOver=function(t){this.colorBar&&this.colorBar.pointOver(t)},e.prototype.pointOut=function(){this.colorBar&&this.colorBar.pointOut()},e.prototype.setRootVisuals=function(){var t=this.currentOptions,e=this.rootVisuals,i=this.rootPanel;return e||(e=this.rootVisuals={title:void 0,stack:void 0,background:void 0,grid:void 0},i=this.rootPanel=i||this.renderer.box(),i=e.stack=e.stack||this.renderer.panel({type:"stack:y"}).add(i),e.title=e.title||new oS(this.chart,{text:"",margin:3}).add(i),e.grid=e.grid||this.renderer.panel({type:"grid",xAlignment:"center",cellSpacing:Se(t.cellSpacing,5)}).add(i),e.gridSp||(e.gridSpDivider=this.renderer.textStack("<hr>").attr({xAlignment:"center",width:"100%",fontSize:5,padding:[0,5],suspend:!0}).visible(!1).add(i),e.gridSp=this.renderer.panel({type:"grid",xAlignment:"center",cellSpacing:Se(t.cellSpacing,5)}).add(i))),this},e.prototype.setAttribs=function(){var t=this.currentOptions,e=t.margin;return"position"===Bu(t.position)&&e&&"number"==typeof e&&(t.margin=this.getAdjustedMarginVal(e)),delete(t=Nl(t,this.fillShading)).width,this.attribs={bg:t},this},e.prototype.getAdjustedMarginVal=function(t){var e=[0,0,0,0];return e[{t:2,r:3,b:0,l:1}[Pu(this.options("position"))]]=t,e},e.prototype.measure=function(t){return this.render(h(t)?Vo(t):this.chart.renderer.rootBox),this.isMeasured=!0,this.getLegendBoxWithMargins()},e.prototype.render=function(t){var e=this,i=e.currentOptions,n="vertical"!==e.layoutDirection,r=e.rootPanel,o=e.rootVisuals,s=t?vn(t):void 0;if(t){t=xd(t);var a=!0}else t={};if(e.updateSp(),!a)return this;if(e.isDirty||t)if(e.isVisible){r.visible(!0),e.setTargetItems(),e.sortByInternalSortValue();var h="colorBar"===e.spMode&&e.smartPalette,l=0<e.entries().items.length,u=h&&l,p=l&&"ranges"===e.spMode;o.grid.attr({width:null,height:null}),e.setAttribs(),l=e.attribs;var f=wd({},e.options("title.label"));c(f,"text.length")&&(f.text=e.chart.replaceTokens(f.text));var d;(d=c(f,"align"))&&o.title.rootPanel.attr({xAlignment:d}),o.title.options(f),f=xd(t),u&&a&&(f=Vo(s=mn(s,[0,-Ok[n?1:0],0,0])));var m=function(t,e){void 0===e&&(e=o.grid),t.borders.length&&e.attr({borders:t.borders}),e.val(t.rows)};if(a&&p){n=o.gridSp.getBboxArray(),a=o.gridSpDivider.getBboxArray(),t=gn(s,n=[0,0,0,n[3]+o.title.getSize()[1]+a[3]]),o.gridSpDivider.suspend=!0,n=e.getItemSets(),t=Wn(s=e.getItemBoxSets(t,n),{limitBox:t});var g=[o.grid,o.gridSp],v=0,y=t.ids;Ad(n,(function(t,i){t&&m(e.getSetRows(t,y[Math.min(i,y.length-1)]),g[i]),t&&v++})),o.gridSpDivider.visible(1<v),e.updateStyles()}else{if(e.allowEntries()&&m(e.getRows()),s=void 0,u=h?f:e.chart.renderer.rootBox,e.allowEntries()&&a&&1<(s=Math.ceil(e.getApproximiteSplitFactor(u))))for(m(e.getRows(s));1<e.getApproximiteSplitFactor(u)&&s<e.items.length;)m(e.getRows(++s));e.updateStyles(),h&&a&&(o.gridSpDivider.visible(0<o.grid.childElements.length).setPreliminarySize(!0),s=o.grid.getBboxArray(),a=o.gridSpDivider.getBboxArray(),t=gn(vn(t),[0,0,0,s[3]+o.title.getSize()[1]+a[3]]),a=void 0,!n&&s[2]>1.5*t[3]&&s[2]>Ok[0]?(t=[0,0,s[2],t[3]],a=!0):140<t[3]&&(t[3]*=.8),o.gridSp.val([[e.getSwatch(t,a)]]))}o.grid.attr({width:i.width,height:i.height}),r.attr(l.bg),e.isDirty=!1}else r.isPatched&&(r.attr({width:null,height:null}),r.visible(!1),r.refresh());return e.chart.triggerOptionsApplied("legend",e),this},e.prototype.invalidate=function(){return this.isDirty=!0,this},e.prototype.updateStyles=function(){return this.isVisible&&Ad(this.items,(function(t){t.updateStyles()})),this},e.prototype.getApproximiteSplitFactor=function(t){var e=this.rootVisuals,i=this.currentOptions;this.rootPanel.update();var n=e.gridSp.getBbox(),r=e.gridSpDivider.getBbox();return(e=e.stack.getBbox()).height-=n.height+r.height,n=this.curRect=e,1>=(t=ei(t="vertical"===this.layoutDirection?n.height/(t.height||n.height):n.width/(t.width||n.width),2))&&(i=Se(i.maxWidth,i.width))&&(t=n.width/i),t},e.prototype.getRows=function(t){return void 0===t&&(t=1),this.getSetRows(this.getVisibleItems(),t)},e.prototype.getSetRows=function(t,e){void 0===e&&(e=1);var i=this,n=[],r=i.renderer,o=i.currentOptions,s=[],a=[],h=t.length&&t[0].set,l=function(t,e){return Ad(t,(function(t){s.push(t),a.push(e)}))},u=function(t,e){t?t.setColumns?(e=t.setColumns().rowVisuals,l(e,t.currentOptions.lineAbove?[!0,!1,!1,!1]:null)):l(t,null):l(i.getBlankEntry(h),null)},c=function(){s.push(r.panel({width:o.horizontalSpacing})),a.push(null)},p=function(t){if(f&&t){for(var e=0;e<t;e++)u(i.getHeaderEntry()),e!==t-1&&c();n.push(s),s=[]}},f=void 0!==i.getHeaderEntry(h),d=Math.ceil(t.length/e);e=[];for(var m=0,g=0,v=t.length;g<v;g+=d){var y=t.slice(g,g+d);e.push(y),m=Math.max(m,y.length)}if("vertical"===i.layoutDirection)for(p(e.length),t=0;t<m;t++){for(s=[],p=0,d=e.length;p<d;p++)u(e[p][t]),p!==d-1&&c();n.push(s)}else for(p(m),p=0,d=e.length;p<d;p++){for(s=[],t=0;t<m;t++)u(e[p][t]),t!==m-1&&c();n.push(s)}return{rows:n,borders:a}},e.prototype.setLayoutDirection=function(){var t=this.currentOptions,e=t.layout;e=e||"auto";t=Pu(t.position)||"r",this.layoutDirection=("auto"===e?{t:"horizontal",r:"vertical",b:"horizontal",l:"vertical"}[t[0]]:e)||"vertical"},e.prototype.getSwatch=function(t,e){this.setLayoutDirection();var i=this.smartPalette;return this.colorBar&&i.id!==this.colorBar.palette.id?(this.colorBar.destroy(),e=this.colorBar=new Ck(this,i,{maxWidth:400,maxHeight:400,isHoriz:e})):e=this.colorBar=this.colorBar||new Ck(this,i,{maxWidth:400,maxHeight:400,isHoriz:e}),e.measure(t)&&e.render(),!this.allowEntries()&&Ad(this.getVisibleItems(),(function(t){t.hideTracker()})),e.rootPanel},e.prototype.setTargetItems=function(){var t=this.chart;this.smartPalette&&(this._targetItems="ranges"===this.spMode?this.smartPalette.syncLegendEntries(this):void 0),t.calIndexer&&t.calIndexer.syncLegendEntries(this),this.syncCustomEntries()},e.prototype.getVisibleItems=function(){var t=Se(this._targetItems,[]).slice(0);return this.allowEntries()&&t.push.apply(t,a(this.items)),t=kd(t),md(t,(function(t){if(!1!==t.options("visible"))return t}))},e.prototype.getItemSets=function(){var t=this.getVisibleItems(),e=[];return Ad(t,(function(t){var i=Se(t.currentOptions.set,0);e[i]?e[i].push(t):e[i]=[t]})),e},e.prototype.getItemBoxSets=function(t,e){var i=this,n=i.rootPanel,r=i.rootVisuals,o="vertical"!==i.layoutDirection;e=e||i.getItemSets();var s=[],a=[r.grid,r.gridSp];return Ad(e,(function(e,r){if(e){if(r=a[r],e){for(var h=[],l=function(t){return Cd(Hn(t),(function(t){return t[0]}))}(e.length),u=void 0,c=0,p=l.length;c<p;c++){var f=l[c],d=i.getSetRows(e,l[c]);if(d.borders.length&&r.attr({borders:d.borders}),r.val(d.rows),n.update(),d=r.getBboxArray(),o){if(d[2]<t[2]){d.id=f,h.push(d);break}(u=d.slice(0)).id=f}else{if(d[2]>t[2]){(u=d.slice(0)).id=f;break}d[3]<t[3]?(d.id=f,h.push(d)):(u=d.slice(0)).id=f}}!h.length&&u.length&&h.push(u),e=h}else e=void 0;e.length&&s.push(e)}})),s},e.prototype.getBlankEntry=function(t){var e=[],i=this.renderer;t=this.getTemplateColumns(t).length;for(var n=0;n<t;n++)e.push(i.panel());return e},e.prototype.getColumnAlignments=function(t){void 0===t&&(t=0);var e=this,i=!e.chart.chartAreaSet.series().length;if(e._aligmentsCache[t])return e._aligmentsCache[t];var n=e.getTemplateColumns(t),r=gd(e.items,(function(t){return!t.isCustom}))||e.items[1]||e.items[0];if(!r)return[];var o=r.target,s=function(t,i){var n=t.replace(",",".");if(!(t=parseFloat(n))&&0!==t)return!1;if((t=t.toString())===n)return!0;n=n.length-t.length;for(var r=1;r<e.items.length;r++){var o=e.items[r].target.replaceTokens(i);if(!(t=parseFloat(o))&&0!==t)return!1;if(t=t.toString(),o.length-t.length!==n)return!1}return!0};return n=Cd(n,(function(t,e){if("%icon"===t)return"center";var n;i?e=n=gu({attr:t},r,r.chart.getFormatInfo()):(e=o.replaceTokens(t),n=o.replaceTokens({token:t}));var a=d(n);return"object"===a&&(a="string",n=n.token||n),("INVALID TOKEN"===n||"string"===a&&s(e,t))&&(a="number"),"string"===a?"left":"right"})),e._aligmentsCache[t]=n},e.prototype.getTemplateColumns=function(t){var e=this.currentOptions.template,i=!!e.pop,n=h(t),r=!0===c(this.userOptions,"defaultEntry.checkbox.enabled");return e=pp(i?e[n?t:0]:e,!1),i=this.userOptions.template,!t||i&&"%icon %name"!==i||"ranges"!==this.spMode||(e=pp("%icon %value",!1)),gd(e,(function(t){return"%checkbox"===t.trim().toLowerCase()}))||((this.items.filter((function(t){return!0===t.userOptions.checkbox||c(t.userOptions,"checkbox.enabled")})).length||(t=this.userOptions.customEntries)&&t.filter((function(t){return!0===t.checkbox||c(t,"checkbox.enabled")})).length)&&(e.unshift("%checkbox"),this.checkboxManual=!0),!ae(e,"%checkbox")&&r&&e.unshift("%checkbox")),r&&this.checkboxManual&&(this.checkboxManual=!1),e},e.prototype.getHeaderEntry=function(t){var e=this,i=e.currentOptions,n=pp(i.header,!1);if(n){var r=e.getTemplateColumns(t);t=r.length;var o=Wl({style:i.headerStyle});n&&n.length&&n.length!==r.length&&-1<(i=r.indexOf("%checkbox"))&&n.splice(i,0,""),gd(e.items,(function(t){return!t.isCustom}));var s=e.getColumnAlignments();if(i=[],n.length===t)return Cd(n,(function(t,i){return-1<t.indexOf("%")&&(t=e.chart.replaceTokens(t)),(t=e.renderer.textStack().val(t)).attr(wd({xAlignment:s[i]||"left",yAlignment:"bottom"},o)),t}))}},e.prototype.getLegendBoxWithMargins=function(){var t=this.rootPanel;return 1<t.combinations.length?this.rootPanel.refresh(!0):this.rootPanel.setPreliminarySize(!0),t.getGlobalBboxArray(!0)},e.prototype.positionUpdated=function(t){Ad(this.items,(function(t,e){t.updateTrackerPosition()}))},e.prototype.addEntry=function(t,e,i){var n;return void 0===e&&(e=0),t.legend=this,i&&(!h(n=i.replaceIndex)||0>n)&&(n=this.items.indexOf(i)),t=new Tk(this,t,e),-1<n?(this.items.splice(n+1,0,t),i.replaceIndex=n+1):this.items.push(t),this.sortByInternalSortValue(),this.isDirty=!0,t},e.prototype.syncCustomEntries=function(){var t=this,e=yS.custom;t._isSyncing=!0,re(t._userEntries,t._customEntries,(function(i){var n=t.addEntry(new uS(t.chart,{legendEntry:i}));return h(c(i,"checkbox.checked"))&&delete i.checkbox.checked,n.isCustom=!0,n.sortOrderValue=e++,n}),(function(t,e){return e.options(t,!1)})),Ad(t._customEntries,(function(t){return t.setColumns()})),t._isSyncing=!1},e.prototype.sortByInternalSortValue=function(){this.items.sort((function(t,e){return(t=Se(t.currentOptions.sortOrder,t.sortOrderValue))<(e=Se(e.currentOptions.sortOrder,e.sortOrderValue))?-1:t>e?1:0})),this.options("reversed")&&this.items.reverse()},e.prototype.add=function(t){return this.render(),this.rootPanel&&this.rootPanel.add(t),this},e.prototype.destroy=function(){this.colorBar&&("colorBar"!==this.spMode?(this.colorBar.destroy(),delete this.colorBar):this.smartPalette.destroyEntries()),delete this.rootVisuals,delete this.colorBar,delete this.smartPalette},e}(eS),Dk={zigzag:dp,gap:function(t,e,i,n){var r=e/2,o="c"===t||"l"===t,a="m"===t||"t"===t;if(o={clipPath:Ba(i=(o=s(n([i[0]+(o?r:0),i[1]+(a?r:0),i[2]-(o||"r"===t?"c"===t?e:r:0),i[3]-(a||"b"===t?"m"===t?e:r:0)]),4))[0],n=o[1],r=o[2],a=o[3])},"r"!==t&&"b"!==t){var h=n+.5,l=i+.5;t="t"===t||"m"===t?[[[i,h],[i+r,h]],[[i,h-e],[i+r,h-e]]]:[[[l,n],[l,n+a]],[[l-e,n],[l-e,n+a]]],o.outlinePath=Ia(t[0]).concat(Ia(t[1]))}return o},line:function(t,e,i,n){if("r"===t||"b"===t)return null;var r=e/2,o="c"===t||"l"===t;return t="m"===t||"t"===t,{path:Ba((e=n([i[0]-(o?r:0),i[1]-(t?r:0),o?e:i[2],t?e:i[3]]))[0],e[1],e[2],e[3])}},hidden:function(){return null}},Ek=function(t,e,i){var n=e.id,r=function(t){return t.crosshair(i)};t.axes().filter({userOptions:{scale:{syncWith:n}}}).each(r),r(e)},Pk=function(t){var e=[];return Ad(t,(function(t){t.yVal.pop?Ad(t.yVal,(function(i){e.push(xS(wd({},t,{yVal:i})))})):e.push(xS(t))})),e},Bk=["column","area","candlestick","ohlc","variwide"],Lk=["column","candlestick","ohlc","variwide"],Rk=function(t){function e(e,i){var n=t.call(this,e.chart,i,[e.chart,i])||this;n.chartAreaSet=e,n.kind="chartArea",n._series=[],n.yAxis=[],n.xAxis=[],n.zAxis=[],n._axes=[],n.axConfList={},n.renderedRect={x:0,y:0,width:0,height:0},n.preRenderedRect={x:0,y:0,width:0,height:0},n.isDirtyPreRender=!0,n.isRendering=!1,n.renderRect={x:0,y:0,width:0,height:0,borderWidth:0},n.projection={lin2valxy:function(t,e){return[t,e]},val2linxy:function(t,e){return[t,e]}},n._awaitRenderCallbacks=[],n.maxSeriesZIndex=0,n.events={contentBox:new Rx,click:new Rx},n.isZoomedDragArea=!1,n.zoomAxes=[],n.computeVals2=function(t,e){var i=t.slice(0,2);n.isHoriz&&i.reverse();var r=[];return Ad(n.zoomAxes,(function(t,n){return r[n]=t?t.linToVal(i[n],e):void 0})),n.projection.lin2valxy(r[0],r[1])},n.computeValsTouch=function(t,e){return Cd(t,(function(t){return n.computeVals2(t,e)}))},n._lastPointers=[],n.mouseMove=nm((function(t){var e,i=t.pointers||[[t.x,t.y]],r=n.chart,o="touch"===t.device;if(2===i.length&&n.isPinchZooming)n.pinch(t);else if(1===i.length){i=i[0];var s=void 0;if(n.isZooming)return n.zoomEndVals=s=n.computeVals2(i,!0),n.moveZoom(n,s),!0;if(n.isDragging)return n.drag(n.computeVals2(i));var a=n.renderer.renderer.isAnimatingOwn()&&!n._ignoreAnimation;if(s=n.isType("map"),!a&&(e=n.renderBySortedSeriesRev)){if(a=void 0,n.crosshair(i,t)){var h=void 0;for(l=0,u=e.length;l<u&&(!n.chart.hoveredPoint&&!(h=e[l].hitTest(i))||!n.chart.hoveredPoint&&"function"!=typeof h.options("events.click")||!(a=e[l].mouseMove(t,i)));l++);n.debounce.run("unmute")}else for(var l=0,u=e.length;l<u&&!(a=e[l].mouseMove(t,i));l++);return n.crossPDD().length&&t.eventArgs.cancelable&&t.eventArgs.preventDefault(),o&&(a?(n.debounce.defer("touchTimeout",(function(){n.clickOff()}),8e3),n._hoveredItem=n.chart.hoveredPoint):n._hoveredItem=void 0),!a&&function(){var t=r.getCursor();return!t||"crosshair"===t||"move"===t}()&&n._axisToZoom&&(s||n._isStaticDragArea?(n.isZoomed||n.isZoomedDragArea)&&r.setCursor("move"):n.isZoomed&&!s?n.isInDragArea(i[1])?r.setCursor("move"):s||r.setCursor("crosshair"):r.setCursor("crosshair")),a||!0}}}),13),n.docMM=void 0,n.docVUp=void 0,e.items.push(n);var r=n.readyDefer=new Yg,o=r.hold("caConst");return n.initFP(),n.chart=e.chart,n.collisionManager=new bS(n),n.legend=n.chart.legends(0),n.legend.alignTo=n.legend.alignTo||n,n.prepAxisConfigs(),r.release(o),n._firstOpCall=!0,n.options(i,!1),n.tooltip=new JS(n),n}return n(e,t),e.prototype.init=function(t){this._renderDataCallMonitor=new Ug,this.ctManager=fC(),this.ctManager.init(t.userOptions),this.debounce=new Hg},e.prototype.initFP=function(){var t=this;this.axes=or(wk,(function(){return t._axes}),(function(t){})),this.series=or(sk,(function(){return t._series}),(function(t){}))},e.prototype.defaultOptions=function(){var t=this.chart,e=t.boxDefaults(this.userOptions.boxVisible?1:void 0),i=Ao(e.fill,"white",30),n=c(t.typeContextOptions,"chartArea");return e={fill:i,outline:e.outline,boxVisible:e.boxVisible,shadow:e.shadow},n&&wd(e,n),t.chartAreaSet.hasScaleBreaks&&(e.boxVisible=!0),e},e.prototype.normalizeOptions=function(e){return Ho(e=t.prototype.normalizeOptions.call(this,e,"series"),"xAxis"),Ho(e,"yAxis"),Yo(e,"orientation"),function(t){le(dy,(function(e){var i=t[e];i&&Nd(i)&&1>Math.abs(i)&&(t[e]=100*i+"%")}))}(e),e},e.prototype.options=function(e,i){var n=this.optionsGetter(e);return"NotGetter"!==n?n:((n=e.series)&&!this._firstOpCall&&(delete this.userOptions.series,delete this.currentOptions.series),!this._firstOpCall&&t.prototype.options.call(this,e,i),this.isHoriz=this.ctManager.isHoriz(),n&&this.setSeries(i),this.applyOptions(),!1!==i&&this.chartAreaSet.tryReflow(),this._firstOpCall=!1,this)},e.prototype.applyOptions=function(){var t,e=this.options();if(this.rootVisuals.caBackground){var i=Vl(e,void 0,hy.chartArea);this.rootVisuals.caBackground.attr(i.fill)}i=e.height;var n=e.width;if(i||n){var r={};n&&(r.width=n),i&&(r.height=i),this.rootPanel.attr(r)}return(t=e.title)&&this.rootVisuals.titleBox.options(t),(this._isStaticDragArea=this.isType("organizational"))?this._axisToZoom="xy":(this._axisToZoom=this.chart.currentOptions.axisToZoom||this.currentOptions.axisToZoom,"none"===this._axisToZoom&&(this._axisToZoom="")),this.chart.triggerOptionsApplied("chartArea",this),this},e.prototype.canZoom=function(){return!!this._axisToZoom},e.prototype.setSeries=function(t){var e=this;e.log("setSeries()");var i=e.processSeriesConfigs();(e.ctManager.hasSetting("behavior","tree")||e.ctManager.isType("column"))&&e.buildChildLookup();var n=function(t,i){var n=t.currentOptions,r=n&&(n.id||n.name),o=t.id||t.name;return e.ctManager.isType("map",t)?r||o||i:n?r||i:o||i};return re(i,e._series,(function(t){e.addSeries(t)}),(function(e,i){return i.options(e,t||!1)}),(function(){}),n,n),e.triggerUser("setSeries",e),e.updateMapData(t),this},e.prototype.processSeriesConfigs=function(){var t=this.options(),e=this.ctManager;if(t=t.series||[],e.shouldDataMerge()&&t.length&&1<t.length){var i=e.dataMergeType(t);(e=e.shouldDataMerge(t)).length&&(t=Cd(e,(function(t){return Nc(t,"collect"===i)})))}return t},e.prototype.spliceSeries=function(t,e,i,n){var r=this,o=this.readyDefer,s=this._series,h=o.hold("spliceSer"),l=s.slice(0,t),u=s.slice(t,t+e);for(t=s.slice(t+e,s.length),e=0,s=u.length;e<s;e++)u[e].destroy();i=Cd(i,(function(t){return new rk(r).options(t,n||!1)})),l.push.apply(l,a(i)),l.push.apply(l,a(t)),this._series=l,this.updateMapData(n),this.triggerUser("addSeries"),o.release(h)},e.prototype.updateMapData=function(t){var e=this;e.isType("map")&&e.triggerUser("updateMapData",[e,function(){return e.chart.redraw(t)}])},e.prototype.addSeries=function(t,e){this.isDirtyPreRender=!0;var i,n=this.readyDefer,r=n.hold("addSer");return this._series.push(i=new rk(this)),i.options(t,e||!1),this.isType("map"),n.release(r),this.triggerUser("addSeries"),i},e.prototype.preRender=function(){var t=this;if(t.isDirtyPreRender){var e=!t.renderedRect.width;t.setAxes();var i=function(e){e=t.axes(e).items.sort((function(t,e){return t=t.options("scale.syncWith"),e=e.options("scale.syncWith"),t&&e||t===e?0:t?1:-1}));for(var i=0;i<e.length;i++){var n=e[i];n.setData().setRange(!0),n.init_markers()}};i((function(t){return"x"===t.prefix})),t.dataLayout_clustersAndStacks(),t.series().each((function(t){return t.setColor()})),i((function(t){return"x"!==t.prefix})),t.isMultiType()&&(t.panes=t.panes||(RC?new RC(t):null),t.panes.setPanes(t._updateOptions)),t.preRenderedRect=t.contentRect,t.isDirtyPreRender=!1,e&&t.triggerUser("firstPreRender",t)}},e.prototype.setAxes=function(){var t=this,e=this,i=(p(e.chart.currentOptions,["defaultAxis","scale"])||{}).syncWith,n=e.chartAreaSet.allAxes;e.series().each((function(t){t.setAxes()})),Ad(["x","y","z"],(function(r){if(1<n[r].length)for(var o=0,s=n[r].length;o<s;o++)if(o){var a=n[r][o],l=!1,u=a.scale||{},c=!!u.range;c&&ip(u.range);var f=u.syncWith||i,d=p(e._series[0],["visualizer","kind"])||"";"none"===f||e.ciManager.exists(a.id)||d.match(/^map|^annotation|^funnel|^venn|^pie/)||(a.scale?c&&!ip(u.range)&&(l=!0):a.defaultTick?h(a.defaultTick.enabled)||Wg.emit("tip",a.id,"multiAxDTE",{data:[a.id,r],container:e.chart.getWrapper()}):a=wd({defaultTick:{enabled:!1}},a),l||new bk(t,a,r))}})),e.setZoomAxes(),e.triggerUser("setAxes",e)},e.prototype.isType=function(t){return this.ctManager.isType(t)},e.prototype.isMultiType=function(){return this.isType("radar")||this.isType("gauge")},e.prototype.buildChildLookup=function(){if(!this.childLookup){var t=this.childLookup={},e=function(e){var i;(i=e.currentOptions.parent)&&(i=Ku(i),Ad(i,(function(i){t[i]=t[i]||[],t[i].push(e)})))};!this.chart.isRendered&&this._series.length<this.userOptions.series.length?this.userOptions.series.forEach((function(t){Array.isArray(t.points)&&t.points.forEach((function(t){return e({currentOptions:t})}))})):this._series.forEach((function(t){t.seriesDirty.points()?t.userPoints.forEach((function(t){return e({currentOptions:t})})):t._points.forEach(e)}))}},e.prototype.requestAxis=function(t,e,i,n){var r,o=this.chart.chartItemManager;if(i){if(r=o.exists(i))return r;t=this.getAxConfig(i)||{}}else t=this.chartAreaSet.freeAxes[e];return(i=Se(i,t?t.id:void 0))&&(r=o.exists(t.id))||(r=wd({},t),i&&(r.id=i),r=new bk(this,n?wd(r,n):r,e)),r},e.prototype.getAxConfig=function(t){if(t)for(var e,i=this.axConfList,n=ze(i),r=this.chartAreaSet.currentOptions.rootAx,o=0,s=n.length;o<s;o++){var a=n[o];if((e=gd(i[a],{id:t}))||(e=gd(r[a+"Axis"],{id:t})))return e}},e.prototype.prepAxisConfigs=function(){var t,e,i=this;return Ad(["x","y","z"],(function(n){e=n+"Axis",(t=i.currentOptions[e]||[]).push(i.chartAreaSet.freeAxes[n]),Ad(t,Wo),i.axConfList[n]=t})),i},e.prototype.populateAxisPanels=function(){if(!this.isMultiType()){var t,e=this.rootVisuals,i=this.readyDefer,n=Gc(this.axes()),r=[this.rootRect.width,this.rootRect.height],o=[e.topAxes,e.rightAxes,e.bottomAxes,e.leftAxes];e=function(t){return!t.isHoriz};var s=function(t){return t.isHoriz},a=i.hold("axM");Fd(4,(function(t){Ad(n[t],function(t){return function(e){e.isVisible&&e.rootPanel&&!e.isAdded&&e.add(t)}}(o[t]))})),this.axes(e).each((function(e){e.resetMetricsData(),(t=e.measure(r))&&(r[0]-=t[2])})),this.axes(s).each((function(e){e.resetMetricsData(),(t=e.measure(r))&&(r[1]-=t[3])}));var h=function(t){return t.measure(r)};this.axes(e).each(h),this.axes(s).each(h),i.release(a)}return this},e.prototype.measureAxes=function(){this.populateAxisPanels(),Zu(this)},e.prototype.measureAxes_resetOverflows=function(){var t=this.rootVisuals;t.leftOverflow.attr({width:0}),t.topOverflow.attr({height:0}),t.rightOverflow.attr({width:0}),t.bottomOverflow.attr({height:0}),this.overflows=[0,0,0,0]},e.prototype.tryRenderData=function(t){var e=this.rootVisuals.content.getGlobalBbox();if(!e.width||!e.height)return!1;var i=this.contentRect;return!(i&&i.width===e.width&&i.height===e.height||((i=this.contentRect=e).x=0,i.y=0,this.renderData(t),0))},e.prototype.renderData=function(t){var e=this;e.ctManager;var i=e.chart,n=e.rootVisuals;e.log("renderData"),e.isRendering=!0;var r=e.readyDefer,o=e.contentRect;if(!r.isReady())return r.onReady(e.id+"renderD",(function(){e.isType("map")&&e.chartAreaSet.reflow(),e.renderData(t||e._updateOptions||void 0)})),e;var s=e._renderDataCallMonitor;if(!(10<s.callCount)){s.open(),e._updateOptions=void 0,o||(o=e.contentRect=Vo([0,0,800,500]));var a=!1;if(o){if(a=e.chart.disableAnimation(t),e.triggerUser("preRenderData",[e,!e.renderedRect.width]),e._cancelBubble)return s.close(),void(e._cancelBubble=0<s.callCount);e.trigger("contentBox",n.content.getGlobalBbox()),function(t){var e=t.chart,i=t.collisionManager,n=vn(t.rootVisuals.content.getGlobalBbox());n=[-n[0],-n[1]];var r=function(t){t.isVisible&&i.addLabelBox(Xm(t.getBounds(),n))};i.reset(),e.uiItems&&e.uiItems().each(r),e.annotations().each(r),Bu(t.legend.currentOptions.position).match("caOffset|caAlign|absolute")&&(t=t.legend.getBounds(),i.addLabelBox(Xm(t,n)))}(e),r=e.currentOptions.outline.width;var h=e.renderRect=zo(o,r/2),l={x:0,y:0,width:h.width,height:h.height};r={x:0,y:0,width:o.width-2*r,height:o.height-2*r,borderWidth:r};var u=n.titleBox.currentOptions;h=u.position&&"full"!==u.position?u.position:"left",u=Vl(u),n.titleBox.alignTo(n.content,h,h,[0,u.stroke["stroke-width"]]);var c,p=[];i.flowEvents.beforeRenderSeries.trigger([e,o,r,t,p,function(){return c=!0}]),c||(n=e.series((function(t){return t.chartArea.id===e.id&&!1===t.info.type.isShape&&void 0===t.pane})).sortBy("zIndex"),n.each((function(e){return p.push((function(){return e.render(l,t)}))})),n.each((function(e){return p.push((function(){return e.renderLabels(l,t)}))})),n.each((function(e){return p.push((function(){return e.renderHierarchy(l,t)}))}))),function(t,e,i){var n=e.reverse(),r=function(){if(0===n.length)i();else{var e=n.pop();t((function(){e(),r()}))}};r()}((function(t){return i.ensureLoadingApplied(t)}),p,(function(){i.flowEvents.nextRenderSeries.trigger([e,o,l,t,function(){return c=!0}]),e.renderedRect=o,e.isMultiType()||e.axes().each((function(e){e.render(l,wd({invalidate:!0},t)),e.renderOnCa(l,t)})),e.render_caClip(),a&&e.chart.enableAnimation(),e.rootPanel.refresh(),e.legend.updateStyles(),e.renderBySortedSeriesRev=e.series((function(t){return t.chartArea.id===e.id})).sortBy("zIndex").items.slice(0),e.renderBySortedSeriesRev.reverse(),e._chartFirstTimeRendered&&!e._chartFirstTimeDataDirty||(e._chartFirstTimeRendered=!0,e._chartFirstTimeDataDirty=!1,e.triggerUser("chartAreaRenderDataFirstTime",e));var n=e._awaitRenderCallbacks.slice();e._awaitRenderCallbacks=[],e.isRendering=!1,e.isRendered=!0,Ad(n,(function(t){return t()})),e._cancelBubble=1<s.callCount,s.close()}))}return this}},e.prototype.getContentGlobalBbox=function(){return this.rootVisuals.content.getGlobalBboxArray()},e.prototype.awaitRender=function(t){this._awaitRenderCallbacks.push(t)},e.prototype.render_caClip=function(){var t=this,e=t.rootVisuals,i=t.currentOptions,n=t.rootVisuals.content,r=t.axes(),o=en(vn(t.renderRect),-1),s=i.outline.width||0;o=(r=fp(n,r,s)).clipPath||xn(vn(Vu(n,Vo(o),s))),s=Vl(i),s=wd({d:o},Vd(s.stroke,"fill"));var a={shadow:t.currentOptions.shadow};if(!1!==i.clipContent&&(a.clipPath=o),n.attr(a),r.outlines){var h=[];e.outlinePaths&&Ad(e.outlinePaths,(function(t){return t.destroy()})),Ad(r.outlines,(function(e){h.push(t.renderer.renderer.path({fill:"none",stroke:e.stroke,d:e.path,zIndex:Jg.breakPath}).add(n))})),e.outlinePaths=h}if(r.paths){var l=[];e.breakPaths&&Ad(e.breakPaths,(function(t){return t.destroy()})),Ad(r.paths,(function(e){l.push(t.renderer.renderer.path({fill:e.color,stroke:"none",d:e.path,zIndex:Jg.breakPath}).add(n))})),e.breakPaths=l}s["stroke-width"]||(s.stroke="none"),e.contentStroke.attr(s)},e.prototype.setRootVisuals=function(){var t=this.renderer;if(!this.rootVisuals){var e=this.currentOptions.outline.width;this.rootPanel=(this.rootVisuals=Wu(t).build({axis:{},axisMarkers:!0,annotationLayer:!0,contentOverlay:!0,background:!0,gridLines:!0,overflow:!0,outline:{width:e},title:{holder:this},content:{stroke:{width:1}}})).mainStacks,this.bindRootEvents()}return this},e.prototype.getAxisMarkerVisualTargets=function(){var t=this.rootVisuals;return{behind:t.axisMarkersBehind,front:t.axisMarkersFront}},e.prototype.invalidate=function(){return this.isDirtyPreRender=!0,this.series().each((function(t){t.seriesDirty.pos(!0),t.seriesDirty.coord(!0)})),this.legend.invalidate(),this.chartAreaSet.invalidateCache(),this},e.prototype.dataLayout_clustersAndStacks=function(){var t=this,e=[],i=[],n={},r=0;Ad(this.xAxis,(function(o){var s=t.series({isVisible:!0});Ad(Lk,(function(t,e){n[t]=0})),o.dpsStackInfo=void 0,s.items.reverse();var a=kd(s.items.map((function(t){return t.type})));if(s.each((function(l){var u=-1<Bk.indexOf(l.type);i=[],u||(l.zIndex=r+=8),l=Ed(Bk,a),Ad(l,(function(a){s.filter((function(t){return t.isVisible&&t.type===a&&t.xAxis.id===o.id})).reverse().each((function(l){if(-1===e.indexOf(l.id)){var u=l.yAxis.isStacked(),c=l.xAxis.isStackedFull();u?(u=s.filter({yAxis:{id:l.yAxis.id},xAxis:{id:o.id},isVisible:!0,type:a}).each((function(t){-1<Lk.indexOf(a)&&(t.clusterIndex=n[a]),t.isStacked=!0,e.push(t.id)})).items,r=function(t,e,i,n){n=e.dataPositions.items;var r=e.dpsStackInfo||n.map((function(t){return{value:t.value}}));return Ad(n,(function(e,i){e=rc(t,e);var n,o,s=r[i],a=0,h=0,l={},u=e[0].series.yAxis.isStackedFull(),c=0;u&&Ad(e,(function(t){t=t.series.indexer.getItem(t._i).y,c+=t}));var p=Math.max.apply(void 0,t.map((function(t){return t._i})));Ad(e,(function(t){var e=t.series.indexer.getItem(t._i).y,i=u?e/c:e;u&&t.series._i===p&&(s.topNegative=[t]),0<=i?(l.ys=a,l.yr=e,a=l.ye=i+a,n=t):(l.ys=h,l.yr=i,h=l.ye=h+i,o=t),t.series.indexer.indexObject(l,t._i)})),n&&(s.topPositive=s.topPositive||[],s.topPositive.push(n)),o&&(s.topNegative=s.topNegative||[],s.topNegative.push(o))})),e.dpsStackInfo=r,t.reverse(),Ad(t,(function(t){t.zIndex=i+=8,t.seriesDirty.pos(!0)})),i}(u,o,r),-1<Lk.indexOf(a)&&(n[a]++,i.push(a))):(-1<Lk.indexOf(a)&&(l.clusterIndex=n[a],i.push(a),l.info.type.clusters&&n[a]++),l.zIndex=r+=8,e.push(l.id)),c&&"category"===l.xAxis.type&&(l=t.yAxis[0].isStacked(),function(t,e,i){var n=e.dataPositions.items,r=function(t){return h(t.z)?t.z:h(t.y)?t.y:1},o=[],s=[],a=t.length,l=e.range.max-e.range.min,u=function(t,e){return t=oc(t,e),r(t.series.indexer.getItem(t._i))},c=i?Cd(t,(function(t){return Zd(Cd(n,(function(e){return u(t,e)})))})):Cd(n,(function(e){return Zd(Cd(t,(function(t){return u(t,e)})))})),p=function(t,e,i,n,r,a){var h={};o.push([r,i]),o.push([i,a+r]),s.push([e-n,e]),s.push([e,e+n]),h.xs=e-n,h.xe=e+n,t.series.indexer.indexObject(h,t._i)};if(i)Ad(t,(function(t,i){var o=e.range.min;Ad(n,(function(e,n){var s=(e=oc(t,e)).series.indexer.getItem(e._i);s=r(s)*l/c[i],p(e,n,o+s/2,.5,o,s),o+=s}))}));else{var f=Zd(c),d=e.range.min;Ad(n,(function(e,i){Ad(t,(function(t,n){t=oc(t,e);var r=c[i]*l/(f*a),o=.5/a;p(t,i+n/a-.5+o,d+r/2,o,d,r),d+=r}))}))}var m=function(t,e,i){for(var n,r=0,o=t.length;r<o;r++){var s=t[r],a=s,h=Math.round(100*i)/100;if(h>=Math.round(100*a[0])/100&&h<=Math.round(100*a[1])/100){n=ii((t=e[r])[0],t[1],s[0],s[1],i);break}}return n};e._stackTranslators={backward:function(t){return m(o,s,t)},forward:function(t){return m(s,o,t)}}}(u=s.filter({isVisible:!0,type:a}).items,o,l))}}))})),i.length&&(i=kd(i),Ad(i,(function(t){o.clusterCounts[t]=n[t]||1})))})),-1<a.indexOf("column")){var l=s.filter((function(t){return t.isVisible&&t.xAxis&&t.xAxis.id===o.id&&"column"===t.type&&!t.yAxis.isStacked()&&!t.yAxis.isStackedFull()}));if(l.items.length){var u="stacked"===t.chart.options("zAxis.scale.type")||"stacked"===t.chart.options("zAxisScaleType");!function(t,e,i){function n(t){Ad(t,(function(e){h(e._i)&&Ad(t,(function(t){if(h(t._i)&&(e.series!==t.series||e._i!==t._i)){var i=e.series.indexer.getItem(e._i);if(t=t.series.indexer.getItem(t._i),o(i)&&o(t)){var n=r[e.series._i+"-"+e._i]||(r[e.series._i+"-"+e._i]={});n.startTouches=n.startTouches||i.ys===t.ye,n.endTouches=n.endTouches||i.ye===t.ys}}}))}))}void 0===i&&(i=!1);var r={},o=function(t){return h(t.ys)&&h(t.ye)};Ad(e.dataPositions.items,(function(e,r){i?t.forEach((function(t){return n(sc([t],e))})):n(sc(t,e))})),e.dpsStackInfoZ=r}(l.items,o,!u)}}})),this.maxSeriesZIndex=r,this.dataLayoutExperiment()},e.prototype.dataLayoutExperiment=function(){var t=this._series.slice(0),e=[],i=function(t){return t.pop?Ad(t,i):e.push(t.id)},n=0,r=function(t){t.zIndex=n+=8},o=function(t){var e=t.type,i=t.info.type.snapToZero,n=t.info.type.clusters;return i&&t.yAxis.isStacked()&&(e+=t.yAxis.id),n&&(e+=t.xAxis.id),i||n||(e+=t.id),e},s=function(e){return md(t,(function(t){return o(t)===e}))};e=[],Ad(t,(function(t){-1<e.indexOf(t.id)||(t=o(t),1===(t=s(t)).length?r(t[0]):Ad(t,r),i(t))})),this.maxSeriesZIndex=n},e.prototype.resetTimers=function(){Ad(this._axes,(function(t){return t.resetTimers()})),this.chart.hideTooltip(),this.crosshair()},e.prototype.ignoreAnimationFor=function(t){var e=this;t?(e._ignoreAnimation=!0,e.debounce.defer("ignoreAnim",(function(){e._ignoreAnimation=!1}),t)):e._ignoreAnimation&&(e.debounce.clear("ignoreAnim"),e._ignoreAnimation=!1)},e.prototype.isZoomLive=function(){return this.isPinchZooming||this.isDragging||this.isMapZooming},e.prototype.setZoomAxes=function(){var t=this,e=t.isType("map");return t.axes().each((function(i){(i.isVisible||i._isDragHost||e)&&(t.zoomAxes["x"===i.prefix?0:"y"===i.prefix?1:2]=i)})),t},e.prototype.getZoomAxes=function(){return this.zoomAxes.length||this.setZoomAxes(),this.zoomAxes},e.prototype.keyup=function(t){"Escape"===t.eventArgs.key&&this.cancelAll()},e.prototype.clickData=function(t){var e=this,i={yAxis:[],xAxis:[]};if(!h(t.x)){var n=e.rootVisuals.content.toRelativeXY(t.eventArgs);t.x=n[0],t.y=n[1]}var r=[];return e.axes().each((function(n){(n.isVisible&&!n.noData||e.isType("map"))&&("x"===n.prefix?i.xAxis.push({value:r[0]=n.linToVal(t.x)}):"y"===n.prefix&&i.yAxis.push({value:r[1]=n.linToVal(t.y)}))})),i.xAxis=Cd(i.xAxis,(function(t){return{value:e.projection.lin2valxy(t.value,r[1])[0]}})),i.yAxis=Cd(i.yAxis,(function(t){return{value:e.projection.lin2valxy(r[0],t.value)[1]}})),i},e.prototype.click=function(t){this.debounce.clear("clickoff"),this.cancelAll(),clearTimeout(this.zoomStartIntervalId);var e=t.pointers||[[t.x,t.y]];if(1===e.length){e={yAxis:[],xAxis:[],event:t.eventArgs};var i=!1,n="touch"===t.device;if(!this.isZooming&&!this.isDragging){var r=this.chart.highlighted,o=void 0;n&&(o=this._hoveredItem,this.mouseMove(t),this.mouseUp(t));for(var s=md(this.renderBySortedSeriesRev,(function(t){return t.isVisible})),a=0,h=s.length;a<h;a++)if(s[a].mouseClick(t)){i=!0;break}n&&(o&&o===this._hoveredItem?this.clickOff(t):i?(n=this.chart.hoveredPoint)&&r&&mc(this.chart,n):mc(this.chart))}this.hasAnyNamedEvent("click")&&(ue(e,this.clickData(t)),i||(this.trigger("click",e),this.triggerUser("click",e)))}else 2===e.length?this.zoom("-100%"):3===e.length&&this.zoom("initial")},e.prototype.clickOff=function(t,e){function i(){var t,e=n.chart;n.cancelAll(),n.crosshair(),n.chart.hideTooltip(),n.legend.pointOut(),(t=e.hoveredPoint)&&"hover"===t._state&&t.mouseOut(),n.debounce.has("unmue")?n.debounce.run("unmute"):mc(n.chart),n._hoveredItem=void 0}var n=this;e?i():n.debounce.defer("clickoff",i,30)},e.prototype.dblclick=function(t){this.cancelAll(),1===(t=t.pointers||[[t.x,t.y]]).length&&this.zoom({level:"+100%",at:this.computeVals2(t[0])})},e.prototype.mouseDown=function(t){var e=this,i=e.chart,n=e.getZoomAxes(),r=t.device,o=t.pointers||[[t.x,t.y]],s=e.computeValsTouch(o),a=o.length,h=o[0];e._lastPointers.length!==o.length&&(clearTimeout(e.zoomStartIntervalId),e.cancelAll()),e.zoomEndVals=void 0;var l,u=e._axisToZoom;l=s[0],!u&&e._isStaticDragArea&&(e._axisToZoom=u="xy");(function(){if(e.isType("map"))return!(!e.isZoomed&&2!==a);if(e._isStaticDragArea||e.isZoomed&&e.isInDragArea(h[1])){var t=!1;return e.axes().each((function(e){e.canDrag()&&(t=!0)})),t}return!!u})()&&(e.zoomStartIntervalId=setTimeout((function(){if(e.attachDoc(),1===a)if(e.isType("map")||e._isStaticDragArea||e.isZoomed&&e.isInDragArea(h[1])||"touch"===r&&e.isZoomed){var t;(t=u)&&(e.isDragging=t,e.dragPrevVals=l,e.renderer.attr("disableAnimation",!0),e._prevCursor=i.getCursor(),!e._prevCursor&&e.isZoomed&&i.setCursor("move"))}else(!e.isZoomed&&"touch"===r||"touch"!==r)&&(t=u)&&(e.isZooming=t,e.zoomStartVals=l,e.renderer.attr("disableAnimation",!0));else 2===a&&(e.isPinchZooming=u,e.pinchStartTouches=o,e.zoomStartRanges=Cd(n,(function(t){return[t.range.min,t.range.max]})),e.renderer.attr("disableAnimation",!0));e.isDragging||e.isZooming||e.chart.setCursor(),e.mouseLeft=!1,e.chart.resetTimers()}),10),t.eventArgs.cancelable&&t.eventArgs.preventDefault()),e._lastPointers=o},e.prototype.mouseUp=function(t){clearTimeout(this.zoomStartIntervalId),this.isDragging&&this.mouseLeft&&this.chart.setCursor(),this.endDrag().endZoom(),this.isPinchZooming=!1,this._lastPointers=t.pointers||[]},e.prototype.isInDragArea=function(t){var e=this.isHoriz?0:1;return(e=this.zoomAxes[e]||this._axes[e])&&.5<e.linToPos(t)},e.prototype.mouseOut=function(t){t=t.eventArgs;for(var e=0,i=this._series.length;e<i;e++)this._series[e].mouseOut(t);"crosshair"!==(t=this.chart.getCursor())&&"move"!==t||this.isDragging||this.chart.setCursor(),this.isDragging&&(this.mouseLeft=!0),this.crosshair()},e.prototype.wheelHandler=function(t){var e=[t.x,t.y],i=t.eventArgs;this._axisToZoom&&(this.setZoomAxes(),this._isStaticDragArea?(this.isDragging=this._axisToZoom,this.dragPrevVals=this.computeVals2(e),e=this.computeVals2([e[0]-.5*i.deltaX,e[1]-.5*i.deltaY]),this.drag(e)&&t.eventArgs.preventDefault(),this.endDrag()):i.altKey&&(e=this.computeVals2(e),this.zoom({at:e,level:(0>i.deltaY?"+":"-")+Math.abs(.5*i.deltaY)}),this.resetTimers(),t.eventArgs.preventDefault()))},e.prototype.pinch=function(t){var e=this,i=e.isType("map");t=t.pointers;var n=e.getZoomAxes(),r=e.isType("map")?"xy":e.chart.currentOptions.axisToZoom,o=function(){return i?Gm(e.zoomBBox||e.zoomBBoxSet):Cd(n,(function(t){return[t.range.min,t.range.max]}))};e.isPinchZooming?(e.pinchZoom(e.computeValsTouch(e.pinchStartTouches),e.computeValsTouch(t)),e.pinchStartTouches=t,e.zoomStartRanges=o()):(e.cancelAll(),r&&"none"!==r&&(e.isPinchZooming=r,e.pinchStartTouches=t,e.zoomStartRanges=o(),e.renderer.attr("disableAnimation",!0)))},e.prototype.resetZoom=function(){clearInterval(this.zoomStartIntervalId);var t=this.isDragging=this.isZooming=!1;return this.isZoomed=!1,this.isType("map")?this.chart.zoom("initial"):(Ad(this.zoomAxes,(function(e){e&&(t=!0,e.zoom(void 0,void 0,!1))})),this.series().each((function(t){t.seriesDirty.pos(!0),t.seriesDirty.coord(!0)})),this.renderData()),this.chart.setCursor(),t&&this.chart.redraw(),this},e.prototype.cancelAll=function(){return this.endDrag(),this.isZooming=!1,this.zoomVisual&&this.zoomVisual.attr({display:"none"}),this.isPinchZooming=!1,this},e.prototype.endDrag=function(){return this.isDragging&&(this.isDragging=!1,this.series().each((function(t){p(t,["indexer","data","coordinates","0","hitTest"])||t.setCoordinates(void 0,{forceCoordinates:!0})})),this.renderer.attr("disableAnimation",!1),!this._prevCursor&&this.chart.setCursor(),this._prevCursor=null),this},e.prototype.endZoom=function(){var t=this;if(clearInterval(t.zoomStartIntervalId),t.renderer.attr("disableAnimation",!1),t.isZooming&&t.zoomEndVals){var e={},i=!1,n=[],r=function(i,r){-1<t.isZooming.indexOf(i)?(i=e[i+"Axis"]=[t.zoomStartVals[r],t.zoomEndVals[r]],n[r]=i):(i=t.zoomAxes[r])&&(i=i.range,n[r]=[i.min,i.max])};t.isZoomingReflow=!0,r("x",0),r("y",1),r=function(t){var e=t[0];return t=t[1],sn([[e?e[0]:0,t?t[0]:0],[e?e[1]:0,t?t[1]:0]])}(n),!1!==t.triggerUser("selection",e)&&(t.zoom(r),t.isZoomingReflow=!1,(i=!!gd(t.zoomAxes,(function(t){return t&&t.isZoomed})))&&t.triggerUser("selection",e)),t.cancelAll(),t.isZoomed=i}else t.isZooming=!1;return t.detachDoc(),t},e.prototype.pinchZoom=function(t,e){var i=this.isPinchZooming,n=this.zoomStartRanges,r=an(sn(t),[1,1]),o=an(sn(e),[1,1]);e=ln(r),t=ln(o);var s=o[2]/r[2]||1;if(r=o[3]/r[3]||1,i){if(-1<i.indexOf("x")){var a=n[0],h=a[1]-a[0];s=h/s,o=(t[0]-a[0])/h,a=(a[1]-t[0])/h,s=[o=e[0]-s*o,a=e[0]+s*a]}else s=n[0];-1<i.indexOf("y")?(i=(a=(n=n[1])[1]-n[0])/r,o=(t[1]-n[0])/a,a=(n[1]-t[1])/a,e=[o=e[1]-i*o,a=e[1]+i*a]):e=n[1],e=sn([[s[0],e[0]],[s[1],e[1]]]),this.triggerUser("cazoom",[this,e]),this.zoom(e)}},e.prototype.drag=function(t){var e=this.isDragging,i=[0,0];if(e){var n=_e(e);n&&-1<e.indexOf("x")&&(i[0]=this.dragPrevVals[0]-t[0]),n&&-1<e.indexOf("y")&&(i[1]=this.dragPrevVals[1]-t[1]),this._isStaticDragArea&&(this.dragPrevVals=t),this.isType("map")?(this.triggerUser("pan",[this,i]),this.chart.redraw({animation:!1})):this.zoom(i)}return!1},e.prototype.moveZoom=function(t,e){if(t.isZooming){var i={},n=t.isHoriz?"y":"x",r="x"===n?0:1,o=t.isHoriz?"x":"y",s="x"===o?0:1,a=t.rootVisuals.content.getGlobalBbox(),h=t.zoomVisual=t.zoomVisual||t.renderer.renderer.path({d:"M0 0"}).add(t.rootVisuals.front),l=[0+a.x,0+a.y,t.contentRect.width,t.contentRect.height];if(-1<t.isZooming.indexOf(n)){var u=t.zoomAxes[r].getCaLen(e[r]),c=t.zoomAxes[r].getCaLen(t.zoomStartVals[r]);u=qd(u,0,t.contentRect.width),c=qd(c,0,t.contentRect.width),l[0]=u+a.x,l[2]=c-u,i[n+"Axis"]=[t.zoomStartVals[r],e[r]]}-1<t.isZooming.indexOf(o)&&(n=t.zoomAxes[s].getCaLen(e[s]),r=t.zoomAxes[s].getCaLen(t.zoomStartVals[s]),l[1]=n+a.y,l[3]=r-n,i[o+"Axis"]=[t.zoomStartVals[s],e[s]]),e=xn(l),h.attr({d:e,fill:"rgba(0,0,200,.2)",display:"block","pointer-events":"none"}),t.triggerUser("selecting",i)}},e.prototype.zoomUpdated=function(t){var e=this,i=this,n=i._axisToZoom;if(i._isStaticDragArea)var r=!1;else h(t)?r=t:i.isType("map")?r=!!Ji(i.zoomBBox||i.zoomBBoxSet,i.zoomBBoxInitial,3):i._isStaticDragArea||(r=i.getZoomAxes(),r=!!gd(r,{isZoomed:!0}));if(i.isZoomed=r,t=i.chart.toolbar(),n&&t&&t.zoomInOut(r),!this._eventWaitingId){var o=i.isDragging?"scrolled":"zoomed";this._eventWaitingId=setInterval((function(){e.renderer.renderer.isAnimatingOwn()&&!e._ignoreAnimation||i.isDragging||(clearTimeout(e._eventWaitingId),e._eventWaitingId=void 0,e.triggerUser(o,e.axes().map((function(t){return t.range}))))}),100)}},e.prototype.bindRootEvents=function(){this.bindEvents()},e.prototype.bindEvents=function(){var t=this;if(!t._evBound){var e,i=t.rootVisuals.content;i.on("touchmove",(function(e){(t.isZooming||t.isDragging||t.isPinchZooming)&&e.eventArgs.cancelable&&e.eventArgs.preventDefault()})),i.on("mouseover",(function(i){e||(t.triggerUser("mouseOver",i),e=!0)})),i.on("mouseout",(function(i){t.evInsideCA(i)||(t.mouseMove.cancel(),t.mouseOut(i),t.triggerUser("mouseOut",i),e=!1)})),i.on("vmove",(function(e){return!t.docMM&&t.mouseMove(e)})),i.on("vclick",(function(e){t.click(e),e.eventArgs.preventDefault()})),i.on("vdown",(function(e){return t.mouseDown(e)})),i.on("wheel",(function(e){return t.wheelHandler(e)})),t._docElement||(t._docElement=t.chart.renderer.renderer.documentElement),t._docElement.on("keyup",(function(e){return t.keyup({eventArgs:e})})),t._docElement.on("vclick",(function(e){return!t.evInsideChart(e)&&t.clickOff({eventArgs:e})})),t._evBound=!0}},e.prototype.attachDoc=function(){var t=this,e=t._docElement;if(!t.docMM||!t.docVUp){var i=t.rootVisuals.content;t.docMM=i.externalOn(e,"vmove",(function(e){return t.docVMoveHandler(e)})),t.docVUp=i.externalOn(e,"vup",(function(e){return t.mouseUp(e)}))}},e.prototype.detachDoc=function(){this.docMM&&this.docMM.un(),this.docVUp&&this.docVUp.un(),this.docMM=this.docVUp=null},e.prototype.docVMoveHandler=function(t){this.mouseMove(t)&&t.eventArgs.preventDefault()},e.prototype.evInsideCA=function(t){var e;return(e=c(this.rootPanel,"el"))&&t.composedPath?-1<(t.composedPath&&t.composedPath()).indexOf(e):(e=this.contentRect)?Bn(e=en(vn(e),0),[t.x,t.y]):void 0},e.prototype.evInsideChart=function(t){var e=c(this.chart.rootPanel,"el.parentNode.el");return e&&t.composedPath?-1<t.composedPath().indexOf(e):this.evInsideCA(t)},e.prototype.crosshair=function(t,e,i){var n=!t&&!e;if(n&&this.tooltip&&this.tooltip.hideTooltip(),-1!==["vertical","horizontal"].indexOf(this.ctManager.settingVal("chartType")))return n?(this.series().each((function(t){return t.hideHalo()})),function(t){t.axes().each((function(t){t.crosshair()}))}(this)):function(t,e,i,n){var r=t.isHoriz,o=t.tooltip.currentOptions.combined,s=t.chart.axes("x"),h=[],l=[],u=[],c=!1;t.axes().filter((function(t){return(t=t.options("crosshair")||{}).enabled&&!t.snapToData})).each((function(t){return t.crosshairXy(e)})),t.axes().filter((function(t){if("x"===t.prefix)return((t.options("crosshair")||{}).enabled||o)&&!t.options("scale.syncWith")})).each((function(t){var i=[t,t.crosshairXy(e,void 0,n)];Ad(t.serList,(function(t){if(t.isVisible&&!1!==t.options("mouseTracking_enabled")){var e=t.showHaloAtX(i[1],!1);e&&h.push(e),t.haloPath&&(l.push(t.haloPath),u.push(t))}}))}));var p=xn(vn(t.contentRect))+" "+l.join(" ");if(Ad(u,(function(t){var e;(e=t.visuals.pointHalo)&&Ad(e,(function(t){return t.attr({clipPath:{d:p,"clip-rule":"evenodd"}})}))})),h=h.map((function(t){return{axId:t[0].id,point:t[1],yVal:t[2]}})),h.length){var f=(new Wy).key("axId").entries(h),d=[];Ad(f,(function(e){var i=t.axes(e.key);if(i){t.tooltip.cttEnabled(i,s)&&(d.push.apply(d,a(e.values.map((function(t){return t.point})))),c=!0);var n=i.options("crosshair");n.enabled&&n.snapToData&&Ek(t,i,Pk(e.values))}})),d=md(d,(function(t){return!t.series.indexer.getValue("isEmpty",t._i)&&!1!==t.series.options("mouseTracking_enabled")})),d=zd(d,(function(t){return t.series.indexer.getValue("pos",t._i).xyz[r?0:1]})),d.length&&t.tooltip.show(d,i,e)}else t.axes().filter((function(t){if("y"===t.prefix)return(t.options("crosshair")||{}).enabled})).each((function(t){return t.crosshairXy(e)}));return c}(this,t,e,i)},e.prototype.crossPDD=function(){var t,e,i=this.isHoriz;return this.axes().each((function(i){var n=i.prefix;if(c(i.currentOptions,"crosshair.enabled")&&(e=e||"y"===n,(t=t||"x"===n)&&e))return!1})),i?(e?"X":"")+(t?"Y":""):(t?"X":"")+(e?"Y":"")},e.prototype.zoom=function(t,e){return(t=this.zoomConfToBox(t))&&this.setZoomBox(t,e),this.getZoomBoxes().zoom},e.prototype.zoomConfToBox=function(t){var e=this.isType("map"),i=d(t),n=this._isStaticDragArea,r=e&&this.chart.options("mapping.zoomLimit"),o=this.getZoomAxes(),s=(e=this.getZoomBoxes()).full,a=e.zoom,l=function(t){var e;if("string"==typeof t){if("initial"===t)return 1;var i="+"===t[0]?1:"-"===t[0]?-1:0;(e=t.replace(/^\D+/g,"")).length&&(e=parseFloat(e)/100),i=0===i?e:(t=a[2]?s[2]/a[2]:s[3]/a[3])+t*e*i}else i=t;return qd(i,1,r||99999)};e=function(t){return Cd(t,(function(t,e){return o[e]&&o[e].posToVal(t)}))};var u=function(t,e){return(e=e?e.slice(0):ln(a)).push(t),c(e)},c=function(t){var e=l(t[2]);return zn(yn(t,[n?a[2]:qd(s[2]/e,1,s[2]),e=n?a[3]:qd(s[3]/e,1,s[3])]),s)},p=function(t){return(t=t.slice(0))[2]="+0",c(t)};if("number"===i)var f=u(t);else"string"===i?f=u(l(t)):4===t.length?f=t:3===t.length?f=c(t):2===t.length?f=zn(Xm(a,t),s):(h(t.at)&&h(t.level)&&(f=function(t,e){e=l(e);var i=n?a[2]:qd(s[2]/e,1,s[2]);e=n?a[3]:qd(s[3]/e,1,s[3]);var r=ai(t[0],a[0])/a[2],o=ai(t[0],jm(a))/a[2],h=ai(t[1],a[1])/a[3],u=ai(t[1],Wm(a))/a[3];return zn(Um([t[0]-i*r,t[1]-e*h,t[0]+i*o,t[1]+e*u]),s)}(t.at,t.level)),h(t.offset)&&(f=zn(Xm(a,t.offset),s)),h(t.pos)?f=p(e(t.pos)):h(t.center)&&(f=p(t.center)));return un(f,s)},e.prototype.getZoomBoxes=function(){var t=this.isType("map"),e=this.getZoomAxes(),i=function(t){var e=t[0];return t=t[1],sn([[e?e.min:0,t?t.min:0],[e?e.max:0,t?t.max:0]])},n=t?this.zoomBBoxMax:i(Cd(e,(function(t){return t&&t.unZoomedRange?t.unZoomedRange:t})));return{full:n,zoom:t=t?this.zoomBBox||this.zoomBBoxSet:i(Cd(e,(function(t){return t&&(t=t.zoomRange.length?(t=t.zoomRange).pop?{min:t[0],max:t[1]}:t:t.range),t})))}},e.prototype.setZoomBox=function(t,e){var i=this._isStaticDragArea,n=this.getZoomAxes(),r=this.isType("map"),o=!1,s=this.chart.currentOptions.axisToZoom||this._axisToZoom,a=!1,h=Gm(t),l=function(t,e){s&&-1<s.indexOf(t)&&(o=n[t="x"===t?0:1].zoom(e[0],e[1],!1)||o,a=a||n[t].isZoomed)},u=this.isDragging;this.isZoomingReflow=!0,i&&(this.isDragging=!0),r?(this.zoomBBox=t,o=!0):(l("x",h[0]),l("y",h[1])),!1!==e&&o&&this.chart.redraw(wd({forceCoordinates:!0},e)),i&&(this.isDragging=u),this.isZoomingReflow=!1,this.isZoomed=a,this.zoomUpdated()},e.prototype.add=function(t){var e=this.readyDefer,i=e.hold("addCA");return this.setRootVisuals(),this.rootPanel.add(t),e.release(i),this},e.prototype.destroy=function(){this.debounce.clearAll(),this.series().each((function(t){return t.destroy()}))},e.prototype.replaceTokens=function(t,e){return e||(e=this._series&&this._series.length?this.series(0).getFormatInfo():this.chart.getFormatInfo()),mu(t,this.chartAreaSet,e)},e.prototype.tokenValue=function(t){return this.replaceTokens({token:t})},e.prototype.log=function(t){},e}(eS),Fk=function(){function t(t){var e=this;this.chart=t,this.items=[],this.indexer=new hC,this.freeAxes={},this.allAxes={},this._axes=[],this.enumerationData={sI:0,cpbOffset:0},this._reflowsCount=0,this.id=fi(5),this.axes=function(){return new wk(e._axes)}}return t.prototype.init=function(){var t=function(t){var e={chartArea:t.chartArea||[{}]},i=Ho(e,"chartArea");e.chartAreas,e=Be(t,["title","series","legend","events"]),Be(t,["xAxis","yAxis","zAxis"]);var n={xAxis:t.xAxis||[{}],yAxis:t.yAxis||[{}],zAxis:t.zAxis||[{}]};return wd(i[0],Vd(e,"series")),i.rootItems=e,i.rootAx=n,t.series.length&&(i[0].series=i[0].series||[],i[0].series=(i[0].series||[]).concat(e.series)),i}(this.chart.currentOptions);if(this.userOptions){wd(this.userOptions.rootAx,t.rootAx),this.userOptions.rootItems=t.rootItems;for(var e=0,i=t.length;e<i;e++)this.userOptions[e]?wd(this.userOptions[e],t[e]):this.userOptions[e]=t[e]}else this.userOptions=t;return this.setRootVisuals().setOptions().setObjects(this.currentOptions).enumerateData(),Ad(this.series(),(function(t){return t.seriesDirty.resetCache()})),this._calcCache=void 0,this},t.prototype.setOptions=function(){var t=this.currentOptions=this.userOptions=this.normalizeOptions(this.userOptions),e=function(e){return t.rootAx[e+"Axis"]};return this.freeAxes={x:e("x")[0],y:e("y")[0],z:e("z")[0]},this.allAxes={x:e("x"),y:e("y"),z:e("z")},e=function(t){return t.scale&&t.scale.breaks},this.hasScaleBreaks=e(this.freeAxes.x)||e(this.freeAxes.y)||e(this.freeAxes.x),this},t.prototype.normalizeOptions=function(t){t=qe(t,"series",!0);var e=["xAxis","yAxis","zAxis"];return Ad(e,(function(e){return Ho(t.rootAx,e)})),Ad(e,(function(e){return t.rootAx[e]&&Ad(t.rootAx[e],Wo)})),t},t.prototype.enumerateData=function(){var t=this;return this.enumerationData={sI:0,cpbOffset:0},Ad(this.series(),(function(e){t.enumerateSeries(e)})),this},t.prototype.enumerateSeries=function(t){var e=this.enumerationData,i=e.sI;e=e.cpbOffset,t._i=i++,t.info.type.colorByPoint&&(t.cpbIndexOffset=e,e+=t.info.type.colorByPoint?t.userPoints.length:1),this.enumerationData={sI:i,cpbOffset:e}},t.prototype.setObjects=function(t){var e=this,i=e.rootVisuals.stack;return e.log("setObjects()"),re(t,e.items,(function(t,n){new Rk(e,t).add(i)}),(function(t,e){return e.options(t)})),e},t.prototype.series=function(){var t=[];return Ad(this.items,(function(e){return t.push.apply(t,a(e._series))})),t},t.prototype.add=function(t){this.rootPanel;var e=this.visualWrapper;return(e=this.visualWrapper)?(e.setRootVisuals(),e.rootPanel,this.setRootVisuals(),this.rootVisuals.stack.add(e.rootPanel)):(this.setRootVisuals(),this.rootVisuals.stack),Ad(this.items,(function(t){})),this.rootPanel.add(t),this},t.prototype.setRootVisuals=function(){var t=this.chart.renderer,e=this.rootVisuals,i=this.rootPanel=this.rootPanel||t.panel({width:"*",height:"*"});return e||(e=this.rootVisuals={stack:void 0}),e.stack=e.stack||t.panel("stack").attr({orientation:"y"}).add(i),this},t.prototype.replaceTokens=function(t,e){return mu(t,this,e||this.getFormatInfo())},t.prototype.getFormatInfo=function(){return this.chart.series(0).getFormatInfo()},t.prototype.getCalcCache=function(){var t;return(t=this._calcCache)||(t=this._calcCache=function(t){var e=t.indexer;e.reset(),t.chart.series().each((function(e){var i=e.getCalcCache();t.indexer.indexObject(i,e._i)}));var i=Math.abs,n=function(t){return xe(HC(e,"concat")(t))},r=HC(e,"getItem"),o=HC(e,"min_i"),s=HC(e,"max_i"),a=HC(e,"min"),h=HC(e,"max"),l=HC(e,"sum"),u=n("list"),c=n("average"),p=n("xList");n=n("zList");var f=r(o("min")),d=r(s("max")),m=r(o("xMin")),g=r(s("xMax"));o=r(o("zMin")),r=r(s("zMax")),s=e.getKey("type");var v=h("zMax"),y=a("zMin"),x={list:u,typeList:s,type:s[0],sumList:e.getKey("sum"),max:h("max"),min:a("min"),sum:l("sum"),average:c.length?l("average")/c.length:c,range:u.length?h("max")-a("min"):void 0,zList:n,xList:p,zSumList:e.getKey("zSum"),xSumList:e.getKey("xSum"),zMax:v,zMin:y,zAbsmax:Math.max(i(v),i(y)),xMax:h("xMax"),xMin:a("xMin"),zSum:l("zSum"),xSum:l("xSum"),sumAbs:l("sumAbs"),zSumAbs:l("zSumAbs"),xSumAbs:l("xSumAbs"),zAverage:n.length?l("zSum")/u.length:void 0,xAverage:p.length?l("xSum")/u.length:void 0,zRange:n.length?h("zMax")-a("zMin"):void 0,yRangeSum:l("yRangeSum"),yRangeSumAbs:l("yRangeSumAbs"),nMin:f.nMin,nMax:d.nMax,nZMax:r.nZMax,nZMin:o.nZMin,nXMax:g.nXMax,nXMin:m.nXMin,snMax:d.name,snMin:f.name,snZMax:r.name,snZMin:o.name,snXMax:g.name,snXMin:m.name},b={Min:a,Max:h};return Ue("Sum,Average",(function(t){Ue("Min,Max",(function(e){Ue("y,x,z",(function(i){var n="y"===i;x[(n?pi(e):i+e)+t]=b[e](n?pi(t):i+t)}))}))})),x}(this)),t},t.prototype.invalidateCache=function(){this._calcCache=void 0,this.chart.series().each((function(t){t.calcCache=void 0}))},t.prototype.invalidate=function(){this.each((function(t){return t.invalidate()}))},t.prototype.each=function(t){Ad(this.items,t)},t.prototype.log=function(t){},t.prototype.tryReflow=function(t){return this.reflow(t,!1,!1,!0)},t.prototype.reflow=function(t,e,i,n){var r=this;if(r._reflowStarted)r._needRenderData=r._needRenderData||e,r._needLayoutRefresh=r._needLayoutRefresh||i;else if(r._reflowStarted=!0,r._needRenderData=r._needLayoutRefresh=!1,n&&!r.needReflow()||9<r._reflowsCount)r._reflowsCount=0,r._reflowStarted=!1;else{var o,a=r.items,h=[],l={};n=function(t){return Ad(a,u[t])};var u={beforeMeasure:function(i){var n=i.readyDefer,s=n.hold("rootSetSize");h.push((function(){return n.release(s)})),i.rootRect=i.rootVisuals.grid.getBbox(),e&&(i.isDirtyPreRender=!0)&&(i._cancelBubble=!1),i._updateOptions=t||i._updateOptions,i.preRender(),o=o||!i.isZoomingReflow&&(i.isDragging||i.isZooming),l[i.id]={renderDataResult:!1},r.invalidateCache()},startMeasure:function(t){var e=t.rootVisuals;e.titleBox.applyOptions(),e.titleBoxPanel.attr({width:null}),t.measureAxes_resetOverflows()},measureAxes:function(t){return!t.isMultiType()&&t.measureAxes()},applyOverflows:function(t){return!t.isMultiType()&&Gu(t,t.overflows)},endMeasure:function(t){var e=t.rootVisuals;t.rootRect=e.grid.getBbox(),t.axes().each((function(e){return e.setLength(t.rootRect)}));var i=e.content.getGlobalBbox().width;e.titleBoxPanel.attr({width:i}),e.titleBox.rootPanel.attr({maxWidth:i})},tryRenderData:function(e){l[e.id].renderDataResult=e.tryRenderData(t)},renderData:function(n){var o=l[n.id].renderDataResult;!o&&(o=e&&n.renderData(t)),!o&&i&&r.rootPanel.refresh()}};if(n("beforeMeasure"),!o||i){if(n("startMeasure"),r.chart.refreshAnnotations(),r.axes().each((function(t){return t.syncLegend()})),n("measureAxes"),1<a.length){var c,p,f=[0,0,0,0];Ad(a,(function(t){c=t.axSizes,Fd(4,(function(t){return f[t]=Math.max(f[t],c[t])}))}));var d=f[3],m=f[1];Ad(a,(function(t){p=t.overflows.slice(0),c=t.axSizes,p[1]=Math.max(p[1],m-c[1]),p[3]=Math.max(p[3],d-c[3]),Gu(t,p)}))}else n("applyOverflows");var g=r.measureResult=function(t){var e=zd(t.chartItems(),(function(t){return Se(t.currentOptions.sortOrder,t.currentOptions.order,0)})),i=[[],[],[],[]],n={},r={casMargin:[0,0,0,0],overflows:[0,0,0,0],max:[0,0,0,0],itemsToTune:e,aggr:n},o=t.chart.rootVisuals.itemsBox.getGlobalBboxArray(),a=!0;if(Ad(e,(function(t){if(!t.currentOptions.asHTML){var e=s(zu(t),3),r=e[0],h=e[1];if(e=e[2],t.isMeasured=!1,!r&&!e.isIn){var l=Eu(t,h,e,n,o);l&&Ad(e.pos,(function(t,e){t&&i[e].push(l)&&(a=!1)}))}}})),a)return r;var h=t.items,l=Cd(h,(function(t){return t.overflows})),u=[function(){var t=h[0].rootVisuals.titleBox.rootPanel.setPreliminarySize().getGlobalBboxArray();return t[2]&&t[3]?0:l[0][0]},function(){return Gd(Cd(l,(function(t){return t[1]})))},function(){return Ae(l)[2]},function(){return Gd(Cd(l,(function(t){return t[3]})))}];return t=function(t){var e=i[t];if(!e.length)return 0;var n=0;return Ad(e,(function(e){return n=Math.max(n,e[UC[t]])})),e=u[t](),n=e>n?e:n,r.overflows[t]=e,(r.max[t]=n)&&Math.max(n-e,0)},r.casMargin=[t(0),t(1),t(2),t(3)],r}(r);r.rootPanel.attr({margin:g.casMargin}),r.rootPanel.refresh(!0),n("endMeasure"),Ou(r,t),n("tryRenderData")}n("renderData"),Ad(h,(function(t){return t()})),r._reflowStarted=!1,r._reflowsCount++,r.reflow(t,r._needRenderData,r._needLayoutRefresh,!r._needRenderData&&!r._needLayoutRefresh)}},t.prototype.chartItems=function(){var t=this.chart,e=t.toolbar();return t=t.legends().items.concat(t.annotations().items),e&&(t=t.concat(e.children())),t},t.prototype.needReflow=function(){var t;return Ad(this.items,(function(e){if(!t){var i=e.rootVisuals.grid.getBbox(),n=e.rootRect;e.axes().each((function(e){e.requireReflow()&&(t=!0)})),!i.width||!i.height||n&&Qe(n.width,4)===Qe(i.width,4)&&Qe(n.height,4)===Qe(i.height,4)?i.width||i.height||Wg.emit("warning",e.id,"cantGetSize",{container:e.chart.getWrapper()}):t=!0}})),t},t.prototype.destroy=function(){Ad(this.items,(function(t){return t.destroy()})),delete this.indexer},t}(),Vk=function(t){function e(i,n){return(n=t.call(this,i,n)||this).items=i,n.kindObject=e,n.points=or(Gg,sr(n,(function(t){return t.series().points().items})),ar(n,(function(){throw"Not implemented. "}))),n.series=or(sk,sr(n,(function(t){return t.series().items})),ar(n,(function(){throw"Not implemented. "}))),n}return n(e,t),e}(Gg),Ik=function(t){function e(i,n){return(n=t.call(this,i,n)||this).items=i,n.kindObject=e,n.entries=or(Gg,function(t){return function(){var e=[];return t.each((function(t){return e.push.apply(e,a(t.items))})),e}}(n),ar(n,(function(){}))),n}return n(e,t),e}(Gg),Nk={"modules/debug":{checker:function(t){return!0===t.debug}},"modules/types":{checker:function(t,e,i,n){if(t.navigator||l(i,"types")||n&&xp(n))return!0;if((e=t.series)&&e.length)for(i=0;i<e.length;i++)if(n&&xp(n,e[i]))return!0;return n=ve(t,{series:void 0,targetElement:void 0}),t=t.series&&t.series[0],n.series=t&&(t.map?{}:{name:t.name,points:t.points?[t.points[0]]:[]}),!!tv.test(JSON.stringify(n))}},"modules/toolbar":{checker:function(t,e){if(void 0===e&&(e=!1),!e)return!1;if(t.navigator||(e=t.axisToZoom)&&"none"!==e||t.export||h(t.toolbar)&&!1!==t.toolbar.visible)return!0;for(var i in t)if(Wd(i,"toolbar")&&!1!==t.toolbar_visible&&!1!==t["toolbar.visible"])return!0;return!1}},"modules/maps":{checker:function(t){return t.type&&Wd(t.type,"map")}},"modules/accessibility":{checker:function(t){return t.tabIndex||t.description}},"https://code.jscharting.com/polyfill/intl":{checker:function(t){return!Qm.Intl}},"modules/datagrid":{checker:function(t){return t.grid&&!1!==t.grid.enabled||t.grid_enabled&&!1!==t.grid_enabled}}},jk=ye("pie organizational gauge radar treemap funnel cone pyramid heatmap calendar venn".split(" ")),Wk=[],Hk={},Yk={animation:function(t,e){e.renderer.attr({transition:{animation:t}})},box:function(t,e,i){(t=Nl(t)).fill&&e._loader&&e._loader.options({fill:t.fill}),i.boxAttr=t,t.padding&&e.isRendered&&(i.needRedraw=!0)},loading:function(t,e){e._loader&&e._loader.options(t)},width:function(t,e,i){e.isRendered&&Le(i.layoutAttr,"width",t)},height:function(t,e,i){e.isRendered&&Le(i.layoutAttr,"height",t)},targetElement:function(t,e,i){e.isRendered&&(_e(t)&&(t=$m.getElementById(t)),Le(i.layoutAttr,"container",t))},annotations:function(t,e,i){e.isRendered&&(e.annotations(t),i.needRedraw=!0)},defaultAnnotation:function(t,e){e.isRendered&&e.annotations().options({})},defaultBox:function(t,e,i){e.isRendered&&(e.annotations().options({}),i.needRefresh=!0)},defaultSeries:function(t,e,i){e.isRendered&&(e.series().each((function(t){return t.seriesDirty.all(!0)})),e.series().options({},!1),i.needRedraw=!0)},defaultCultureName:function(t,e,i){e.isRendered&&(e.axes().each((function(t){return t.invalidate().options({},!1)})),e.chartAreaSet.invalidate(),i.needRedraw=!0)},palette:function(t,e){h(e.palette=function(t,e){var i=d(e);return"palette"===t&&"array"!==i&&"object"!==i?No(e):e}("palette",t))?(e.series().each((function(t){return t.seriesDirty.all(!0)})),e.dirty=!0,e._spDirty=!0):Wg.emit("warning",e.id,"paletteNF",{data:[t],container:e.getWrapper()})},title:function(t,e){e.isRendered&&(e.chartAreas(0).options({title:t}),t.position&&(e.dirty=!0))},type:function(t,e,i){e.isRendered&&(e.ctManager.init(e.currentOptions),Ad(e.chartAreaSet.items,(function(t){t.ctManager.init(e.currentOptions)})),e.series().each((function(t){return t.seriesDirty.all(!0)})),i.needRedraw=!0,e.calIndexer?(e.calIndexer.options({}),i.updateCalendar=!0):e.typeContextOptions=e.typeContextOptions||{}),e.ctManager.hasSetting("behavior","noLegend")&&((e.typeContextOptions||(e.typeContextOptions={})).legend={visible:!1})},mapping:function(t,e){e.isRendered&&((l(t,"base")||l(t,"referenceLayers")||l(t,"projection")||l(t,"projection")&&t.projection!==e.currentOptions.projection)&&e.chartAreas(0).triggerUser("updateMapData",[e.chartAreas(0),!1]),e.dirty=!0)},axisToZoom:function(t,e){(""===t||"none"===t)&&(t=(t=e.toolbar())&&t.items?t.items("zoom"):void 0)&&t.options({visible:!1})},series:function(t,e,i){e.isRendered&&e.calIndexer?(e.userOptions.series=t,i.updateCalendar=!0,i.needRedraw=!0):e.isRendered&&(e.chartAreas(0).options({series:t},!1),i.needRedraw=!0)},defaultTooltip:function(t,e,i){e.isRendered&&(e.chartAreas().each((function(e){return e.tooltip.options(t)})),e.series().each((function(e){return e.tooltip.options(t)})))},defaultAxis:function(t,e,i){e.isRendered&&(e.axes().options({},!1),i.needRefresh=!0)},xAxis:function(t,e,i){!t.pop&&e.isRendered&&((e=e.axes("x"))&&e.options(t,!1),i.needRefresh=!0)},yAxis:function(t,e,i){!t.pop&&e.isRendered&&((e=e.axes("y"))&&e.options(t,!1),i.needRefresh=!0)}},Uk={},Gk={},Zk=function(){function t(e,i){void 0===e&&(e={}),this.kind="Chart",this.cpbIndex=0,this.isRtlCulture=!1,this.flowEvents={optionsApplied:new Fx,beforeSetUserOptions:new Fx,beforeApplyLayout:new Fx,beforeSnapshot:new Fx,afterSnapshot:new Fx,beforeOptionsNormalization:new Fx,beforeDefaultsApply:new Fx,beforeRenderSeries:new Fx,nextRenderSeries:new Fx};var n=this;if(!(n instanceof t)){if(3<=arguments.length&&"function"==typeof arguments[2]){var r=[].slice.call(arguments);return r.splice(0,0,null),new(Function.prototype.bind.apply(t,r))}return new t(e,i)}n.rootVisuals={box:void 0,front:void 0,tooltip:void 0},n.internal={ctManager:n.ctManager,mappingInfo:{contextMaps:"",dataMaps:[],allMaps:[],loadedCallStack:[],regionList:[],mapsLoading:!1,internalMapsUsed:!1,customMapsUsed:!1,projection:"mercator",mapsLoadingList:[]}},n._annotations=[],n._legends=[],n._highlights=[],n.palette=No(0),n.use3D=!1,n.internalConfigs={chartAreas:[]},n.ctManager=fC(),n.mapsLoaded=!1,n.action=new Xk,n.dirty=!0,r=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);var o=Cd(r,d);"string"===o[0]||function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}(r[0])?((e=bd(r[1]||{})).targetElement=r[0],i=r[2]):"object"===o[0]&&(e=bd(r[0]),i=r[1]);var s=Sp(e),a=function(){n.triggerUser("load"),n.checkGridOption(),n.dirty=!1,n.loading(!1),n.inited=!0,i&&i.call(n,n)};n.id=s.id||fi(5),n.isColorized=!0,n.initRenderer(s),n.renderer.refresh(),n.currentOptions=s,n.ctManager.init(s),s&&!1===s.loading||n.loading(!0),sv=s.baseUrl,yp(n,s,(function(){n.init(s,a)}),!0)}return t.prototype.toGrid=function(t,e){var i=this,n=Sp(e),r=this._grid=Hk.chartToGrid&&Hk.chartToGrid(this,t,n);if(r)return r.then=function(t){return t&&t(r)},r;var o={grid_enabled:!0};return n&&(o.baseUrl=n.baseUrl,o.notificationContainer=n.notificationContainer),Zo((function(e,r){vp("modules/datagrid",o,(function(){i._grid=Hk.chartToGrid&&Hk.chartToGrid(i,t,n),e(i._grid)}))}))},t.prototype.checkGridOption=function(){var t=this,e=t.currentOptions.grid,i=t.currentOptions.targetElement;e&&(!0===e.enabled?t._grid?(t._grid.setDataFromChart(!1),t._grid.options(e)):t.toGrid(i,ue({className:"dataTable",exportFile:!0},e)).then((function(e){t._gridSwitch=Hk.createGridSwitch&&Hk.createGridSwitch(t,i,e)})):!1===e.enabled&&(t._grid&&t._grid.destroy(),t._gridSwitch&&t._gridSwitch.destroy(),delete t._grid,delete t._gridSwitch),t.triggerOptionsApplied("grid",t))},t.prototype.init=function(t,e){var i=this,n=i.options("navigator.enabled");if(t=i.userOptions=t,!i.renderer.renderer.isRootDestroyed()){if(i.chartItemManager=new lC(this),i.initFP(),le(Gk,(function(t){return Gk[t](i)})),!i.ctManager.isType("calendar")&&i.data&&!i.userOptions.series){var r=gs(i.data.val);i.userOptions.series=[{points:Cd(r,(function(t){return{x:t[0],y:t[1],z:t[2]}}))}]}i.seriesCount=t.series?t.series.length:0,i.isRtlCulture=Ng(t.defaultCultureName),i.setRootVisuals(),i.disableAnimation(!1),i.flowEvents.beforeSetUserOptions.trigger({type:"chart",owner:i}),i.options(i.userOptions,{skipClone:!0}),Wg.emit("validate",i.id,"chartAfterOptions",{chart:i,data:i.userOptions});var o=i.chartAreaSet.add();i.drawAnnotations(),i.flowEvents.beforeApplyLayout.trigger({type:"chart",owner:i}),i.rootPanel.refresh(!0),o.tryReflow(),i._lastRefreshedRect=i.renderer.getRootBox(),i.rootPanel.on("finalSize",(function(t){var e=i._lastRefreshedRect;e&&e.width===t.width&&e.height===t.height||(i._lastRefreshedRect=t,o.tryReflow())})),i.enableAnimation();var s=[],a=function(){i.isRendered=!0,s.length||e.call(i,i)};Ad(i.chartAreaSet.items,(function(t){!t.isRendered&&t.isRendering&&(s.push(t.id),n&&(t.navHold=t.readyDefer.hold("Navigator")),t.awaitRender((function(){s.splice(s.indexOf(t.id),1),a()})))})),a()}},t.prototype.exportImage=function(t,e){void 0===t&&(t={}),this.renderer.attr("disableAnimation",!0),this.flowEvents.beforeSnapshot.trigger({type:"chart",owner:this}),this.triggerUser("beforeExport"),this.rootPanel.refresh(),this.chartAreaSet.items.forEach((function(t){return t.clickOff(null,!0)})),e&&this.options(e),e={png:"image/png",jpg:"image/jpeg",pdf:"application/pdf",svg:"image/svg+xml"}[(e=t.imageType||t.type||"png").toLowerCase()]||e;var i=t.server||"https://export.jscharting.com/download",n=this.getSVG(),r=t.title||this.options("title_label_text"),o=t.author,s=t.subject,a=t.keywords,h=t.comment,l=t.rating;this.submitForm(n.svgString,e,i,t.width,n.width,n.height,"3.4.0.20230215",r,o,s,a,h,l),this.flowEvents.afterSnapshot.trigger({type:"chart",owner:this}),this.triggerUser("afterExport"),this.rootPanel.refresh(),this.renderer.attr("disableAnimation",!1)},t.prototype.print=function(){var t=this,e=t.getWrapper(),i=e.style,n=t.renderer,r=Qm,o=r.document.documentElement,s=o.style;t.chartAreaSet.items.forEach((function(t){return t.clickOff(null,!0)}));var a=e.parentElement,h=[],l=r.document.body,u=l.children;!function(){for(var t=0;t<u.length;t++){var i=u[t];if("none"!==i.style.display){var n={el:i,display:i.style.display};i.style.display="none",h.push(n)}}l.appendChild(e)}(),s.visibility="hidden";var c=ue({},i),p=n.attr("width"),f=n.attr("height"),d=function(t){return{top:(t=t.getBoundingClientRect()).top+(r.pageYOffset||o.scrollTop),left:t.left+(r.pageXOffset||o.scrollLeft)}},m=function(t){for(var e=(t=t.parentNode)&&t.style&&t.style.position,i=["absolute","relative","fixed"];t&&(!e||!~i.indexOf(e));)e=(t=t.parentNode)&&t.style&&t.style.position;return t}(e);d=m?d(m):{left:0,top:0},wd(i,{visibility:"visible",position:"absolute",top:-d.top,left:-d.left}),n.attr("disableAnimation",!0),n.attr("width","21cm"),n.attr("height",n.rootBox.height||"100%"),t.flowEvents.beforeSnapshot.trigger({type:"chart",owner:t}),t.triggerUser("beforeExport"),n.refresh(),setTimeout((function(){r.focus(),r.print(),setTimeout((function(){a.appendChild(e);for(var r=0;r<h.length;r++){var o=h[r];o.el.style.display=o.display}wd(i,{visibility:c.visibility,position:c.position,top:c.top,left:c.left}),n.attr("width",p),n.attr("height",f),t.flowEvents.afterSnapshot.trigger({type:"chart",owner:t}),t.triggerUser("afterExport"),n.refresh(),n.attr("disableAnimation",!1),s.visibility="visible"}),og?3e3:1)}),1)},t.prototype.submitForm=function(t,e,i,n,r,o,s,a,h,l,u,c,p){var f=$m.createElement("form");f.action=i,f.method="POST",this.createFormInput(f,"svg",t),this.createFormInput(f,"type",e),this.createFormInput(f,"width",n),this.createFormInput(f,"actualWidth",r),this.createFormInput(f,"actualHeight",o),this.createFormInput(f,"version",s),this.createFormInput(f,"title",a),this.createFormInput(f,"author",h),this.createFormInput(f,"subject",l),this.createFormInput(f,"keywords",u),this.createFormInput(f,"comment",c),this.createFormInput(f,"rating",p),$m.body.appendChild(f),f.submit(),$m.body.removeChild(f)},t.prototype.createFormInput=function(t,e,i){if(i){var n=$m.createElement("input");return n.value=encodeURIComponent(i),n.name=e,t.appendChild(n),n}},t.prototype.toolbar=function(){return this._toolbar},t.prototype.initFP=function(){var t=this;t.series=or(sk,(function(){return t.chartAreaSet.series()}),(function(e){Ad(e,Wo),t.userOptions.series=e;var i=t.chartAreas(0).readyDefer,n=i.hold("splS");t.chartAreas(0).spliceSeries(0,t.chartAreas(0).series().items.length,e,!1),t.redraw({animation:t.currentOptions.animation}),i.release(n)}),{push:function(e,i){var n=t.chartAreas(0);(n.ctManager.hasSetting("behavior","tree")||n.ctManager.isType("column"))&&(n.userOptions.series.push(bd(e)),n.childLookup=void 0),e=n.addSeries(e,!1),n.triggerUser("updateMapData",[n,e]),!1!==i&&t.redraw(i),t.action.log("data")},splice:function(e,i,n,r){t.chartAreas(0)._chartFirstTimeDataDirty=!0,t.chartAreas(0).spliceSeries(e,i,Id(n)?n:[n],!1),!1!==r&&t.redraw(r),t.action.log("data")}}),t.annotations=or(Gg,(function(){return t._annotations}),(function(e){Ad(e,Wo),Le(t.userOptions,"annotations",e),t.drawAnnotations(),t.chartAreaSet.reflow(null,!1,!0)}),{push:function(e,i){Wo(e),t.userOptions.annotations=t.userOptions.annotations||[],t.userOptions.annotations.push(e),t.drawAnnotations(),Me(i)&&(i=qe(i)),t.chartAreaSet.reflow(i,!1,!0)},splice:function(e,i,n,r){var o;Ad(n,Wo),t.userOptions.annotations=t.userOptions.annotations||[],(o=t.userOptions.annotations).splice.apply(o,a([e,i],n)),t.drawAnnotations(),Me(r)&&(r=qe(r)),t.chartAreaSet.reflow(r,!1,!0)}}),t.chartAreas=or(Vk,(function(){return t.chartAreaSet.items}),(function(t){})),t.xAxis=or(wk,(function(){t.chartAreaSet.axes({prefix:"x"})}),(function(e){t.currentOptions.xAxis=e})),t.axes=or(wk,(function(){return t.chartAreaSet.axes().items}),(function(t){})),t.legends=or(Ik,(function(){return t._legends}),(function(t){}),{push:function(t,e){},splice:function(t,e,i,n){}})},t.prototype.options=function(t,e){var i=this,n=d(t);if("undefined"===n)return i.currentOptions;if("string"===n)return c(i.currentOptions,t);var r=i.inited&&!i.isRendered&&i.loading(!0);return i.ctManager.init(i.currentOptions),i.initApi(),t=!h(e)||h(e)&&!e.skipClone?bd(t):t,i.isRendered&&(t=qe(t,"series,targetElement")),t=function(t,e,i){return le(Uk,(function(n){e=Uk[n](t,e,i)})),e}(i,t,e),t=i.setUserOptions(t),i.optionsNormalized=!0,yp(i,t,(function(){(function(t,e,i){var n,r={},o=t.calIndexer,s={layoutAttr:r,boxAttr:{},needRefresh:!1,needRedraw:!1,updateCalendar:!1};if(h(e.margin)&&Le(e,"box.margin",e.margin),Ad(e,(function(i,n){Yk[n]&&Yk[n](i,t,s,e)})),s.updateCalendar){var a=t.userOptions,l=t.currentOptions;l.series=void 0,l.x=bd(a.x),l.y=bd(a.y),o.updateChart(l);var u=l.series;Ad(t.chartAreaSet.items,(function(t){t.options({series:u})}))}Object.keys(r).length&&t.renderer.attr(r).refresh(),r=h(null===(n=null==e?void 0:e.box)||void 0===n?void 0:n.padding),(!t.isRendered||r)&&t.isColorized&&100<t.renderer.getRootBox().height&&(s.boxAttr.padding=s.boxAttr.padding||[0,0,0,0],!0!==t.currentOptions.overlapBranding&&(s.boxAttr.padding[2]+=20)),(n=s.boxAttr)&&Object.keys(n).length&&((r=n.margin)&&(o=Ge(t.rootVisuals.box.margin.initial),n.margin=we(o,r)),t.rootVisuals.box.attr(n),s.needRefresh=t.isRendered),s.needRedraw?t.redraw(i):s.needRefresh&&t.rootPanel.refresh()})(i,t,e),t.series&&!i.isRendered?i.initControls():i.dirty&&!1!==e&&(i.setCursor(),i.chartAreaSet.invalidate(),i.redraw()),i.inited&&t.grid&&i.checkGridOption(),i.triggerOptionsApplied("chart",i),r&&i.loading(!1)})),e&&e.then&&jb.await((function(){e.then&&(e.then.call(i),delete e.then)})),i},t.prototype.triggerOptionsApplied=function(t,e){this.flowEvents.optionsApplied.trigger({type:t,owner:e})},t.prototype.replaceTokens=function(t,e){return this.chartAreaSet.series().length?mu(t,this.chartAreaSet,this.getFormatInfo()):t},t.prototype.tokenValue=function(t){return this.replaceTokens({token:t})},t.prototype.getFormatInfo=function(){return this.chartAreaSet.series().length?this.series(0).getFormatInfo():{x:{},y:{},z:{}}},t.prototype.getSVG=function(){var t=this.getWrapper().getElementsByTagName("svg")[0],e=t.getBoundingClientRect(),i=t.outerHTML;return i||(i=(i=(i=(i=(new XMLSerializer).serializeToString(t)).replace('xmlns="http://www.w3.org/2000/svg"',"")).replace('xmlns:NS1=""',"")).replace('NS1:xmlns:xlink="http://www.w3.org/1999/xlink"',"")),{svgString:i,width:e.width,height:e.height}},t.prototype.zoom=function(t,e){return this.chartAreas(0).zoom(t||1,e)},t.prototype.connectors=function(t,e,i){void 0===i&&(i={animation:{duration:0}});var n,r=this.chartAreaSet.items[0].ciManager;if(h(e)||h(t))if(n=hr(t)){if(r=r.exists(n.firstId))return(n=(n=r.series).visualizer).styleLines&&n.styleLines(t,e,i);Wg.emit("warning","",'No point with the id "'+n.firstId+'" was found.',{container:this.getWrapper()})}else Wg.emit("warning","","The specified pathSelector is not valid.",{container:this.getWrapper()});else this.series().each((function(t){var e=t.visualizer.resetLines;e&&e.apply(t.visualizer)}))},t.prototype.setUserOptions=function(t){var e=t.series,i=t.data;delete t.series,delete t.data;var n=this.normalizeOptions(t);this.userOptions=wd(this.userOptions,n);var r=function(t){var e={defaultAnnotation:aS(t),animation:{duration:330,easing:"ease-in-out-circ"},languageStrings:Mp,debug:!0};return t.ctManager.isType("map")&&ue(e,{legend:{template:"%icon %name"},axisToZoom:"xy"}),e}(this);return this.flowEvents.beforeDefaultsApply.trigger({type:"chart",owner:this,options:r}),r=wd(r,this.userOptions),Ad(["defaultBox","defaultAxis"],(function(t){r[t]&&(r[t]=vC(r[t]))})),this.currentOptions=wd(this.currentOptions,this.contextOptions(),r),e&&(n.series=this.currentOptions.series=e),i&&(n.data=this.currentOptions.data=i),t.defaultCultureName&&(this.isRtlCulture=Ng(t.defaultCultureName)),n},t.prototype.contextOptions=function(){return c(this,"typeContextOptions.chart")||{}},t.prototype.normalizeOptions=function(t){var e=t.annotations;return e&&Ad(e,Wo),t.defaultPoint&&Le(t,"defaultSeries.defaultPoint",wd(c(t,"defaultSeries.defaultPoint")||{},t.defaultPoint||{})),(e=t.hatchPalette)&&!0===e&&(t.hatchPalette=Kk("hatch")),t.export&&Re(t,["toolbar","items","export","visible"],!0),this.flowEvents.beforeOptionsNormalization.trigger({type:"chart",owner:this,options:t}),t},t.prototype.initApi=function(){var t=this.userOptions,e=this.internal;this.ctManager;var i=t.template;t.debug,delete t.template,e.spv=Le,(t=qe(t,"data,series,targetElement")).series=t.series||[],i&&(i=qe(i),t=Jf(t,i)),this.currentOptions=wd({},t)},t.prototype.initControls=function(){this.renderer,this.internalConfigs,this.drawLegends(),this.chartAreaSet.init()},t.prototype.initRenderer=function(t){var e=t.targetElement,i=_e(e)?$m.getElementById(e):e;i||_e(e)&&Wg.emit("error",this.id,"targetElIdNotFound",{data:[e]}),(this.renderer=new aC({container:i,width:this.getSizeOrMin(t.width,25),height:this.getSizeOrMin(t.height,25),defaultWidth:640,defaultHeight:350,pixelCorrection:t.pixelCorrection})).attr({fontFamily:"tahoma, geneva, sans-serif",fontSize:"12px",fontWeight:"normal",fontStyle:"normal","user-select":"none",transition:{animation:{duration:330,easing:"ease-in-out-circ"}}})},t.prototype.getSizeOrMin=function(t,e){var i=0;return"number"==typeof t?i=t:"string"==typeof t&&-1===t.indexOf("%")&&(i=parseInt(t)),i?Math.max(i,e):t},t.prototype.setRootVisuals=function(){var t=this,e=t.renderer,i={width:"*",height:"*"},n=t.rootPanel;n||(t.isRtlCulture&&(i.direction="rtl",i["text-anchor"]="end"),(n=t.rootPanel=e.panel(i)).on("touchstart",(function(e){return t.touched(!0)})));var r=(i=t.rootVisuals=t.rootVisuals||{box:void 0,front:void 0,uiItemsFront:void 0,itemsBox:void 0}).box=i.box||e.box({width:"*",height:"*",stroke:"none",fill:"#FFFFFF",margin:3}).add(n);i.uiItemsFront=i.uiItemsFront||e.panel({width:"*",height:"*"}).add(n),i.front=i.front||e.panel({width:"*",height:"*"}).add(n),t.isColorized&&!t.chartAreaSet&&(t.renderer.getRootBox(),n=e.box({xAlignment:"left",yAlignment:"bottom",cursor:"pointer",borderWidth:0,height:17,fill:"transparent",margin:[0,0,4,4]}).add(n),t.renderer.renderer.element("title").attr({text:"Chart created using ".concat("JSCharting")}).add(n),e.svgContainer('<linearGradient id="a" gradientUnits="userSpaceOnUse" x1="8.4" x2="8.4" y1="16.327" y2="1.765"><stop offset="0" stop-color="#4a4949"/><stop offset="1" stop-color="#666565"/></linearGradient><linearGradient id="b"><stop offset="0" stop-color="#0d48a1"/><stop offset="1" stop-color="#20ade2"/></linearGradient><linearGradient id="c" gradientUnits="userSpaceOnUse" x1="24.226" x2="24.226" xlink:href="#b" y1="16.343" y2="4.618"/><filter id="d" width="120%" height="120%" x="-10%" y="-10%"><feColorMatrix type="saturate" values="0"></feColorMatrix></filter><g opacity=0.4 filter="url(#d)" id=\'brandingLogo\'><rect x=0 y=0 width=31 height=16.4 fill="rgba(255,255,255,0)"/><path d="m4.7 12.9s.1.9-.9.9c-1.2 0-1.9-1.3-1.9-1.3l-1.9 1.8s1.7 2 3.9 2c2.4 0 3.5-1.6 3.5-2.6v-11.6h-2.7zm6.7-6.9c-.7-.7.9-3 3.2-.2l1.9-1.8s-1.7-2.2-4-2.2c-2.8 0-4.8 3.2-3.4 5 1.8 2.4 5.1 4.2 5.1 5.4 0 .7-.4 1.5-1.4 1.5-2.1 0-2.5-1.8-2.5-1.8l-2.3 1.4s1.5 3 4.3 3c2.7 0 4.5-1.3 4.5-4.3-.1-2.2-4.2-4.7-5.4-6z" fill="url(#a)"/><path d="m23.7 0c-2.3-.1-5.1 2.1-5.1 2.1l5.3 5.2-.2-7.3z" fill="#1faae0"/><path d="m25.1 1-.3 7.2 3-6.4c.1 0-.9-.6-2.7-.8z" fill="#0e4da4"/><path d="m28.8 2.7-1.2 2.2s1.7 1.1 1.7 1.3l1.7-1.7s-1.6-1.7-2.2-1.8z" fill="#1d9fd9"/><path d="m23.3 13.6c-5.2-2-2.5-7.5-2.5-7.5l-1.8-1.5c-3.4 4.5-.7 10.4 3.3 11.4 6 1.5 8.7-2.4 8.7-2.4l-1.7-1.7c-2 1.7-4.1 2.5-6 1.7z" fill="url(#c)"/></g>').add(n),n.on("click",(function(t){$m.location.href="https://jscharting.com"})),t.renderer.renderer.cssText("#brandingLogo:hover{\n\t\t\t\topacity:1;\n\t\t\t\tfilter:none;\n\t\t\t} #brandingLogo {\n\t\t\t\t-webkit-transition: opacity 1s ease;\n\t\t\t\t-moz-transition: opacity 1s ease;\n\t\t\t\t-o-transition: opacity 1s ease;\n\t\t\t\ttransition: opacity 1s ease;\n\t\t\t}")),t.chartAreaSet=t.chartAreaSet||new Fk(this).add(r),i.itemsBox=i.itemsBox||e.panel({width:"*",height:"*"}).add(r)},t.prototype.boxDefaults=function(t){var e=qe(this.userOptions.defaultBox);return t=iv(Se(t,this.getStyling())),e&&(e.fill||e.outline&&0!==e.outline.width)&&(t.boxVisible=!0),e?wd(t,e):t},t.prototype.getStyling=function(){var t=this.currentOptions,e=qe(this.userOptions.defaultBox);return Se(t.legacyStyling,e&&e.boxVisible)?1:0},t.prototype.touched=function(t){if(!h(t))return nk;nk=!0},t.prototype.setCursor=function(t){this.renderer.renderer.setCursor(t)},t.prototype.getCursor=function(){return this.renderer.renderer.getCursor()},t.prototype.getWrapper=function(){return c(this,"renderer.renderer.wrapper.el")},t.prototype.resetTimers=function(){this.chartAreas().each((function(t){return t.resetTimers()}))},t.prototype.redraw=function(t){var e=this;if(!1===e.dirty){var i=e.renderer.getRootBox(),n=e.renderer.renderer.isDefaultSizeSet();if(!i.height||!i.width||n)return e.renderer.refreshRootBox(),e.renderer.refresh(),e.renderer.renderer.rootResize(),void(n?setTimeout((function(){return e.renderer.renderer.resubscribeResize()}),1e3):e.renderer.renderer.resubscribeResize())}t=qe(t),i=e.disableAnimation(t),e.tooltipRef&&e.tooltipRef.hide(),e.series().each((function(t){return t.visualizer.hideHalo()})),e.chartAreaSet.enumerateData(),e.chartAreaSet.reflow(t,!0),e.triggerUser("redraw"),i&&e.enableAnimation(),e.dirty=!1,t&&t.then&&jb.await((function(){t.then&&(t.then.call(e),delete t.then)}))},t.prototype.updateSideItems=function(t){this._grid&&this._grid.setDataFromChart(t)},t.prototype.disableAnimation=function(t){var e=this.renderer;return(t=h(t)&&(!1===t||!1===t.animation)&&e.disableAnimation())&&e.attr("disableAnimation",!0),t},t.prototype.enableAnimation=function(){this.renderer.attr("disableAnimation",!1)},t.prototype.hideTooltip=function(){var t=this.tooltipRef;t&&t.isVisible&&t.hideActiveTooltip(this)},t.prototype.zoomInOut=function(t){},t.prototype.refreshAnnotations=function(){this.annotations().each((function(t){var e=t.options("label_text");e&&-1<e.indexOf("%")&&t.applyOptions()}))},t.prototype.drawAnnotations=function(t){var e=this;t=e.userOptions.annotations;var i=e.userOptions.defaultAnnotation;i&&i.asHTML,t&&re(t,e._annotations,(function(t){var i=new hS(e,t);return void 0===t.asHTML||t.asHTML,i.add(e.rootVisuals.itemsBox),i}),(function(t,e){return e.options(t)}))},t.prototype.requestLegend=function(t){return this._legends[0]},t.prototype.drawLegends=function(t){var e=this;t=e.options("legend")||{};var i=e.rootVisuals.itemsBox;re([t],e._legends,(function(t){return new zk(e,t).add(i)}),(function(t,e){return e.options(t)}))},t.prototype.triggerUser=function(t,e){var i=this.currentOptions.events;if(z(i=(t=i&&he(i,t))&&i[t]))return i.call(this,e)},t.prototype.loading=function(t,e){return(this._loader=this._loader||new mS(this.renderer,ue({fill:this.currentOptions.box?this.currentOptions.box.fill:"#fff"},this.currentOptions.loading||{}))).loading(t,e)},t.prototype.ensureLoadingApplied=function(t){this._loader?this._loader.ensureAnimationApplied(t):t()},t.prototype.destroy=function(){this._selDeBouncer&&this._selDeBouncer.clearAll(),this.chartAreaSet&&this.chartAreaSet.destroy(),this.legends&&this.legends().each((function(t){return t.destroy()})),this._loader&&this._loader.destroy(),this.renderer&&this.renderer.destroy(),delete this._toolbar,delete this.renderer,delete this.chartAreaSet},t.prototype.dispose=function(){this.destroy()},t.prototype.getSmartPalette=function(t){var e,i,n=this.chartItemManager,r=d(t);if("string"===r)return n.exists(t);var o=n.getSPItems(),s=1!==o.length||!(t.colors||t.ranges||t.stops);if(this._spDirty&&!s&&(Ad(n.getSPItems(),(function(t){return n.destroyItem(t.id)})),o=n.getSPItems()),s&&1===o.length){o[0].setOptions(t);var a=o[0]}else(e=t.id)&&(i=n.exists(e))?(i.setOptions(t),a=i):"object"===r&&(a=new fS(this,t));return this._spDirty=!1,a},t.prototype._pointSelection=function(){var t=this;(t._selDeBouncer=t._selDeBouncer||new Hg).defer("pSel",(function(){var e=t._sMaxList&&t._sMaxList.length?t._sMaxList.slice(0):t.series().points({selected:!0}).items;t.triggerUser("pointSelectionChanged",e)}),30)},t.prototype._seriesSelection=function(){var t=this;(t._selDeBouncer=t._selDeBouncer||new Hg).defer("pSel",(function(){var e=t.series((function(t){return t.options("selected")})).items;t.triggerUser("seriesSelectionChanged",e)}),30)},t}(),Xk=function(){function t(){this._log=[]}return t.prototype.log=function(t){this._log.push(this._last=t)},t.prototype.last=function(){return this._last},t.prototype.clear=function(){this._log=[]},t}(),qk=[];!function(t,e){Qm.JSC=wd(Qm.JSC,{Chart:e}),function(t,e,i){ik=i,void 0!==t&&(t.fn.JSC=function(){function t(t){for(var i=0,n=e.length;i<n;i++)if(t[0]==e[i][0])return e[i][1]}var i,n=arguments;if(this[0]){"string"==typeof n[0]&&(n[0],n=Array.prototype.slice.call(n,1));var r=n[0];h(r)?((i=t(this))&&i.dispose(),r.targetElement=this[0],(n=new ik(r,n[1])).globalChartIndex=e.length,e.push([this[0],n]),r=this):r=t(this)}return r})}(Qm.jQuery,t,e)}(qk,Zk);var Kk=cy,Qk=Cd,$k=wd,Jk=Wy,t_=function(t,e,i){return as(i?t.map(Iy(i)):t,e)};cr({"system/default/area":"M 23 0 A 12 12 0 0 0 11 12 A 12 12 0 0 0 23 24 A 12 12 0 0 0 35 12 A 12 12 0 0 0 23 0 z M 48 0 L 35.785156 6.1074219 A 14.10924 14.10924 0 0 1 37.109375 12.033203 A 14.10924 14.10924 0 0 1 30.458984 24 L 48 24 L 48 0 z M 10.583984 18.708984 L 0 24 L 15.556641 24 A 14.10924 14.10924 0 0 1 10.583984 18.708984 z ","system/default/areaSolo":"M 0,24 48,0 48,24 Z","system/default/checkbox-blank":"M38 10v28H10V10h28m0-4H10c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4z","system/default/checkbox":"M38 6H10c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM20 34L10 24l2.83-2.83L20 28.34l15.17-15.17L38 16 20 34z","system/default/circle":"M0,12a12,12 0 1,0 24,0a12,12 0 1,0 -24,0","system/default/diamond":"M12 .001l12 12-12 12-12-12 12-12z","system/default/line":"M 46.076172 -0.001953125 L 34.929688 4.7050781 A 14.000001 14 0 0 1 36.732422 9.3027344 L 47.996094 4.546875 L 46.076172 -0.001953125 z M 23 0 A 12 12 0 0 0 11 12 A 12 12 0 0 0 23 24 A 12 12 0 0 0 35 12 A 12 12 0 0 0 23 0 z M 9.453125 15.460938 L 0 19.451172 L 1.9199219 24 L 11.488281 19.960938 A 14.000001 14 0 0 1 9.453125 15.460938 z","system/default/lineSolo":"M 46.076172,-0.00195313 0,19.451172 1.9199219,24 47.996094,4.546875 46.076172,-0.00195313 Z","system/default/radio-button-blank":"M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.84 0-16-7.16-16-16S15.16 8 24 8s16 7.16 16 16-7.16 16-16 16z","system/default/radio-button":"M24 14c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10zm0-10C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.84 0-16-7.16-16-16S15.16 8 24 8s16 7.16 16 16-7.16 16-16 16z","system/default/square":"M18 24H6c-3.3 0-6-2.7-6-6V6c0-3.3 2.7-6 6-6h12c3.3 0 6 2.7 6 6v12c0 3.3-2.7 6-6 6z","system/default/triangle":"M24 22h-24l12-20z","system/default/triangleDown":"M12 21l-12-18h24z","system/default/warning":"M18.9 18.3l-9-16c0-.1-.1-.1-.2-.2-.2-.2-.5-.1-.6.2l-9 16c-.1 0-.1.1-.1.2 0 .3.2.5.5.5h18c.1 0 .2 0 .2-.1.3-.1.4-.4.2-.6zM10 16.5c0 .3-.2.5-.5.5s-.5-.2-.5-.5v-1c0-.3.2-.5.5-.5s.5.2.5.5v1zm0-3c0 .3-.2.5-.5.5s-.5-.2-.5-.5v-5c0-.3.2-.5.5-.5s.5.2.5.5v5z"},!1),Le(Qm,"JSC.internal.registerIcons",cr),Le(Qm,"JSC.internal.setPathVal",Le),["log","warning","error"].forEach((function(t){Le(Qm,"JSC.internal."+t,(function(e,i){Wg.emit(t,null,e,{container:i})}))}));var e_,i_=c(Qm,"JSC.internal"),n_=Object.freeze({SELECT_STATE:"select",NORMAL_STATE:"",zIndexReference:Jg,boxDefaults:iv}),r_=Object.freeze({def:h,has:l,noop:oe,removeArrItem:u,evalPath:c,epa:p,contains:ae,getValType:d,isNull:f,mergeCollections:re,extend:ue,extendCopy:ce,copy:pe,extendScoped:fe,extendScopedNegate:de,extendCopyScopedNegate:me,plainArray:ye,arraySum:we,last:Ae,pick:Se,isString:_e,isObject:Me,isUndefined:Te,keys:ze,eachKey:le,detect:Ee,setPathVal:Le,applySetting:Fe,findInArrSimple:Ie,throttle:nm,parseMargin:Ge,mapDeep:lm,expandOptionsProperties:qe,isNaN:Qd,filter:md,find:gd,findIndex:vd,defaults:yd,defaultsDeep:Jf,clone:xd,cloneDeep:bd,merge:wd,each:Ad,map:Cd,reduce:Sd,uniq:kd,sortedUniq:_d,toString:Md,sortBy:zd,remove:Dd,join:Pd,slice:Bd,times:Fd,omit:Vd,isArray:Id,isFunction:z,isNumber:Nd,isEmpty:jd,startsWith:Wd,max:Gd,sum:Zd,clamp:qd,Memoize:rm}),o_=Object.freeze({boxPoints:Nm,rightX:jm,bottomY:Wm,compareBoxes:Ji,pad:en,setSize:nn,bboxUnion:rn,intersect:on,bboxFromPoints:sn,center:ln,clip:un,collide:Rn,fitInTarget:hn,ltrbMargins:function(t,e,i){t=Ym(t),e=Ym(e);var n=[];return n[0]=t[0]-e[0],n[1]=t[1]-e[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],i?Cd(n,(function(t){return 0<t?t:0})):n},addTrblMargin:function(t,e){return nn(t,[t[2]+e[3]+e[1],t[3]+e[0]+e[2]])},fromRect:vn,fromCenter:yn,toPath:xn,toLTRB:Ym,fromLTRB:Um,toPoints:Zm,alignTo:bn,offsetBetween:Cn,alignBoxesTo:Sn,squishH:function(t,e,i){if(t&&t.length)return Tn(t,"r",e),Tn(t,"l",i),rn(t)[0]<e&&Sn(t,[e,0,i-e,0],"x","mcmc"),t},squishV:function(t,e,i){if(t&&t.length)return Tn(t,"d",e),Tn(t,"u",i),rn(t)[1]<e&&Sn(t,[0,e,0,i-e],"y","mcmc"),t},squish:Tn,alignAvoidGreedy:_n,unsquishSnapTo:function(t,e,i){void 0===i&&(i="d");var n={v:En,h:Dn}[{u:"v",d:"v",l:"h",r:"h"}[i]];kn(t=On(t.slice(0),i),i);var r=[(e=n(i=rn(t),e))[0]-i[0],e[1]-i[1]];return Ad(t,(function(t){return qm(t,r)})),t},unsquishBoxes:kn,unsquishBoxesCb:function(t,e,i){for(var n=On(t.slice(0),e),r=[],o=0,s=n.length;o<s;o++){var a=n[o];if(o){var h=_n(a,r,e),l=Cn(h,a);(l[0]||l[1])&&(a[0]=h[0],a[1]=h[1],i&&i(t.indexOf(a),l,a))}r.push(a)}return r},snapInside:zn,bInsideA:Pn,pointInside:Bn,collideAny:Vn,collideList:Fn,rotatedAt:Nn,translate:Xm,translateRef:qm,bestLayout:function(t,e,i){for(var n,r,o=!1,s=1,a=0;!o;)n=e.width/Math.ceil(t/s),r=e.height/s,(n=Math.min(n,r))<=a?(o=!0,s--):(s++,a=n),100<s&&(o=!0);return(t/=s)>parseInt(t)&&(t=parseInt(t)+1),i?(e.width,e.height):n=n/Math.min(e.width,e.height)*100,{cols:t,rows:s,maxSize:n}},bestScaledLayout:function(t,e){function i(t,e){return t>e?t-e:e-t}for(var n=Hn(t.length),r=n.map((function(e,i){for(var n=i=0,r=[],o=0;o<e[1];o++){for(var s=0,h=[],l=0;l<e[0]&&t[n];l++){var u=a([s,i],t[n++].slice(0));s=Pm(u),h.push(u)}i=Math.max.apply(Math,a(h.map(Em))),r.push.apply(r,a(h))}return r})),o=r.map(rn),s=o.map((function(t){return t[2]/t[3]})),h=e.width/e.height,l=0,u=i(s[0],h),c=1;c<t.length;c++){var p=i(s[c],h);p<u&&(l=c,u=p)}n=n[l];var f=[(e=hn(o=o[l],vn(e)))[0]/o[2],e[1]/o[3]];return{boxes:r[l].map((function(t){return[t[0]*f[0],t[1]*f[1],t[2]*f[0],t[3]*f[1]]})),cols:n[0],rows:n[1]}},splitIntoColsRows:function(t,e,i){var n=vn(t);t=[];var r=n[2]/e;n=n[3]/i;for(var o=0;o<i;o++)for(var s=0;s<e;s++)t.push([s*r,o*n,r,n]);return t}}),s_=Object.freeze({changeBrightness:function(t,e){return Cr(qr(t,e))},brightness:function(t){return Zr(t)},cushionEffect:lo,aquaEffect:uo,roundedEffect:co,colorMods:ay,parseJscColor:go,toHexOpacity:vo,parseJscFill:yo,modifyColor:xo,modifyFill:bo,addOpacity:wo,tween:Ao,colorToPalette:_o,simplify:Dr}),a_=Object.freeze({math:pm,round:Qe,avg:ti,mapValue:ii,arraySum:function(t){return Zd(t)},diff:ai,decimalPlaces:gm,goodNumber:oi}),h_=Object.freeze({lowerFirst:pi,getRandomString:fi,shortenEllipsis:Sm,upperFirst:function(t){var e=t.charCodeAt(0);return 96<e&&123>e?String.fromCharCode(e-32).concat(t.substr(1)):t}}),l_=Object.freeze({toDegrees:gi,toRadians:vi,normalizeAngle:yi,quadrant:function(t){return 180>(t=yi(gi(t)))?90<=t?2:3:270<=t?0:1},getPolarPoint:xi,getPolarDegPoint:bi,gpdp:wi,gpdp_text:function(t,e,i,n,r,o){var a=s(r,2);r=a[0],a=a[1],r+=i,a+=i;var h=function(t,e){return void 0===e&&(e=0),0===e?t:1===(e=Math.min(Math.abs(e),1))?1:km(t,Math.max(1-e,.1))},l=e*Math.PI/180,u=function(t){return.001>Math.abs(t)?0:t};e=u(Math.cos(l));var c=Math.cos(2*l);l=u(Math.sin(l)),u=Math.abs;var p=function(t){return 0<t?1:0>t?-1:0},f=p(e),d=p(l),m=h(u(l),o[0])*d;return h=h(u(e),o[1])*f,o=((0>c?d:m)-1)*r/2,n=(n+e*(u(c=-((0<c?f:h)+1)*a/2)-(0<e?a:0)))/l||-r/2,n=Math.min(u(n),r/2)*p(n),0>l?(n=-r-n,o=Math.max(u(o),u(n))*p(o)):o=Math.min(u(o),u(n))*p(o),[t[0]+i+o,t[1]+i+c]},gpp:Ai,angleOfPoints:ki,pointDistance:_i,pDist:Mi,lineIntersect:Ti,lineDistance:Oi,pointInsidePolygon:zi,arcCapDegOffset:function(t,e){var i=t-e;return t=[wi([0,0],0,(t+e)/2)],i=wi(t[0],108,i),Math.abs(vi(ki([0,0],i)))/2},ensureUprightText:Ii}),u_=Object.freeze({isValInsideInc:Tm,intersect:Wi,positionsToPadRanges:Gi,invert:Zi}),c_=Object.freeze({win:Qm,doc:$m,getRootScriptPath:Un,getScript:Zn,getJson:function(t,e,i,n){Xn(t,e,i,n,JSON.parse)}}),p_=Object.freeze({Formatter:Pg,formatString:Ig}),f_=Object.freeze({getApiEnum:Ar}),d_=Object.freeze({zero:Mo,resize:To,scale:Oo,moveTL:function(t,e,i){return void 0!==e&&(t.width-=e-t.x,t.x=e),void 0!==i&&(t.height-=i-t.y,t.y=i),t},padBox:zo,padRect:Do,translate:Eo,padBoxRel:Po,centerRect:Bo,normalize:Lo,toLTRB:Ro,fromLTRB:Fo,round:function(t){return t=Ro(t),Fo(t=Cd(t,Math.round))},fromBBox:Vo,compare:Io}),m_=Object.freeze({registerIcons:cr}),g_=Object.freeze({measureText:Tv}),v_=Object.freeze({getPalette:cy,getPaletteConfig:py}),y_=Object.freeze({registerModule:function(t,e){return(t=fy[t]=fy[t]||{}).afterLoad=e,!t.loaded&&(t.loaded=!0)}}),x_=Object.freeze({idFyObj:Wo,percOrNum:Go}),b_=Object.freeze({toDate:vy,toDateNum:yy,intervalToSpan:Ko,addTimeInterval:Qo,unitToFormatOptions:Jo,unitListToFormatOptions:ts,GroupingFunctions:By,CalendarPattern:Ly}),w_=Object.freeze({calculations:as,keyArg:Iy,nest:Wy}),A_=Object.freeze({fromPoints:Oa,bbox:px,pathIntersects:function(t,e,i){return Us(t.shapes[0],e,i)},Path:rx,fromString:Ca,subPath:ka,shapeBbox:Bs,visualCenterForShape:Ks,shapeIntersects:Us}),C_=Object.freeze({pointsToPath:Ia,multiLineToPath:Na,flattenD:Ds,arcCornerR:_s,arc:Ea,arcSegment:Pa,pointsEqual:ks,roundCorners:Ua,roundRectCorners:Ga}),S_=Object.freeze({parseSize:Rw}),k_=Object.freeze({padMargin:Bl,lineToAttr:Ll,shapeToAttr:Fl,boxToAttr:Vl,completeDependentOptions:vC,annotationToHtmlAttr:Il,labelToAttr:Wl,offsetToAttr:Hl,boxToLayoutBoxAttr:Nl}),__=Object.freeze({fitBoxInPath:Su,fitBoxData:function(t,e){var i=ku(t),n=function(t){return[ii(0,1,e[0],e[0]+e[2],t[0]),ii(0,1,e[1],e[1]+e[3],t[1])]};return t=Bs(t=_u(t)),(i=i?Mu(i,n):void 0)?{scans:i,pathBBox:YC(t,n)}:void 0},fitBoxInScanData:function(t,e,i,n){var r=i[1];t=function(t,e){return{scans:Mu(t.scans,(function(t){return[ii(e[0],e[0]+e[2],0,1,t[0]),ii(e[1],e[1]+e[3],0,1,t[1])]})),pathBBox:e}}(t,e).scans;var o=Math.max(e[2],e[3]),s=[],a=e[1]+1;try{for(;a+r<e[1]+e[3]-2;){var h=Tu(t,a,r);h&&h[2]>=i[0]&&s.push([o-_i(ln(h),n),h]),a+=1}}catch(t){}if(s.length){s.sort((function(t,e){return t[0]<e[0]?-1:t[0]>e[0]?1:0})).reverse();var l=s[0][1]}return l&&(l=yn(ln(l),i)),l}}),M_=Object.freeze({parseObjectTokens:vu,parseGridTokens:function(t,e,i){void 0===i&&(i={});var n=pu(t);return n.result?Au(t,{},{gOptions:i,item:e,atribs:e}):n.text}}),T_=Object.freeze({snapToPanel:Vu,snapPointToPanel:Iu,snapPointsToPanel:Nu}),O_=Object.freeze({axesBySideIndex:Gc,addXlatD:Wc}),z_=Object.freeze({__proto__:null,jsLib:r_,mathLib:a_,layoutLib:S_,rectLib:d_,trigLib:l_,SeriesBaseType:NS,SeriesTypeColumn:HS,minimumHittestSize:15,registerSeriesType:function(t,e){jS[t]=e},undefVal:void 0,undef:"undefined",bboxLib:o_,stylingLib:k_,polyFitLib:__,shapeLib:C_,Annotation:hS,moduleLoader:y_,collectionPropFactory:or,consts:n_,en:{error:{}},idleDefer:Hg,platform:c_,strLib:h_,getColumnIconPathsStatic:wc,BaseChartItem:eS,AxisCollectionWrapper:wk,AxisViewState:uk,getShapeOptions:Cc,Axis:bk,panels:Wu,dmUtils:T_,ChartArea:Rk,CollisionManager:bS,getBreaksPath:fp,zIndexReference:gS,registerPanes:function(t){RC=t},shapes:bx,colorLib:s_,Series:rk,parsePointValues:nc,parentNoodles:qu,parentPropToIds:Ku,mapParentChain:$u,pathsToUniqueKeys:tc,visStyleConnectors:ec,columnPointBodyD:Ac,getIconPathsStatic:yc,getShapePath:xc,registerTag:function(t,e){uw[t]=e},VirtualElement:Mx,rangeLib:u_,TextBox:tC,LayoutItem:BA,Panel:qA,StackPanel:KA,Layout:aC,registerPanel:function(t,e){iC[t]=e},UpdatablesCollection:Gg,miUtils:f_,isTouchDevice:function(){return"ontouchstart"in Qm},annotationDefaults:aS,getAlignToOffsets:Ww,iconsStore:m_,chartOptionsAppliers:Yk,pathLib:A_,updateOverflows:Xu,cachedPositionInfo:zu,isAlignInside:TS,EntryWrapper:uS,formatting:p_,timeLib:b_,chartOptionsModifiers:Uk,registerVisual:function(t,e){nC[t]=e},generateId:As,snapPixels:Uw,textLib:g_,palettes:v_,chartInitializers:Gk,CompositeElement:Sw,CompositeAttrApplier:kw,Label:oS,tokenLib:M_,label:Dl,dataUtil:w_,registerDataGridFunction:function(t,e){Hk[t]=e},jscLabel:wp,normalizationUtils:x_,rendererFactory:fw,emitter:Wg,BaseOptions:JC,axisUtils:O_,hideVisual:Oc,generateIdRandom:Cs});Le(i_,"_modules.types.export",z_),Le(i_,"_modules.maps.export",z_),Le(i_,"_modules.toolbar.export",z_),Le(i_,"_modules.accessibility.export",z_),Le(i_,"_modules.datagrid.export",z_),Le(i_,"_modules.debug.export",z_),e.Chart=Zk,e.Grid=function t(e,i){if(!(this instanceof t))return Cp(e,i);var n=Hk.gridConstructor&&Hk.gridConstructor(e,i,void 0);return n?(n.then=function(t){return t&&t(n)},n):Cp(e,i)},e.Nest=Jk,e.chart=function(t,e){var i=Object.create(Zk.prototype);return Zk.apply(i,arguments),i},e.colorToPalette=function(t,e,i,n){return _o(t,e,i,n)},e.csv2Json=function(t,e){return bs(t,",",e)},e.defaults=function(t){if(!h(t))return e_?e_():{};if(null===t)var e={};else e=e_?e_():{},wd(e,t);return e.baseUrl&&(sv=e.baseUrl),(e_=Lu(e))?e_():{}},e.dsv2Json=function(t,e,i){return void 0===i&&(i={}),bs(t,e,i)},e.fetch=function(t,e){return Pv||(Pv=Qm.fetch||qo),Pv(t,e)},e.fontsReady=function(t){return Zy(t)},e.formatDate=function(t,e,i){return void 0===e&&(e="d"),Ig(new Date(t),e,i).replace(/\u200E/gi,"")},e.formatNumber=function(t,e,i){return void 0===e&&(e="n"),Ig(parseFloat(t),e,i)},e.formatString=function(t,e,i){return void 0===i&&(i="en-US"),Ig(t,e,i)},e.getPalette=Kk,e.getVersion=Ap,e.globalCharts=qk,e.internal=i_,e.json2Csv=function(t,e){return ws(t,",",e)},e.json2Dsv=function(t,e,i){return void 0===i&&(i={}),ws(t,e,i)},e.json2Tsv=function(t,e){return ws(t,"\t",e)},e.label=function(t,e,i){return wp(t,e,Sp(i))},e.map=Qk,e.max=function(t,e){return t_(t,"max",e)},e.mean=function(t,e){return t_(t,"average",e)},e.merge=$k,e.min=function(t,e){return t_(t,"min",e)},e.nest=function(){return new Wy},e.parseCsv=function(t,e){return void 0===e&&(e={}),xs(t,e)},e.parsePoints=function(t,e){return vs(t,e)},e.pointsFromArray=function(t,e){return ys(t,e)},e.ready=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Zo((function(e){var i=[],n=[];t.forEach((function(t){_e(t)?i.push(t):t===$m&&n.push(Zo((function(t){"loading"===$m.readyState?$m.addEventListener("DOMContentLoaded",t):t()})))})),i.length&&n.push(Zy(i)),n.length?function(t,e){var i,n=[];t.forEach((function(r){r.then((function(r){n.push(!r||r.ok),r&&r.error&&(i=r.error),r={ok:0===n.filter((function(t){return!t})).length},i&&(r.error=i),n.length===t.length&&e(r)}),(function(){n.push(!1),n.length===t.length&&e({ok:!1})}))}))}(n,e):e({ok:!0})}))},e.smartPalette={getPaletteCSS:function(t,e){return new fS(null,t).getPaletteCSS(t,e)}},e.sortBy=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return zd.apply(cm,a(t))},e.sourcePath=function(){return Un()},e.sum=function(t,e){return t_(t,"sum",e)},e.tsv2Json=function(t,e){return bs(t,"\t",e)},Object.defineProperty(e,"__esModule",{value:!0})}(e)}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var n=i(260);function r(t){var e=t.width,i=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(i<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:i}}function o(t,e){return t.width===e.width&&t.height===e.height}var s=function(){function t(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){var e=this,i={next:t};return this._observers.push(i),{unsubscribe:function(){e._observers=e._observers.filter((function(t){return t!==i}))}}},t.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach((function(e){return e.next(t._window.devicePixelRatio)})),this._reinstallResolutionListener()},t}(),a=function(){function t(t,e,i){var n;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=r({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=null!=e?e:function(t){return t},this._allowResizeObserver=null===(n=null==i?void 0:i.allowResizeObserver)||void 0===n||n,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var t,e;if(null===this._canvasElement)throw new Error("Object is disposed");null===(t=this._canvasElementResizeObserver)||void 0===t||t.disconnect(),this._canvasElementResizeObserver=null,null===(e=this._devicePixelRatioObservable)||void 0===e||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(null===this._canvasElement)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return r({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=r(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},t.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter((function(e){return e!==t}))},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter((function(e){return e!==t}))},t.prototype.applySuggestedBitmapSize=function(){if(null!==this._suggestedBitmapSize){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(t){var e=this.bitmapSize;o(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},t.prototype._emitBitmapSizeChanged=function(t,e){var i=this;this._bitmapSizeChangedListeners.forEach((function(n){return n.call(i,t,e)}))},t.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,i=r(this._transformBitmapSize(t,this._canvasElementClientSize)),n=o(this.bitmapSize,i)?null:i;null===e&&null===n||null!==e&&null!==n&&o(e,n)||(this._suggestedBitmapSize=n,this._emitSuggestedBitmapSizeChanged(e,n))},t.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var i=this;this._suggestedBitmapSizeChangedListeners.forEach((function(n){return n.call(i,t,e)}))},t.prototype._chooseAndInitObserver=function(){var t=this;this._allowResizeObserver?new Promise((function(t){var e=new ResizeObserver((function(i){t(i.every((function(t){return"devicePixelContentBoxSize"in t}))),e.disconnect()}));e.observe(document.body,{box:"device-pixel-content-box"})})).catch((function(){return!1})).then((function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()})):this._initDevicePixelRatioObservable()},t.prototype._initDevicePixelRatioObservable=function(){var t=this;if(null!==this._canvasElement){var e=h(this._canvasElement);if(null===e)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=function(t){return new s(t)}(e),this._devicePixelRatioObservable.subscribe((function(){return t._invalidateBitmapSize()})),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var t,e;if(null!==this._canvasElement){var i=h(this._canvasElement);if(null!==i){var n=null!==(e=null===(t=this._devicePixelRatioObservable)||void 0===t?void 0:t.value)&&void 0!==e?e:i.devicePixelRatio,o=this._canvasElement.getClientRects(),s=void 0!==o[0]?function(t,e){return r({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}(o[0],n):r({width:this._canvasElementClientSize.width*n,height:this._canvasElementClientSize.height*n});this._suggestNewBitmapSize(s)}}},t.prototype._initResizeObserver=function(){var t=this;null!==this._canvasElement&&(this._canvasElementResizeObserver=new ResizeObserver((function(e){var i=e.find((function(e){return e.target===t._canvasElement}));if(i&&i.devicePixelContentBoxSize&&i.devicePixelContentBoxSize[0]){var n=i.devicePixelContentBoxSize[0],o=r({width:n.inlineSize,height:n.blockSize});t._suggestNewBitmapSize(o)}})),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function h(t){return t.ownerDocument.defaultView}var l=function(){function t(t,e,i){if(0===e.width||0===e.height)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,0===i.width||0===i.height)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=i,this._context=t}return t.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function u(t,e){var i=t.canvasElementClientSize;if(0===i.width||0===i.height)return null;var n=t.bitmapSize;if(0===n.width||0===n.height)return null;var r=t.canvasElement.getContext("2d",e);return null===r?null:new l(r,i,n)}const c={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var p,f,d;function m(t,e){const i={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(i)}function g(t,e,i,n){t.beginPath();const r=t.lineWidth%2?.5:0;t.moveTo(i,e+r),t.lineTo(n,e+r),t.stroke()}function v(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function y(t){if(void 0===t)throw new Error("Value is undefined");return t}function x(t){if(null===t)throw new Error("Value is null");return t}function b(t){return x(y(t))}(d=p||(p={}))[d.Simple=0]="Simple",d[d.WithSteps=1]="WithSteps",d[d.Curved=2]="Curved",function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(f||(f={}));class w{constructor(){this.t=[]}i(t,e,i){const n={h:t,l:e,o:!0===i};this.t.push(n)}_(t){const e=this.t.findIndex((e=>t===e.h));e>-1&&this.t.splice(e,1)}u(t){this.t=this.t.filter((e=>e.l!==t))}p(t,e,i){const n=[...this.t];this.t=this.t.filter((t=>!t.o)),n.forEach((n=>n.h(t,e,i)))}v(){return this.t.length>0}m(){this.t=[]}}function A(t,...e){for(const i of e)for(const e in i)void 0!==i[e]&&Object.prototype.hasOwnProperty.call(i,e)&&!["__proto__","constructor","prototype"].includes(e)&&("object"!=typeof i[e]||void 0===t[e]||Array.isArray(i[e])?t[e]=i[e]:A(t[e],i[e]));return t}function C(t){return"number"==typeof t&&isFinite(t)}function S(t){return"number"==typeof t&&t%1==0}function k(t){return"string"==typeof t}function _(t){return"boolean"==typeof t}function M(t){const e=t;if(!e||"object"!=typeof e)return e;let i,n,r;for(n in i=Array.isArray(e)?[]:{},e)e.hasOwnProperty(n)&&(r=e[n],i[n]=r&&"object"==typeof r?M(r):r);return i}function T(t){return null!==t}function O(t){return null===t?void 0:t}const z="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function D(t,e,i){return void 0===e&&(e=z),`${i=void 0!==i?`${i} `:""}${t}px ${e}`}class E{constructor(t){this.M={S:1,C:5,P:NaN,k:"",T:"",R:"",D:"",V:0,I:0,B:0,A:0,L:0},this.O=t}N(){const t=this.M,e=this.W(),i=this.F();return t.P===e&&t.T===i||(t.P=e,t.T=i,t.k=D(e,i),t.A=2.5/12*e,t.V=t.A,t.I=e/12*t.C,t.B=e/12*t.C,t.L=0),t.R=this.H(),t.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}W(){return this.O.N().layout.fontSize}F(){return this.O.N().layout.fontFamily}}function P(t){return t<0?0:t>255?255:Math.round(t)||0}function B(t){return.199*t[0]+.687*t[1]+.114*t[2]}class L{constructor(t,e){this.q=new Map,this.Y=t,e&&(this.q=e)}j(t,e){if("transparent"===t)return t;const i=this.K(t),n=i[3];return`rgba(${i[0]}, ${i[1]}, ${i[2]}, ${e*n})`}X(t){const e=this.K(t);return{Z:`rgb(${e[0]}, ${e[1]}, ${e[2]})`,G:B(e)>160?"black":"white"}}J(t){return B(this.K(t))}tt(t,e,i){const[n,r,o,s]=this.K(t),[a,h,l,u]=this.K(e),c=[P(n+i*(a-n)),P(r+i*(h-r)),P(o+i*(l-o)),(p=s+i*(u-s),p<=0||p>1?Math.min(Math.max(p,0),1):Math.round(1e4*p)/1e4)];var p;return`rgba(${c[0]}, ${c[1]}, ${c[2]}, ${c[3]})`}K(t){const e=this.q.get(t);if(e)return e;const i=function(t){const e=document.createElement("div");e.style.display="none",document.body.appendChild(e),e.style.color=t;const i=window.getComputedStyle(e).color;return document.body.removeChild(e),i}(t),n=i.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!n){if(this.Y.length)for(const e of this.Y){const i=e(t);if(i)return this.q.set(t,i),i}throw new Error(`Failed to parse color: ${t}`)}const r=[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),n[4]?parseFloat(n[4]):1];return this.q.set(t,r),r}}class R{constructor(){this.it=[]}st(t){this.it=t}nt(t,e,i){this.it.forEach((n=>{n.nt(t,e,i)}))}}class F{nt(t,e,i){t.useBitmapCoordinateSpace((t=>this.et(t,e,i)))}}class V extends F{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){if(null===this.rt||null===this.rt.lt)return;const n=this.rt.lt,r=this.rt,o=Math.max(1,Math.floor(e))%2/2,s=s=>{t.beginPath();for(let a=n.to-1;a>=n.from;--a){const n=r.ot[a],h=Math.round(n._t*e)+o,l=n.ut*i,u=s*i+o;t.moveTo(h,l),t.arc(h,l,u,0,2*Math.PI)}t.fill()};r.ct>0&&(t.fillStyle=r.dt,s(r.ft+r.ct)),t.fillStyle=r.vt,s(r.ft)}}function I(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const N={from:0,to:1};class j{constructor(t,e,i){this.Mt=new R,this.bt=[],this.xt=[],this.St=!0,this.O=t,this.Ct=e,this.yt=i,this.Mt.st(this.bt)}Pt(t){this.kt(),this.St=!0}Tt(){return this.St&&(this.Rt(),this.St=!1),this.Mt}kt(){const t=this.yt.Dt();t.length!==this.bt.length&&(this.xt=t.map(I),this.bt=this.xt.map((t=>{const e=new V;return e.ht(t),e})),this.Mt.st(this.bt))}Rt(){const t=2===this.Ct.N().mode||!this.Ct.Vt(),e=this.yt.It(),i=this.Ct.Bt(),n=this.O.At();this.kt(),e.forEach(((e,r)=>{const o=this.xt[r],s=e.Et(i),a=e.zt();!t&&null!==s&&e.Vt()&&null!==a?(o.vt=s.Lt,o.ft=s.ft,o.ct=s.Ot,o.ot[0].gt=s.gt,o.ot[0].ut=e.Wt().Nt(s.gt,a.Ft),o.dt=s.Ht??this.O.Ut(o.ot[0].ut/e.Wt().$t()),o.ot[0].wt=i,o.ot[0]._t=n.qt(i),o.lt=N):o.lt=null}))}}class W extends F{constructor(t){super(),this.Yt=t}et({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:n}){if(null===this.Yt)return;const r=this.Yt.jt.Vt,o=this.Yt.Kt.Vt;if(!r&&!o)return;const s=Math.round(this.Yt._t*i),a=Math.round(this.Yt.ut*n);t.lineCap="butt",r&&s>=0&&(t.lineWidth=Math.floor(this.Yt.jt.ct*i),t.strokeStyle=this.Yt.jt.R,t.fillStyle=this.Yt.jt.R,m(t,this.Yt.jt.Xt),function(t,e,i,n){t.beginPath();const r=t.lineWidth%2?.5:0;t.moveTo(e+r,0),t.lineTo(e+r,n),t.stroke()}(t,s,0,e.height)),o&&a>=0&&(t.lineWidth=Math.floor(this.Yt.Kt.ct*n),t.strokeStyle=this.Yt.Kt.R,t.fillStyle=this.Yt.Kt.R,m(t,this.Yt.Kt.Xt),g(t,a,0,e.width))}}class H{constructor(t,e){this.St=!0,this.Zt={jt:{ct:1,Xt:0,R:"",Vt:!1},Kt:{ct:1,Xt:0,R:"",Vt:!1},_t:0,ut:0},this.Gt=new W(this.Zt),this.Jt=t,this.yt=e}Pt(){this.St=!0}Tt(t){return this.St&&(this.Rt(),this.St=!1),this.Gt}Rt(){const t=this.Jt.Vt(),e=this.yt.Qt().N().crosshair,i=this.Zt;if(2===e.mode)return i.Kt.Vt=!1,void(i.jt.Vt=!1);i.Kt.Vt=t&&this.Jt.ti(this.yt),i.jt.Vt=t&&this.Jt.ii(),i.Kt.ct=e.horzLine.width,i.Kt.Xt=e.horzLine.style,i.Kt.R=e.horzLine.color,i.jt.ct=e.vertLine.width,i.jt.Xt=e.vertLine.style,i.jt.R=e.vertLine.color,i._t=this.Jt.si(),i.ut=this.Jt.ni()}}function Y(t,e,i,n,r,o){t.save(),t.globalCompositeOperation="copy",t.fillStyle=o,t.fillRect(e,i,n,r),t.restore()}function U(t,e,i,n,r,o){t.beginPath(),t.roundRect?t.roundRect(e,i,n,r,o):(t.lineTo(e+n-o[1],i),0!==o[1]&&t.arcTo(e+n,i,e+n,i+o[1],o[1]),t.lineTo(e+n,i+r-o[2]),0!==o[2]&&t.arcTo(e+n,i+r,e+n-o[2],i+r,o[2]),t.lineTo(e+o[3],i+r),0!==o[3]&&t.arcTo(e,i+r,e,i+r-o[3],o[3]),t.lineTo(e,i+o[0]),0!==o[0]&&t.arcTo(e,i,e+o[0],i,o[0]))}function G(t,e,i,n,r,o,s=0,a=[0,0,0,0],h=""){if(t.save(),!s||!h||h===o)return U(t,e,i,n,r,a),t.fillStyle=o,t.fill(),void t.restore();const l=s/2;var u;U(t,e+l,i+l,n-s,r-s,(u=-l,a.map((t=>0===t?t:t+u)))),"transparent"!==o&&(t.fillStyle=o,t.fill()),"transparent"!==h&&(t.lineWidth=s,t.strokeStyle=h,t.closePath(),t.stroke()),t.restore()}function Z(t,e,i,n,r,o,s){t.save(),t.globalCompositeOperation="copy";const a=t.createLinearGradient(0,0,0,r);a.addColorStop(0,o),a.addColorStop(1,s),t.fillStyle=a,t.fillRect(e,i,n,r),t.restore()}class X{constructor(t,e){this.ht(t,e)}ht(t,e){this.Yt=t,this.ei=e}$t(t,e){return this.Yt.Vt?t.P+t.A+t.V:0}nt(t,e,i,n){if(!this.Yt.Vt||0===this.Yt.ri.length)return;const r=this.Yt.R,o=this.ei.Z,s=t.useBitmapCoordinateSpace((t=>{const s=t.context;s.font=e.k;const a=this.hi(t,e,i,n),h=a.ai;return a.li?G(s,h.oi,h._i,h.ui,h.ci,o,h.di,[h.ft,0,0,h.ft],o):G(s,h.fi,h._i,h.ui,h.ci,o,h.di,[0,h.ft,h.ft,0],o),this.Yt.pi&&(s.fillStyle=r,s.fillRect(h.fi,h.mi,h.wi-h.fi,h.gi)),this.Yt.Mi&&(s.fillStyle=e.D,s.fillRect(a.li?h.bi-h.di:0,h._i,h.di,h.xi-h._i)),a}));t.useMediaCoordinateSpace((({context:t})=>{const i=s.Si;t.font=e.k,t.textAlign=s.li?"right":"left",t.textBaseline="middle",t.fillStyle=r,t.fillText(this.Yt.ri,i.Ci,(i._i+i.xi)/2+i.yi)}))}hi(t,e,i,n){const{context:r,bitmapSize:o,mediaSize:s,horizontalPixelRatio:a,verticalPixelRatio:h}=t,l=this.Yt.pi||!this.Yt.Pi?e.C:0,u=this.Yt.ki?e.S:0,c=e.A+this.ei.Ti,p=e.V+this.ei.Ri,f=e.I,d=e.B,m=this.Yt.ri,g=e.P,v=i.Di(r,m),y=Math.ceil(i.Vi(r,m)),x=g+c+p,b=e.S+f+d+y+l,w=Math.max(1,Math.floor(h));let A=Math.round(x*h);A%2!=w%2&&(A+=1);const C=u>0?Math.max(1,Math.floor(u*a)):0,S=Math.round(b*a),k=Math.round(l*a),_=this.ei.Ii??this.ei.Bi,M=Math.round(_*h)-Math.floor(.5*h),T=Math.floor(M+w/2-A/2),O=T+A,z="right"===n,D=z?s.width-u:u,E=z?o.width-C:C;let P,B,L;return z?(P=E-S,B=E-k,L=D-l-f-u):(P=E+S,B=E+k,L=D+l+f),{li:z,ai:{_i:T,mi:M,xi:O,ui:S,ci:A,ft:2*a,di:C,oi:P,fi:E,wi:B,gi:w,bi:o.width},Si:{_i:T/h,xi:O/h,Ci:L,yi:v}}}}class q{constructor(t){this.Ai={Bi:0,Z:"#000",Ri:0,Ti:0},this.Ei={ri:"",Vt:!1,pi:!0,Pi:!1,Ht:"",R:"#FFF",Mi:!1,ki:!1},this.zi={ri:"",Vt:!1,pi:!1,Pi:!0,Ht:"",R:"#FFF",Mi:!0,ki:!0},this.St=!0,this.Li=new(t||X)(this.Ei,this.Ai),this.Oi=new(t||X)(this.zi,this.Ai)}ri(){return this.Ni(),this.Ei.ri}Bi(){return this.Ni(),this.Ai.Bi}Pt(){this.St=!0}$t(t,e=!1){return Math.max(this.Li.$t(t,e),this.Oi.$t(t,e))}Wi(){return this.Ai.Ii||0}Fi(t){this.Ai.Ii=t}Hi(){return this.Ni(),this.Ei.Vt||this.zi.Vt}Ui(){return this.Ni(),this.Ei.Vt}Tt(t){return this.Ni(),this.Ei.pi=this.Ei.pi&&t.N().ticksVisible,this.zi.pi=this.zi.pi&&t.N().ticksVisible,this.Li.ht(this.Ei,this.Ai),this.Oi.ht(this.zi,this.Ai),this.Li}$i(){return this.Ni(),this.Li.ht(this.Ei,this.Ai),this.Oi.ht(this.zi,this.Ai),this.Oi}Ni(){this.St&&(this.Ei.pi=!0,this.zi.pi=!1,this.qi(this.Ei,this.zi,this.Ai))}}class K extends q{constructor(t,e,i){super(),this.Jt=t,this.Yi=e,this.ji=i}qi(t,e,i){if(t.Vt=!1,2===this.Jt.N().mode)return;const n=this.Jt.N().horzLine;if(!n.labelVisible)return;const r=this.Yi.zt();if(!this.Jt.Vt()||this.Yi.Ki()||null===r)return;const o=this.Yi.Xi().X(n.labelBackgroundColor);i.Z=o.Z,t.R=o.G;const s=2/12*this.Yi.P();i.Ti=s,i.Ri=s;const a=this.ji(this.Yi);i.Bi=a.Bi,t.ri=this.Yi.Zi(a.gt,r),t.Vt=!0}}const Q=/[1-9]/g;class ${constructor(){this.Yt=null}ht(t){this.Yt=t}nt(t,e){if(null===this.Yt||!1===this.Yt.Vt||0===this.Yt.ri.length)return;const i=t.useMediaCoordinateSpace((({context:t})=>(t.font=e.k,Math.round(e.Gi.Vi(t,x(this.Yt).ri,Q)))));if(i<=0)return;const n=e.Ji,r=i+2*n,o=r/2,s=this.Yt.Qi;let a=this.Yt.Bi,h=Math.floor(a-o)+.5;h<0?(a+=Math.abs(0-h),h=Math.floor(a-o)+.5):h+r>s&&(a-=Math.abs(s-(h+r)),h=Math.floor(a-o)+.5);const l=h+r,u=Math.ceil(0+e.S+e.C+e.A+e.P+e.V);t.useBitmapCoordinateSpace((({context:t,horizontalPixelRatio:i,verticalPixelRatio:n})=>{const r=x(this.Yt);t.fillStyle=r.Z;const o=Math.round(h*i),s=Math.round(0*n),a=Math.round(l*i),c=Math.round(u*n),p=Math.round(2*i);if(t.beginPath(),t.moveTo(o,s),t.lineTo(o,c-p),t.arcTo(o,c,o+p,c,p),t.lineTo(a-p,c),t.arcTo(a,c,a,c-p,p),t.lineTo(a,s),t.fill(),r.pi){const o=Math.round(r.Bi*i),a=s,h=Math.round((a+e.C)*n);t.fillStyle=r.R;const l=Math.max(1,Math.floor(i)),u=Math.floor(.5*i);t.fillRect(o-u,a,l,h-a)}})),t.useMediaCoordinateSpace((({context:t})=>{const i=x(this.Yt),r=0+e.S+e.C+e.A+e.P/2;t.font=e.k,t.textAlign="left",t.textBaseline="middle",t.fillStyle=i.R;const o=e.Gi.Di(t,"Apr0");t.translate(h+n,r+o),t.fillText(i.ri,0,0)}))}}class J{constructor(t,e,i){this.St=!0,this.Gt=new $,this.Zt={Vt:!1,Z:"#4c525e",R:"white",ri:"",Qi:0,Bi:NaN,pi:!0},this.Ct=t,this.ts=e,this.ji=i}Pt(){this.St=!0}Tt(){return this.St&&(this.Rt(),this.St=!1),this.Gt.ht(this.Zt),this.Gt}Rt(){const t=this.Zt;if(t.Vt=!1,2===this.Ct.N().mode)return;const e=this.Ct.N().vertLine;if(!e.labelVisible)return;const i=this.ts.At();if(i.Ki())return;t.Qi=i.Qi();const n=this.ji();if(null===n)return;t.Bi=n.Bi;const r=i.ss(this.Ct.Bt());t.ri=i.ns(x(r)),t.Vt=!0;const o=this.ts.Xi().X(e.labelBackgroundColor);t.Z=o.Z,t.R=o.G,t.pi=i.N().ticksVisible}}class tt{constructor(){this.es=null,this.rs=0}hs(){return this.rs}ls(t){this.rs=t}Wt(){return this.es}_s(t){this.es=t}us(t){return[]}cs(){return[]}Vt(){return!0}}var et;!function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden",t[t.MagnetOHLC=3]="MagnetOHLC"}(et||(et={}));class it extends tt{constructor(t,e){super(),this.yt=null,this.ds=NaN,this.fs=0,this.ps=!1,this.vs=new Map,this.ws=!1,this.gs=new WeakMap,this.Ms=new WeakMap,this.bs=NaN,this.xs=NaN,this.Ss=NaN,this.Cs=NaN,this.ts=t,this.ys=e,this.Ps=((t,e)=>i=>{const n=e(),r=t();if(i===x(this.yt).ks())return{gt:r,Bi:n};{const t=x(i.zt());return{gt:i.Ts(n,t),Bi:n}}})((()=>this.ds),(()=>this.xs));const i=((t,e)=>()=>{const i=this.ts.At().Rs(t()),n=e();return i&&Number.isFinite(n)?{wt:i,Bi:n}:null})((()=>this.fs),(()=>this.si()));this.Ds=new J(this,t,i)}N(){return this.ys}Vs(t,e){this.Ss=t,this.Cs=e}Is(){this.Ss=NaN,this.Cs=NaN}Bs(){return this.Ss}As(){return this.Cs}Es(t,e,i){this.ws||(this.ws=!0),this.ps=!0,this.zs(t,e,i)}Bt(){return this.fs}si(){return this.bs}ni(){return this.xs}Vt(){return this.ps}Ls(){this.ps=!1,this.Os(),this.ds=NaN,this.bs=NaN,this.xs=NaN,this.yt=null,this.Is(),this.Ns()}Ws(t){let e=this.gs.get(t);e||(e=new H(this,t),this.gs.set(t,e));let i=this.Ms.get(t);return i||(i=new j(this.ts,this,t),this.Ms.set(t,i)),[e,i]}ti(t){return t===this.yt&&this.ys.horzLine.visible}ii(){return this.ys.vertLine.visible}Fs(t,e){this.ps&&this.yt===t||this.vs.clear();const i=[];return this.yt===t&&i.push(this.Hs(this.vs,e,this.Ps)),i}cs(){return this.ps?[this.Ds]:[]}Us(){return this.yt}Ns(){this.ts.$s().forEach((t=>{this.gs.get(t)?.Pt(),this.Ms.get(t)?.Pt()})),this.vs.forEach((t=>t.Pt())),this.Ds.Pt()}qs(t){return t&&!t.ks().Ki()?t.ks():null}zs(t,e,i){this.Ys(t,e,i)&&this.Ns()}Ys(t,e,i){const n=this.bs,r=this.xs,o=this.ds,s=this.fs,a=this.yt,h=this.qs(i);this.fs=t,this.bs=isNaN(t)?NaN:this.ts.At().qt(t),this.yt=i;const l=null!==h?h.zt():null;return null!==h&&null!==l?(this.ds=e,this.xs=h.Nt(e,l)):(this.ds=NaN,this.xs=NaN),n!==this.bs||r!==this.xs||s!==this.fs||o!==this.ds||a!==this.yt}Os(){const t=this.ts.js().map((t=>t.Xs().Ks())).filter(T),e=0===t.length?null:Math.max(...t);this.fs=null!==e?e:NaN}Hs(t,e,i){let n=t.get(e);return void 0===n&&(n=new K(this,e,i),t.set(e,n)),n}}function nt(t){return"left"===t||"right"===t}class rt{constructor(t){this.Zs=new Map,this.Gs=[],this.Js=t}Qs(t,e){const i=function(t,e){return void 0===t?e:{tn:Math.max(t.tn,e.tn),sn:t.sn||e.sn}}(this.Zs.get(t),e);this.Zs.set(t,i)}nn(){return this.Js}en(t){const e=this.Zs.get(t);return void 0===e?{tn:this.Js}:{tn:Math.max(this.Js,e.tn),sn:e.sn}}rn(){this.hn(),this.Gs=[{an:0}]}ln(t){this.hn(),this.Gs=[{an:1,Ft:t}]}_n(t){this.un(),this.Gs.push({an:5,Ft:t})}hn(){this.un(),this.Gs.push({an:6})}cn(){this.hn(),this.Gs=[{an:4}]}dn(t){this.hn(),this.Gs.push({an:2,Ft:t})}fn(t){this.hn(),this.Gs.push({an:3,Ft:t})}pn(){return this.Gs}vn(t){for(const e of t.Gs)this.mn(e);this.Js=Math.max(this.Js,t.Js),t.Zs.forEach(((t,e)=>{this.Qs(e,t)}))}static wn(){return new rt(2)}static gn(){return new rt(3)}mn(t){switch(t.an){case 0:this.rn();break;case 1:this.ln(t.Ft);break;case 2:this.dn(t.Ft);break;case 3:this.fn(t.Ft);break;case 4:this.cn();break;case 5:this._n(t.Ft);break;case 6:this.un()}}un(){const t=this.Gs.findIndex((t=>5===t.an));-1!==t&&this.Gs.splice(t,1)}}function ot(t,e){if(!C(t))return"n/a";if(!S(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return 0===e?t.toString():("0000000000000000"+t.toString()).slice(-e)}class st{constructor(t,e){if(e||(e=1),C(t)&&S(t)||(t=100),t<0)throw new TypeError("invalid base");this.Yi=t,this.Mn=e,this.bn()}format(t){const e=t<0?"−":"";return t=Math.abs(t),e+this.xn(t)}bn(){if(this.Sn=0,this.Yi>0&&this.Mn>0){let t=this.Yi;for(;t>1;)t/=10,this.Sn++}}xn(t){const e=this.Yi/this.Mn;let i=Math.floor(t),n="";const r=void 0!==this.Sn?this.Sn:NaN;if(e>1){let o=+(Math.round(t*e)-i*e).toFixed(this.Sn);o>=e&&(o-=e,i+=1),n="."+ot(+o.toFixed(this.Sn)*this.Mn,r)}else i=Math.round(i*e)/e,r>0&&(n="."+ot(0,r));return i.toFixed(0)+n}}class at extends st{constructor(t=100){super(t)}format(t){return`${super.format(t)}%`}}class ht{constructor(t){this.Cn=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this.yn(t):t<999995?e+this.yn(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.yn(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.yn(t/1e9)+"B")}yn(t){let e;const i=Math.pow(10,this.Cn);return e=(t=Math.round(t*i)/i)>=1e-15&&t<1?t.toFixed(this.Cn).replace(/\.?0+$/,""):String(t),e.replace(/(\.[1-9]*)0+$/,((t,e)=>e))}}const lt=/[2-9]/g;class ut{constructor(t=50){this.Pn=0,this.kn=1,this.Tn=1,this.Rn={},this.Dn=new Map,this.Vn=t}In(){this.Pn=0,this.Dn.clear(),this.kn=1,this.Tn=1,this.Rn={}}Vi(t,e,i){return this.Bn(t,e,i).width}Di(t,e,i){const n=this.Bn(t,e,i);return((n.actualBoundingBoxAscent||0)-(n.actualBoundingBoxDescent||0))/2}Bn(t,e,i){const n=i||lt,r=String(e).replace(n,"0");if(this.Dn.has(r))return y(this.Dn.get(r)).An;if(this.Pn===this.Vn){const t=this.Rn[this.Tn];delete this.Rn[this.Tn],this.Dn.delete(t),this.Tn++,this.Pn--}t.save(),t.textBaseline="middle";const o=t.measureText(r);return t.restore(),0===o.width&&e.length||(this.Dn.set(r,{An:o,En:this.kn}),this.Rn[this.kn]=r,this.Pn++,this.kn++),o}}class ct{constructor(t){this.zn=null,this.M=null,this.Ln="right",this.On=t}Nn(t,e,i){this.zn=t,this.M=e,this.Ln=i}nt(t){null!==this.M&&null!==this.zn&&this.zn.nt(t,this.M,this.On,this.Ln)}}class pt{constructor(t,e,i){this.Wn=t,this.On=new ut(50),this.Fn=e,this.O=i,this.W=-1,this.Gt=new ct(this.On)}Tt(){const t=this.O.Hn(this.Fn);if(null===t)return null;const e=t.Un(this.Fn)?t.$n():this.Fn.Wt();if(null===e)return null;const i=t.qn(e);if("overlay"===i)return null;const n=this.O.Yn();return n.P!==this.W&&(this.W=n.P,this.On.In()),this.Gt.Nn(this.Wn.$i(),n,i),this.Gt}}class ft extends F{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}jn(t,e){if(!this.Yt?.Vt)return null;const{ut:i,ct:n,Kn:r}=this.Yt;return e>=i-n-7&&e<=i+n+7?{Xn:this.Yt,Kn:r}:null}et({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:n}){if(null===this.Yt)return;if(!1===this.Yt.Vt)return;const r=Math.round(this.Yt.ut*n);r<0||r>e.height||(t.lineCap="butt",t.strokeStyle=this.Yt.R,t.lineWidth=Math.floor(this.Yt.ct*i),m(t,this.Yt.Xt),g(t,r,0,e.width))}}class dt{constructor(t){this.Zn={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Xt:0,Vt:!1},this.Gn=new ft,this.St=!0,this.Jn=t,this.Qn=t.Qt(),this.Gn.ht(this.Zn)}Pt(){this.St=!0}Tt(){return this.Jn.Vt()?(this.St&&(this.te(),this.St=!1),this.Gn):null}}class mt extends dt{constructor(t){super(t)}te(){this.Zn.Vt=!1;const t=this.Jn.Wt(),e=t.ie().ie;if(2!==e&&3!==e)return;const i=this.Jn.N();if(!i.baseLineVisible||!this.Jn.Vt())return;const n=this.Jn.zt();null!==n&&(this.Zn.Vt=!0,this.Zn.ut=t.Nt(n.Ft,n.Ft),this.Zn.R=i.baseLineColor,this.Zn.ct=i.baseLineWidth,this.Zn.Xt=i.baseLineStyle)}}class gt extends F{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}se(){return this.Yt}et({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){const n=this.Yt;if(null===n)return;const r=Math.max(1,Math.floor(e)),o=r%2/2,s=Math.round(n.ne.x*e)+o,a=n.ne.y*i;t.fillStyle=n.ee,t.beginPath();const h=Math.max(2,1.5*n.re)*e;t.arc(s,a,h,0,2*Math.PI,!1),t.fill(),t.fillStyle=n.he,t.beginPath(),t.arc(s,a,n.ft*e,0,2*Math.PI,!1),t.fill(),t.lineWidth=r,t.strokeStyle=n.ae,t.beginPath(),t.arc(s,a,n.ft*e+r/2,0,2*Math.PI,!1),t.stroke()}}const vt=[{le:0,oe:.25,_e:4,ue:10,ce:.25,de:0,fe:.4,pe:.8},{le:.25,oe:.525,_e:10,ue:14,ce:0,de:0,fe:.8,pe:0},{le:.525,oe:1,_e:14,ue:14,ce:0,de:0,fe:0,pe:0}];class yt{constructor(t){this.Gt=new gt,this.St=!0,this.ve=!0,this.me=performance.now(),this.we=this.me-1,this.ge=t}Me(){this.we=this.me-1,this.Pt()}be(){if(this.Pt(),2===this.ge.N().lastPriceAnimation){const t=performance.now(),e=this.we-t;if(e>0)return void(e<650&&(this.we+=2600));this.me=t,this.we=t+2600}}Pt(){this.St=!0}xe(){this.ve=!0}Vt(){return 0!==this.ge.N().lastPriceAnimation}Se(){switch(this.ge.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.we}}Tt(){return this.St?(this.Rt(),this.St=!1,this.ve=!1):this.ve&&(this.Ce(),this.ve=!1),this.Gt}Rt(){this.Gt.ht(null);const t=this.ge.Qt().At(),e=t.ye(),i=this.ge.zt();if(null===e||null===i)return;const n=this.ge.Pe(!0);if(n.ke||!e.Te(n.Re))return;const r={x:t.qt(n.Re),y:this.ge.Wt().Nt(n.gt,i.Ft)},o=n.R,s=this.ge.N().lineWidth,a=this.De(this.Ve(),o);this.Gt.ht({ee:o,re:s,he:a.he,ae:a.ae,ft:a.ft,ne:r})}Ce(){const t=this.Gt.se();if(null!==t){const e=this.De(this.Ve(),t.ee);t.he=e.he,t.ae=e.ae,t.ft=e.ft}}Ve(){return this.Se()?performance.now()-this.me:2599}Ie(t,e,i,n){const r=i+(n-i)*e;return this.ge.Qt().Xi().j(t,r)}De(t,e){const i=t%2600/2600;let n;for(const t of vt)if(i>=t.le&&i<=t.oe){n=t;break}v(void 0!==n,"Last price animation internal logic error");const r=(i-n.le)/(n.oe-n.le);return{he:this.Ie(e,r,n.ce,n.de),ae:this.Ie(e,r,n.fe,n.pe),ft:(o=r,s=n._e,a=n.ue,s+(a-s)*o)};var o,s,a}}class xt extends dt{constructor(t){super(t)}te(){const t=this.Zn;t.Vt=!1;const e=this.Jn.N();if(!e.priceLineVisible||!this.Jn.Vt())return;const i=this.Jn.Pe(0===e.priceLineSource);i.ke||(t.Vt=!0,t.ut=i.Bi,t.R=this.Jn.Be(i.R),t.ct=e.priceLineWidth,t.Xt=e.priceLineStyle)}}class bt extends q{constructor(t){super(),this.Jt=t}qi(t,e,i){t.Vt=!1,e.Vt=!1;const n=this.Jt;if(!n.Vt())return;const r=n.N(),o=r.lastValueVisible,s=""!==n.Ae(),a=0===r.seriesLastValueMode,h=n.Pe(!1);if(h.ke)return;o&&(t.ri=this.Ee(h,o,a),t.Vt=0!==t.ri.length),(s||a)&&(e.ri=this.ze(h,o,s,a),e.Vt=e.ri.length>0);const l=n.Be(h.R),u=this.Jt.Qt().Xi().X(l);i.Z=u.Z,i.Bi=h.Bi,e.Ht=n.Qt().Ut(h.Bi/n.Wt().$t()),t.Ht=l,t.R=u.G,e.R=u.G}ze(t,e,i,n){let r="";const o=this.Jt.Ae();return i&&0!==o.length&&(r+=`${o} `),e&&n&&(r+=this.Jt.Wt().Le()?t.Oe:t.Ne),r.trim()}Ee(t,e,i){return e?i?this.Jt.Wt().Le()?t.Ne:t.Oe:t.ri:""}}function wt(t,e,i,n){const r=Number.isFinite(e),o=Number.isFinite(i);return r&&o?t(e,i):r||o?r?e:i:n}class At{constructor(t,e){this.We=t,this.Fe=e}He(t){return null!==t&&this.We===t.We&&this.Fe===t.Fe}Ue(){return new At(this.We,this.Fe)}$e(){return this.We}qe(){return this.Fe}Ye(){return this.Fe-this.We}Ki(){return this.Fe===this.We||Number.isNaN(this.Fe)||Number.isNaN(this.We)}vn(t){return null===t?this:new At(wt(Math.min,this.$e(),t.$e(),-1/0),wt(Math.max,this.qe(),t.qe(),1/0))}je(t){if(!C(t))return;if(0==this.Fe-this.We)return;const e=.5*(this.Fe+this.We);let i=this.Fe-e,n=this.We-e;i*=t,n*=t,this.Fe=e+i,this.We=e+n}Ke(t){C(t)&&(this.Fe+=t,this.We+=t)}Xe(){return{minValue:this.We,maxValue:this.Fe}}static Ze(t){return null===t?null:new At(t.minValue,t.maxValue)}}class Ct{constructor(t,e){this.Ge=t,this.Je=e||null}Qe(){return this.Ge}tr(){return this.Je}Xe(){return{priceRange:null===this.Ge?null:this.Ge.Xe(),margins:this.Je||void 0}}static Ze(t){return null===t?null:new Ct(At.Ze(t.priceRange),t.margins)}}class St extends dt{constructor(t,e){super(t),this.ir=e}te(){const t=this.Zn;t.Vt=!1;const e=this.ir.N();if(!this.Jn.Vt()||!e.lineVisible)return;const i=this.ir.sr();null!==i&&(t.Vt=!0,t.ut=i,t.R=e.color,t.ct=e.lineWidth,t.Xt=e.lineStyle,t.Kn=this.ir.N().id)}}class kt extends q{constructor(t,e){super(),this.ge=t,this.ir=e}qi(t,e,i){t.Vt=!1,e.Vt=!1;const n=this.ir.N(),r=n.axisLabelVisible,o=""!==n.title,s=this.ge;if(!r||!s.Vt())return;const a=this.ir.sr();if(null===a)return;o&&(e.ri=n.title,e.Vt=!0),e.Ht=s.Qt().Ut(a/s.Wt().$t()),t.ri=this.nr(n.price),t.Vt=!0;const h=this.ge.Qt().Xi().X(n.axisLabelColor||n.color);i.Z=h.Z;const l=n.axisLabelTextColor||h.G;t.R=l,e.R=l,i.Bi=a}nr(t){const e=this.ge.zt();return null===e?"":this.ge.Wt().Zi(t,e.Ft)}}class _t{constructor(t,e){this.ge=t,this.ys=e,this.er=new St(t,this),this.Wn=new kt(t,this),this.rr=new pt(this.Wn,t,t.Qt())}hr(t){A(this.ys,t),this.Pt(),this.ge.Qt().ar()}N(){return this.ys}lr(){return this.er}_r(){return this.rr}ur(){return this.Wn}Pt(){this.er.Pt(),this.Wn.Pt()}sr(){const t=this.ge,e=t.Wt();if(t.Qt().At().Ki()||e.Ki())return null;const i=t.zt();return null===i?null:e.Nt(this.ys.price,i.Ft)}}class Mt extends tt{constructor(t){super(),this.ts=t}Qt(){return this.ts}}const Tt={Bar:(t,e,i,n)=>{const r=e.upColor,o=e.downColor,s=x(t(i,n)),a=b(s.Ft[0])<=b(s.Ft[3]);return{cr:s.R??(a?r:o)}},Candlestick:(t,e,i,n)=>{const r=e.upColor,o=e.downColor,s=e.borderUpColor,a=e.borderDownColor,h=e.wickUpColor,l=e.wickDownColor,u=x(t(i,n)),c=b(u.Ft[0])<=b(u.Ft[3]);return{cr:u.R??(c?r:o),dr:u.Ht??(c?s:a),pr:u.vr??(c?h:l)}},Custom:(t,e,i,n)=>({cr:x(t(i,n)).R??e.color}),Area:(t,e,i,n)=>{const r=x(t(i,n));return{cr:r.vt??e.lineColor,vt:r.vt??e.lineColor,mr:r.mr??e.topColor,wr:r.wr??e.bottomColor}},Baseline:(t,e,i,n)=>{const r=x(t(i,n));return{cr:r.Ft[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,gr:r.gr??e.topLineColor,Mr:r.Mr??e.bottomLineColor,br:r.br??e.topFillColor1,Sr:r.Sr??e.topFillColor2,Cr:r.Cr??e.bottomFillColor1,yr:r.yr??e.bottomFillColor2}},Line:(t,e,i,n)=>{const r=x(t(i,n));return{cr:r.R??e.color,vt:r.R??e.color}},Histogram:(t,e,i,n)=>({cr:x(t(i,n)).R??e.color})};class Ot{constructor(t){this.Pr=(t,e)=>void 0!==e?e.Ft:this.ge.Xs().kr(t),this.ge=t,this.Tr=Tt[t.Rr()]}Dr(t,e){return this.Tr(this.Pr,this.ge.N(),t,e)}}function zt(t,e,i,n,r=0,o=e.length){let s=o-r;for(;0<s;){const o=s>>1,a=r+o;n(e[a],i)===t?(r=a+1,s-=o+1):s=o}return r}const Dt=zt.bind(null,!0),Et=zt.bind(null,!1);var Pt;!function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"}(Pt||(Pt={}));const Bt=30;class Lt{constructor(){this.Vr=[],this.Ir=new Map,this.Br=new Map,this.Ar=[]}Er(){return this.zr()>0?this.Vr[this.Vr.length-1]:null}Lr(){return this.zr()>0?this.Or(0):null}Ks(){return this.zr()>0?this.Or(this.Vr.length-1):null}zr(){return this.Vr.length}Ki(){return 0===this.zr()}Te(t){return null!==this.Nr(t,0)}kr(t){return this.Wr(t)}Wr(t,e=0){const i=this.Nr(t,e);return null===i?null:{...this.Fr(i),Re:this.Or(i)}}Hr(){return this.Vr}Ur(t,e,i){if(this.Ki())return null;let n=null;for(const r of i)n=Rt(n,this.$r(t,e,r));return n}ht(t){this.Br.clear(),this.Ir.clear(),this.Vr=t,this.Ar=t.map((t=>t.Re))}qr(){return this.Ar}Or(t){return this.Vr[t].Re}Fr(t){return this.Vr[t]}Nr(t,e){const i=this.Yr(t);if(null===i&&0!==e)switch(e){case-1:return this.jr(t);case 1:return this.Kr(t);default:throw new TypeError("Unknown search mode")}return i}jr(t){let e=this.Xr(t);return e>0&&(e-=1),e!==this.Vr.length&&this.Or(e)<t?e:null}Kr(t){const e=this.Zr(t);return e!==this.Vr.length&&t<this.Or(e)?e:null}Yr(t){const e=this.Xr(t);return e===this.Vr.length||t<this.Vr[e].Re?null:e}Xr(t){return Dt(this.Vr,t,((t,e)=>t.Re<e))}Zr(t){return Et(this.Vr,t,((t,e)=>t.Re>e))}Gr(t,e,i){let n=null;for(let r=t;r<e;r++){const t=this.Vr[r].Ft[i];Number.isNaN(t)||(null===n?n={Jr:t,Qr:t}:(t<n.Jr&&(n.Jr=t),t>n.Qr&&(n.Qr=t)))}return n}$r(t,e,i){if(this.Ki())return null;let n=null;const r=x(this.Lr()),o=x(this.Ks()),s=Math.max(t,r),a=Math.min(e,o),h=Math.ceil(s/Bt)*Bt,l=Math.max(h,Math.floor(a/Bt)*Bt);{const t=this.Xr(s),r=this.Zr(Math.min(a,h,e));n=Rt(n,this.Gr(t,r,i))}let u=this.Ir.get(i);void 0===u&&(u=new Map,this.Ir.set(i,u));for(let t=Math.max(h+1,s);t<l;t+=Bt){const e=Math.floor(t/Bt);let r=u.get(e);if(void 0===r){const t=this.Xr(e*Bt),n=this.Zr((e+1)*Bt-1);r=this.Gr(t,n,i),u.set(e,r)}n=Rt(n,r)}{const t=this.Xr(l),e=this.Zr(a);n=Rt(n,this.Gr(t,e,i))}return n}}function Rt(t,e){return null===t?e:null===e?t:{Jr:Math.min(t.Jr,e.Jr),Qr:Math.max(t.Qr,e.Qr)}}class Ft{constructor(t){this.th=t}nt(t,e,i){this.th.draw(t)}ih(t,e,i){this.th.drawBackground?.(t)}}class Vt{constructor(t){this.Dn=null,this.sh=t}Tt(){const t=this.sh.renderer();if(null===t)return null;if(this.Dn?.nh===t)return this.Dn.eh;const e=new Ft(t);return this.Dn={nh:t,eh:e},e}rh(){return this.sh.zOrder?.()??"normal"}}class It{constructor(t){this.hh=null,this.ah=t}oh(){return this.ah}Ns(){this.ah.updateAllViews?.()}Ws(){const t=this.ah.paneViews?.()??[];if(this.hh?.nh===t)return this.hh.eh;const e=t.map((t=>new Vt(t)));return this.hh={nh:t,eh:e},e}jn(t,e){return this.ah.hitTest?.(t,e)??null}}let Nt=class extends It{us(){return[]}};class jt{constructor(t){this.th=t}nt(t,e,i){this.th.draw(t)}ih(t,e,i){this.th.drawBackground?.(t)}}class Wt{constructor(t){this.Dn=null,this.sh=t}Tt(){const t=this.sh.renderer();if(null===t)return null;if(this.Dn?.nh===t)return this.Dn.eh;const e=new jt(t);return this.Dn={nh:t,eh:e},e}rh(){return this.sh.zOrder?.()??"normal"}}function Ht(t){return{ri:t.text(),Bi:t.coordinate(),Ii:t.fixedCoordinate?.(),R:t.textColor(),Z:t.backColor(),Vt:t.visible?.()??!0,pi:t.tickVisible?.()??!0}}class Yt{constructor(t,e){this.Gt=new $,this._h=t,this.uh=e}Tt(){return this.Gt.ht({Qi:this.uh.Qi(),...Ht(this._h)}),this.Gt}}class Ut extends q{constructor(t,e){super(),this._h=t,this.Yi=e}qi(t,e,i){const n=Ht(this._h);i.Z=n.Z,t.R=n.R;const r=2/12*this.Yi.P();i.Ti=r,i.Ri=r,i.Bi=n.Bi,i.Ii=n.Ii,t.ri=n.ri,t.Vt=n.Vt,t.pi=n.pi}}class Gt extends It{constructor(t,e){super(t),this.dh=null,this.fh=null,this.ph=null,this.mh=null,this.ge=e}cs(){const t=this.ah.timeAxisViews?.()??[];if(this.dh?.nh===t)return this.dh.eh;const e=this.ge.Qt().At(),i=t.map((t=>new Yt(t,e)));return this.dh={nh:t,eh:i},i}Fs(){const t=this.ah.priceAxisViews?.()??[];if(this.fh?.nh===t)return this.fh.eh;const e=this.ge.Wt(),i=t.map((t=>new Ut(t,e)));return this.fh={nh:t,eh:i},i}wh(){const t=this.ah.priceAxisPaneViews?.()??[];if(this.ph?.nh===t)return this.ph.eh;const e=t.map((t=>new Wt(t)));return this.ph={nh:t,eh:e},e}gh(){const t=this.ah.timeAxisPaneViews?.()??[];if(this.mh?.nh===t)return this.mh.eh;const e=t.map((t=>new Wt(t)));return this.mh={nh:t,eh:e},e}Mh(t,e){return this.ah.autoscaleInfo?.(t,e)??null}}function Zt(t,e,i,n){t.forEach((t=>{e(t).forEach((t=>{t.rh()===i&&n.push(t)}))}))}function Xt(t){return t.Ws()}function qt(t){return t.wh()}function Kt(t){return t.gh()}const Qt=["Area","Line","Baseline"];class $t extends Mt{constructor(t,e,i,n,r){super(t),this.Yt=new Lt,this.er=new xt(this),this.bh=[],this.xh=new mt(this),this.Sh=null,this.Ch=null,this.yh=null,this.Ph=[],this.ys=i,this.kh=e;const o=new bt(this);this.vs=[o],this.rr=new pt(o,this,t),Qt.includes(this.kh)&&(this.Sh=new yt(this)),this.Th(),this.sh=n(this,this.Qt(),r)}m(){null!==this.yh&&clearTimeout(this.yh)}Be(t){return this.ys.priceLineColor||t}Pe(t){const e={ke:!0},i=this.Wt();if(this.Qt().At().Ki()||i.Ki()||this.Yt.Ki())return e;const n=this.Qt().At().ye(),r=this.zt();if(null===n||null===r)return e;let o,s;if(t){const t=this.Yt.Er();if(null===t)return e;o=t,s=t.Re}else{const t=this.Yt.Wr(n.bi(),-1);if(null===t)return e;if(o=this.Yt.kr(t.Re),null===o)return e;s=t.Re}const a=o.Ft[3],h=this.Rh().Dr(s,{Ft:o}),l=i.Nt(a,r.Ft);return{ke:!1,gt:a,ri:i.Zi(a,r.Ft),Oe:i.Dh(a),Ne:i.Vh(a,r.Ft),R:h.cr,Bi:l,Re:s}}Rh(){return null!==this.Ch||(this.Ch=new Ot(this)),this.Ch}N(){return this.ys}hr(t){const e=t.priceScaleId;void 0!==e&&e!==this.ys.priceScaleId&&this.Qt().Ih(this,e),A(this.ys,t),void 0!==t.priceFormat&&(this.Th(),this.Qt().Bh()),this.Qt().Ah(this),this.Qt().Eh(),this.sh.Pt("options")}ht(t,e){this.Yt.ht(t),this.sh.Pt("data"),null!==this.Sh&&(e&&e.zh?this.Sh.be():0===t.length&&this.Sh.Me());const i=this.Qt().Hn(this);this.Qt().Lh(i),this.Qt().Ah(this),this.Qt().Eh(),this.Qt().ar()}Oh(t){const e=new _t(this,t);return this.bh.push(e),this.Qt().Ah(this),e}Nh(t){const e=this.bh.indexOf(t);-1!==e&&this.bh.splice(e,1),this.Qt().Ah(this)}Wh(){return this.bh}Rr(){return this.kh}zt(){const t=this.Fh();return null===t?null:{Ft:t.Ft[3],Hh:t.wt}}Fh(){const t=this.Qt().At().ye();if(null===t)return null;const e=t.Uh();return this.Yt.Wr(e,1)}Xs(){return this.Yt}$h(t){const e=this.Yt.kr(t);return null===e?null:"Bar"===this.kh||"Candlestick"===this.kh||"Custom"===this.kh?{qh:e.Ft[0],Yh:e.Ft[1],jh:e.Ft[2],Kh:e.Ft[3]}:e.Ft[3]}Xh(t){const e=[];Zt(this.Ph,Xt,"top",e);const i=this.Sh;return null!==i&&i.Vt()?(null===this.yh&&i.Se()&&(this.yh=setTimeout((()=>{this.yh=null,this.Qt().Zh()}),0)),i.xe(),e.unshift(i),e):e}Ws(){const t=[];this.Gh()||t.push(this.xh),t.push(this.sh,this.er);const e=this.bh.map((t=>t.lr()));return t.push(...e),Zt(this.Ph,Xt,"normal",t),t}Jh(){return this.Qh(Xt,"bottom")}ta(t){return this.Qh(qt,t)}ia(t){return this.Qh(Kt,t)}sa(t,e){return this.Ph.map((i=>i.jn(t,e))).filter((t=>null!==t))}us(){return[this.rr,...this.bh.map((t=>t._r()))]}Fs(t,e){if(e!==this.es&&!this.Gh())return[];const i=[...this.vs];for(const t of this.bh)i.push(t.ur());return this.Ph.forEach((t=>{i.push(...t.Fs())})),i}cs(){const t=[];return this.Ph.forEach((e=>{t.push(...e.cs())})),t}Mh(t,e){if(void 0!==this.ys.autoscaleInfoProvider){const i=this.ys.autoscaleInfoProvider((()=>{const i=this.na(t,e);return null===i?null:i.Xe()}));return Ct.Ze(i)}return this.na(t,e)}ea(){return this.ys.priceFormat.minMove}ra(){return this.ha}Ns(){this.sh.Pt();for(const t of this.vs)t.Pt();for(const t of this.bh)t.Pt();this.er.Pt(),this.xh.Pt(),this.Sh?.Pt(),this.Ph.forEach((t=>t.Ns()))}Wt(){return x(super.Wt())}Et(t){if("Line"!==this.kh&&"Area"!==this.kh&&"Baseline"!==this.kh||!this.ys.crosshairMarkerVisible)return null;const e=this.Yt.kr(t);return null===e?null:{gt:e.Ft[3],ft:this.aa(),Ht:this.la(),Ot:this.oa(),Lt:this._a(t)}}Ae(){return this.ys.title}Vt(){return this.ys.visible}ua(t){this.Ph.push(new Gt(t,this))}ca(t){this.Ph=this.Ph.filter((e=>e.oh()!==t))}da(){if("Custom"===this.kh)return t=>this.sh.fa(t)}pa(){if("Custom"===this.kh)return t=>this.sh.va(t)}ma(){return this.Yt.qr()}Gh(){return!nt(this.Wt().wa())}na(t,e){if(!S(t)||!S(e)||this.Yt.Ki())return null;const i="Line"===this.kh||"Area"===this.kh||"Baseline"===this.kh||"Histogram"===this.kh?[3]:[2,1],n=this.Yt.Ur(t,e,i);let r=null!==n?new At(n.Jr,n.Qr):null,o=null;if("Histogram"===this.Rr()){const t=this.ys.base,e=new At(t,t);r=null!==r?r.vn(e):e}return this.Ph.forEach((i=>{const n=i.Mh(t,e);if(n?.priceRange){const t=new At(n.priceRange.minValue,n.priceRange.maxValue);r=null!==r?r.vn(t):t}n?.margins&&(o=n.margins)})),new Ct(r,o)}aa(){switch(this.kh){case"Line":case"Area":case"Baseline":return this.ys.crosshairMarkerRadius}return 0}la(){switch(this.kh){case"Line":case"Area":case"Baseline":{const t=this.ys.crosshairMarkerBorderColor;if(0!==t.length)return t}}return null}oa(){switch(this.kh){case"Line":case"Area":case"Baseline":return this.ys.crosshairMarkerBorderWidth}return 0}_a(t){switch(this.kh){case"Line":case"Area":case"Baseline":{const t=this.ys.crosshairMarkerBackgroundColor;if(0!==t.length)return t}}return this.Rh().Dr(t).cr}Th(){switch(this.ys.priceFormat.type){case"custom":this.ha={format:this.ys.priceFormat.formatter};break;case"volume":this.ha=new ht(this.ys.priceFormat.precision);break;case"percent":this.ha=new at(this.ys.priceFormat.precision);break;default:{const t=Math.pow(10,this.ys.priceFormat.precision);this.ha=new st(t,this.ys.priceFormat.minMove*t)}}null!==this.es&&this.es.ga()}Qh(t,e){const i=[];return Zt(this.Ph,t,e,i),i}}const Jt=[3],te=[0,1,2,3];class ee{constructor(t){this.ys=t}Ma(t,e,i){let n=t;if(0===this.ys.mode)return n;const r=i.ks(),o=r.zt();if(null===o)return n;const s=r.Nt(t,o),a=i.ba().filter((t=>t instanceof $t)).reduce(((t,n)=>{if(i.Un(n)||!n.Vt())return t;const r=n.Wt(),o=n.Xs();if(r.Ki()||!o.Te(e))return t;const s=o.kr(e);if(null===s)return t;const a=b(n.zt()),h=3===this.ys.mode?te:Jt;return t.concat(h.map((t=>r.Nt(s.Ft[t],a.Ft))))}),[]);if(0===a.length)return n;a.sort(((t,e)=>Math.abs(t-s)-Math.abs(e-s)));const h=a[0];return n=r.Ts(h,o),n}}function ie(t,e,i){return Math.min(Math.max(t,e),i)}function ne(t,e,i){return e-t<=i}class re extends F{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}et({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:n}){if(null===this.Yt)return;const r=Math.max(1,Math.floor(i));t.lineWidth=r,function(t,e){t.save(),t.lineWidth%2&&t.translate(.5,.5),e(),t.restore()}(t,(()=>{const o=x(this.Yt);if(o.xa){t.strokeStyle=o.Sa,m(t,o.Ca),t.beginPath();for(const n of o.ya){const o=Math.round(n.Pa*i);t.moveTo(o,-r),t.lineTo(o,e.height+r)}t.stroke()}if(o.ka){t.strokeStyle=o.Ta,m(t,o.Ra),t.beginPath();for(const i of o.Da){const o=Math.round(i.Pa*n);t.moveTo(-r,o),t.lineTo(e.width+r,o)}t.stroke()}}))}}class oe{constructor(t){this.Gt=new re,this.St=!0,this.yt=t}Pt(){this.St=!0}Tt(){if(this.St){const t=this.yt.Qt().N().grid,e={ka:t.horzLines.visible,xa:t.vertLines.visible,Ta:t.horzLines.color,Sa:t.vertLines.color,Ra:t.horzLines.style,Ca:t.vertLines.style,Da:this.yt.ks().Va(),ya:(this.yt.Qt().At().Va()||[]).map((t=>({Pa:t.coord})))};this.Gt.ht(e),this.St=!1}return this.Gt}}class se{constructor(t){this.sh=new oe(t)}lr(){return this.sh}}const ae={Ia:4,Ba:1e-4};function he(t,e){const i=100*(t-e)/e;return e<0?-i:i}function le(t,e){const i=he(t.$e(),e),n=he(t.qe(),e);return new At(i,n)}function ue(t,e){const i=100*(t-e)/e+100;return e<0?-i:i}function ce(t,e){const i=ue(t.$e(),e),n=ue(t.qe(),e);return new At(i,n)}function pe(t,e){const i=Math.abs(t);if(i<1e-15)return 0;const n=Math.log10(i+e.Ba)+e.Ia;return t<0?-n:n}function fe(t,e){const i=Math.abs(t);if(i<1e-15)return 0;const n=Math.pow(10,i-e.Ia)-e.Ba;return t<0?-n:n}function de(t,e){if(null===t)return null;const i=pe(t.$e(),e),n=pe(t.qe(),e);return new At(i,n)}function me(t,e){if(null===t)return null;const i=fe(t.$e(),e),n=fe(t.qe(),e);return new At(i,n)}function ge(t){if(null===t)return ae;const e=Math.abs(t.qe()-t.$e());if(e>=1||e<1e-15)return ae;const i=Math.ceil(Math.abs(Math.log10(e))),n=ae.Ia+i;return{Ia:n,Ba:1/Math.pow(10,n)}}class ve{constructor(t,e){if(this.Aa=t,this.Ea=e,function(t){if(t<0)return!1;for(let e=t;e>1;e/=10)if(e%10!=0)return!1;return!0}(this.Aa))this.za=[2,2.5,2];else{this.za=[];for(let t=this.Aa;1!==t;){if(t%2==0)this.za.push(2),t/=2;else{if(t%5!=0)throw new Error("unexpected base");this.za.push(2,2.5),t/=5}if(this.za.length>100)throw new Error("something wrong with base")}}}La(t,e,i){const n=0===this.Aa?0:1/this.Aa;let r=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-e)))),o=0,s=this.Ea[0];for(;;){const t=ne(r,n,1e-14)&&r>n+1e-14,e=ne(r,i*s,1e-14),a=ne(r,1,1e-14);if(!(t&&e&&a))break;r/=s,s=this.Ea[++o%this.Ea.length]}if(r<=n+1e-14&&(r=n),r=Math.max(1,r),this.za.length>0&&(a=r,Math.abs(a-1)<1e-14))for(o=0,s=this.za[0];ne(r,i*s,1e-14)&&r>n+1e-14;)r/=s,s=this.za[++o%this.za.length];var a;return r}}class ye{constructor(t,e,i,n){this.Oa=[],this.Yi=t,this.Aa=e,this.Na=i,this.Wa=n}La(t,e){if(t<e)throw new Error("high < low");const i=this.Yi.$t(),n=(t-e)*this.Fa()/i,r=new ve(this.Aa,[2,2.5,2]),o=new ve(this.Aa,[2,2,2.5]),s=new ve(this.Aa,[2.5,2,2]),a=[];return a.push(r.La(t,e,n),o.La(t,e,n),s.La(t,e,n)),function(t){if(t.length<1)throw Error("array is empty");let e=t[0];for(let i=1;i<t.length;++i)t[i]<e&&(e=t[i]);return e}(a)}Ha(){const t=this.Yi,e=t.zt();if(null===e)return void(this.Oa=[]);const i=t.$t(),n=this.Na(i-1,e),r=this.Na(0,e),o=this.Yi.N().entireTextOnly?this.Ua()/2:0,s=o,a=i-1-o,h=Math.max(n,r),l=Math.min(n,r);if(h===l)return void(this.Oa=[]);let u=this.La(h,l),c=h%u;c+=c<0?u:0;const p=h>=l?1:-1;let f=null,d=0;for(let i=h-c;i>l;i-=u){const n=this.Wa(i,e,!0);null!==f&&Math.abs(n-f)<this.Fa()||n<s||n>a||(d<this.Oa.length?(this.Oa[d].Pa=n,this.Oa[d].$a=t.qa(i)):this.Oa.push({Pa:n,$a:t.qa(i)}),d++,f=n,t.Ya()&&(u=this.La(i*p,l)))}this.Oa.length=d}Va(){return this.Oa}Ua(){return this.Yi.P()}Fa(){return Math.ceil(2.5*this.Ua())}}function xe(t){return t.slice().sort(((t,e)=>x(t.hs())-x(e.hs())))}var be;!function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"}(be||(be={}));const we=new at,Ae=new st(100,1);class Ce{constructor(t,e,i,n,r){this.ja=0,this.Ka=null,this.Ge=null,this.Xa=null,this.Za={Ga:!1,Ja:null},this.Qa=0,this.tl=0,this.il=new w,this.sl=new w,this.nl=[],this.el=null,this.rl=null,this.hl=null,this.al=null,this.ll=null,this.ha=Ae,this.ol=ge(null),this._l=t,this.ys=e,this.ul=i,this.cl=n,this.dl=r,this.fl=new ye(this,100,this.pl.bind(this),this.vl.bind(this))}wa(){return this._l}N(){return this.ys}hr(t){if(A(this.ys,t),this.ga(),void 0!==t.mode&&this.ml({ie:t.mode}),void 0!==t.scaleMargins){const e=y(t.scaleMargins.top),i=y(t.scaleMargins.bottom);if(e<0||e>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${e}`);if(i<0||i>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${i}`);if(e+i>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${e+i}`);this.wl(),this.hl=null}}gl(){return this.ys.autoScale}Ya(){return 1===this.ys.mode}Le(){return 2===this.ys.mode}Ml(){return 3===this.ys.mode}ie(){return{sn:this.ys.autoScale,bl:this.ys.invertScale,ie:this.ys.mode}}ml(t){const e=this.ie();let i=null;void 0!==t.sn&&(this.ys.autoScale=t.sn),void 0!==t.ie&&(this.ys.mode=t.ie,2!==t.ie&&3!==t.ie||(this.ys.autoScale=!0),this.Za.Ga=!1),1===e.ie&&t.ie!==e.ie&&(function(t,e){if(null===t)return!1;const i=fe(t.$e(),e),n=fe(t.qe(),e);return isFinite(i)&&isFinite(n)}(this.Ge,this.ol)?(i=me(this.Ge,this.ol),null!==i&&this.xl(i)):this.ys.autoScale=!0),1===t.ie&&t.ie!==e.ie&&(i=de(this.Ge,this.ol),null!==i&&this.xl(i));const n=e.ie!==this.ys.mode;n&&(2===e.ie||this.Le())&&this.ga(),n&&(3===e.ie||this.Ml())&&this.ga(),void 0!==t.bl&&e.bl!==t.bl&&(this.ys.invertScale=t.bl,this.Sl()),this.sl.p(e,this.ie())}Cl(){return this.sl}P(){return this.ul.fontSize}$t(){return this.ja}yl(t){this.ja!==t&&(this.ja=t,this.wl(),this.hl=null)}Pl(){if(this.Ka)return this.Ka;const t=this.$t()-this.kl()-this.Tl();return this.Ka=t,t}Qe(){return this.Rl(),this.Ge}xl(t,e){const i=this.Ge;(e||null===i&&null!==t||null!==i&&!i.He(t))&&(this.hl=null,this.Ge=t)}Ki(){return this.Rl(),0===this.ja||!this.Ge||this.Ge.Ki()}Dl(t){return this.bl()?t:this.$t()-1-t}Nt(t,e){return this.Le()?t=he(t,e):this.Ml()&&(t=ue(t,e)),this.vl(t,e)}Vl(t,e,i){this.Rl();const n=this.Tl(),r=x(this.Qe()),o=r.$e(),s=r.qe(),a=this.Pl()-1,h=this.bl(),l=a/(s-o),u=void 0===i?0:i.from,c=void 0===i?t.length:i.to,p=this.Il();for(let i=u;i<c;i++){const r=t[i],s=r.gt;if(isNaN(s))continue;let a=s;null!==p&&(a=p(r.gt,e));const u=n+l*(a-o),c=h?u:this.ja-1-u;r.ut=c}}Bl(t,e,i){this.Rl();const n=this.Tl(),r=x(this.Qe()),o=r.$e(),s=r.qe(),a=this.Pl()-1,h=this.bl(),l=a/(s-o),u=void 0===i?0:i.from,c=void 0===i?t.length:i.to,p=this.Il();for(let i=u;i<c;i++){const r=t[i];let s=r.qh,a=r.Yh,u=r.jh,c=r.Kh;null!==p&&(s=p(r.qh,e),a=p(r.Yh,e),u=p(r.jh,e),c=p(r.Kh,e));let f=n+l*(s-o),d=h?f:this.ja-1-f;r.Al=d,f=n+l*(a-o),d=h?f:this.ja-1-f,r.El=d,f=n+l*(u-o),d=h?f:this.ja-1-f,r.zl=d,f=n+l*(c-o),d=h?f:this.ja-1-f,r.Ll=d}}Ts(t,e){const i=this.pl(t,e);return this.Ol(i,e)}Ol(t,e){let i=t;return this.Le()?i=function(t,e){return e<0&&(t=-t),t/100*e+e}(i,e):this.Ml()&&(i=function(t,e){return t-=100,e<0&&(t=-t),t/100*e+e}(i,e)),i}ba(){return this.nl}Dt(){return this.rl||(this.rl=xe(this.nl)),this.rl}Nl(t){-1===this.nl.indexOf(t)&&(this.nl.push(t),this.ga(),this.Wl())}Fl(t){const e=this.nl.indexOf(t);if(-1===e)throw new Error("source is not attached to scale");this.nl.splice(e,1),0===this.nl.length&&(this.ml({sn:!0}),this.xl(null)),this.ga(),this.Wl()}zt(){let t=null;for(const e of this.nl){const i=e.zt();null!==i&&(null===t||i.Hh<t.Hh)&&(t=i)}return null===t?null:t.Ft}bl(){return this.ys.invertScale}Va(){const t=null===this.zt();if(null!==this.hl&&(t||this.hl.Hl===t))return this.hl.Va;this.fl.Ha();const e=this.fl.Va();return this.hl={Va:e,Hl:t},this.il.p(),e}Ul(){return this.il}$l(t){this.Le()||this.Ml()||null===this.al&&null===this.Xa&&(this.Ki()||(this.al=this.ja-t,this.Xa=x(this.Qe()).Ue()))}ql(t){if(this.Le()||this.Ml())return;if(null===this.al)return;this.ml({sn:!1}),(t=this.ja-t)<0&&(t=0);let e=(this.al+.2*(this.ja-1))/(t+.2*(this.ja-1));const i=x(this.Xa).Ue();e=Math.max(e,.1),i.je(e),this.xl(i)}Yl(){this.Le()||this.Ml()||(this.al=null,this.Xa=null)}jl(t){this.gl()||null===this.ll&&null===this.Xa&&(this.Ki()||(this.ll=t,this.Xa=x(this.Qe()).Ue()))}Kl(t){if(this.gl())return;if(null===this.ll)return;const e=x(this.Qe()).Ye()/(this.Pl()-1);let i=t-this.ll;this.bl()&&(i*=-1);const n=i*e,r=x(this.Xa).Ue();r.Ke(n),this.xl(r,!0),this.hl=null}Xl(){this.gl()||null!==this.ll&&(this.ll=null,this.Xa=null)}ra(){return this.ha||this.ga(),this.ha}Zi(t,e){switch(this.ys.mode){case 2:return this.Zl(he(t,e));case 3:return this.ra().format(ue(t,e));default:return this.nr(t)}}qa(t){switch(this.ys.mode){case 2:return this.Zl(t);case 3:return this.ra().format(t);default:return this.nr(t)}}Dh(t){return this.nr(t,x(this.el).ra())}Vh(t,e){return t=he(t,e),this.Zl(t,we)}Gl(){return this.nl}Jl(t){this.Za={Ja:t,Ga:!1}}Ns(){this.nl.forEach((t=>t.Ns()))}ga(){this.hl=null;let t=1/0;this.el=null;for(const e of this.nl)e.hs()<t&&(t=e.hs(),this.el=e);let e=100;null!==this.el&&(e=Math.round(1/this.el.ea())),this.ha=Ae,this.Le()?(this.ha=we,e=100):this.Ml()?(this.ha=new st(100,1),e=100):null!==this.el&&(this.ha=this.el.ra()),this.fl=new ye(this,e,this.pl.bind(this),this.vl.bind(this)),this.fl.Ha()}Wl(){this.rl=null}Xi(){return this.dl}kl(){return this.bl()?this.ys.scaleMargins.bottom*this.$t()+this.tl:this.ys.scaleMargins.top*this.$t()+this.Qa}Tl(){return this.bl()?this.ys.scaleMargins.top*this.$t()+this.Qa:this.ys.scaleMargins.bottom*this.$t()+this.tl}Rl(){this.Za.Ga||(this.Za.Ga=!0,this.Ql())}wl(){this.Ka=null}vl(t,e){if(this.Rl(),this.Ki())return 0;t=this.Ya()&&t?pe(t,this.ol):t;const i=x(this.Qe()),n=this.Tl()+(this.Pl()-1)*(t-i.$e())/i.Ye();return this.Dl(n)}pl(t,e){if(this.Rl(),this.Ki())return 0;const i=this.Dl(t),n=x(this.Qe()),r=n.$e()+n.Ye()*((i-this.Tl())/(this.Pl()-1));return this.Ya()?fe(r,this.ol):r}Sl(){this.hl=null,this.fl.Ha()}Ql(){const t=this.Za.Ja;if(null===t)return;let e=null;const i=this.Gl();let n=0,r=0;for(const o of i){if(!o.Vt())continue;const i=o.zt();if(null===i)continue;const s=o.Mh(t.Uh(),t.bi());let a=s&&s.Qe();if(null!==a){switch(this.ys.mode){case 1:a=de(a,this.ol);break;case 2:a=le(a,i.Ft);break;case 3:a=ce(a,i.Ft)}if(e=null===e?a:e.vn(x(a)),null!==s){const t=s.tr();null!==t&&(n=Math.max(n,t.above),r=Math.max(r,t.below))}}}if(n===this.Qa&&r===this.tl||(this.Qa=n,this.tl=r,this.hl=null,this.wl()),null!==e){if(e.$e()===e.qe()){const t=this.el,i=5*(null===t||this.Le()||this.Ml()?1:t.ea());this.Ya()&&(e=me(e,this.ol)),e=new At(e.$e()-i,e.qe()+i),this.Ya()&&(e=de(e,this.ol))}if(this.Ya()){const t=me(e,this.ol),i=ge(t);if(o=i,s=this.ol,o.Ia!==s.Ia||o.Ba!==s.Ba){const n=null!==this.Xa?me(this.Xa,this.ol):null;this.ol=i,e=de(t,i),null!==n&&(this.Xa=de(n,i))}}this.xl(e)}else null===this.Ge&&(this.xl(new At(-.5,.5)),this.ol=ge(null));var o,s;this.Za.Ga=!0}Il(){return this.Le()?he:this.Ml()?ue:this.Ya()?t=>pe(t,this.ol):null}io(t,e,i){return void 0===e?(void 0===i&&(i=this.ra()),i.format(t)):e(t)}nr(t,e){return this.io(t,this.cl.priceFormatter,e)}Zl(t,e){return this.io(t,this.cl.percentageFormatter,e)}}function Se(t){return t instanceof $t}class ke{constructor(t,e){this.nl=[],this.so=new Map,this.ja=0,this.no=0,this.eo=1e3,this.rl=null,this.ro=new w,this.Ph=[],this.uh=t,this.ts=e,this.ho=new se(this);const i=e.N();this.ao=this.lo("left",i.leftPriceScale),this.oo=this.lo("right",i.rightPriceScale),this.ao.Cl().i(this._o.bind(this,this.ao),this),this.oo.Cl().i(this._o.bind(this,this.oo),this),this.uo(i)}uo(t){if(t.leftPriceScale&&this.ao.hr(t.leftPriceScale),t.rightPriceScale&&this.oo.hr(t.rightPriceScale),t.localization&&(this.ao.ga(),this.oo.ga()),t.overlayPriceScales){const e=Array.from(this.so.values());for(const i of e){const e=x(i[0].Wt());e.hr(t.overlayPriceScales),t.localization&&e.ga()}}}co(t){switch(t){case"left":return this.ao;case"right":return this.oo}return this.so.has(t)?y(this.so.get(t))[0].Wt():null}m(){this.Qt().do().u(this),this.ao.Cl().u(this),this.oo.Cl().u(this),this.nl.forEach((t=>{t.m&&t.m()})),this.Ph=this.Ph.filter((t=>{const e=t.oh();return e.detached&&e.detached(),!1})),this.ro.p()}fo(){return this.eo}po(t){this.eo=t}Qt(){return this.ts}Qi(){return this.no}$t(){return this.ja}vo(t){this.no=t,this.mo()}yl(t){this.ja=t,this.ao.yl(t),this.oo.yl(t),this.nl.forEach((e=>{if(this.Un(e)){const i=e.Wt();null!==i&&i.yl(t)}})),this.mo()}wo(){return this.nl.filter(Se)}ba(){return this.nl}Un(t){const e=t.Wt();return null===e||this.ao!==e&&this.oo!==e}Nl(t,e,i){this.Mo(t,e,i?t.hs():this.nl.length)}Fl(t,e){const i=this.nl.indexOf(t);v(-1!==i,"removeDataSource: invalid data source"),this.nl.splice(i,1),e||this.nl.forEach(((t,e)=>t.ls(e)));const n=x(t.Wt()).wa();if(this.so.has(n)){const e=y(this.so.get(n)),i=e.indexOf(t);-1!==i&&(e.splice(i,1),0===e.length&&this.so.delete(n))}const r=t.Wt();r&&r.ba().indexOf(t)>=0&&(r.Fl(t),this.bo(r)),this.rl=null}qn(t){return t===this.ao?"left":t===this.oo?"right":"overlay"}xo(){return this.ao}So(){return this.oo}Co(t,e){t.$l(e)}yo(t,e){t.ql(e),this.mo()}Po(t){t.Yl()}ko(t,e){t.jl(e)}To(t,e){t.Kl(e),this.mo()}Ro(t){t.Xl()}mo(){this.nl.forEach((t=>{t.Ns()}))}ks(){let t=null;return this.ts.N().rightPriceScale.visible&&0!==this.oo.ba().length?t=this.oo:this.ts.N().leftPriceScale.visible&&0!==this.ao.ba().length?t=this.ao:0!==this.nl.length&&(t=this.nl[0].Wt()),null===t&&(t=this.oo),t}$n(){let t=null;return this.ts.N().rightPriceScale.visible?t=this.oo:this.ts.N().leftPriceScale.visible&&(t=this.ao),t}bo(t){null!==t&&t.gl()&&this.Do(t)}Vo(t){const e=this.uh.ye();t.ml({sn:!0}),null!==e&&t.Jl(e),this.mo()}Io(){this.Do(this.ao),this.Do(this.oo)}Bo(){this.bo(this.ao),this.bo(this.oo),this.nl.forEach((t=>{this.Un(t)&&this.bo(t.Wt())})),this.mo(),this.ts.ar()}Dt(){return null===this.rl&&(this.rl=xe(this.nl)),this.rl}Ao(t,e){e=ie(e,0,this.nl.length-1);const i=this.nl.indexOf(t);v(-1!==i,"setSeriesOrder: invalid data source"),this.nl.splice(i,1),this.nl.splice(e,0,t),this.nl.forEach(((t,e)=>t.ls(e))),this.rl=null;for(const t of[this.ao,this.oo])t.Wl(),t.ga();this.ts.ar()}It(){return this.Dt().filter(Se)}Eo(){return this.ro}zo(){return this.ho}ua(t){this.Ph.push(new Nt(t))}ca(t){this.Ph=this.Ph.filter((e=>e.oh()!==t)),t.detached&&t.detached(),this.ts.ar()}Lo(){return this.Ph}sa(t,e){return this.Ph.map((i=>i.jn(t,e))).filter((t=>null!==t))}Do(t){const e=t.Gl();if(e&&e.length>0&&!this.uh.Ki()){const e=this.uh.ye();null!==e&&t.Jl(e)}t.Ns()}Mo(t,e,i){let n=this.co(e);if(null===n&&(n=this.lo(e,this.ts.N().overlayPriceScales)),this.nl.splice(i,0,t),!nt(e)){const i=this.so.get(e)||[];i.push(t),this.so.set(e,i)}t.ls(i),n.Nl(t),t._s(n),this.bo(n),this.rl=null}_o(t,e,i){e.ie!==i.ie&&this.Do(t)}lo(t,e){const i={visible:!0,autoScale:!0,...M(e)},n=new Ce(t,i,this.ts.N().layout,this.ts.N().localization,this.ts.Xi());return n.yl(this.$t()),n}}function _e(t){return{Oo:t.Oo,No:{Kn:t.Wo.externalId},Fo:t.Wo.cursorStyle}}function Me(t,e,i,n){for(const r of t){const t=r.Tt(n);if(null!==t&&t.jn){const n=t.jn(e,i);if(null!==n)return{Ho:r,No:n}}}return null}function Te(t){return void 0!==t.Ws}function Oe(t,e,i){const n=[t,...t.Dt()],r=function(t,e,i){let n,r;for(const a of t){const t=a.sa?.(e,i)??[];for(const e of t)o=e.zOrder,s=n?.zOrder,(!s||"top"===o&&"top"!==s||"normal"===o&&"bottom"===s)&&(n=e,r=a)}var o,s;return n&&r?{Wo:n,Oo:r}:null}(n,e,i);if("top"===r?.Wo.zOrder)return _e(r);for(const o of n){if(r&&r.Oo===o&&"bottom"!==r.Wo.zOrder&&!r.Wo.isBackground)return _e(r);if(Te(o)){const n=Me(o.Ws(t),e,i,t);if(null!==n)return{Oo:o,Ho:n.Ho,No:n.No}}if(r&&r.Oo===o&&"bottom"!==r.Wo.zOrder&&r.Wo.isBackground)return _e(r)}return r?.Wo?_e(r):null}class ze{constructor(t,e,i=50){this.Pn=0,this.kn=1,this.Tn=1,this.Dn=new Map,this.Rn=new Map,this.Uo=t,this.$o=e,this.Vn=i}qo(t){const e=t.time,i=this.$o.cacheKey(e),n=this.Dn.get(i);if(void 0!==n)return n.Yo;if(this.Pn===this.Vn){const t=this.Rn.get(this.Tn);this.Rn.delete(this.Tn),this.Dn.delete(y(t)),this.Tn++,this.Pn--}const r=this.Uo(t);return this.Dn.set(i,{Yo:r,En:this.kn}),this.Rn.set(this.kn,i),this.Pn++,this.kn++,r}}class De{constructor(t,e){v(t<=e,"right should be >= left"),this.jo=t,this.Ko=e}Uh(){return this.jo}bi(){return this.Ko}Xo(){return this.Ko-this.jo+1}Te(t){return this.jo<=t&&t<=this.Ko}He(t){return this.jo===t.Uh()&&this.Ko===t.bi()}}function Ee(t,e){return null===t||null===e?t===e:t.He(e)}class Pe{constructor(){this.Zo=new Map,this.Dn=null,this.Go=!1}Jo(t){this.Go=t,this.Dn=null}Qo(t,e){this.t_(e),this.Dn=null;for(let i=e;i<t.length;++i){const e=t[i];let n=this.Zo.get(e.timeWeight);void 0===n&&(n=[],this.Zo.set(e.timeWeight,n)),n.push({index:i,time:e.time,weight:e.timeWeight,originalTime:e.originalTime})}}i_(t,e,i,n,r){const o=Math.ceil(e/t);return null!==this.Dn&&this.Dn.s_===o&&r===this.Dn.n_&&i===this.Dn.e_||(this.Dn={n_:r,e_:i,Va:this.r_(o,i,n),s_:o}),this.Dn.Va}t_(t){if(0===t)return void this.Zo.clear();const e=[];this.Zo.forEach(((i,n)=>{t<=i[0].index?e.push(n):i.splice(Dt(i,t,(e=>e.index<t)),1/0)}));for(const t of e)this.Zo.delete(t)}r_(t,e,i){let n=[];const r=t=>!e||i.has(t.index);for(const e of Array.from(this.Zo.keys()).sort(((t,e)=>e-t))){if(!this.Zo.get(e))continue;const i=n;n=[];const o=i.length;let s=0;const a=y(this.Zo.get(e)),h=a.length;let l=1/0,u=-1/0;for(let e=0;e<h;e++){const h=a[e],c=h.index;for(;s<o;){const t=i[s],e=t.index;if(!(e<c&&r(t))){l=e;break}s++,n.push(t),u=e,l=1/0}if(l-c>=t&&c-u>=t&&r(h))n.push(h),u=c;else if(this.Go)return i}for(;s<o;s++)r(i[s])&&n.push(i[s])}return n}}class Be{constructor(t){this.h_=t}a_(){return null===this.h_?null:new De(Math.floor(this.h_.Uh()),Math.ceil(this.h_.bi()))}l_(){return this.h_}static o_(){return new Be(null)}}function Le(t,e){return t.weight>e.weight?t:e}class Re{constructor(t,e,i,n){this.no=0,this.__=null,this.u_=[],this.ll=null,this.al=null,this.c_=new Pe,this.d_=new Map,this.f_=Be.o_(),this.p_=!0,this.v_=new w,this.m_=new w,this.w_=new w,this.g_=null,this.M_=null,this.b_=new Map,this.x_=-1,this.S_=[],this.ys=e,this.cl=i,this.C_=e.rightOffset,this.y_=e.barSpacing,this.ts=t,this.$o=n,this.P_(),this.c_.Jo(e.uniformDistribution),this.k_()}N(){return this.ys}T_(t){A(this.cl,t),this.R_(),this.P_()}hr(t,e){A(this.ys,t),this.ys.fixLeftEdge&&this.D_(),this.ys.fixRightEdge&&this.V_(),void 0!==t.barSpacing&&this.ts.dn(t.barSpacing),void 0!==t.rightOffset&&this.ts.fn(t.rightOffset),void 0===t.minBarSpacing&&void 0===t.maxBarSpacing||this.ts.dn(t.barSpacing??this.y_),void 0!==t.ignoreWhitespaceIndices&&t.ignoreWhitespaceIndices!==this.ys.ignoreWhitespaceIndices&&this.k_(),this.R_(),this.P_(),this.w_.p()}Rs(t){return this.u_[t]?.time??null}ss(t){return this.u_[t]??null}I_(t,e){if(this.u_.length<1)return null;if(this.$o.key(t)>this.$o.key(this.u_[this.u_.length-1].time))return e?this.u_.length-1:null;const i=Dt(this.u_,this.$o.key(t),((t,e)=>this.$o.key(t.time)<e));return this.$o.key(t)<this.$o.key(this.u_[i].time)?e?i:null:i}Ki(){return 0===this.no||0===this.u_.length||null===this.__}B_(){return this.u_.length>0}ye(){return this.A_(),this.f_.a_()}E_(){return this.A_(),this.f_.l_()}z_(){const t=this.ye();if(null===t)return null;const e={from:t.Uh(),to:t.bi()};return this.L_(e)}L_(t){const e=Math.round(t.from),i=Math.round(t.to),n=x(this.O_()),r=x(this.N_());return{from:x(this.ss(Math.max(n,e))),to:x(this.ss(Math.min(r,i)))}}W_(t){return{from:x(this.I_(t.from,!0)),to:x(this.I_(t.to,!0))}}Qi(){return this.no}vo(t){if(!isFinite(t)||t<=0)return;if(this.no===t)return;const e=this.E_(),i=this.no;if(this.no=t,this.p_=!0,this.ys.lockVisibleTimeRangeOnResize&&0!==i){const e=this.y_*t/i;this.y_=e}if(this.ys.fixLeftEdge&&null!==e&&e.Uh()<=0){const e=i-t;this.C_-=Math.round(e/this.y_)+1,this.p_=!0}this.F_(),this.H_()}qt(t){if(this.Ki()||!S(t))return 0;const e=this.U_()+this.C_-t;return this.no-(e+.5)*this.y_-1}q_(t,e){const i=this.U_(),n=void 0===e?0:e.from,r=void 0===e?t.length:e.to;for(let e=n;e<r;e++){const n=t[e].wt,r=i+this.C_-n,o=this.no-(r+.5)*this.y_-1;t[e]._t=o}}Y_(t,e){const i=Math.ceil(this.j_(t));return e&&this.ys.ignoreWhitespaceIndices&&!this.K_(i)?this.X_(i):i}fn(t){this.p_=!0,this.C_=t,this.H_(),this.ts.Z_(),this.ts.ar()}G_(){return this.y_}dn(t){this.J_(t),this.H_(),this.ts.Z_(),this.ts.ar()}Q_(){return this.C_}Va(){if(this.Ki())return null;if(null!==this.M_)return this.M_;const t=this.y_,e=5*(this.ts.N().layout.fontSize+4)/8*(this.ys.tickMarkMaxCharacterLength||8),i=Math.round(e/t),n=x(this.ye()),r=Math.max(n.Uh(),n.Uh()-i),o=Math.max(n.bi(),n.bi()-i),s=this.c_.i_(t,e,this.ys.ignoreWhitespaceIndices,this.b_,this.x_),a=this.O_()+i,h=this.N_()-i,l=this.tu(),u=this.ys.fixLeftEdge||l,c=this.ys.fixRightEdge||l;let p=0;for(const t of s){if(!(r<=t.index&&t.index<=o))continue;let i;p<this.S_.length?(i=this.S_[p],i.coord=this.qt(t.index),i.label=this.iu(t),i.weight=t.weight):(i={needAlignCoordinate:!1,coord:this.qt(t.index),label:this.iu(t),weight:t.weight},this.S_.push(i)),this.y_>e/2&&!l?i.needAlignCoordinate=!1:i.needAlignCoordinate=u&&t.index<=a||c&&t.index>=h,p++}return this.S_.length=p,this.M_=this.S_,this.S_}su(){this.p_=!0,this.dn(this.ys.barSpacing),this.fn(this.ys.rightOffset)}nu(t){this.p_=!0,this.__=t,this.H_(),this.D_()}eu(t,e){const i=this.j_(t),n=this.G_(),r=n+e*(n/10);this.dn(r),this.ys.rightBarStaysOnScroll||this.fn(this.Q_()+(i-this.j_(t)))}$l(t){this.ll&&this.Xl(),null===this.al&&null===this.g_&&(this.Ki()||(this.al=t,this.ru()))}ql(t){if(null===this.g_)return;const e=ie(this.no-t,0,this.no),i=ie(this.no-x(this.al),0,this.no);0!==e&&0!==i&&this.dn(this.g_.G_*e/i)}Yl(){null!==this.al&&(this.al=null,this.hu())}jl(t){null===this.ll&&null===this.g_&&(this.Ki()||(this.ll=t,this.ru()))}Kl(t){if(null===this.ll)return;const e=(this.ll-t)/this.G_();this.C_=x(this.g_).Q_+e,this.p_=!0,this.H_()}Xl(){null!==this.ll&&(this.ll=null,this.hu())}au(){this.lu(this.ys.rightOffset)}lu(t,e=400){if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const i=this.C_,n=performance.now();this.ts._n({ou:t=>(t-n)/e>=1,_u:r=>{const o=(r-n)/e;return o>=1?t:i+(t-i)*o}})}Pt(t,e){this.p_=!0,this.u_=t,this.c_.Qo(t,e),this.H_()}uu(){return this.v_}cu(){return this.m_}du(){return this.w_}U_(){return this.__||0}fu(t){const e=t.Xo();this.J_(this.no/e),this.C_=t.bi()-this.U_(),this.H_(),this.p_=!0,this.ts.Z_(),this.ts.ar()}pu(){const t=this.O_(),e=this.N_();null!==t&&null!==e&&this.fu(new De(t,e+this.ys.rightOffset))}vu(t){const e=new De(t.from,t.to);this.fu(e)}ns(t){return void 0!==this.cl.timeFormatter?this.cl.timeFormatter(t.originalTime):this.$o.formatHorzItem(t.time)}k_(){if(!this.ys.ignoreWhitespaceIndices)return;this.b_.clear();const t=this.ts.js();for(const e of t)for(const t of e.ma())this.b_.set(t,!0);this.x_++}tu(){const t=this.ts.N().handleScroll,e=this.ts.N().handleScale;return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset.time||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)}O_(){return 0===this.u_.length?null:0}N_(){return 0===this.u_.length?null:this.u_.length-1}mu(t){return(this.no-1-t)/this.y_}j_(t){const e=this.mu(t),i=this.U_()+this.C_-e;return Math.round(1e6*i)/1e6}J_(t){const e=this.y_;this.y_=t,this.F_(),e!==this.y_&&(this.p_=!0,this.wu())}A_(){if(!this.p_)return;if(this.p_=!1,this.Ki())return void this.gu(Be.o_());const t=this.U_(),e=this.no/this.y_,i=this.C_+t,n=new De(i-e+1,i);this.gu(new Be(n))}F_(){const t=ie(this.y_,this.Mu(),this.bu());this.y_!==t&&(this.y_=t,this.p_=!0)}bu(){return this.ys.maxBarSpacing>0?this.ys.maxBarSpacing:.5*this.no}Mu(){return this.ys.fixLeftEdge&&this.ys.fixRightEdge&&0!==this.u_.length?this.no/this.u_.length:this.ys.minBarSpacing}H_(){const t=this.xu();null!==t&&this.C_<t&&(this.C_=t,this.p_=!0);const e=this.Su();this.C_>e&&(this.C_=e,this.p_=!0)}xu(){const t=this.O_(),e=this.__;return null===t||null===e?null:t-e-1+(this.ys.fixLeftEdge?this.no/this.y_:Math.min(2,this.u_.length))}Su(){return this.ys.fixRightEdge?0:this.no/this.y_-Math.min(2,this.u_.length)}ru(){this.g_={G_:this.G_(),Q_:this.Q_()}}hu(){this.g_=null}iu(t){let e=this.d_.get(t.weight);return void 0===e&&(e=new ze((t=>this.Cu(t)),this.$o),this.d_.set(t.weight,e)),e.qo(t)}Cu(t){return this.$o.formatTickmark(t,this.cl)}gu(t){const e=this.f_;this.f_=t,Ee(e.a_(),this.f_.a_())||this.v_.p(),Ee(e.l_(),this.f_.l_())||this.m_.p(),this.wu()}wu(){this.M_=null}R_(){this.wu(),this.d_.clear()}P_(){this.$o.updateFormatter(this.cl)}D_(){if(!this.ys.fixLeftEdge)return;const t=this.O_();if(null===t)return;const e=this.ye();if(null===e)return;const i=e.Uh()-t;if(i<0){const t=this.C_-i-1;this.fn(t)}this.F_()}V_(){this.H_(),this.F_()}K_(t){return!this.ys.ignoreWhitespaceIndices||this.b_.get(t)||!1}X_(t){const e=function*(t){const e=Math.round(t),i=e<t;let n=1;for(;;)i?(yield e+n,yield e-n):(yield e-n,yield e+n),n++}(t),i=this.N_();for(;i;){const t=e.next().value;if(this.b_.get(t))return t;if(t<0||t>i)break}return t}}var Fe,Ve,Ie,Ne,je;!function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"}(Fe||(Fe={}));class We{constructor(t,e,i){this.yu=[],this.Pu=[],this.no=0,this.ku=null,this.Tu=new w,this.Ru=new w,this.Du=null,this.Vu=t,this.ys=e,this.$o=i,this.dl=new L(this.ys.layout.colorParsers),this.Iu=new E(this),this.uh=new Re(this,e.timeScale,this.ys.localization,i),this.Ct=new it(this,e.crosshair),this.Bu=new ee(e.crosshair),this.Au(0),this.yu[0].po(2e3),this.Eu=this.zu(0),this.Lu=this.zu(1)}Bh(){this.Ou(rt.gn())}ar(){this.Ou(rt.wn())}Zh(){this.Ou(new rt(1))}Ah(t){const e=this.Nu(t);this.Ou(e)}Wu(){return this.ku}Fu(t){if(this.ku?.Oo===t?.Oo&&this.ku?.No?.Kn===t?.No?.Kn)return;const e=this.ku;this.ku=t,null!==e&&this.Ah(e.Oo),null!==t&&t.Oo!==e?.Oo&&this.Ah(t.Oo)}N(){return this.ys}hr(t){A(this.ys,t),this.yu.forEach((e=>e.uo(t))),void 0!==t.timeScale&&this.uh.hr(t.timeScale),void 0!==t.localization&&this.uh.T_(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.Tu.p(),this.Eu=this.zu(0),this.Lu=this.zu(1),this.Bh()}Hu(t,e,i=0){const n=this.yu[i];if(void 0===n)return;if("left"===t)return A(this.ys,{leftPriceScale:e}),n.uo({leftPriceScale:e}),this.Tu.p(),void this.Bh();if("right"===t)return A(this.ys,{rightPriceScale:e}),n.uo({rightPriceScale:e}),this.Tu.p(),void this.Bh();const r=this.Uu(t,i);null!==r&&(r.Wt.hr(e),this.Tu.p())}Uu(t,e){const i=this.yu[e];if(void 0===i)return null;const n=i.co(t);return null!==n?{Us:i,Wt:n}:null}At(){return this.uh}$s(){return this.yu}$u(){return this.Ct}qu(){return this.Ru}Yu(t,e){t.yl(e),this.Z_()}vo(t){this.no=t,this.uh.vo(this.no),this.yu.forEach((e=>e.vo(t))),this.Z_()}ju(t){1!==this.yu.length&&(v(t>=0&&t<this.yu.length,"Invalid pane index"),this.yu.splice(t,1),this.Bh())}Ku(t,e){if(this.yu.length<2)return;v(t>=0&&t<this.yu.length,"Invalid pane index");const i=this.yu[t],n=this.yu.reduce(((t,e)=>t+e.fo()),0),r=this.yu.reduce(((t,e)=>t+e.$t()),0),o=r-30*(this.yu.length-1);e=Math.min(o,Math.max(30,e));const s=n/r,a=i.$t();i.po(e*s);let h=e-a,l=this.yu.length-1;for(const t of this.yu)if(t!==i){const e=Math.min(o,Math.max(30,t.$t()-h/l));h-=t.$t()-e,l-=1;const i=e*s;t.po(i)}this.Bh()}Xu(t,e){v(t>=0&&t<this.yu.length&&e>=0&&e<this.yu.length,"Invalid pane index");const i=this.yu[t],n=this.yu[e];this.yu[t]=n,this.yu[e]=i,this.Bh()}Co(t,e,i){t.Co(e,i)}yo(t,e,i){t.yo(e,i),this.Eh(),this.Ou(this.Zu(t,2))}Po(t,e){t.Po(e),this.Ou(this.Zu(t,2))}ko(t,e,i){e.gl()||t.ko(e,i)}To(t,e,i){e.gl()||(t.To(e,i),this.Eh(),this.Ou(this.Zu(t,2)))}Ro(t,e){e.gl()||(t.Ro(e),this.Ou(this.Zu(t,2)))}Vo(t,e){t.Vo(e),this.Ou(this.Zu(t,2))}Gu(t){this.uh.$l(t)}Ju(t,e){const i=this.At();if(i.Ki()||0===e)return;const n=i.Qi();t=Math.max(1,Math.min(t,n)),i.eu(t,e),this.Z_()}Qu(t){this.tc(0),this.sc(t),this.nc()}ec(t){this.uh.ql(t),this.Z_()}rc(){this.uh.Yl(),this.ar()}tc(t){this.uh.jl(t)}sc(t){this.uh.Kl(t),this.Z_()}nc(){this.uh.Xl(),this.ar()}js(){return this.Pu}hc(t,e,i,n,r){this.Ct.Vs(t,e);let o=NaN,s=this.uh.Y_(t,!0);const a=this.uh.ye();null!==a&&(s=Math.min(Math.max(a.Uh(),s),a.bi()));const h=n.ks(),l=h.zt();if(null!==l&&(o=h.Ts(e,l)),o=this.Bu.Ma(o,s,n),this.Ct.Es(s,o,n),this.Zh(),!r){const r=Oe(n,t,e);this.Fu(r&&{Oo:r.Oo,No:r.No,Fo:r.Fo||null}),this.Ru.p(this.Ct.Bt(),{x:t,y:e},i)}}ac(t,e,i){const n=i.ks(),r=n.zt(),o=n.Nt(t,x(r)),s=this.uh.I_(e,!0),a=this.uh.qt(x(s));this.hc(a,o,null,i,!0)}lc(t){this.$u().Ls(),this.Zh(),t||this.Ru.p(null,null,null)}Eh(){const t=this.Ct.Us();if(null!==t){const e=this.Ct.Bs(),i=this.Ct.As();this.hc(e,i,null,t)}this.Ct.Ns()}oc(t,e,i){const n=this.uh.Rs(0);void 0!==e&&void 0!==i&&this.uh.Pt(e,i);const r=this.uh.Rs(0),o=this.uh.U_(),s=this.uh.ye();if(null!==s&&null!==n&&null!==r){const e=s.Te(o),a=this.$o.key(n)>this.$o.key(r),h=null!==t&&t>o&&!a,l=this.uh.N().allowShiftVisibleRangeOnWhitespaceReplacement,u=e&&(!(void 0===i)||l)&&this.uh.N().shiftVisibleRangeOnNewBar;if(h&&!u){const e=t-o;this.uh.fn(this.uh.Q_()-e)}}this.uh.nu(t)}Lh(t){null!==t&&t.Bo()}Hn(t){if(function(t){return t instanceof ke}(t))return t;const e=this.yu.find((e=>e.Dt().includes(t)));return void 0===e?null:e}Z_(){this.yu.forEach((t=>t.Bo())),this.Eh()}m(){this.yu.forEach((t=>t.m())),this.yu.length=0,this.ys.localization.priceFormatter=void 0,this.ys.localization.percentageFormatter=void 0,this.ys.localization.timeFormatter=void 0}_c(){return this.Iu}Yn(){return this.Iu.N()}do(){return this.Tu}uc(t,e){const i=this.Au(e);this.cc(t,i),this.Pu.push(t),1===this.Pu.length?this.Bh():this.ar()}dc(t){const e=this.Hn(t),i=this.Pu.indexOf(t);v(-1!==i,"Series not found");const n=x(e);this.Pu.splice(i,1),n.Fl(t),t.m&&t.m(),this.uh.k_(),this.fc(n)}Ih(t,e){const i=x(this.Hn(t));i.Fl(t,!0),i.Nl(t,e,!0)}pu(){const t=rt.wn();t.rn(),this.Ou(t)}vc(t){const e=rt.wn();e.ln(t),this.Ou(e)}cn(){const t=rt.wn();t.cn(),this.Ou(t)}dn(t){const e=rt.wn();e.dn(t),this.Ou(e)}fn(t){const e=rt.wn();e.fn(t),this.Ou(e)}_n(t){const e=rt.wn();e._n(t),this.Ou(e)}hn(){const t=rt.wn();t.hn(),this.Ou(t)}mc(){return this.ys.rightPriceScale.visible?"right":"left"}wc(t,e){if(v(e>=0,"Index should be greater or equal to 0"),e===this.gc(t))return;const i=x(this.Hn(t));i.Fl(t);const n=this.Au(e);this.cc(t,n),0===i.ba().length&&this.fc(i)}Mc(){return this.Lu}$(){return this.Eu}Ut(t){const e=this.Lu,i=this.Eu;if(e===i)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),null===this.Du||this.Du.mr!==i||this.Du.wr!==e)this.Du={mr:i,wr:e,bc:new Map};else{const e=this.Du.bc.get(t);if(void 0!==e)return e}const n=this.dl.tt(i,e,t/100);return this.Du.bc.set(t,n),n}xc(t){return this.yu.indexOf(t)}Xi(){return this.dl}Au(t){if(v(t>=0,"Index should be greater or equal to 0"),(t=Math.min(this.yu.length,t))<this.yu.length)return this.yu[t];const e=new ke(this.uh,this);this.yu.push(e);const i=rt.gn();return i.Qs(t,{tn:0,sn:!0}),this.Ou(i),e}gc(t){return this.yu.findIndex((e=>e.wo().includes(t)))}Zu(t,e){const i=new rt(e);if(null!==t){const n=this.yu.indexOf(t);i.Qs(n,{tn:e})}return i}Nu(t,e){return void 0===e&&(e=2),this.Zu(this.Hn(t),e)}Ou(t){this.Vu&&this.Vu(t),this.yu.forEach((t=>t.zo().lr().Pt()))}cc(t,e){const i=t.N().priceScaleId,n=void 0!==i?i:this.mc();e.Nl(t,n),nt(n)||t.hr(t.N())}zu(t){const e=this.ys.layout;return"gradient"===e.background.type?0===t?e.background.topColor:e.background.bottomColor:e.background.color}fc(t){0===t.ba().length&&this.yu.length>1&&(this.yu.splice(this.xc(t),1),this.Bh())}}function He(t){return!C(t)&&!k(t)}function Ye(t){return C(t)}!function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"}(Ve||(Ve={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(Ie||(Ie={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(Ne||(Ne={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(je||(je={}));const Ue=t=>t.getUTCFullYear();class Ge{constructor(t="yyyy-MM-dd",e="default"){this.Sc=t,this.Cc=e}qo(t){return function(t,e,i){return e.replace(/yyyy/g,(t=>ot(Ue(t),4))(t)).replace(/yy/g,(t=>ot(Ue(t)%100,2))(t)).replace(/MMMM/g,((t,e)=>new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"long"}))(t,i)).replace(/MMM/g,((t,e)=>new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"short"}))(t,i)).replace(/MM/g,(t=>ot((t=>t.getUTCMonth()+1)(t),2))(t)).replace(/dd/g,(t=>ot((t=>t.getUTCDate())(t),2))(t))}(t,this.Sc,this.Cc)}}class Ze{constructor(t){this.yc=t||"%h:%m:%s"}qo(t){return this.yc.replace("%h",ot(t.getUTCHours(),2)).replace("%m",ot(t.getUTCMinutes(),2)).replace("%s",ot(t.getUTCSeconds(),2))}}const Xe={Pc:"yyyy-MM-dd",kc:"%h:%m:%s",Tc:" ",Rc:"default"};class qe{constructor(t={}){const e={...Xe,...t};this.Dc=new Ge(e.Pc,e.Rc),this.Vc=new Ze(e.kc),this.Ic=e.Tc}qo(t){return`${this.Dc.qo(t)}${this.Ic}${this.Vc.qo(t)}`}}function Ke(t){return 60*t*60*1e3}function Qe(t){return 60*t*1e3}const $e=[{Bc:1e3,Ac:10},{Bc:Qe(1),Ac:20},{Bc:Qe(5),Ac:21},{Bc:Qe(30),Ac:22},{Bc:Ke(1),Ac:30},{Bc:Ke(3),Ac:31},{Bc:Ke(6),Ac:32},{Bc:Ke(12),Ac:33}];function Je(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let i=$e.length-1;i>=0;--i)if(Math.floor(e.getTime()/$e[i].Bc)!==Math.floor(t.getTime()/$e[i].Bc))return $e[i].Ac;return 0}function ti(t){let e=t;if(k(t)&&(e=ii(t)),!He(e))throw new Error("time must be of type BusinessDay");const i=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{Ec:Math.round(i.getTime()/1e3),zc:e}}function ei(t){if(!Ye(t))throw new Error("time must be of type isUTCTimestamp");return{Ec:t}}function ii(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function ni(t){k(t.time)&&(t.time=ii(t.time))}class ri{options(){return this.ys}setOptions(t){this.ys=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?function(t){t.forEach(ni)}(t):ni(t)}createConverterToInternalObj(t){return x(function(t){return 0===t.length?null:He(t[0].time)||k(t[0].time)?ti:ei}(t))}key(t){return"object"==typeof t&&"Ec"in t?t.Ec:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){const e=t;return void 0===e.zc?new Date(1e3*e.Ec).getTime():new Date(Date.UTC(e.zc.year,e.zc.month-1,e.zc.day)).getTime()}convertHorzItemToInternal(t){return Ye(e=t)?ei(e):He(e)?ti(e):ti(ii(e));var e}updateFormatter(t){if(!this.ys)return;const e=t.dateFormat;this.ys.timeScale.timeVisible?this.Lc=new qe({Pc:e,kc:this.ys.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",Tc:"   ",Rc:t.locale}):this.Lc=new Ge(e,t.locale)}formatHorzItem(t){const e=t;return this.Lc.qo(new Date(1e3*e.Ec))}formatTickmark(t,e){const i=function(t,e,i){switch(t){case 0:case 10:return e?i?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return e?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.weight,this.ys.timeScale.timeVisible,this.ys.timeScale.secondsVisible),n=this.ys.timeScale;if(void 0!==n.tickMarkFormatter){const r=n.tickMarkFormatter(t.originalTime,i,e.locale);if(null!==r)return r}return function(t,e,i){const n={};switch(e){case 0:n.year="numeric";break;case 1:n.month="short";break;case 2:n.day="numeric";break;case 3:n.hour12=!1,n.hour="2-digit",n.minute="2-digit";break;case 4:n.hour12=!1,n.hour="2-digit",n.minute="2-digit",n.second="2-digit"}const r=void 0===t.zc?new Date(1e3*t.Ec):new Date(Date.UTC(t.zc.year,t.zc.month-1,t.zc.day));return new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()).toLocaleString(i,n)}(t.time,i,e.locale)}maxTickMarkWeight(t){let e=t.reduce(Le,t[0]).weight;return e>30&&e<50&&(e=30),e}fillWeightsForPoints(t,e){!function(t,e=0){if(0===t.length)return;let i=0===e?null:t[e-1].time.Ec,n=null!==i?new Date(1e3*i):null,r=0;for(let o=e;o<t.length;++o){const e=t[o],s=new Date(1e3*e.time.Ec);null!==n&&(e.timeWeight=Je(s,n)),r+=e.time.Ec-(i||e.time.Ec),i=e.time.Ec,n=s}if(0===e&&t.length>1){const e=Math.ceil(r/(t.length-1)),i=new Date(1e3*(t[0].time.Ec-e));t[0].timeWeight=Je(new Date(1e3*t[0].time.Ec),i)}}(t,e)}static Oc(t){return A({localization:{dateFormat:"dd MMM 'yy"}},t??{})}}const oi="undefined"!=typeof window;function si(){return!!oi&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function ai(){return!!oi&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function hi(t){return t+t%2}class li{constructor(t,e,i){this.Nc=0,this.Wc=null,this.Fc={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.Hc=0,this.Uc=null,this.$c={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.qc=null,this.Yc=!1,this.jc=null,this.Kc=null,this.Xc=!1,this.Zc=!1,this.Gc=!1,this.Jc=null,this.Qc=null,this.td=null,this.sd=null,this.nd=null,this.ed=null,this.rd=null,this.hd=0,this.ad=!1,this.ld=!1,this.od=!1,this._d=0,this.ud=null,this.dd=!ai(),this.fd=t=>{this.pd(t)},this.vd=t=>{if(this.md(t)){const e=this.wd(t);if(++this.Hc,this.Uc&&this.Hc>1){const{gd:i}=this.Md(pi(t),this.$c);i<30&&!this.Gc&&this.bd(e,this.Sd.xd),this.Cd()}}else{const e=this.wd(t);if(++this.Nc,this.Wc&&this.Nc>1){const{gd:i}=this.Md(pi(t),this.Fc);i<5&&!this.Zc&&this.yd(e,this.Sd.Pd),this.kd()}}},this.Td=t,this.Sd=e,this.ys=i,this.Rd()}m(){null!==this.Jc&&(this.Jc(),this.Jc=null),null!==this.Qc&&(this.Qc(),this.Qc=null),null!==this.sd&&(this.sd(),this.sd=null),null!==this.nd&&(this.nd(),this.nd=null),null!==this.ed&&(this.ed(),this.ed=null),null!==this.td&&(this.td(),this.td=null),this.Dd(),this.kd()}Vd(t){this.sd&&this.sd();const e=this.Id.bind(this);if(this.sd=()=>{this.Td.removeEventListener("mousemove",e)},this.Td.addEventListener("mousemove",e),this.md(t))return;const i=this.wd(t);this.yd(i,this.Sd.Bd),this.dd=!0}kd(){null!==this.Wc&&clearTimeout(this.Wc),this.Nc=0,this.Wc=null,this.Fc={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Cd(){null!==this.Uc&&clearTimeout(this.Uc),this.Hc=0,this.Uc=null,this.$c={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Id(t){if(this.od||null!==this.Kc)return;if(this.md(t))return;const e=this.wd(t);this.yd(e,this.Sd.Ad),this.dd=!0}Ed(t){const e=di(t.changedTouches,x(this.ud));if(null===e)return;if(this._d=fi(t),null!==this.rd)return;if(this.ld)return;this.ad=!0;const i=this.Md(pi(e),x(this.Kc)),{zd:n,Ld:r,gd:o}=i;if(this.Xc||!(o<5)){if(!this.Xc){const t=.5*n,e=r>=t&&!this.ys.Od(),i=t>r&&!this.ys.Nd();e||i||(this.ld=!0),this.Xc=!0,this.Gc=!0,this.Dd(),this.Cd()}if(!this.ld){const i=this.wd(t,e);this.bd(i,this.Sd.Wd),ci(t)}}}Fd(t){if(0!==t.button)return;const e=this.Md(pi(t),x(this.jc)),{gd:i}=e;if(i>=5&&(this.Zc=!0,this.kd()),this.Zc){const e=this.wd(t);this.yd(e,this.Sd.Hd)}}Md(t,e){const i=Math.abs(e._t-t._t),n=Math.abs(e.ut-t.ut);return{zd:i,Ld:n,gd:i+n}}Ud(t){let e=di(t.changedTouches,x(this.ud));if(null===e&&0===t.touches.length&&(e=t.changedTouches[0]),null===e)return;this.ud=null,this._d=fi(t),this.Dd(),this.Kc=null,this.ed&&(this.ed(),this.ed=null);const i=this.wd(t,e);if(this.bd(i,this.Sd.$d),++this.Hc,this.Uc&&this.Hc>1){const{gd:t}=this.Md(pi(e),this.$c);t<30&&!this.Gc&&this.bd(i,this.Sd.xd),this.Cd()}else this.Gc||(this.bd(i,this.Sd.qd),this.Sd.qd&&ci(t));0===this.Hc&&ci(t),0===t.touches.length&&this.Yc&&(this.Yc=!1,ci(t))}pd(t){if(0!==t.button)return;const e=this.wd(t);if(this.jc=null,this.od=!1,this.nd&&(this.nd(),this.nd=null),si()&&this.Td.ownerDocument.documentElement.removeEventListener("mouseleave",this.fd),!this.md(t))if(this.yd(e,this.Sd.Yd),++this.Nc,this.Wc&&this.Nc>1){const{gd:i}=this.Md(pi(t),this.Fc);i<5&&!this.Zc&&this.yd(e,this.Sd.Pd),this.kd()}else this.Zc||this.yd(e,this.Sd.jd)}Dd(){null!==this.qc&&(clearTimeout(this.qc),this.qc=null)}Kd(t){if(null!==this.ud)return;const e=t.changedTouches[0];this.ud=e.identifier,this._d=fi(t);const i=this.Td.ownerDocument.documentElement;this.Gc=!1,this.Xc=!1,this.ld=!1,this.Kc=pi(e),this.ed&&(this.ed(),this.ed=null);{const e=this.Ed.bind(this),n=this.Ud.bind(this);this.ed=()=>{i.removeEventListener("touchmove",e),i.removeEventListener("touchend",n)},i.addEventListener("touchmove",e,{passive:!1}),i.addEventListener("touchend",n,{passive:!1}),this.Dd(),this.qc=setTimeout(this.Xd.bind(this,t),240)}const n=this.wd(t,e);this.bd(n,this.Sd.Zd),this.Uc||(this.Hc=0,this.Uc=setTimeout(this.Cd.bind(this),500),this.$c=pi(e))}Gd(t){if(0!==t.button)return;const e=this.Td.ownerDocument.documentElement;si()&&e.addEventListener("mouseleave",this.fd),this.Zc=!1,this.jc=pi(t),this.nd&&(this.nd(),this.nd=null);{const t=this.Fd.bind(this),i=this.pd.bind(this);this.nd=()=>{e.removeEventListener("mousemove",t),e.removeEventListener("mouseup",i)},e.addEventListener("mousemove",t),e.addEventListener("mouseup",i)}if(this.od=!0,this.md(t))return;const i=this.wd(t);this.yd(i,this.Sd.Jd),this.Wc||(this.Nc=0,this.Wc=setTimeout(this.kd.bind(this),500),this.Fc=pi(t))}Rd(){this.Td.addEventListener("mouseenter",this.Vd.bind(this)),this.Td.addEventListener("touchcancel",this.Dd.bind(this));{const t=this.Td.ownerDocument,e=t=>{this.Sd.Qd&&(t.composed&&this.Td.contains(t.composedPath()[0])||t.target&&this.Td.contains(t.target)||this.Sd.Qd())};this.Qc=()=>{t.removeEventListener("touchstart",e)},this.Jc=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}ai()&&(this.td=()=>{this.Td.removeEventListener("dblclick",this.vd)},this.Td.addEventListener("dblclick",this.vd)),this.Td.addEventListener("mouseleave",this.tf.bind(this)),this.Td.addEventListener("touchstart",this.Kd.bind(this),{passive:!0}),function(t){oi&&void 0!==window.chrome&&t.addEventListener("mousedown",(t=>{if(1===t.button)return t.preventDefault(),!1}))}(this.Td),this.Td.addEventListener("mousedown",this.Gd.bind(this)),this.if(),this.Td.addEventListener("touchmove",(()=>{}),{passive:!1})}if(){void 0===this.Sd.sf&&void 0===this.Sd.nf&&void 0===this.Sd.ef||(this.Td.addEventListener("touchstart",(t=>this.rf(t.touches)),{passive:!0}),this.Td.addEventListener("touchmove",(t=>{if(2===t.touches.length&&null!==this.rd&&void 0!==this.Sd.nf){const e=ui(t.touches[0],t.touches[1])/this.hd;this.Sd.nf(this.rd,e),ci(t)}}),{passive:!1}),this.Td.addEventListener("touchend",(t=>{this.rf(t.touches)})))}rf(t){1===t.length&&(this.ad=!1),2!==t.length||this.ad||this.Yc?this.hf():this.af(t)}af(t){const e=this.Td.getBoundingClientRect()||{left:0,top:0};this.rd={_t:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,ut:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.hd=ui(t[0],t[1]),void 0!==this.Sd.sf&&this.Sd.sf(),this.Dd()}hf(){null!==this.rd&&(this.rd=null,void 0!==this.Sd.ef&&this.Sd.ef())}tf(t){if(this.sd&&this.sd(),this.md(t))return;if(!this.dd)return;const e=this.wd(t);this.yd(e,this.Sd.lf),this.dd=!ai()}Xd(t){const e=di(t.touches,x(this.ud));if(null===e)return;const i=this.wd(t,e);this.bd(i,this.Sd._f),this.Gc=!0,this.Yc=!0}md(t){return t.sourceCapabilities&&void 0!==t.sourceCapabilities.firesTouchEvents?t.sourceCapabilities.firesTouchEvents:fi(t)<this._d+500}bd(t,e){e&&e.call(this.Sd,t)}yd(t,e){e&&e.call(this.Sd,t)}wd(t,e){const i=e||t,n=this.Td.getBoundingClientRect()||{left:0,top:0};return{clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,localX:i.clientX-n.left,localY:i.clientY-n.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,uf:!t.type.startsWith("mouse")&&"contextmenu"!==t.type&&"click"!==t.type,cf:t.type,df:i.target,Ho:t.view,ff:()=>{"touchstart"!==t.type&&ci(t)}}}}function ui(t,e){const i=t.clientX-e.clientX,n=t.clientY-e.clientY;return Math.sqrt(i*i+n*n)}function ci(t){t.cancelable&&t.preventDefault()}function pi(t){return{_t:t.pageX,ut:t.pageY}}function fi(t){return t.timeStamp||performance.now()}function di(t,e){for(let i=0;i<t.length;++i)if(t[i].identifier===e)return t[i];return null}class mi{constructor(t,e,i){this.pf=null,this.vf=null,this.mf=!0,this.wf=null,this.gf=t,this.Mf=t.bf()[e],this.xf=t.bf()[i],this.Sf=document.createElement("tr"),this.Sf.style.height="1px",this.Cf=document.createElement("td"),this.Cf.style.position="relative",this.Cf.style.padding="0",this.Cf.style.margin="0",this.Cf.setAttribute("colspan","3"),this.yf(),this.Sf.appendChild(this.Cf),this.mf=this.gf.N().layout.panes.enableResize,this.mf?this.Pf():(this.pf=null,this.vf=null)}m(){null!==this.vf&&this.vf.m()}kf(){return this.Sf}Tf(){return r({width:this.Mf.Tf().width,height:1})}Rf(){return r({width:this.Mf.Rf().width,height:1*window.devicePixelRatio})}Df(t,e,i){const n=this.Rf();t.fillStyle=this.gf.N().layout.panes.separatorColor,t.fillRect(e,i,n.width,n.height)}Pt(){this.yf(),this.gf.N().layout.panes.enableResize!==this.mf&&(this.mf=this.gf.N().layout.panes.enableResize,this.mf?this.Pf():(null!==this.pf&&(this.Cf.removeChild(this.pf.Vf),this.Cf.removeChild(this.pf.If),this.pf=null),null!==this.vf&&(this.vf.m(),this.vf=null)))}Pf(){const t=document.createElement("div"),e=t.style;e.position="fixed",e.display="none",e.zIndex="49",e.top="0",e.left="0",e.width="100%",e.height="100%",e.cursor="row-resize",this.Cf.appendChild(t);const i=document.createElement("div"),n=i.style;n.position="absolute",n.zIndex="50",n.top="-4px",n.height="9px",n.width="100%",n.backgroundColor="",n.cursor="row-resize",this.Cf.appendChild(i);const r={Bd:this.Bf.bind(this),lf:this.Af.bind(this),Jd:this.Ef.bind(this),Zd:this.Ef.bind(this),Hd:this.zf.bind(this),Wd:this.zf.bind(this),Yd:this.Lf.bind(this),$d:this.Lf.bind(this)};this.vf=new li(i,r,{Od:()=>!1,Nd:()=>!0}),this.pf={If:i,Vf:t}}yf(){this.Cf.style.background=this.gf.N().layout.panes.separatorColor}Bf(t){null!==this.pf&&(this.pf.If.style.backgroundColor=this.gf.N().layout.panes.separatorHoverColor)}Af(t){null!==this.pf&&null===this.wf&&(this.pf.If.style.backgroundColor="")}Ef(t){if(null===this.pf)return;const e=this.Mf.Of().fo()+this.xf.Of().fo(),i=e/(this.Mf.Tf().height+this.xf.Tf().height),n=30*i;e<=2*n||(this.wf={Nf:t.pageY,Wf:this.Mf.Of().fo(),Ff:e-n,Hf:e,Uf:i,$f:n},this.pf.Vf.style.display="block")}zf(t){const e=this.wf;if(null===e)return;const i=(t.pageY-e.Nf)*e.Uf,n=ie(e.Wf+i,e.$f,e.Ff);this.Mf.Of().po(n),this.xf.Of().po(e.Hf-n),this.gf.Qt().Bh()}Lf(t){null!==this.wf&&null!==this.pf&&(this.wf=null,this.pf.Vf.style.display="none")}}function gi(t,e){return t.qf-e.qf}function vi(t,e,i){const n=(t.qf-e.qf)/(t.wt-e.wt);return Math.sign(n)*Math.min(Math.abs(n),i)}class yi{constructor(t,e,i,n){this.Yf=null,this.jf=null,this.Kf=null,this.Xf=null,this.Zf=null,this.Gf=0,this.Jf=0,this.Qf=t,this.tp=e,this.ip=i,this.Mn=n}sp(t,e){if(null!==this.Yf){if(this.Yf.wt===e)return void(this.Yf.qf=t);if(Math.abs(this.Yf.qf-t)<this.Mn)return}this.Xf=this.Kf,this.Kf=this.jf,this.jf=this.Yf,this.Yf={wt:e,qf:t}}le(t,e){if(null===this.Yf||null===this.jf)return;if(e-this.Yf.wt>50)return;let i=0;const n=vi(this.Yf,this.jf,this.tp),r=gi(this.Yf,this.jf),o=[n],s=[r];if(i+=r,null!==this.Kf){const t=vi(this.jf,this.Kf,this.tp);if(Math.sign(t)===Math.sign(n)){const e=gi(this.jf,this.Kf);if(o.push(t),s.push(e),i+=e,null!==this.Xf){const t=vi(this.Kf,this.Xf,this.tp);if(Math.sign(t)===Math.sign(n)){const e=gi(this.Kf,this.Xf);o.push(t),s.push(e),i+=e}}}}let a=0;for(let t=0;t<o.length;++t)a+=s[t]/i*o[t];Math.abs(a)<this.Qf||(this.Zf={qf:t,wt:e},this.Jf=a,this.Gf=function(t,e){const i=Math.log(e);return Math.log(1*i/-t)/i}(Math.abs(a),this.ip))}_u(t){const e=x(this.Zf),i=t-e.wt;return e.qf+this.Jf*(Math.pow(this.ip,i)-1)/Math.log(this.ip)}ou(t){return null===this.Zf||this.np(t)===this.Gf}np(t){const e=t-x(this.Zf).wt;return Math.min(e,this.Gf)}}class xi{constructor(t,e){this.ep=void 0,this.rp=void 0,this.hp=void 0,this.ps=!1,this.ap=t,this.lp=e,this.op()}Pt(){this.op()}_p(){this.ep&&this.ap.removeChild(this.ep),this.rp&&this.ap.removeChild(this.rp),this.ep=void 0,this.rp=void 0}up(){return this.ps!==this.cp()||this.hp!==this.dp()}dp(){return this.lp.Qt().Xi().J(this.lp.N().layout.textColor)>160?"dark":"light"}cp(){return this.lp.N().layout.attributionLogo}fp(){const t=new URL(location.href);return t.hostname?"&utm_source="+t.hostname+t.pathname:""}op(){this.up()&&(this._p(),this.ps=this.cp(),this.ps&&(this.hp=this.dp(),this.rp=document.createElement("style"),this.rp.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.ep=document.createElement("a"),this.ep.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.fp()}`,this.ep.title="Charting by TradingView",this.ep.id="tv-attr-logo",this.ep.target="_blank",this.ep.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.ep.toggleAttribute("data-dark","dark"===this.hp),this.ap.appendChild(this.rp),this.ap.appendChild(this.ep)))}}function bi(t,e){const i=x(t.ownerDocument).createElement("canvas");t.appendChild(i);const n=function(t,e){if("device-pixel-content-box"===e.type)return new a(t,e.transform,e.options);throw new Error("Unsupported binding target")}(i,{type:"device-pixel-content-box",options:{allowResizeObserver:!0},transform:(t,e)=>({width:Math.max(t.width,e.width),height:Math.max(t.height,e.height)})});return n.resizeCanvasElement(e),n}function wi(t){t.width=1,t.height=1,t.getContext("2d")?.clearRect(0,0,1,1)}function Ai(t,e,i,n){t.ih&&t.ih(e,i,n)}function Ci(t,e,i,n){t.nt(e,i,n)}function Si(t,e,i,n){const r=t(i,n);for(const t of r){const i=t.Tt(n);null!==i&&e(i)}}function ki(t,e){return i=>function(t){return void 0!==t.Wt}(i)?(i.Wt()?.wa()??"")!==e?[]:i.ta?.(t)??[]:[]}function _i(t,e,i,n){if(!t.length)return;let r=0;const o=t[0].$t(n,!0);let s=1===e?i/2-(t[0].Wi()-o/2):t[0].Wi()-o/2-i/2;s=Math.max(0,s);for(let o=1;o<t.length;o++){const a=t[o],h=t[o-1],l=h.$t(n,!1),u=a.Wi(),c=h.Wi();if(1===e?u>c-l:u<c+l){const n=c-l*e;a.Fi(n);const o=n-e*l/2;if((1===e?o<0:o>i)&&s>0){const n=1===e?-1-o:o-i,a=Math.min(n,s);for(let i=r;i<t.length;i++)t[i].Fi(t[i].Wi()+e*a);s-=a}}else r=o,s=1===e?c-l-u:u-(c+l)}}class Mi{constructor(t,e,i,n){this.Yi=null,this.pp=null,this.vp=!1,this.mp=new ut(200),this.wp=null,this.gp=0,this.Mp=!1,this.bp=()=>{this.Mp||this.yt.xp().Qt().ar()},this.Sp=()=>{this.Mp||this.yt.xp().Qt().ar()},this.yt=t,this.ys=e,this.ul=e.layout,this.Iu=i,this.Cp="left"===n,this.yp=ki("normal",n),this.Pp=ki("top",n),this.kp=ki("bottom",n),this.Cf=document.createElement("div"),this.Cf.style.height="100%",this.Cf.style.overflow="hidden",this.Cf.style.width="25px",this.Cf.style.left="0",this.Cf.style.position="relative",this.Tp=bi(this.Cf,r({width:16,height:16})),this.Tp.subscribeSuggestedBitmapSizeChanged(this.bp);const o=this.Tp.canvasElement;o.style.position="absolute",o.style.zIndex="1",o.style.left="0",o.style.top="0",this.Rp=bi(this.Cf,r({width:16,height:16})),this.Rp.subscribeSuggestedBitmapSizeChanged(this.Sp);const s=this.Rp.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0";const a={Jd:this.Ef.bind(this),Zd:this.Ef.bind(this),Hd:this.zf.bind(this),Wd:this.zf.bind(this),Qd:this.Dp.bind(this),Yd:this.Lf.bind(this),$d:this.Lf.bind(this),Pd:this.Vp.bind(this),xd:this.Vp.bind(this),Bd:this.Ip.bind(this),lf:this.Af.bind(this)};this.vf=new li(this.Rp.canvasElement,a,{Od:()=>!this.ys.handleScroll.vertTouchDrag,Nd:()=>!0})}m(){this.vf.m(),this.Rp.unsubscribeSuggestedBitmapSizeChanged(this.Sp),wi(this.Rp.canvasElement),this.Rp.dispose(),this.Tp.unsubscribeSuggestedBitmapSizeChanged(this.bp),wi(this.Tp.canvasElement),this.Tp.dispose(),null!==this.Yi&&this.Yi.Ul().u(this),this.Yi=null}kf(){return this.Cf}P(){return this.ul.fontSize}Bp(){const t=this.Iu.N();return this.wp!==t.k&&(this.mp.In(),this.wp=t.k),t}Ap(){if(null===this.Yi)return 0;let t=0;const e=this.Bp(),i=x(this.Tp.canvasElement.getContext("2d",{colorSpace:this.yt.xp().N().layout.colorSpace}));i.save();const n=this.Yi.Va();i.font=this.Ep(),n.length>0&&(t=Math.max(this.mp.Vi(i,n[0].$a),this.mp.Vi(i,n[n.length-1].$a)));const r=this.zp();for(let e=r.length;e--;){const n=this.mp.Vi(i,r[e].ri());n>t&&(t=n)}const o=this.Yi.zt();if(null!==o&&null!==this.pp&&2!==(s=this.ys.crosshair).mode&&s.horzLine.visible&&s.horzLine.labelVisible){const e=this.Yi.Ts(1,o),n=this.Yi.Ts(this.pp.height-2,o);t=Math.max(t,this.mp.Vi(i,this.Yi.Zi(Math.floor(Math.min(e,n))+.11111111111111,o)),this.mp.Vi(i,this.Yi.Zi(Math.ceil(Math.max(e,n))-.11111111111111,o)))}var s;i.restore();const a=t||34;return hi(Math.ceil(e.S+e.C+e.I+e.B+5+a))}Lp(t){null!==this.pp&&o(this.pp,t)||(this.pp=t,this.Mp=!0,this.Tp.resizeCanvasElement(t),this.Rp.resizeCanvasElement(t),this.Mp=!1,this.Cf.style.width=`${t.width}px`,this.Cf.style.height=`${t.height}px`)}Op(){return x(this.pp).width}_s(t){this.Yi!==t&&(null!==this.Yi&&this.Yi.Ul().u(this),this.Yi=t,t.Ul().i(this.il.bind(this),this))}Wt(){return this.Yi}In(){const t=this.yt.Of();this.yt.xp().Qt().Vo(t,x(this.Wt()))}Np(t){if(null===this.pp)return;const e={colorSpace:this.yt.xp().N().layout.colorSpace};if(1!==t){this.Wp(),this.Tp.applySuggestedBitmapSize();const t=u(this.Tp,e);null!==t&&(t.useBitmapCoordinateSpace((t=>{this.Fp(t),this.Hp(t)})),this.yt.Up(t,this.kp),this.$p(t),this.yt.Up(t,this.yp),this.qp(t))}this.Rp.applySuggestedBitmapSize();const i=u(this.Rp,e);null!==i&&(i.useBitmapCoordinateSpace((({context:t,bitmapSize:e})=>{t.clearRect(0,0,e.width,e.height)})),this.Yp(i),this.yt.Up(i,this.Pp))}Rf(){return this.Tp.bitmapSize}Df(t,e,i){const n=this.Rf();n.width>0&&n.height>0&&t.drawImage(this.Tp.canvasElement,e,i)}Pt(){this.Yi?.Va()}Ef(t){if(null===this.Yi||this.Yi.Ki()||!this.ys.handleScale.axisPressedMouseMove.price)return;const e=this.yt.xp().Qt(),i=this.yt.Of();this.vp=!0,e.Co(i,this.Yi,t.localY)}zf(t){if(null===this.Yi||!this.ys.handleScale.axisPressedMouseMove.price)return;const e=this.yt.xp().Qt(),i=this.yt.Of(),n=this.Yi;e.yo(i,n,t.localY)}Dp(){if(null===this.Yi||!this.ys.handleScale.axisPressedMouseMove.price)return;const t=this.yt.xp().Qt(),e=this.yt.Of(),i=this.Yi;this.vp&&(this.vp=!1,t.Po(e,i))}Lf(t){if(null===this.Yi||!this.ys.handleScale.axisPressedMouseMove.price)return;const e=this.yt.xp().Qt(),i=this.yt.Of();this.vp=!1,e.Po(i,this.Yi)}Vp(t){this.ys.handleScale.axisDoubleClickReset.price&&this.In()}Ip(t){null!==this.Yi&&(!this.yt.xp().Qt().N().handleScale.axisPressedMouseMove.price||this.Yi.Le()||this.Yi.Ml()||this.jp(1))}Af(t){this.jp(0)}zp(){const t=[],e=null===this.Yi?void 0:this.Yi;return(i=>{for(let n=0;n<i.length;++n){const r=i[n].Fs(this.yt.Of(),e);for(let e=0;e<r.length;e++)t.push(r[e])}})(this.yt.Of().Dt()),t}Fp({context:t,bitmapSize:e}){const{width:i,height:n}=e,r=this.yt.Of().Qt(),o=r.$(),s=r.Mc();o===s?Y(t,0,0,i,n,o):Z(t,0,0,i,n,o,s)}Hp({context:t,bitmapSize:e,horizontalPixelRatio:i}){if(null===this.pp||null===this.Yi||!this.Yi.N().borderVisible)return;t.fillStyle=this.Yi.N().borderColor;const n=Math.max(1,Math.floor(this.Bp().S*i));let r;r=this.Cp?e.width-n:0,t.fillRect(r,0,n,e.height)}$p(t){if(null===this.pp||null===this.Yi)return;const e=this.Yi.Va(),i=this.Yi.N(),n=this.Bp(),r=this.Cp?this.pp.width-n.C:0;i.borderVisible&&i.ticksVisible&&t.useBitmapCoordinateSpace((({context:t,horizontalPixelRatio:o,verticalPixelRatio:s})=>{t.fillStyle=i.borderColor;const a=Math.max(1,Math.floor(s)),h=Math.floor(.5*s),l=Math.round(n.C*o);t.beginPath();for(const i of e)t.rect(Math.floor(r*o),Math.round(i.Pa*s)-h,l,a);t.fill()})),t.useMediaCoordinateSpace((({context:t})=>{t.font=this.Ep(),t.fillStyle=i.textColor??this.ul.textColor,t.textAlign=this.Cp?"right":"left",t.textBaseline="middle";const o=this.Cp?Math.round(r-n.I):Math.round(r+n.C+n.I),s=e.map((e=>this.mp.Di(t,e.$a)));for(let i=e.length;i--;){const n=e[i];t.fillText(n.$a,o,n.Pa+s[i])}}))}Wp(){if(null===this.pp||null===this.Yi)return;let t=this.pp.height/2;const e=[],i=this.Yi.Dt().slice(),n=this.yt.Of(),r=this.Bp();this.Yi===n.$n()&&this.yt.Of().Dt().forEach((t=>{n.Un(t)&&i.push(t)}));const o=this.Yi.ba()[0],s=this.Yi;i.forEach((i=>{const r=i.Fs(n,s);r.forEach((t=>{t.Fi(null),t.Hi()&&e.push(t)})),o===i&&r.length>0&&(t=r[0].Bi())})),e.forEach((t=>t.Fi(t.Bi()))),this.Yi.N().alignLabels&&this.Kp(e,r,t)}Kp(t,e,i){if(null===this.pp)return;const n=t.filter((t=>t.Bi()<=i)),r=t.filter((t=>t.Bi()>i));n.sort(((t,e)=>e.Bi()-t.Bi())),n.length&&r.length&&r.push(n[0]),r.sort(((t,e)=>t.Bi()-e.Bi()));for(const i of t){const t=Math.floor(i.$t(e)/2),n=i.Bi();n>-t&&n<t&&i.Fi(t),n>this.pp.height-t&&n<this.pp.height+t&&i.Fi(this.pp.height-t)}_i(n,1,this.pp.height,e),_i(r,-1,this.pp.height,e)}qp(t){if(null===this.pp)return;const e=this.zp(),i=this.Bp(),n=this.Cp?"right":"left";e.forEach((e=>{e.Ui()&&e.Tt(x(this.Yi)).nt(t,i,this.mp,n)}))}Yp(t){if(null===this.pp||null===this.Yi)return;const e=this.yt.xp().Qt(),i=[],n=this.yt.Of(),r=e.$u().Fs(n,this.Yi);r.length&&i.push(r);const o=this.Bp(),s=this.Cp?"right":"left";i.forEach((e=>{e.forEach((e=>{e.Tt(x(this.Yi)).nt(t,o,this.mp,s)}))}))}jp(t){this.Cf.style.cursor=1===t?"ns-resize":"default"}il(){const t=this.Ap();this.gp<t&&this.yt.xp().Qt().Bh(),this.gp=t}Ep(){return D(this.ul.fontSize,this.ul.fontFamily)}}function Ti(t,e){return t.Jh?.(e)??[]}function Oi(t,e){return t.Ws?.(e)??[]}function zi(t,e){return t.us?.(e)??[]}function Di(t,e){return t.Xh?.(e)??[]}class Ei{constructor(t,e){this.pp=r({width:0,height:0}),this.Xp=null,this.Zp=null,this.Gp=null,this.Jp=null,this.Qp=!1,this.tv=new w,this.iv=new w,this.sv=0,this.nv=!1,this.ev=null,this.rv=!1,this.hv=null,this.av=null,this.Mp=!1,this.bp=()=>{this.Mp||null===this.lv||this.ts().ar()},this.Sp=()=>{this.Mp||null===this.lv||this.ts().ar()},this.lp=t,this.lv=e,this.lv.Eo().i(this.ov.bind(this),this,!0),this._v=document.createElement("td"),this._v.style.padding="0",this._v.style.position="relative";const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this.uv=document.createElement("td"),this.uv.style.padding="0",this.cv=document.createElement("td"),this.cv.style.padding="0",this._v.appendChild(i),this.Tp=bi(i,r({width:16,height:16})),this.Tp.subscribeSuggestedBitmapSizeChanged(this.bp);const n=this.Tp.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.Rp=bi(i,r({width:16,height:16})),this.Rp.subscribeSuggestedBitmapSizeChanged(this.Sp);const o=this.Rp.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0",this.Sf=document.createElement("tr"),this.Sf.appendChild(this.uv),this.Sf.appendChild(this._v),this.Sf.appendChild(this.cv),this.dv(),this.vf=new li(this.Rp.canvasElement,this,{Od:()=>null===this.ev&&!this.lp.N().handleScroll.vertTouchDrag,Nd:()=>null===this.ev&&!this.lp.N().handleScroll.horzTouchDrag})}m(){null!==this.Xp&&this.Xp.m(),null!==this.Zp&&this.Zp.m(),this.Gp=null,this.Rp.unsubscribeSuggestedBitmapSizeChanged(this.Sp),wi(this.Rp.canvasElement),this.Rp.dispose(),this.Tp.unsubscribeSuggestedBitmapSizeChanged(this.bp),wi(this.Tp.canvasElement),this.Tp.dispose(),null!==this.lv&&(this.lv.Eo().u(this),this.lv.m()),this.vf.m()}Of(){return x(this.lv)}fv(t){null!==this.lv&&this.lv.Eo().u(this),this.lv=t,null!==this.lv&&this.lv.Eo().i(Ei.prototype.ov.bind(this),this,!0),this.dv(),this.lp.bf().indexOf(this)===this.lp.bf().length-1?(this.Gp=this.Gp??new xi(this._v,this.lp),this.Gp.Pt()):(this.Gp?._p(),this.Gp=null)}xp(){return this.lp}kf(){return this.Sf}dv(){if(null!==this.lv&&(this.pv(),0!==this.ts().js().length)){if(null!==this.Xp){const t=this.lv.xo();this.Xp._s(x(t))}if(null!==this.Zp){const t=this.lv.So();this.Zp._s(x(t))}}}vv(){null!==this.Xp&&this.Xp.Pt(),null!==this.Zp&&this.Zp.Pt()}fo(){return null!==this.lv?this.lv.fo():0}po(t){this.lv&&this.lv.po(t)}Bd(t){if(!this.lv)return;this.mv();const e=t.localX,i=t.localY;this.wv(e,i,t)}Jd(t){this.mv(),this.gv(),this.wv(t.localX,t.localY,t)}Ad(t){if(!this.lv)return;this.mv();const e=t.localX,i=t.localY;this.wv(e,i,t)}jd(t){null!==this.lv&&(this.mv(),this.Mv(t))}Pd(t){null!==this.lv&&this.bv(this.iv,t)}xd(t){this.Pd(t)}Hd(t){this.mv(),this.xv(t),this.wv(t.localX,t.localY,t)}Yd(t){null!==this.lv&&(this.mv(),this.nv=!1,this.Sv(t))}qd(t){null!==this.lv&&this.Mv(t)}_f(t){if(this.nv=!0,null===this.ev){const e={x:t.localX,y:t.localY};this.Cv(e,e,t)}}lf(t){null!==this.lv&&(this.mv(),this.lv.Qt().Fu(null),this.yv())}Pv(){return this.tv}kv(){return this.iv}sf(){this.sv=1,this.ts().hn()}nf(t,e){if(!this.lp.N().handleScale.pinch)return;const i=5*(e-this.sv);this.sv=e,this.ts().Ju(t._t,i)}Zd(t){this.nv=!1,this.rv=null!==this.ev,this.gv();const e=this.ts().$u();null!==this.ev&&e.Vt()&&(this.hv={x:e.si(),y:e.ni()},this.ev={x:t.localX,y:t.localY})}Wd(t){if(null===this.lv)return;const e=t.localX,i=t.localY;if(null===this.ev)this.xv(t);else{this.rv=!1;const n=x(this.hv),r=n.x+(e-this.ev.x),o=n.y+(i-this.ev.y);this.wv(r,o,t)}}$d(t){0===this.xp().N().trackingMode.exitMode&&(this.rv=!0),this.Tv(),this.Sv(t)}jn(t,e){const i=this.lv;return null===i?null:Oe(i,t,e)}Rv(t,e){x("left"===e?this.Xp:this.Zp).Lp(r({width:t,height:this.pp.height}))}Tf(){return this.pp}Lp(t){o(this.pp,t)||(this.pp=t,this.Mp=!0,this.Tp.resizeCanvasElement(t),this.Rp.resizeCanvasElement(t),this.Mp=!1,this._v.style.width=t.width+"px",this._v.style.height=t.height+"px")}Dv(){const t=x(this.lv);t.bo(t.xo()),t.bo(t.So());for(const e of t.ba())if(t.Un(e)){const i=e.Wt();null!==i&&t.bo(i),e.Ns()}for(const e of t.Lo())e.Ns()}Rf(){return this.Tp.bitmapSize}Df(t,e,i){const n=this.Rf();n.width>0&&n.height>0&&t.drawImage(this.Tp.canvasElement,e,i)}Np(t){if(0===t)return;if(null===this.lv)return;t>1&&this.Dv(),null!==this.Xp&&this.Xp.Np(t),null!==this.Zp&&this.Zp.Np(t);const e={colorSpace:this.lp.N().layout.colorSpace};if(1!==t){this.Tp.applySuggestedBitmapSize();const t=u(this.Tp,e);null!==t&&(t.useBitmapCoordinateSpace((t=>{this.Fp(t)})),this.lv&&(this.Vv(t,Ti),this.Iv(t),this.Vv(t,Oi),this.Vv(t,zi)))}this.Rp.applySuggestedBitmapSize();const i=u(this.Rp,e);null!==i&&(i.useBitmapCoordinateSpace((({context:t,bitmapSize:e})=>{t.clearRect(0,0,e.width,e.height)})),this.Bv(i),this.Vv(i,Di),this.Vv(i,zi))}Av(){return this.Xp}Ev(){return this.Zp}Up(t,e){this.Vv(t,e)}ov(){null!==this.lv&&this.lv.Eo().u(this),this.lv=null}Mv(t){this.bv(this.tv,t)}bv(t,e){const i=e.localX,n=e.localY;t.v()&&t.p(this.ts().At().Y_(i),{x:i,y:n},e)}Fp({context:t,bitmapSize:e}){const{width:i,height:n}=e,r=this.ts(),o=r.$(),s=r.Mc();o===s?Y(t,0,0,i,n,s):Z(t,0,0,i,n,o,s)}Iv(t){const e=x(this.lv),i=e.zo().lr().Tt(e);null!==i&&i.nt(t,!1)}Bv(t){this.zv(t,Oi,Ci,this.ts().$u())}Vv(t,e){const i=x(this.lv),n=i.Dt(),r=i.Lo();for(const i of r)this.zv(t,e,Ai,i);for(const i of n)this.zv(t,e,Ai,i);for(const i of r)this.zv(t,e,Ci,i);for(const i of n)this.zv(t,e,Ci,i)}zv(t,e,i,n){const r=x(this.lv),o=r.Qt().Wu(),s=null!==o&&o.Oo===n,a=null!==o&&s&&void 0!==o.No?o.No.Xn:void 0;Si(e,(e=>i(e,t,s,a)),n,r)}pv(){if(null===this.lv)return;const t=this.lp,e=this.lv.xo().N().visible,i=this.lv.So().N().visible;e||null===this.Xp||(this.uv.removeChild(this.Xp.kf()),this.Xp.m(),this.Xp=null),i||null===this.Zp||(this.cv.removeChild(this.Zp.kf()),this.Zp.m(),this.Zp=null);const n=t.Qt()._c();e&&null===this.Xp&&(this.Xp=new Mi(this,t.N(),n,"left"),this.uv.appendChild(this.Xp.kf())),i&&null===this.Zp&&(this.Zp=new Mi(this,t.N(),n,"right"),this.cv.appendChild(this.Zp.kf()))}Lv(t){return t.uf&&this.nv||null!==this.ev}Ov(t){return Math.max(0,Math.min(t,this.pp.width-1))}Nv(t){return Math.max(0,Math.min(t,this.pp.height-1))}wv(t,e,i){this.ts().hc(this.Ov(t),this.Nv(e),i,x(this.lv))}yv(){this.ts().lc()}Tv(){this.rv&&(this.ev=null,this.yv())}Cv(t,e,i){this.ev=t,this.rv=!1,this.wv(e.x,e.y,i);const n=this.ts().$u();this.hv={x:n.si(),y:n.ni()}}ts(){return this.lp.Qt()}Sv(t){if(!this.Qp)return;const e=this.ts(),i=this.Of();if(e.Ro(i,i.ks()),this.Jp=null,this.Qp=!1,e.nc(),null!==this.av){const t=performance.now(),i=e.At();this.av.le(i.Q_(),t),this.av.ou(t)||e._n(this.av)}}mv(){this.ev=null}gv(){if(this.lv){if(this.ts().hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)x(document.activeElement).blur();else{const t=document.getSelection();null!==t&&t.removeAllRanges()}!this.lv.ks().Ki()&&this.ts().At().Ki()}}xv(t){if(null===this.lv)return;const e=this.ts(),i=e.At();if(i.Ki())return;const n=this.lp.N(),r=n.handleScroll,o=n.kineticScroll;if((!r.pressedMouseMove||t.uf)&&(!r.horzTouchDrag&&!r.vertTouchDrag||!t.uf))return;const s=this.lv.ks(),a=performance.now();if(null!==this.Jp||this.Lv(t)||(this.Jp={x:t.clientX,y:t.clientY,Ec:a,Wv:t.localX,Fv:t.localY}),null!==this.Jp&&!this.Qp&&(this.Jp.x!==t.clientX||this.Jp.y!==t.clientY)){if(t.uf&&o.touch||!t.uf&&o.mouse){const t=i.G_();this.av=new yi(.2/t,7/t,.997,15/t),this.av.sp(i.Q_(),this.Jp.Ec)}else this.av=null;s.Ki()||e.ko(this.lv,s,t.localY),e.tc(t.localX),this.Qp=!0}this.Qp&&(s.Ki()||e.To(this.lv,s,t.localY),e.sc(t.localX),null!==this.av&&this.av.sp(i.Q_(),a))}}class Pi{constructor(t,e,i,n,o){this.St=!0,this.pp=r({width:0,height:0}),this.bp=()=>this.Np(3),this.Cp="left"===t,this.Iu=i._c,this.ys=e,this.Hv=n,this.Uv=o,this.Cf=document.createElement("div"),this.Cf.style.width="25px",this.Cf.style.height="100%",this.Cf.style.overflow="hidden",this.Tp=bi(this.Cf,r({width:16,height:16})),this.Tp.subscribeSuggestedBitmapSizeChanged(this.bp)}m(){this.Tp.unsubscribeSuggestedBitmapSizeChanged(this.bp),wi(this.Tp.canvasElement),this.Tp.dispose()}kf(){return this.Cf}Tf(){return this.pp}Lp(t){o(this.pp,t)||(this.pp=t,this.Tp.resizeCanvasElement(t),this.Cf.style.width=`${t.width}px`,this.Cf.style.height=`${t.height}px`,this.St=!0)}Np(t){if(t<3&&!this.St)return;if(0===this.pp.width||0===this.pp.height)return;this.St=!1,this.Tp.applySuggestedBitmapSize();const e=u(this.Tp,{colorSpace:this.ys.layout.colorSpace});null!==e&&e.useBitmapCoordinateSpace((t=>{this.Fp(t),this.Hp(t)}))}Rf(){return this.Tp.bitmapSize}Df(t,e,i){const n=this.Rf();n.width>0&&n.height>0&&t.drawImage(this.Tp.canvasElement,e,i)}Hp({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:n}){if(!this.Hv())return;t.fillStyle=this.ys.timeScale.borderColor;const r=Math.floor(this.Iu.N().S*i),o=Math.floor(this.Iu.N().S*n),s=this.Cp?e.width-r:0;t.fillRect(s,0,r,o)}Fp({context:t,bitmapSize:e}){Y(t,0,0,e.width,e.height,this.Uv())}}function Bi(t){return e=>e.ia?.(t)??[]}const Li=Bi("normal"),Ri=Bi("top"),Fi=Bi("bottom");class Vi{constructor(t,e){this.$v=null,this.qv=null,this.M=null,this.Yv=!1,this.pp=r({width:0,height:0}),this.jv=new w,this.mp=new ut(5),this.Mp=!1,this.bp=()=>{this.Mp||this.lp.Qt().ar()},this.Sp=()=>{this.Mp||this.lp.Qt().ar()},this.lp=t,this.$o=e,this.ys=t.N().layout,this.ep=document.createElement("tr"),this.Kv=document.createElement("td"),this.Kv.style.padding="0",this.Xv=document.createElement("td"),this.Xv.style.padding="0",this.Cf=document.createElement("td"),this.Cf.style.height="25px",this.Cf.style.padding="0",this.Zv=document.createElement("div"),this.Zv.style.width="100%",this.Zv.style.height="100%",this.Zv.style.position="relative",this.Zv.style.overflow="hidden",this.Cf.appendChild(this.Zv),this.Tp=bi(this.Zv,r({width:16,height:16})),this.Tp.subscribeSuggestedBitmapSizeChanged(this.bp);const i=this.Tp.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Rp=bi(this.Zv,r({width:16,height:16})),this.Rp.subscribeSuggestedBitmapSizeChanged(this.Sp);const n=this.Rp.canvasElement;n.style.position="absolute",n.style.zIndex="2",n.style.left="0",n.style.top="0",this.ep.appendChild(this.Kv),this.ep.appendChild(this.Cf),this.ep.appendChild(this.Xv),this.Gv(),this.lp.Qt().do().i(this.Gv.bind(this),this),this.vf=new li(this.Rp.canvasElement,this,{Od:()=>!0,Nd:()=>!this.lp.N().handleScroll.horzTouchDrag})}m(){this.vf.m(),null!==this.$v&&this.$v.m(),null!==this.qv&&this.qv.m(),this.Rp.unsubscribeSuggestedBitmapSizeChanged(this.Sp),wi(this.Rp.canvasElement),this.Rp.dispose(),this.Tp.unsubscribeSuggestedBitmapSizeChanged(this.bp),wi(this.Tp.canvasElement),this.Tp.dispose()}kf(){return this.ep}Jv(){return this.$v}Qv(){return this.qv}Jd(t){if(this.Yv)return;this.Yv=!0;const e=this.lp.Qt();!e.At().Ki()&&this.lp.N().handleScale.axisPressedMouseMove.time&&e.Gu(t.localX)}Zd(t){this.Jd(t)}Qd(){const t=this.lp.Qt();!t.At().Ki()&&this.Yv&&(this.Yv=!1,this.lp.N().handleScale.axisPressedMouseMove.time&&t.rc())}Hd(t){const e=this.lp.Qt();!e.At().Ki()&&this.lp.N().handleScale.axisPressedMouseMove.time&&e.ec(t.localX)}Wd(t){this.Hd(t)}Yd(){this.Yv=!1;const t=this.lp.Qt();t.At().Ki()&&!this.lp.N().handleScale.axisPressedMouseMove.time||t.rc()}$d(){this.Yd()}Pd(){this.lp.N().handleScale.axisDoubleClickReset.time&&this.lp.Qt().cn()}xd(){this.Pd()}Bd(){this.lp.Qt().N().handleScale.axisPressedMouseMove.time&&this.jp(1)}lf(){this.jp(0)}Tf(){return this.pp}tm(){return this.jv}im(t,e,i){o(this.pp,t)||(this.pp=t,this.Mp=!0,this.Tp.resizeCanvasElement(t),this.Rp.resizeCanvasElement(t),this.Mp=!1,this.Cf.style.width=`${t.width}px`,this.Cf.style.height=`${t.height}px`,this.jv.p(t)),null!==this.$v&&this.$v.Lp(r({width:e,height:t.height})),null!==this.qv&&this.qv.Lp(r({width:i,height:t.height}))}sm(){const t=this.nm();return Math.ceil(t.S+t.C+t.P+t.A+t.V+t.rm)}Pt(){this.lp.Qt().At().Va()}Rf(){return this.Tp.bitmapSize}Df(t,e,i){const n=this.Rf();n.width>0&&n.height>0&&t.drawImage(this.Tp.canvasElement,e,i)}Np(t){if(0===t)return;const e={colorSpace:this.ys.colorSpace};if(1!==t){this.Tp.applySuggestedBitmapSize();const i=u(this.Tp,e);null!==i&&(i.useBitmapCoordinateSpace((t=>{this.Fp(t),this.Hp(t),this.hm(i,Fi)})),this.$p(i),this.hm(i,Li)),null!==this.$v&&this.$v.Np(t),null!==this.qv&&this.qv.Np(t)}this.Rp.applySuggestedBitmapSize();const i=u(this.Rp,e);null!==i&&(i.useBitmapCoordinateSpace((({context:t,bitmapSize:e})=>{t.clearRect(0,0,e.width,e.height)})),this.am([...this.lp.Qt().js(),this.lp.Qt().$u()],i),this.hm(i,Ri))}hm(t,e){const i=this.lp.Qt().js();for(const n of i)Si(e,(e=>Ai(e,t,!1,void 0)),n,void 0);for(const n of i)Si(e,(e=>Ci(e,t,!1,void 0)),n,void 0)}Fp({context:t,bitmapSize:e}){Y(t,0,0,e.width,e.height,this.lp.Qt().Mc())}Hp({context:t,bitmapSize:e,verticalPixelRatio:i}){if(this.lp.N().timeScale.borderVisible){t.fillStyle=this.lm();const n=Math.max(1,Math.floor(this.nm().S*i));t.fillRect(0,0,e.width,n)}}$p(t){const e=this.lp.Qt().At(),i=e.Va();if(!i||0===i.length)return;const n=this.$o.maxTickMarkWeight(i),r=this.nm(),o=e.N();o.borderVisible&&o.ticksVisible&&t.useBitmapCoordinateSpace((({context:t,horizontalPixelRatio:e,verticalPixelRatio:n})=>{t.strokeStyle=this.lm(),t.fillStyle=this.lm();const o=Math.max(1,Math.floor(e)),s=Math.floor(.5*e);t.beginPath();const a=Math.round(r.C*n);for(let n=i.length;n--;){const r=Math.round(i[n].coord*e);t.rect(r-s,0,o,a)}t.fill()})),t.useMediaCoordinateSpace((({context:t})=>{const e=r.S+r.C+r.A+r.P/2;t.textAlign="center",t.textBaseline="middle",t.fillStyle=this.H(),t.font=this.Ep();for(const r of i)if(r.weight<n){const i=r.needAlignCoordinate?this.om(t,r.coord,r.label):r.coord;t.fillText(r.label,i,e)}this.lp.N().timeScale.allowBoldLabels&&(t.font=this._m());for(const r of i)if(r.weight>=n){const i=r.needAlignCoordinate?this.om(t,r.coord,r.label):r.coord;t.fillText(r.label,i,e)}}))}om(t,e,i){const n=this.mp.Vi(t,i),r=n/2,o=Math.floor(e-r)+.5;return o<0?e+=Math.abs(0-o):o+n>this.pp.width&&(e-=Math.abs(this.pp.width-(o+n))),e}am(t,e){const i=this.nm();for(const n of t)for(const t of n.cs())t.Tt().nt(e,i)}lm(){return this.lp.N().timeScale.borderColor}H(){return this.ys.textColor}W(){return this.ys.fontSize}Ep(){return D(this.W(),this.ys.fontFamily)}_m(){return D(this.W(),this.ys.fontFamily,"bold")}nm(){null===this.M&&(this.M={S:1,L:NaN,A:NaN,V:NaN,Ji:NaN,C:5,P:NaN,k:"",Gi:new ut,rm:0});const t=this.M,e=this.Ep();if(t.k!==e){const i=this.W();t.P=i,t.k=e,t.A=3*i/12,t.V=3*i/12,t.Ji=9*i/12,t.L=0,t.rm=4*i/12,t.Gi.In()}return this.M}jp(t){this.Cf.style.cursor=1===t?"ew-resize":"default"}Gv(){const t=this.lp.Qt(),e=t.N();e.leftPriceScale.visible||null===this.$v||(this.Kv.removeChild(this.$v.kf()),this.$v.m(),this.$v=null),e.rightPriceScale.visible||null===this.qv||(this.Xv.removeChild(this.qv.kf()),this.qv.m(),this.qv=null);const i={_c:this.lp.Qt()._c()},n=()=>e.leftPriceScale.borderVisible&&t.At().N().borderVisible,r=()=>t.Mc();e.leftPriceScale.visible&&null===this.$v&&(this.$v=new Pi("left",e,i,n,r),this.Kv.appendChild(this.$v.kf())),e.rightPriceScale.visible&&null===this.qv&&(this.qv=new Pi("right",e,i,n,r),this.Xv.appendChild(this.qv.kf()))}}const Ii=!!oi&&!!navigator.userAgentData&&navigator.userAgentData.brands.some((t=>t.brand.includes("Chromium")))&&!!oi&&(navigator?.userAgentData?.platform?"Windows"===navigator.userAgentData.platform:navigator.userAgent.toLowerCase().indexOf("win")>=0);class Ni{constructor(t,e,i){var n;this.um=[],this.dm=[],this.fm=0,this.ja=0,this.no=0,this.pm=0,this.vm=0,this.wm=null,this.gm=!1,this.tv=new w,this.iv=new w,this.Ru=new w,this.Mm=null,this.bm=null,this.ap=t,this.ys=e,this.$o=i,this.ep=document.createElement("div"),this.ep.classList.add("tv-lightweight-charts"),this.ep.style.overflow="hidden",this.ep.style.direction="ltr",this.ep.style.width="100%",this.ep.style.height="100%",(n=this.ep).style.userSelect="none",n.style.webkitUserSelect="none",n.style.msUserSelect="none",n.style.MozUserSelect="none",n.style.webkitTapHighlightColor="transparent",this.xm=document.createElement("table"),this.xm.setAttribute("cellspacing","0"),this.ep.appendChild(this.xm),this.Sm=this.Cm.bind(this),ji(this.ys)&&this.ym(!0),this.ts=new We(this.Vu.bind(this),this.ys,i),this.Qt().qu().i(this.Pm.bind(this),this),this.km=new Vi(this,this.$o),this.xm.appendChild(this.km.kf());const r=e.autoSize&&this.Tm();let o=this.ys.width,s=this.ys.height;if(r||0===o||0===s){const e=t.getBoundingClientRect();o=o||e.width,s=s||e.height}this.Rm(o,s),this.Dm(),t.appendChild(this.ep),this.Vm(),this.ts.At().du().i(this.ts.Bh.bind(this.ts),this),this.ts.do().i(this.ts.Bh.bind(this.ts),this)}Qt(){return this.ts}N(){return this.ys}bf(){return this.um}Im(){return this.km}m(){this.ym(!1),0!==this.fm&&window.cancelAnimationFrame(this.fm),this.ts.qu().u(this),this.ts.At().du().u(this),this.ts.do().u(this),this.ts.m();for(const t of this.um)this.xm.removeChild(t.kf()),t.Pv().u(this),t.kv().u(this),t.m();this.um=[];for(const t of this.dm)this.Bm(t);this.dm=[],x(this.km).m(),null!==this.ep.parentElement&&this.ep.parentElement.removeChild(this.ep),this.Ru.m(),this.tv.m(),this.iv.m(),this.Am()}Rm(t,e,i=!1){if(this.ja===e&&this.no===t)return;const n=function(t){const e=Math.floor(t.width),i=Math.floor(t.height);return r({width:e-e%2,height:i-i%2})}(r({width:t,height:e}));this.ja=n.height,this.no=n.width;const o=this.ja+"px",s=this.no+"px";x(this.ep).style.height=o,x(this.ep).style.width=s,this.xm.style.height=o,this.xm.style.width=s,i?this.Em(rt.gn(),performance.now()):this.ts.Bh()}Np(t){void 0===t&&(t=rt.gn());for(let e=0;e<this.um.length;e++)this.um[e].Np(t.en(e).tn);this.ys.timeScale.visible&&this.km.Np(t.nn())}hr(t){const e=ji(this.ys);this.ts.hr(t);const i=ji(this.ys);i!==e&&this.ym(i),t.layout?.panes&&this.zm(),this.Vm(),this.Lm(t)}Pv(){return this.tv}kv(){return this.iv}qu(){return this.Ru}Om(){null!==this.wm&&(this.Em(this.wm,performance.now()),this.wm=null);const t=this.Nm(null),e=document.createElement("canvas");e.width=t.width,e.height=t.height;const i=x(e.getContext("2d"));return this.Nm(i),e}Wm(t){return"left"===t&&!this.Fm()||"right"===t&&!this.Hm()||0===this.um.length?0:x("left"===t?this.um[0].Av():this.um[0].Ev()).Op()}Um(){return this.ys.autoSize&&null!==this.Mm}If(){return this.ep}$m(t){this.bm=t,this.bm?this.If().style.setProperty("cursor",t):this.If().style.removeProperty("cursor")}qm(){return this.bm}Ym(t){return y(this.um[t]).Tf()}zm(){this.dm.forEach((t=>{t.Pt()}))}Lm(t){(void 0!==t.autoSize||!this.Mm||void 0===t.width&&void 0===t.height)&&(t.autoSize&&!this.Mm&&this.Tm(),!1===t.autoSize&&null!==this.Mm&&this.Am(),t.autoSize||void 0===t.width&&void 0===t.height||this.Rm(t.width||this.no,t.height||this.ja))}Nm(t){let e=0,i=0;const n=this.um[0],o=(e,i)=>{let n=0;for(let r=0;r<this.um.length;r++){const o=this.um[r],s=x("left"===e?o.Av():o.Ev()),a=s.Rf();if(null!==t&&s.Df(t,i,n),n+=a.height,r<this.um.length-1){const e=this.dm[r],o=e.Rf();null!==t&&e.Df(t,i,n),n+=o.height}}};this.Fm()&&(o("left",0),e+=x(n.Av()).Rf().width);for(let n=0;n<this.um.length;n++){const r=this.um[n],o=r.Rf();if(null!==t&&r.Df(t,e,i),i+=o.height,n<this.um.length-1){const r=this.dm[n],o=r.Rf();null!==t&&r.Df(t,e,i),i+=o.height}}e+=n.Rf().width,this.Hm()&&(o("right",e),e+=x(n.Ev()).Rf().width);const s=(e,i,n)=>{x("left"===e?this.km.Jv():this.km.Qv()).Df(x(t),i,n)};if(this.ys.timeScale.visible){const e=this.km.Rf();if(null!==t){let r=0;this.Fm()&&(s("left",r,i),r=x(n.Av()).Rf().width),this.km.Df(t,r,i),r+=e.width,this.Hm()&&s("right",r,i)}i+=e.height}return r({width:e,height:i})}jm(){let t=0,e=0,i=0;for(const n of this.um)this.Fm()&&(e=Math.max(e,x(n.Av()).Ap(),this.ys.leftPriceScale.minimumWidth)),this.Hm()&&(i=Math.max(i,x(n.Ev()).Ap(),this.ys.rightPriceScale.minimumWidth)),t+=n.fo();e=hi(e),i=hi(i);const n=this.no,o=this.ja,s=Math.max(n-e-i,0),a=1*this.dm.length,h=this.ys.timeScale.visible;let l=h?Math.max(this.km.sm(),this.ys.timeScale.minimumHeight):0;var u;l=(u=l)+u%2;const c=a+l,p=o<c?0:o-c,f=p/t;let d=0;const m=window.devicePixelRatio||1;for(let t=0;t<this.um.length;++t){const n=this.um[t];n.fv(this.ts.$s()[t]);let o=0,a=0;a=t===this.um.length-1?Math.ceil((p-d)*m)/m:Math.round(n.fo()*f*m)/m,o=Math.max(a,2),d+=o,n.Lp(r({width:s,height:o})),this.Fm()&&n.Rv(e,"left"),this.Hm()&&n.Rv(i,"right"),n.Of()&&this.ts.Yu(n.Of(),o)}this.km.im(r({width:h?s:0,height:l}),h?e:0,h?i:0),this.ts.vo(s),this.pm!==e&&(this.pm=e),this.vm!==i&&(this.vm=i)}ym(t){t?this.ep.addEventListener("wheel",this.Sm,{passive:!1}):this.ep.removeEventListener("wheel",this.Sm)}Km(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return Ii?1/window.devicePixelRatio:1}Cm(t){if(!(0!==t.deltaX&&this.ys.handleScroll.mouseWheel||0!==t.deltaY&&this.ys.handleScale.mouseWheel))return;const e=this.Km(t),i=e*t.deltaX/100,n=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),0!==n&&this.ys.handleScale.mouseWheel){const e=Math.sign(n)*Math.min(1,Math.abs(n)),i=t.clientX-this.ep.getBoundingClientRect().left;this.Qt().Ju(i,e)}0!==i&&this.ys.handleScroll.mouseWheel&&this.Qt().Qu(-80*i)}Em(t,e){const i=t.nn();3===i&&this.Xm(),3!==i&&2!==i||(this.Zm(t),this.Gm(t,e),this.km.Pt(),this.um.forEach((t=>{t.vv()})),3===this.wm?.nn()&&(this.wm.vn(t),this.Xm(),this.Zm(this.wm),this.Gm(this.wm,e),t=this.wm,this.wm=null)),this.Np(t)}Gm(t,e){for(const i of t.pn())this.mn(i,e)}Zm(t){const e=this.ts.$s();for(let i=0;i<e.length;i++)t.en(i).sn&&e[i].Io()}mn(t,e){const i=this.ts.At();switch(t.an){case 0:i.pu();break;case 1:i.vu(t.Ft);break;case 2:i.dn(t.Ft);break;case 3:i.fn(t.Ft);break;case 4:i.su();break;case 5:t.Ft.ou(e)||i.fn(t.Ft._u(e))}}Vu(t){null!==this.wm?this.wm.vn(t):this.wm=t,this.gm||(this.gm=!0,this.fm=window.requestAnimationFrame((t=>{if(this.gm=!1,this.fm=0,null!==this.wm){const e=this.wm;this.wm=null,this.Em(e,t);for(const i of e.pn())if(5===i.an&&!i.Ft.ou(t)){this.Qt()._n(i.Ft);break}}})))}Xm(){this.Dm()}Bm(t){this.xm.removeChild(t.kf()),t.m()}Dm(){const t=this.ts.$s(),e=t.length,i=this.um.length;for(let t=e;t<i;t++){const t=y(this.um.pop());this.xm.removeChild(t.kf()),t.Pv().u(this),t.kv().u(this),t.m();const e=this.dm.pop();void 0!==e&&this.Bm(e)}for(let n=i;n<e;n++){const e=new Ei(this,t[n]);if(e.Pv().i(this.Jm.bind(this,e),this),e.kv().i(this.Qm.bind(this,e),this),this.um.push(e),n>0){const t=new mi(this,n-1,n);this.dm.push(t),this.xm.insertBefore(t.kf(),this.km.kf())}this.xm.insertBefore(e.kf(),this.km.kf())}for(let i=0;i<e;i++){const e=t[i],n=this.um[i];n.Of()!==e?n.fv(e):n.dv()}this.Vm(),this.jm()}tw(t,e,i,n){const r=new Map;let o;if(null!==t&&this.ts.js().forEach((e=>{const i=e.Xs().Wr(t);null!==i&&r.set(e,i)})),null!==t){const e=this.ts.At().ss(t)?.originalTime;void 0!==e&&(o=e)}const s=this.Qt().Wu(),a=null!==s&&s.Oo instanceof $t?s.Oo:void 0,h=null!==s&&void 0!==s.No?s.No.Kn:void 0,l=this.iw(n);return{sw:o,Re:t??void 0,nw:e??void 0,ew:-1!==l?l:void 0,rw:a,hw:r,aw:h,lw:i??void 0}}iw(t){let e=-1;if(t)e=this.um.indexOf(t);else{const t=this.Qt().$u().Us();null!==t&&(e=this.Qt().$s().indexOf(t))}return e}Jm(t,e,i,n){this.tv.p((()=>this.tw(e,i,n,t)))}Qm(t,e,i,n){this.iv.p((()=>this.tw(e,i,n,t)))}Pm(t,e,i){this.$m(this.Qt().Wu()?.Fo??null),this.Ru.p((()=>this.tw(t,e,i)))}Vm(){const t=this.ys.timeScale.visible?"":"none";this.km.kf().style.display=t}Fm(){return this.um[0].Of().xo().N().visible}Hm(){return this.um[0].Of().So().N().visible}Tm(){return"ResizeObserver"in window&&(this.Mm=new ResizeObserver((t=>{const e=t[t.length-1];e&&this.Rm(e.contentRect.width,e.contentRect.height)})),this.Mm.observe(this.ap,{box:"border-box"}),!0)}Am(){null!==this.Mm&&this.Mm.disconnect(),this.Mm=null}}function ji(t){return Boolean(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function Wi(t,e,i,n){const r=i.value,o={Re:e,wt:t,Ft:[r,r,r,r],sw:n};return void 0!==i.color&&(o.R=i.color),o}function Hi(t,e,i,n){const r=i.value,o={Re:e,wt:t,Ft:[r,r,r,r],sw:n};return void 0!==i.lineColor&&(o.vt=i.lineColor),void 0!==i.topColor&&(o.mr=i.topColor),void 0!==i.bottomColor&&(o.wr=i.bottomColor),o}function Yi(t,e,i,n){const r=i.value,o={Re:e,wt:t,Ft:[r,r,r,r],sw:n};return void 0!==i.topLineColor&&(o.gr=i.topLineColor),void 0!==i.bottomLineColor&&(o.Mr=i.bottomLineColor),void 0!==i.topFillColor1&&(o.br=i.topFillColor1),void 0!==i.topFillColor2&&(o.Sr=i.topFillColor2),void 0!==i.bottomFillColor1&&(o.Cr=i.bottomFillColor1),void 0!==i.bottomFillColor2&&(o.yr=i.bottomFillColor2),o}function Ui(t,e,i,n){const r={Re:e,wt:t,Ft:[i.open,i.high,i.low,i.close],sw:n};return void 0!==i.color&&(r.R=i.color),r}function Gi(t,e,i,n){const r={Re:e,wt:t,Ft:[i.open,i.high,i.low,i.close],sw:n};return void 0!==i.color&&(r.R=i.color),void 0!==i.borderColor&&(r.Ht=i.borderColor),void 0!==i.wickColor&&(r.vr=i.wickColor),r}function Zi(t,e,i,n,r){const o=y(r)(i),s=Math.max(...o),a=Math.min(...o),h=o[o.length-1],l=[h,s,a,h],{time:u,color:c,...p}=i;return{Re:e,wt:t,Ft:l,sw:n,se:p,R:c}}function Xi(t){return void 0!==t.Ft}function qi(t,e){return void 0!==e.customValues&&(t.ow=e.customValues),t}function Ki(t){return(e,i,n,r,o,s)=>function(t,e){return e?e(t):function(t){return void 0===t.open&&void 0===t.value}(t)}(n,s)?qi({wt:e,Re:i,sw:r},n):qi(t(e,i,n,r,o),n)}function Qi(t){return{Candlestick:Ki(Gi),Bar:Ki(Ui),Area:Ki(Hi),Baseline:Ki(Yi),Histogram:Ki(Wi),Line:Ki(Wi),Custom:Ki(Zi)}[t]}function $i(t){return{Re:0,_w:new Map,Hh:t}}function Ji(t,e){if(void 0!==t&&0!==t.length)return{uw:e.key(t[0].wt),cw:e.key(t[t.length-1].wt)}}function tn(t){let e;return t.forEach((t=>{void 0===e&&(e=t.sw)})),y(e)}class en{constructor(t){this.dw=new Map,this.fw=new Map,this.pw=new Map,this.mw=[],this.$o=t}m(){this.dw.clear(),this.fw.clear(),this.pw.clear(),this.mw=[]}ww(t,e){let i=0!==this.dw.size,n=!1;const r=this.fw.get(t);if(void 0!==r)if(1===this.fw.size)i=!1,n=!0,this.dw.clear();else for(const e of this.mw)e.pointData._w.delete(t)&&(n=!0);let o=[];if(0!==e.length){const i=e.map((t=>t.time)),r=this.$o.createConverterToInternalObj(e),s=Qi(t.Rr()),a=t.da(),h=t.pa();o=e.map(((e,o)=>{const l=r(e.time),u=this.$o.key(l);let c=this.dw.get(u);void 0===c&&(c=$i(l),this.dw.set(u,c),n=!0);const p=s(l,c.Re,e,i[o],a,h);return c._w.set(t,p),p}))}i&&this.gw(),this.Mw(t,o);let s=-1;if(n){const t=[];this.dw.forEach((e=>{t.push({timeWeight:0,time:e.Hh,pointData:e,originalTime:tn(e._w)})})),t.sort(((t,e)=>this.$o.key(t.time)-this.$o.key(e.time))),s=this.bw(t)}return this.xw(t,s,function(t,e,i){const n=Ji(t,i),r=Ji(e,i);if(void 0!==n&&void 0!==r)return{Sw:!1,zh:n.cw>=r.cw&&n.uw>=r.uw}}(this.fw.get(t),r,this.$o))}dc(t){return this.ww(t,[])}Cw(t,e,i){const n=e;!function(t){void 0===t.sw&&(t.sw=t.time)}(n),this.$o.preprocessData(e);const r=this.$o.createConverterToInternalObj([e])(e.time),o=this.pw.get(t);if(!i&&void 0!==o&&this.$o.key(r)<this.$o.key(o))throw new Error(`Cannot update oldest data, last time=${o}, new time=${r}`);let s=this.dw.get(this.$o.key(r));if(i&&void 0===s)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const a=void 0===s;void 0===s&&(s=$i(r),this.dw.set(this.$o.key(r),s));const h=Qi(t.Rr()),l=t.da(),u=t.pa(),c=h(r,s.Re,e,n.sw,l,u);s._w.set(t,c),i?this.yw(t,c,s.Re):this.Pw(t,c);const p={zh:Xi(c),Sw:i};if(!a)return this.xw(t,-1,p);const f={timeWeight:0,time:s.Hh,pointData:s,originalTime:tn(s._w)},d=Dt(this.mw,this.$o.key(f.time),((t,e)=>this.$o.key(t.time)<e));this.mw.splice(d,0,f);for(let t=d;t<this.mw.length;++t)nn(this.mw[t].pointData,t);return this.$o.fillWeightsForPoints(this.mw,d),this.xw(t,d,p)}Pw(t,e){let i=this.fw.get(t);void 0===i&&(i=[],this.fw.set(t,i));const n=0!==i.length?i[i.length-1]:null;null===n||this.$o.key(e.wt)>this.$o.key(n.wt)?Xi(e)&&i.push(e):Xi(e)?i[i.length-1]=e:i.splice(-1,1),this.pw.set(t,e.wt)}yw(t,e,i){const n=this.fw.get(t);if(void 0===n)return;const r=Dt(n,i,((t,e)=>t.Re<e));Xi(e)?n[r]=e:n.splice(r,1)}Mw(t,e){0!==e.length?(this.fw.set(t,e.filter(Xi)),this.pw.set(t,e[e.length-1].wt)):(this.fw.delete(t),this.pw.delete(t))}gw(){for(const t of this.mw)0===t.pointData._w.size&&this.dw.delete(this.$o.key(t.time))}bw(t){let e=-1;for(let i=0;i<this.mw.length&&i<t.length;++i){const n=this.mw[i],r=t[i];if(this.$o.key(n.time)!==this.$o.key(r.time)){e=i;break}r.timeWeight=n.timeWeight,nn(r.pointData,i)}if(-1===e&&this.mw.length!==t.length&&(e=Math.min(this.mw.length,t.length)),-1===e)return-1;for(let i=e;i<t.length;++i)nn(t[i].pointData,i);return this.$o.fillWeightsForPoints(t,e),this.mw=t,e}kw(){if(0===this.fw.size)return null;let t=0;return this.fw.forEach((e=>{0!==e.length&&(t=Math.max(t,e[e.length-1].Re))})),t}xw(t,e,i){const n={wo:new Map,At:{U_:this.kw()}};if(-1!==e)this.fw.forEach(((e,r)=>{n.wo.set(r,{se:e,Tw:r===t?i:void 0})})),this.fw.has(t)||n.wo.set(t,{se:[],Tw:i}),n.At.Rw=this.mw,n.At.Dw=e;else{const e=this.fw.get(t);n.wo.set(t,{se:e||[],Tw:i})}return n}}function nn(t,e){t.Re=e,t._w.forEach((t=>{t.Re=e}))}function rn(t,e){return t.wt<e}function on(t,e){return e<t.wt}class sn{constructor(t,e,i){this.Vw=!0,this.Iw=!0,this.Bw=!0,this.Aw=[],this.Ew=null,this.Jn=t,this.Qn=e,this.zw=i}Pt(t){this.Vw=!0,"data"===t&&(this.Iw=!0),"options"===t&&(this.Bw=!0)}Tt(){return this.Jn.Vt()?(this.Lw(),null===this.Ew?null:this.Ow):null}Nw(){this.Aw=this.Aw.map((t=>({...t,...this.Jn.Rh().Dr(t.wt)})))}Ww(){this.Ew=null}Lw(){this.Iw&&(this.Fw(),this.Iw=!1),this.Bw&&(this.Nw(),this.Bw=!1),this.Vw&&(this.Hw(),this.Vw=!1)}Hw(){const t=this.Jn.Wt(),e=this.Qn.At();if(this.Ww(),e.Ki()||t.Ki())return;const i=e.ye();if(null===i)return;if(0===this.Jn.Xs().zr())return;const n=this.Jn.zt();null!==n&&(this.Ew=function(t,e,i){const n=e.Uh(),r=e.bi(),o=Dt(t,n,rn),s=Et(t,r,on);if(!i)return{from:o,to:s};let a=o,h=s;return o>0&&o<t.length&&t[o].wt>=n&&(a=o-1),s>0&&s<t.length&&t[s-1].wt<=r&&(h=s+1),{from:a,to:h}}(this.Aw,i,this.zw),this.Uw(t,e,n.Ft),this.$w())}}class an{constructor(t,e){this.qw=t,this.Yi=e}nt(t,e,i){this.qw.draw(t,this.Yi,e,i)}}class hn extends sn{constructor(t,e,i){super(t,e,!1),this.sh=i,this.Ow=new an(this.sh.renderer(),(e=>{const i=t.zt();return null===i?null:t.Wt().Nt(e,i.Ft)}))}fa(t){return this.sh.priceValueBuilder(t)}va(t){return this.sh.isWhitespace(t)}Fw(){const t=this.Jn.Rh();this.Aw=this.Jn.Xs().Hr().map((e=>({wt:e.Re,_t:NaN,...t.Dr(e.Re),Yw:e.se})))}Uw(t,e){e.q_(this.Aw,O(this.Ew))}$w(){this.sh.update({bars:this.Aw.map(ln),barSpacing:this.Qn.At().G_(),visibleRange:this.Ew},this.Jn.N())}}function ln(t){return{x:t._t,time:t.wt,originalData:t.Yw,barColor:t.cr}}const un={color:"#2196f3"},cn=(t,e,i)=>{const n=b(i);return new hn(t,e,n)};function pn(t){const e={value:t.Ft[3],time:t.sw};return void 0!==t.ow&&(e.customValues=t.ow),e}function fn(t){const e=pn(t);return void 0!==t.R&&(e.color=t.R),e}function dn(t){const e=pn(t);return void 0!==t.vt&&(e.lineColor=t.vt),void 0!==t.mr&&(e.topColor=t.mr),void 0!==t.wr&&(e.bottomColor=t.wr),e}function mn(t){const e=pn(t);return void 0!==t.gr&&(e.topLineColor=t.gr),void 0!==t.Mr&&(e.bottomLineColor=t.Mr),void 0!==t.br&&(e.topFillColor1=t.br),void 0!==t.Sr&&(e.topFillColor2=t.Sr),void 0!==t.Cr&&(e.bottomFillColor1=t.Cr),void 0!==t.yr&&(e.bottomFillColor2=t.yr),e}function gn(t){const e={open:t.Ft[0],high:t.Ft[1],low:t.Ft[2],close:t.Ft[3],time:t.sw};return void 0!==t.ow&&(e.customValues=t.ow),e}function vn(t){const e=gn(t);return void 0!==t.R&&(e.color=t.R),e}function yn(t){const e=gn(t),{R:i,Ht:n,vr:r}=t;return void 0!==i&&(e.color=i),void 0!==n&&(e.borderColor=n),void 0!==r&&(e.wickColor=r),e}function xn(t){return{Area:dn,Line:fn,Baseline:mn,Histogram:fn,Bar:vn,Candlestick:yn,Custom:bn}[t]}function bn(t){const e=t.sw;return{...t.se,time:e}}const wn={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},An={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},Cn={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:z,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},Sn={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},kn={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1};function _n(){return{width:0,height:0,autoSize:!1,layout:Cn,crosshair:wn,grid:An,overlayPriceScales:{...Sn},leftPriceScale:{...Sn,visible:!1},rightPriceScale:{...Sn,visible:!0},timeScale:kn,localization:{locale:oi?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Mn{constructor(t,e,i){this.gf=t,this.jw=e,this.Kw=i??0}applyOptions(t){this.gf.Qt().Hu(this.jw,t,this.Kw)}options(){return this.Yi().N()}width(){return nt(this.jw)?this.gf.Wm(this.jw):0}Yi(){return x(this.gf.Qt().Uu(this.jw,this.Kw)).Wt}}class Tn{constructor(t,e,i,n){this.gf=t,this.yt=i,this.Xw=e,this.Zw=n}getHeight(){return this.yt.$t()}setHeight(t){const e=this.gf.Qt(),i=e.xc(this.yt);e.Ku(i,t)}paneIndex(){return this.gf.Qt().xc(this.yt)}moveTo(t){const e=this.paneIndex();e!==t&&(v(t>=0&&t<this.gf.bf().length,"Invalid pane index"),this.gf.Qt().Xu(e,t))}getSeries(){return this.yt.wo().map((t=>this.Xw(t)))??[]}getHTMLElement(){return this.gf.bf()[this.paneIndex()].kf()}attachPrimitive(t){this.yt.ua(t),t.attached&&t.attached({chart:this.Zw,requestUpdate:()=>this.yt.Qt().Bh()})}detachPrimitive(t){this.yt.ca(t)}priceScale(t){if(null===this.yt.co(t))throw new Error(`Cannot find price scale with id: ${t}`);return new Mn(this.gf,t,this.paneIndex())}}const On={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class zn{constructor(t){this.ir=t}applyOptions(t){this.ir.hr(t)}options(){return this.ir.N()}Gw(){return this.ir}}class Dn{constructor(t,e,i,n,r,o){this.Jw=new w,this.Jn=t,this.Qw=e,this.tg=i,this.$o=r,this.Zw=n,this.ig=o}m(){this.Jw.m()}priceFormatter(){return this.Jn.ra()}priceToCoordinate(t){const e=this.Jn.zt();return null===e?null:this.Jn.Wt().Nt(t,e.Ft)}coordinateToPrice(t){const e=this.Jn.zt();return null===e?null:this.Jn.Wt().Ts(t,e.Ft)}barsInLogicalRange(t){if(null===t)return null;const e=new Be(new De(t.from,t.to)).a_(),i=this.Jn.Xs();if(i.Ki())return null;const n=i.Wr(e.Uh(),1),r=i.Wr(e.bi(),-1),o=x(i.Lr()),s=x(i.Ks());if(null!==n&&null!==r&&n.Re>r.Re)return{barsBefore:t.from-o,barsAfter:s-t.to};const a={barsBefore:null===n||n.Re===o?t.from-o:n.Re-o,barsAfter:null===r||r.Re===s?s-t.to:s-r.Re};return null!==n&&null!==r&&(a.from=n.sw,a.to=r.sw),a}setData(t){this.$o,this.Jn.Rr(),this.Qw.sg(this.Jn,t),this.ng("full")}update(t,e=!1){this.Jn.Rr(),this.Qw.eg(this.Jn,t,e),this.ng("update")}dataByIndex(t,e){const i=this.Jn.Xs().Wr(t,e);return null===i?null:xn(this.seriesType())(i)}data(){const t=xn(this.seriesType());return this.Jn.Xs().Hr().map((e=>t(e)))}subscribeDataChanged(t){this.Jw.i(t)}unsubscribeDataChanged(t){this.Jw._(t)}applyOptions(t){this.Jn.hr(t)}options(){return M(this.Jn.N())}priceScale(){return this.tg.priceScale(this.Jn.Wt().wa(),this.getPane().paneIndex())}createPriceLine(t){const e=A(M(On),t),i=this.Jn.Oh(e);return new zn(i)}removePriceLine(t){this.Jn.Nh(t.Gw())}priceLines(){return this.Jn.Wh().map((t=>new zn(t)))}seriesType(){return this.Jn.Rr()}attachPrimitive(t){this.Jn.ua(t),t.attached&&t.attached({chart:this.Zw,series:this,requestUpdate:()=>this.Jn.Qt().Bh(),horzScaleBehavior:this.$o})}detachPrimitive(t){this.Jn.ca(t),t.detached&&t.detached(),this.Jn.Qt().Bh()}getPane(){const t=this.Jn,e=x(this.Jn.Qt().Hn(t));return this.ig(e)}moveToPane(t){this.Jn.Qt().wc(this.Jn,t)}seriesOrder(){const t=this.Jn.Qt().Hn(this.Jn);return null===t?-1:t.wo().indexOf(this.Jn)}setSeriesOrder(t){const e=this.Jn.Qt().Hn(this.Jn);null!==e&&e.Ao(this.Jn,t)}ng(t){this.Jw.v()&&this.Jw.p(t)}}class En{constructor(t,e,i){this.rg=new w,this.m_=new w,this.jv=new w,this.ts=t,this.uh=t.At(),this.km=e,this.uh.uu().i(this.hg.bind(this)),this.uh.cu().i(this.ag.bind(this)),this.km.tm().i(this.lg.bind(this)),this.$o=i}m(){this.uh.uu().u(this),this.uh.cu().u(this),this.km.tm().u(this),this.rg.m(),this.m_.m(),this.jv.m()}scrollPosition(){return this.uh.Q_()}scrollToPosition(t,e){e?this.uh.lu(t,1e3):this.ts.fn(t)}scrollToRealTime(){this.uh.au()}getVisibleRange(){const t=this.uh.z_();return null===t?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){const e={from:this.$o.convertHorzItemToInternal(t.from),to:this.$o.convertHorzItemToInternal(t.to)},i=this.uh.W_(e);this.ts.vc(i)}getVisibleLogicalRange(){const t=this.uh.E_();return null===t?null:{from:t.Uh(),to:t.bi()}}setVisibleLogicalRange(t){v(t.from<=t.to,"The from index cannot be after the to index."),this.ts.vc(t)}resetTimeScale(){this.ts.cn()}fitContent(){this.ts.pu()}logicalToCoordinate(t){const e=this.ts.At();return e.Ki()?null:e.qt(t)}coordinateToLogical(t){return this.uh.Ki()?null:this.uh.Y_(t)}timeToIndex(t,e){const i=this.$o.convertHorzItemToInternal(t);return this.uh.I_(i,e)}timeToCoordinate(t){const e=this.timeToIndex(t,!1);return null===e?null:this.uh.qt(e)}coordinateToTime(t){const e=this.ts.At(),i=e.Y_(t),n=e.ss(i);return null===n?null:n.originalTime}width(){return this.km.Tf().width}height(){return this.km.Tf().height}subscribeVisibleTimeRangeChange(t){this.rg.i(t)}unsubscribeVisibleTimeRangeChange(t){this.rg._(t)}subscribeVisibleLogicalRangeChange(t){this.m_.i(t)}unsubscribeVisibleLogicalRangeChange(t){this.m_._(t)}subscribeSizeChange(t){this.jv.i(t)}unsubscribeSizeChange(t){this.jv._(t)}applyOptions(t){this.uh.hr(t)}options(){return{...M(this.uh.N()),barSpacing:this.uh.G_()}}hg(){this.rg.v()&&this.rg.p(this.getVisibleRange())}ag(){this.m_.v()&&this.m_.p(this.getVisibleLogicalRange())}lg(t){this.jv.p(t.width,t.height)}}function Pn(t){return function(t){if(_(t.handleScale)){const e=t.handleScale;t.handleScale={axisDoubleClickReset:{time:e,price:e},axisPressedMouseMove:{time:e,price:e},mouseWheel:e,pinch:e}}else if(void 0!==t.handleScale){const{axisPressedMouseMove:e,axisDoubleClickReset:i}=t.handleScale;_(e)&&(t.handleScale.axisPressedMouseMove={time:e,price:e}),_(i)&&(t.handleScale.axisDoubleClickReset={time:i,price:i})}const e=t.handleScroll;_(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})}(t),t}class Bn{constructor(t,e,i){this.og=new Map,this._g=new Map,this.ug=new w,this.cg=new w,this.dg=new w,this.yu=new WeakMap,this.fg=new en(e);const n=void 0===i?M(_n()):A(M(_n()),Pn(i));this.pg=e,this.gf=new Ni(t,n,e),this.gf.Pv().i((t=>{this.ug.v()&&this.ug.p(this.vg(t()))}),this),this.gf.kv().i((t=>{this.cg.v()&&this.cg.p(this.vg(t()))}),this),this.gf.qu().i((t=>{this.dg.v()&&this.dg.p(this.vg(t()))}),this);const r=this.gf.Qt();this.mg=new En(r,this.gf.Im(),this.pg)}remove(){this.gf.Pv().u(this),this.gf.kv().u(this),this.gf.qu().u(this),this.mg.m(),this.gf.m(),this.og.clear(),this._g.clear(),this.ug.m(),this.cg.m(),this.dg.m(),this.fg.m()}resize(t,e,i){this.autoSizeActive()||this.gf.Rm(t,e,i)}addCustomSeries(t,e={},i=0){const n=(t=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...un,...t.defaultOptions()},wg:cn,gg:t}))(b(t));return this.Mg(n,e,i)}addSeries(t,e={},i=0){return this.Mg(t,e,i)}removeSeries(t){const e=y(this.og.get(t)),i=this.fg.dc(e);this.gf.Qt().dc(e),this.bg(i),this.og.delete(t),this._g.delete(e)}sg(t,e){this.bg(this.fg.ww(t,e))}eg(t,e,i){this.bg(this.fg.Cw(t,e,i))}subscribeClick(t){this.ug.i(t)}unsubscribeClick(t){this.ug._(t)}subscribeCrosshairMove(t){this.dg.i(t)}unsubscribeCrosshairMove(t){this.dg._(t)}subscribeDblClick(t){this.cg.i(t)}unsubscribeDblClick(t){this.cg._(t)}priceScale(t,e=0){return new Mn(this.gf,t,e)}timeScale(){return this.mg}applyOptions(t){this.gf.hr(Pn(t))}options(){return this.gf.N()}takeScreenshot(){return this.gf.Om()}removePane(t){this.gf.Qt().ju(t)}swapPanes(t,e){this.gf.Qt().Xu(t,e)}autoSizeActive(){return this.gf.Um()}chartElement(){return this.gf.If()}panes(){return this.gf.Qt().$s().map((t=>this.xg(t)))}paneSize(t=0){const e=this.gf.Ym(t);return{height:e.height,width:e.width}}setCrosshairPosition(t,e,i){const n=this.og.get(i);if(void 0===n)return;const r=this.gf.Qt().Hn(n);null!==r&&this.gf.Qt().ac(t,e,r)}clearCrosshairPosition(){this.gf.Qt().lc(!0)}horzBehaviour(){return this.pg}Mg(t,e={},i=0){v(void 0!==t.wg),function(t){if(void 0===t||"custom"===t.type)return;const e=t;void 0!==e.minMove&&void 0===e.precision&&(e.precision=function(t){if(t>=1)return 0;let e=0;for(;e<8;e++){const i=Math.round(t);if(Math.abs(i-t)<1e-8)return e;t*=10}return e}(e.minMove))}(e.priceFormat),"Candlestick"===t.type&&function(t){void 0!==t.borderColor&&(t.borderUpColor=t.borderColor,t.borderDownColor=t.borderColor),void 0!==t.wickColor&&(t.wickUpColor=t.wickColor,t.wickDownColor=t.wickColor)}(e);const n=A(M(c),M(t.defaultOptions),e),r=t.wg,o=new $t(this.gf.Qt(),t.type,n,r,t.gg);this.gf.Qt().uc(o,i);const s=new Dn(o,this,this,this,this.pg,(t=>this.xg(t)));return this.og.set(s,o),this._g.set(o,s),s}bg(t){const e=this.gf.Qt();e.oc(t.At.U_,t.At.Rw,t.At.Dw),t.wo.forEach(((t,e)=>e.ht(t.se,t.Tw))),e.At().k_(),e.Z_()}Sg(t){return y(this._g.get(t))}vg(t){const e=new Map;t.hw.forEach(((t,i)=>{const n=i.Rr(),r=xn(n)(t);if("Custom"!==n)v(function(t){return function(t){return void 0!==t.open}(t)||function(t){return void 0!==t.value}(t)}(r));else{const t=i.pa();v(!t||!1===t(r))}e.set(this.Sg(i),r)}));const i=void 0!==t.rw&&this._g.has(t.rw)?this.Sg(t.rw):void 0;return{time:t.sw,logical:t.Re,point:t.nw,paneIndex:t.ew,hoveredSeries:i,hoveredObjectId:t.aw,seriesData:e,sourceEvent:t.lw}}xg(t){let e=this.yu.get(t);return e||(e=new Tn(this.gf,(t=>this.Sg(t)),t,this),this.yu.set(t,e)),e}}function Ln(t,e,i){const n=function(t){if(k(t)){const e=document.getElementById(t);return v(null!==e,`Cannot find element in DOM with id=${t}`),e}return t}(t),r=new Bn(n,e,i);return e.setOptions(r.options()),r}function Rn(t,e){return Ln(t,new ri,ri.Oc(e))}class Fn extends sn{constructor(t,e){super(t,e,!0)}Uw(t,e,i){e.q_(this.Aw,O(this.Ew)),t.Vl(this.Aw,i,O(this.Ew))}Cg(t,e){return{wt:t,gt:e,_t:NaN,ut:NaN}}Fw(){const t=this.Jn.Rh();this.Aw=this.Jn.Xs().Hr().map((e=>{const i=e.Ft[3];return this.yg(e.Re,i,t)}))}}class Vn extends F{constructor(){super(...arguments),this.Yt=null,this._M=[]}ht(t){this.Yt=t,this._M=[]}et({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){if(null===this.Yt||0===this.Yt.ot.length||null===this.Yt.lt)return;this._M.length||this.uM(e);const n=Math.max(1,Math.floor(i)),r=Math.round(this.Yt.cM*i)-Math.floor(n/2),o=r+n;for(let e=this.Yt.lt.from;e<this.Yt.lt.to;e++){const s=this.Yt.ot[e],a=this._M[e-this.Yt.lt.from],h=Math.round(s.ut*i);let l,u;t.fillStyle=s.cr,h<=r?(l=h,u=o):(l=r,u=h-Math.floor(n/2)+n),t.fillRect(a.Uh,l,a.bi-a.Uh+1,u-l)}}uM(t){if(null===this.Yt||0===this.Yt.ot.length||null===this.Yt.lt)return void(this._M=[]);const e=Math.ceil(this.Yt.G_*t)<=1?0:Math.max(1,Math.floor(t)),i=Math.round(this.Yt.G_*t)-e;this._M=new Array(this.Yt.lt.to-this.Yt.lt.from);for(let e=this.Yt.lt.from;e<this.Yt.lt.to;e++){const n=this.Yt.ot[e],r=Math.round(n._t*t);let o,s;if(i%2){const t=(i-1)/2;o=r-t,s=r+t}else{const t=i/2;o=r-t,s=r+t-1}this._M[e-this.Yt.lt.from]={Uh:o,bi:s,dM:r,ne:n._t*t,wt:n.wt}}for(let t=this.Yt.lt.from+1;t<this.Yt.lt.to;t++){const i=this._M[t-this.Yt.lt.from],n=this._M[t-this.Yt.lt.from-1];i.wt===n.wt+1&&i.Uh-n.bi!==e+1&&(n.dM>n.ne?n.bi=i.Uh-e-1:i.Uh=n.bi+e+1)}let n=Math.ceil(this.Yt.G_*t);for(let t=this.Yt.lt.from;t<this.Yt.lt.to;t++){const e=this._M[t-this.Yt.lt.from];e.bi<e.Uh&&(e.bi=e.Uh);const i=e.bi-e.Uh+1;n=Math.min(i,n)}if(e>0&&n<4)for(let t=this.Yt.lt.from;t<this.Yt.lt.to;t++){const e=this._M[t-this.Yt.lt.from];e.bi-e.Uh+1>n&&(e.dM>e.ne?e.bi-=1:e.Uh+=1)}}}class In extends Fn{constructor(){super(...arguments),this.Ow=new Vn}yg(t,e,i){return{...this.Cg(t,e),...i.Dr(t)}}$w(){const t={ot:this.Aw,G_:this.Qn.At().G_(),lt:this.Ew,cM:this.Jn.Wt().Nt(this.Jn.N().base,x(this.Jn.zt()).Ft)};this.Ow.ht(t)}}const Nn={type:"Histogram",isBuiltIn:!0,defaultOptions:{color:"#26a69a",base:0},wg:(t,e)=>new In(t,e)};function jn(t){return jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jn(t)}function Wn(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return Hn(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Hn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw o}}}}function Hn(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}function Yn(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Un(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Yn(Object(i),!0).forEach((function(e){Gn(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Yn(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Gn(t,e,i){return(e=function(t){var e=function(t){if("object"!=jn(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,"string");if("object"!=jn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==jn(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Zn(){Zn=function(){return e};var t,e={},i=Object.prototype,n=i.hasOwnProperty,r=Object.defineProperty||function(t,e,i){t[e]=i.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",h=o.toStringTag||"@@toStringTag";function l(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,i){return t[e]=i}}function u(t,e,i,n){var o=e&&e.prototype instanceof v?e:v,s=Object.create(o.prototype),a=new z(n||[]);return r(s,"_invoke",{value:_(t,i,a)}),s}function c(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var p="suspendedStart",f="suspendedYield",d="executing",m="completed",g={};function v(){}function y(){}function x(){}var b={};l(b,s,(function(){return this}));var w=Object.getPrototypeOf,A=w&&w(w(D([])));A&&A!==i&&n.call(A,s)&&(b=A);var C=x.prototype=v.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function i(r,o,s,a){var h=c(t[r],t,o);if("throw"!==h.type){var l=h.arg,u=l.value;return u&&"object"==jn(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){i("next",t,s,a)}),(function(t){i("throw",t,s,a)})):e.resolve(u).then((function(t){l.value=t,s(l)}),(function(t){return i("throw",t,s,a)}))}a(h.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function _(e,i,n){var r=p;return function(o,s){if(r===d)throw Error("Generator is already running");if(r===m){if("throw"===o)throw s;return{value:t,done:!0}}for(n.method=o,n.arg=s;;){var a=n.delegate;if(a){var h=M(a,n);if(h){if(h===g)continue;return h}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===p)throw r=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var l=c(e,i,n);if("normal"===l.type){if(r=n.done?m:f,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=m,n.method="throw",n.arg=l.arg)}}}function M(e,i){var n=i.method,r=e.iterator[n];if(r===t)return i.delegate=null,"throw"===n&&e.iterator.return&&(i.method="return",i.arg=t,M(e,i),"throw"===i.method)||"return"!==n&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=c(r,e.iterator,i.arg);if("throw"===o.type)return i.method="throw",i.arg=o.arg,i.delegate=null,g;var s=o.arg;return s?s.done?(i[e.resultName]=s.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):s:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function z(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function D(e){if(e||""===e){var i=e[s];if(i)return i.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function i(){for(;++r<e.length;)if(n.call(e,r))return i.value=e[r],i.done=!1,i;return i.value=t,i.done=!0,i};return o.next=o}}throw new TypeError(jn(e)+" is not iterable")}return y.prototype=x,r(C,"constructor",{value:x,configurable:!0}),r(x,"constructor",{value:y,configurable:!0}),y.displayName=l(x,h,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,l(t,h,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},S(k.prototype),l(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,i,n,r,o){void 0===o&&(o=Promise);var s=new k(u(t,i,n,r),o);return e.isGeneratorFunction(i)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},S(C),l(C,h,"Generator"),l(C,s,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),i=[];for(var n in e)i.push(n);return i.reverse(),function t(){for(;i.length;){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=D,z.prototype={constructor:z,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function r(n,r){return a.type="throw",a.arg=e,i.next=n,r&&(i.method="next",i.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var h=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(h&&l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(h){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),O(i),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;O(i)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,i,n){return this.delegate={iterator:D(e),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function Xn(t,e,i,n,r,o,s){try{var a=t[o](s),h=a.value}catch(t){return void i(t)}a.done?e(h):Promise.resolve(h).then(n,r)}function qn(t){return function(){var e=this,i=arguments;return new Promise((function(n,r){var o=t.apply(e,i);function s(t){Xn(o,n,r,s,a,"next",t)}function a(t){Xn(o,n,r,s,a,"throw",t)}s(void 0)}))}}var Kn=document.getElementById("modal-content");function Qn(t){return $n.apply(this,arguments)}function $n(){return $n=qn(Zn().mark((function t(e){var i,n,r,o,s,a,h,l,u,c=arguments;return Zn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=c.length>1&&void 0!==c[1]?c[1]:"JSC-chart-",n=c.length>2&&void 0!==c[2]?c[2]:"",(r=document.createElement("section")).className="block p-1 border border-blue-400 rounded-md bg-white dark:bg-zinc-900 transition-all duration-1000",(o=document.createElement("div")).className="flex justify-between",(s=document.createElement("p")).id=e,s.className="bg-gray-200 dark:bg-zinc-700 rounded-md p-1 my-2 w-fit font-mono text-blue-500 dark:text-blue-400 transition-all duration-1000",s.textContent="Name: ".concat(e),a=document.createElement("p"),h="chart-".concat(i,"_").concat(Math.random().toString(30).substring(3,9)),a.dataset.value="".concat(i).concat(e,"-").concat(h),a.className="bg-blue-300 text-[#003953] rounded-md p-2 hover:scale-95 hover:bg-purple-400 w-fit h-fit transform transition-all duration-700 cursor-pointer",a.textContent="export",a.className="bg-blue-300 text-[#003953] rounded-md p-2 hover:scale-95 hover:bg-purple-400 w-fit h-fit transform transition-all duration-700 cursor-pointer",o.appendChild(s),o.appendChild(a),r.appendChild(o),n&&((l=document.createElement("p")).className="text-sm text-gray-500 dark:text-gray-300 italic mb-2 transition-all duration-1000",l.textContent=n,r.appendChild(l)),(u=document.createElement("div")).id="".concat(i).concat(e,"-").concat(h),u.className="h-[400px] max-h-full w-full rounded-lg bg-gray-50 dark:bg-zinc-800 transition-all duration-1000",r.appendChild(u),Kn.appendChild(r),t.abrupt("return",{chartContainer:u,Id:h});case 26:case"end":return t.stop()}}),t)}))),$n.apply(this,arguments)}var Jn=new Map;function tr(){return tr=qn(Zn().mark((function t(e){var i,n,r,o,s,a,h,l,u,c=arguments;return Zn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=c.length>1&&void 0!==c[1]?c[1]:[{x:"A",y:50},{x:"B",y:30},{x:"C",y:50}],n=c.length>2&&void 0!==c[2]?c[2]:{width:400,height:300},e){t.next=4;break}throw new Error("createCharts: chartName must be a non-empty string");case 4:if(!Jn.has(e)){t.next=6;break}return t.abrupt("return",Jn.get(e));case 6:return t.prev=6,t.next=9,Qn(e,"LWT");case 9:if((r=t.sent)&&r.chartContainer){t.next=12;break}throw new Error('No chartContainer returned for "'.concat(e,'"'));case 12:return o=r.chartContainer,s=Rn(o,n),a=i.map((function(t){return t.x})),s.applyOptions({timeScale:{tickMarkFormatter:function(t,e,i){var n;return null!==(n=a[t-l])&&void 0!==n?n:""}}}),h=s.addSeries(Nn,{priceFormat:{type:"volume"},priceScaleId:"",scaleMargins:{top:.8,bottom:.02}}),l=Math.floor(Date.now()/1e3),u=i.map((function(t){return{time:Math.floor(new Date(t.date).getTime()/1e3),value:t.revenue}})),h.setData(u),Jn.set(e,s),t.abrupt("return",s);case 24:throw t.prev=24,t.t0=t.catch(6),console.error('Error creating chart "'.concat(e,'":'),t.t0),t.t0;case 28:case"end":return t.stop()}}),t,null,[[6,24]])}))),tr.apply(this,arguments)}function er(t,e){return ir.apply(this,arguments)}function ir(){return ir=qn(Zn().mark((function t(e,i){var r,o,s,a,h,l,u=arguments;return Zn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:"column",o=u.length>3?u[3]:void 0,s=u.length>4&&void 0!==u[4]?u[4]:{debug:!0},e){t.next=5;break}throw new Error("createCharts: chartName required");case 5:if(!Jn.has(e)){t.next=7;break}return t.abrupt("return",Jn.get(e));case 7:return t.next=9,Qn(e,"JSC",o||null);case 9:if(a=t.sent.chartContainer){t.next=12;break}throw new Error('No id returned for "'.concat(e,'"'));case 12:return h={type:r,xAxis:{format:{labels:i.map((function(t){return t.x}))}},series:[{points:i.map((function(t){return{x:t.x,y:t.y}}))}],defaultSeries:Un({},s.seriesDefaults),title:{label:{text:s.title||e}},legend:s.showLegend?{template:"%name"}:{visible:!1}},l=n.chart(a,h),Jn.set(e,l),t.abrupt("return",l);case 16:case"end":return t.stop()}}),t)}))),ir.apply(this,arguments)}function nr(){return nr=qn(Zn().mark((function t(e){var i,n,r,o,s,a,h=arguments;return Zn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=h.length>1&&void 0!==h[1]?h[1]:"text",n=h.length>2&&void 0!==h[2]?h[2]:"function",t.prev=2,"text"===i){t.next=7;break}return t.next=6,rr(e.id);case 6:e=t.sent;case 7:return t.next=9,ar(e);case 9:if(r=t.sent){t.next=12;break}return t.abrupt("return");case 12:o=Wn(r);try{for(o.s();!(s=o.n()).done;)er((a=s.value).name,a.data,a.chartType,a.desc||null)}catch(t){o.e(t)}finally{o.f()}"click"===n&&window.opendiagViewModal(),t.next=22;break;case 17:return t.prev=17,t.t0=t.catch(2),console.error("Invalid JSON chart block:",t.t0),window.displayStatus(t.t0,"error"),t.abrupt("return",null);case 22:case"end":return t.stop()}}),t,null,[[2,17]])}))),nr.apply(this,arguments)}function rr(t){return or.apply(this,arguments)}function or(){return(or=qn(Zn().mark((function t(e){var i,n;return Zn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=document.querySelector('[data-value^="'.concat(e,'"]')),n=i.textContent,t.abrupt("return",n||"");case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function sr(t){for(var e,i=new RegExp("```".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json-chart","\\s*([\\s\\S]*?)```"),"g"),n=[];null!==(e=i.exec(t));)n.push(e[1].trim());return n}function ar(t){return hr.apply(this,arguments)}function hr(){return hr=qn(Zn().mark((function t(e){var i,n,r,o,s,a,h,l,u=arguments;return Zn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=[],"text"!==(u.length>1&&void 0!==u[1]?u[1]:"text")){t.next=10;break}if(n=sr(e,"json-chart")){t.next=6;break}return t.abrupt("return");case 6:r=Wn(n);try{for(r.s();!(o=r.n()).done;){s=o.value;try{a=JSON.parse(s),h={name:a.chartName,desc:a.description,data:a.data,chartType:a.chartType},i.push(h)}catch(t){console.warn("Failed to parse block:",t.message)}}}catch(t){r.e(t)}finally{r.f()}t.next=12;break;case 10:l=JSON.parse(e),i.push({name:l.chartName,desc:l.description,data:l.data});case 12:if(!i){t.next=14;break}return t.abrupt("return",i);case 14:case"end":return t.stop()}}),t)}))),hr.apply(this,arguments)}window.createLWTCharts=function(t){return tr.apply(this,arguments)},window.createJSCCharts=er,window.LoopRenderCharts=function(t){return nr.apply(this,arguments)}})();
//# sourceMappingURL=packed_V_Charts.js.map