/*! For license information please see packed_hfaichat.js.LICENSE.txt */
(()=>{"use strict";var t,e,n,r,o={127:(t,e,n)=>{n.a(t,(async(t,e)=>{try{var r=n(981);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function f(t){return y(t)||h(t)||m(t)||p()}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(t,e){if(t){if("string"==typeof t)return g(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}function h(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function y(t){if(Array.isArray(t))return g(t)}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function b(){b=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var a=e&&e.prototype instanceof v?e:v,i=Object.create(a.prototype),s=new B(r||[]);return o(i,"_invoke",{value:L(t,n,s)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var p="suspendedStart",m="suspendedYield",h="executing",y="completed",g={};function v(){}function w(){}function x(){}var k={};l(k,i,(function(){return this}));var C=Object.getPrototypeOf,E=C&&C(C(M([])));E&&E!==n&&r.call(E,i)&&(k=E);var A=x.prototype=v.prototype=Object.create(k);function T(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function H(t,e){function n(o,a,i,s){var c=f(t[o],t,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==d(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,i,s)}),(function(t){n("throw",t,i,s)})):e.resolve(u).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function L(e,n,r){var o=p;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=_(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?y:m,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function _(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=f(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function B(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function M(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(d(e)+" is not iterable")}return w.prototype=x,o(A,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=l(x,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,l(t,c,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},T(H.prototype),l(H.prototype,s,(function(){return this})),e.AsyncIterator=H,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new H(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},T(A),l(A,c,"Generator"),l(A,i,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=M,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x(r.key),r)}}function x(t){var e=k(t,"string");return"symbol"==d(e)?e:e+""}function k(t,e){if("object"!=d(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function C(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function E(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){C(a,r,o,i,s,"next",t)}function s(t){C(a,r,o,i,s,"throw",t)}i(void 0)}))}}function A(t){var e,n,r,o=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);o--;){if(n&&null!=(e=t[n]))return e.call(t);if(r&&null!=(e=t[r]))return new T(e.call(t));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function T(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return T=function(t){this.s=t,this.n=t.next},T.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var n=this.s.return;return void 0===n?Promise.resolve({value:t,done:!0}):e(n.apply(this.s,arguments))},throw:function(t){var n=this.s.return;return void 0===n?Promise.reject(t):e(n.apply(this.s,arguments))}},new T(t)}var o=null;function H(){return L.apply(this,arguments)}function L(){return(L=E(b().mark((function t(){var e;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.api.getKeys("huggingface");case 2:e=t.sent,o=e.huggingfaceKey;case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}await H();var a=new r.Uy(o),i=document.getElementById("chatArea"),s=document.getElementById("model"),c=document.getElementById("AutoScroll"),l=!1;function _(t){return S.apply(this,arguments)}function S(){return(S=E(b().mark((function t(e){var n,r,o,d,f,p,m,h,y,g,v,w,x,k,C,E,T,H,L,_,S,B,M,O,I,N,V,P,U,z,q,D,R,F;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("Reached Target: hfRoute"),n=e.startsWith("/image"),r=window.escapeHTML(e),o=s.value,d="msg_".concat(Math.random().toString(34).substring(3,9)),f="copy-button-".concat(Math.random().toString(36).substring(5,9)),p=document.createElement("div"),m={"Qwen/Qwen2.5-Math-1.5B":"hf-inference","Qwen/Qwen2-VL-7B-Instruct":"hyperbolic","Qwen/Qwen2.5-Coder-7B-Instruct":"nebius","Qwen/QVQ-72B-Preview":"nebius","deepseek-ai/DeepSeek-R1-Distill-Qwen-32B":"together","deepseek-ai/DeepSeek-R1":"together","meta-llama/Llama-3.2-11B-Vision-Instruct":"hf-inference"},!(["Qwen/Qwen2-VL-7B-Instruct","meta-llama/Llama-3.2-11B-Vision-Instruct","Qwen/QVQ-72B-Preview"].indexOf(o)>-1)){t.next=13;break}j(e,null,null,o,m[o]),t.next=99;break;case 13:if(p.innerHTML='\n\t\t\t<div data-id="'.concat(d,'" class="').concat(d,' relative bg-blue-500 dark:bg-[#142384] text-black dark:text-white rounded-lg p-2 md:p-3 shadow-md w-fit max-w-full lg:max-w-5xl">\n\t\t\t<p class="whitespace-pre-wrap break-words max-w-xl md:max-w-2xl lg:max-w-3xl">').concat(r,'</p>\n\t\t\t<button id="').concat(f,'" class="user-copy-button absolute rounded-md px-2 py-2 right-1 bottom-0.5 bg-gradient-to-r from-indigo-400 to-pink-400 dark:from-gray-700 dark:to-gray-900 hover:bg-indigo-200 dark:hover:bg-gray-600 text-white dark:text-gray-100 rounded-lg font-semibold border border-2 cursor-pointer opacity-40 hover:opacity-80 " onclick="CopyAll(\'.').concat(d,"', this)\">\n\t\t\tCopy\n\t\t\t</button>\n\t\t\t</div>\n\t\t\t"),p.classList.add("flex","justify-end","mb-4","overflow-wrap"),i.appendChild(p),window.implementUserCopy(),i.scrollTop=i.scrollHeight,!n){t.next=23;break}new u(i).createImage(e),t.next=99;break;case 23:e="".concat(e," [").concat(window.electron.getDateTime()," UTC]"),window.electron.addToChat({role:"user",content:e}),(h=document.createElement("div")).innerHTML='\n\t\t\t\t<div id="loader-parent">\n\t\t\t\t<svg width="48" height="48" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg" class="transform scale-75">\n\t\t\t\t<circle cx="12" cy="24" r="4" class="fill-green-500">\n\t\t\t\t<animate attributeName="cy" values="24;10;24;38;24" keyTimes="0;0.2;0.5;0.8;1" dur="1s" repeatCount="indefinite" />\n\t\t\t\t<animate attributeName="fill-opacity" values="1;.2;1" keyTimes="0;0.5;1" dur="1s" repeatCount="indefinite" />\n\t\t\t\t</circle>\n\t\t\t\t<circle cx="24" cy="24" r="4" class="fill-blue-500">\n\t\t\t\t<animate attributeName="cy" values="24;10;24;38;24" keyTimes="0;0.2;0.5;0.8;1" dur="1s" repeatCount="indefinite" begin="-0.4s" />\n\t\t\t\t<animate attributeName="fill-opacity" values="1;.2;1" keyTimes="0;0.5;1" dur="1s" repeatCount="indefinite" begin="-0.4s" />\n\t\t\t\t</circle>\n\t\t\t\t<circle cx="36" cy="24" r="4" class="fill-yellow-500">\n\t\t\t\t<animate attributeName="cy" values="24;10;24;38;24" keyTimes="0;0.2;0.5;0.8;1" dur="1s" repeatCount="indefinite" begin="-0.8s" />\n\t\t\t\t<animate attributeName="fill-opacity" values="1;.2;1" keyTimes="0;0.5;1" dur="1s" repeatCount="indefinite" begin="-0.8s" />\n\t\t\t\t</circle>\n\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t\t',y="msg_".concat(Math.random().toString(30).substring(3,9)),h.classList.add("flex","justify-start","mb-12","overflow-wrap"),i.appendChild(h),c.checked&&scrollToBottom(i),g="think-content-".concat(Math.random().toString(33).substring(3,9)),v="export-".concat(Math.random().toString(33).substring(3,9)),w=new window.Timer,t.prev=34,x={model:o,messages:window.electron.getChat(),max_tokens:3e3},m[o]&&(x.provider=m[o]),k=a.chatCompletionStream(x),console.log("Stream set"),C="",window.HandleProcessingEventChanges("show"),w.trackTime("start"),E="",T="",H=!1,L="",_=!1,S=!1,B=!1,t.prev=49,O=A(k);case 51:return t.next=53,O.next();case 53:if(!(S=!(I=t.sent).done)){t.next=71;break}if(N=I.value,null!=(U=null==N||null===(V=N.choices)||void 0===V?void 0:V[0])&&null!==(P=U.delta)&&void 0!==P&&P.content){t.next=58;break}return t.abrupt("continue",68);case 58:z=U.delta.content,L+=z,q=(C+=z).includes("<think>"),D="deepseek-ai/DeepSeek-R1-Distill-Qwen-32B"===o,R=!H&&(q||D),F=H&&C.includes("</think>"),R&&!_?(H=!0,_=!1,C=C.replace("<think>",""),E=C):F?(H=!1,_=!0,E+=z.replace("</think>",""),C=C.replace("</think>","")):H?E+=z:T+=z,h.innerHTML='\n\t\t\t\t\t\t\t<section class="relative w-fit max-w-full lg:max-w-6xl mb-8 p-2">\n\t\t\t\t\t\t\t'.concat(H||E?'\n\t\t\t\t\t\t\t\t<div class="think-section bg-gray-200 text-gray-800 dark:bg-[#28185a] dark:text-white rounded-lg px-4 pt-2 lg:max-w-6xl transition-colors duration-1000">\n\t\t\t\t\t\t\t\t<div class="flex items-center justify-between">\n\t\t\t\t\t\t\t\t<strong style="color: #007bff;">Thoughts:</strong>\n\t\t\t\t\t\t\t\t<button class="text-sm text-gray-600 dark:text-gray-300" onclick="window.toggleFold(event, this.parentElement.nextElementSibling.id)">\n\t\t\t\t\t\t\t\t<p class="flex">Fold\n\t\t\t\t\t\t\t\t<svg class="mb-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" width="32" height="38" class="fold-icon">\n\t\t\t\t\t\t\t\t<path class="fill-blue-400 dark:fill-yellow-400" d="M6 9h12l-6 6z"/>\n\t\t\t\t\t\t\t\t<path fill="currentColor" d="M6 15h12l-6-6z"/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div id="'.concat(g,'" class="">\n\t\t\t\t\t\t\t\t<p style="color: #333;">').concat(window.marked(E),"</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t"):"","\n\t\t\t\t\t\t\t\t").concat(E&&T?'<p class="rounded-lg border-2 border-blue-400 dark:border-orange-400"></p>':"","\n\t\t\t\t\t\t\t\t").concat(T?'\n\t\t\t\t\t\t\t\t\t<div class="'.concat(y,' bg-gray-200 py-4 text-gray-800 dark:bg-[#28185a] dark:text-white rounded-lg px-4 mb-6 pb-4 transition-colors duration-1000">\n\t\t\t\t\t\t\t\t\t').concat(T&&E?'<strong style="color: #28a745;">Response:</strong>':"",'\n\t\t\t\t\t\t\t\t\t<p style="color: #333;">').concat(window.marked(T),'</p>\n\t\t\t\t\t\t\t\t\t<section class="options absolute bottom-2 flex mt-6 space-x-4 cursor-pointer">\n\t\t\t\t\t\t\t\t\t\t<div class="group relative max-w-fit transition-all duration-500 hover:z-50">\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\trole="button"\n\t\t\t\t\t\t\t\t\t\t\t\tid="').concat(v,'"\n\t\t\t\t\t\t\t\t\t\t\t\taria-expanded="false"\n\t\t\t\t\t\t\t\t\t\t\t\tonclick="window.toggleExportOptions(this);"\n\t\t\t\t\t\t\t\t\t\t\t\taria-label="Export"\n\t\t\t\t\t\t\t\t\t\t\t\tclass="relative overflow-hidden bg-[white]/80 backdrop-blur-md transition-all duration-700 hover:bg-white hover:shadow-lg hover:shadow-blue-500/10 dark:bg-[#5500ff]/80 dark:hover:bg-[#00aa00]/90 active:scale-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-900/50 rounded-full"\n\t\t\t\t\t\t\t\t\t\t\t\tstyle="border: 2px solid rgba(255,85,0,0); background-clip: padding-box, border-box; background-origin: border-box; background-image: linear-gradient(to bottom right, hsl(0 0% 100% / 0.8), hsl(0 0% 100% / 0.8)), linear-gradient(135deg, rgba(255,0,255,170) 0%, rgba(0,0,255,85) 50%, rgba(0,255,255,170) 100%);"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="flex items-center space-x-2 px-4 py-1">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="relative h-6 w-6">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="absolute inset-0 h-full w-full fill-current text-blue-600 transition-all duration-700 group-hover:rotate-90 group-hover:scale-110 group-hover:text-blue-500 dark:text-[#00aaff] dark:group-hover:text-sky-800"\n\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox="0 0 24 24"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle="filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1))"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="origin-center transition-transform duration-500"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="bg-gradient-to-r from-blue-700 to-[#550000] bg-clip-text text-sm font-semibold text-transparent transition-all duration-700 group-hover:from-blue-600 group-hover:to-blue-400 dark:from-blue-600 dark:to-[#00007f] dark:group-hover:from-sky-700 dark:group-hover:to-[#984fff]">\n\t\t\t\t\t\t\t\t\t\t\t\t\tExport\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\x3c!-- Gradient border overlay --\x3e\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="absolute inset-0 -z-10 rounded-[12px] bg-gradient-to-br from-blue-400/20 via-purple-400/10 to-blue-400/20 opacity-60 dark:from-blue-400/15 dark:via-purple-400/10 dark:to-blue-400/15"></div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\x3c!-- Hover enhancement effect --\x3e\n\t\t\t\t\t\t\t\t\t\t\t<div class="absolute -inset-2 -z-10 rounded-xl bg-blue-500/10 blur-xl transition-opacity duration-300 group-hover:opacity-100 dark:bg-blue-400/15"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="rounded-lg p-1 cursor-pointer" aria-label="Copy" title="Copy" id="copy-all" onclick="CopyAll(\'.').concat(y,'\');">\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\tclass="w-5 md:w-6 h-5 md:h-6 mt-1 transition-transform duration-300 ease-in-out hover:scale-110 cursor-pointer"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox="0 0 24 24"\n\t\t\t\t\t\t\t\t\t\t\t\tfill="none"\n\t\t\t\t\t\t\t\t\t\t\t\txmlns="http://www.w3.org/2000/svg"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<defs>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<linearGradient id="gradient1" x1="0%" y1="0%" x2="100%" y2="100%">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<stop offset="0%" style="stop-color: #FF4081; stop-opacity: 100" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<stop offset="100%" style="stop-color: #4a1dff; stop-opacity: 1" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t\t\t\t\t\t</defs>\n\t\t\t\t\t\t\t\t\t\t\t\t<g clip-path="url(#clip0)">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill-rule="evenodd"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclip-rule="evenodd"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill="url(#gradient1)"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div id="exportOptions-').concat(v,'" class="hidden block absolute bottom-10 left-0 bg-white dark:bg-gray-800 p-2 rounded shadow-md z-50 transition-all duraton-700">\n\t\t\t\t\t\t\t\t\t<ul class="list-none p-0">\n\t\t\t\t\t\t\t\t\t<li class="mb-2">\n\t\t\t\t\t\t\t\t\t<a href="" class="text-blue-500 dark:text-blue-400" onclick="HTML2Pdf(event, \'.').concat(y,'\')">Export to PDF</a>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li class="mb-2">\n\t\t\t\t\t\t\t\t\t<a href="" class="text-blue-500 dark:text-blue-400" onclick="HTML2Jpg(event, \'.').concat(y,'\')">Export to JPG</a>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<a href="" class="text-blue-500 dark:text-blue-400" onclick="HTML2Word(event, \'.').concat(y,'\')">Export to DOCX</a>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<a href="" class="cursor-not-allowed text-blue-500 dark:text-blue-400 decoration-underline transition-colors duration-1000" onclick="">Word Export Advance</a>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</section>'):"","\n\t\t\t\t\t\t\t\t\t"),c.checked&&scrollToBottom(i);case 68:S=!1,t.next=51;break;case 71:t.next=77;break;case 73:t.prev=73,t.t0=t.catch(49),B=!0,M=t.t0;case 77:if(t.prev=77,t.prev=78,!S||null==O.return){t.next=82;break}return t.next=82,O.return();case 82:if(t.prev=82,!B){t.next=85;break}throw M;case 85:return t.finish(82);case 86:return t.finish(77);case 87:w.trackTime("stop"),window.debounceRenderMathJax(y),window.HandleProcessingEventChanges("hide"),!1===l&&(window.electron.send("toMain",{message:"set-Utitility-Script"}),l=!0),window.debounceRenderMathJax(y,0,!0),window.electron.addToChat({role:"assistant",content:L}),window.handleDiagrams(T,"both"),t.next=99;break;case 96:t.prev=96,t.t1=t.catch(34),window.handleRequestError(t.t1,p,h);case 99:case"end":return t.stop()}}),t,null,[[34,96],[49,73,77,87],[78,,82,86]])})))).apply(this,arguments)}function j(t,e){return B.apply(this,arguments)}function B(){return B=E(b().mark((function t(e,n){var r,o,l,u,d,p,m,h,y,g,v,w,x,k,C,E,T,H,L,_,S,j,B,O=arguments;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=O.length>2&&void 0!==O[2]?O[2]:null,o=O.length>3&&void 0!==O[3]?O[3]:null,l=O.length>4&&void 0!==O[4]?O[4]:null,u=new window.Timer,s.value=o?o.split("/").slice(-1)[0]:"meta-llama/Llama-3.2-11B-Vision-Instruct",d="FCont_".concat(Math.random().toString(35).substring(2,8)),p=M(e,n,r,d),e="".concat(e," [").concat(window.electron.getDateTime()," UTC]"),r?"image"==n?(h=r.map((function(t){return{type:"image_url",imageUrl:{url:t}}})),m=[{type:"text",text:e}].concat(f(h))):"document"==n&&(y=r.map((function(t){return{type:"file_url",fileUrl:{url:t}}})),m=[{type:"text",text:e}].concat(f(y))):m=[{type:"text",text:e}],window.electron.addToVisionChat({role:"user",content:m}),g=document.createElement("div"),v="msg_".concat(Math.random().toString(30).substring(3,9)),g.classList.add("flex","justify-start","mb-12","overflow-wrap"),i.appendChild(g),w="export-".concat(Math.random().toString(33).substring(3,9)),g.innerHTML='\n\t\t<div id="loader-parent">\n\t\t<svg width="48" height="48" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg" class="transform scale-75">\n\t\t<circle cx="12" cy="24" r="4" class="fill-green-500">\n\t\t<animate attributeName="cy" values="24;10;24;38;24" keyTimes="0;0.2;0.5;0.8;1" dur="1s" repeatCount="indefinite" />\n\t\t<animate attributeName="fill-opacity" values="1;.2;1" keyTimes="0;0.5;1" dur="1s" repeatCount="indefinite" />\n\t\t</circle>\n\t\t<circle cx="24" cy="24" r="4" class="fill-blue-500">\n\t\t<animate attributeName="cy" values="24;10;24;38;24" keyTimes="0;0.2;0.5;0.8;1" dur="1s" repeatCount="indefinite" begin="-0.4s" />\n\t\t<animate attributeName="fill-opacity" values="1;.2;1" keyTimes="0;0.5;1" dur="1s" repeatCount="indefinite" begin="-0.4s" />\n\t\t</circle>\n\t\t<circle cx="36" cy="24" r="4" class="fill-yellow-500">\n\t\t<animate attributeName="cy" values="24;10;24;38;24" keyTimes="0;0.2;0.5;0.8;1" dur="1s" repeatCount="indefinite" begin="-0.8s" />\n\t\t<animate attributeName="fill-opacity" values="1;.2;1" keyTimes="0;0.5;1" dur="1s" repeatCount="indefinite" begin="-0.8s" />\n\t\t</circle>\n\t\t</svg>\n\t\t</div>\n\t\t',t.prev=16,x=a.chatCompletionStream({model:o,messages:window.electron.clearImages(window.electron.getVisionChat()),max_tokens:2e3}),l&&(x.provider=l),k="",window.HandleProcessingEventChanges("show"),u.trackTime("start"),C=!1,E=!1,t.prev=24,H=A(x);case 26:return t.next=28,H.next();case 28:if(!(C=!(L=t.sent).done)){t.next=35;break}_=L.value,null!=(B=null==_||null===(S=_.choices)||void 0===S?void 0:S[0])&&null!==(j=B.delta)&&void 0!==j&&j.content&&(k+=B.delta.content,g.innerHTML='\n\t\t\t\t\t<section class="relative w-fit max-w-full lg:max-w-6xl mb-8">\n\t\t\t\t\t<div class="'.concat(v,' bg-gray-200 text-gray-800 dark:bg-[#28185a] dark:text-white rounded-lg px-4 mb-6 pt-2 pb-4 w-fit max-w-full lg:max-w-6xl transition-colors duration-1000">').concat(window.marked(k),'\n\t\t\t\t\t\t<section class="options absolute bottom-2 flex mt-6 space-x-4 cursor-pointer">\n\t\t\t\t\t\t\t<div class="group relative max-w-fit transition-all duration-500 hover:z-50">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\trole="button"\n\t\t\t\t\t\t\t\t\tid="').concat(w,'"\n\t\t\t\t\t\t\t\t\taria-expanded="false"\n\t\t\t\t\t\t\t\t\tonclick="window.toggleExportOptions(this);"\n\t\t\t\t\t\t\t\t\taria-label="Export"\n\t\t\t\t\t\t\t\t\tclass="relative overflow-hidden bg-[white]/80 backdrop-blur-md transition-all duration-700 hover:bg-white hover:shadow-lg hover:shadow-blue-500/10 dark:bg-[#5500ff]/80 dark:hover:bg-[#00aa00]/90 active:scale-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-900/50 rounded-full"\n\t\t\t\t\t\t\t\t\tstyle="border: 2px solid rgba(255,85,0,0); background-clip: padding-box, border-box; background-origin: border-box; background-image: linear-gradient(to bottom right, hsl(0 0% 100% / 0.8), hsl(0 0% 100% / 0.8)), linear-gradient(135deg, rgba(255,0,255,170) 0%, rgba(0,0,255,85) 50%, rgba(0,255,255,170) 100%);"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class="flex items-center space-x-2 px-4 py-1">\n\t\t\t\t\t\t\t\t\t<div class="relative h-6 w-6">\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclass="absolute inset-0 h-full w-full fill-current text-blue-600 transition-all duration-700 group-hover:rotate-90 group-hover:scale-110 group-hover:text-blue-500 dark:text-[#00aaff] dark:group-hover:text-sky-800"\n\t\t\t\t\t\t\t\t\t\tviewBox="0 0 24 24"\n\t\t\t\t\t\t\t\t\t\tstyle="filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1))"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"\n\t\t\t\t\t\t\t\t\t\t\tclass="origin-center transition-transform duration-500"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<span class="bg-gradient-to-r from-blue-700 to-[#550000] bg-clip-text text-sm font-semibold text-transparent transition-all duration-700 group-hover:from-blue-600 group-hover:to-blue-400 dark:from-blue-600 dark:to-[#00007f] dark:group-hover:from-sky-700 dark:group-hover:to-[#984fff]">\n\t\t\t\t\t\t\t\t\t\tExport\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\x3c!-- Gradient border overlay --\x3e\n\t\t\t\t\t\t\t\t\t<div class="absolute inset-0 -z-10 rounded-[12px] bg-gradient-to-br from-blue-400/20 via-purple-400/10 to-blue-400/20 opacity-60 dark:from-blue-400/15 dark:via-purple-400/10 dark:to-blue-400/15"></div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\x3c!-- Hover enhancement effect --\x3e\n\t\t\t\t\t\t\t\t<div class="absolute -inset-2 -z-10 rounded-xl bg-blue-500/10 blur-xl transition-opacity duration-500 group-hover:opacity-100 dark:bg-blue-400/15"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="rounded-lg p-1 cursor-pointer" aria-label="Copy" title="Copy" id="copy-all" onclick="CopyAll(\'.').concat(v,'\');">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclass="w-5 md:w-6 h-5 md:h-6 mt-1 transition-transform duration-300 ease-in-out hover:scale-110 cursor-pointer"\n\t\t\t\t\t\t\t\t\tviewBox="0 0 24 24"\n\t\t\t\t\t\t\t\t\tfill="none"\n\t\t\t\t\t\t\t\t\txmlns="http://www.w3.org/2000/svg"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<defs>\n\t\t\t\t\t\t\t\t\t\t<linearGradient id="gradient1" x1="0%" y1="0%" x2="100%" y2="100%">\n\t\t\t\t\t\t\t\t\t\t\t<stop offset="0%" style="stop-color: #FF4081; stop-opacity: 100" />\n\t\t\t\t\t\t\t\t\t\t\t<stop offset="100%" style="stop-color: #4a1dff; stop-opacity: 1" />\n\t\t\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t\t\t</defs>\n\t\t\t\t\t\t\t\t\t<g clip-path="url(#clip0)">\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tfill-rule="evenodd"\n\t\t\t\t\t\t\t\t\t\t\tclip-rule="evenodd"\n\t\t\t\t\t\t\t\t\t\t\td="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z"\n\t\t\t\t\t\t\t\t\t\t\tfill="url(#gradient1)"/>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div id="exportOptions-').concat(w,'" class="hidden block absolute bottom-10 left-0 bg-white dark:bg-gray-800 p-2 rounded shadow-md z-50 transition-all duartion-700">\n\n\t\t\t\t\t<ul class="list-none p-0">\n\t\t\t\t\t<li class="mb-2">\n\t\t\t\t\t<a href="" class="text-blue-500 dark:text-blue-400" onclick="HTML2Pdf(event, \'.').concat(v,'\')">1. Export to PDF</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class="mb-2">\n\t\t\t\t\t<a href="" class="text-blue-500 dark:text-blue-400" onclick="HTML2Jpg(event, \'.').concat(v,'\')">2. Export to JPG</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t<a href="" class="text-blue-500 dark:text-blue-400" onclick="HTML2Word(event, \'.').concat(v,'\')">3. Export to DOCX</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t<a href="" class="text-blue-500 dark:text-blue-400 decoration-underline cursor-not-allowed" onclick="">4. Word Export Advance</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t</section>\n\t\t\t\t\t'),c.checked&&scrollToBottom(i),window.debounceRenderMathJax(v));case 32:C=!1,t.next=26;break;case 35:t.next=41;break;case 37:t.prev=37,t.t0=t.catch(24),E=!0,T=t.t0;case 41:if(t.prev=41,t.prev=42,!C||null==H.return){t.next=46;break}return t.next=46,H.return();case 46:if(t.prev=46,!E){t.next=49;break}throw T;case 49:return t.finish(46);case 50:return t.finish(41);case 51:u.trackTime("stop"),window.HandleProcessingEventChanges("hide"),window.setutilityScriptisSet(),window.debounceRenderMathJax(v,0,!0),window.electron.addToVisionChat({role:"assistant",content:[{type:"text",text:k}]}),window.handleDiagrams(k,"both"),t.next=62;break;case 59:t.prev=59,t.t1=t.catch(16),window.handleRequestError(t.t1,p,g,["VS",n,d]);case 62:case"end":return t.stop()}}),t,null,[[16,59],[24,37,41,51],[42,,46,50]])}))),B.apply(this,arguments)}function M(t,e,n,r){var o="msg_".concat(Math.random().toString(35).substring(2,8)),a="copy-button-".concat(Math.random().toString(36).substring(5,9)),s=document.createElement("div");s.classList.add("flex","justify-end","mb-4");var c='\n\t\t<div data-id="'.concat(o,'" class="').concat(o,' relative bg-blue-500 dark:bg-[#142384] text-black dark:text-white rounded-lg p-2 md:p-3 shadow-md w-fit max-w-full lg:max-w-5xl">\n\t\t<p class="whitespace-pre-wrap break-words max-w-xl md:max-w-2xl lg:max-w-3xl">').concat(window.escapeHTML(t),'</p>\n\t\t<button id="').concat(a,'" class="user-copy-button absolute rounded-md px-2 py-2 right-1 bottom-0.5 bg-gradient-to-r from-indigo-400 to-pink-400 dark:from-gray-700 dark:to-gray-900 hover:bg-indigo-200 dark:hover:bg-gray-600 text-white dark:text-gray-100 rounded-lg font-semibold border border-2 cursor-pointer opacity-40 hover:opacity-80" onclick="CopyAll(\'.').concat(o,"', this)\">\n\t\tCopy\n\t\t</button>\n\t\t</div>\n\t\t");if(n){var l='\n\t\t\t<div id="'.concat(r,'" class="flex justify-end">\n\t\t\t<article class="flex flex-rows-1 md:flex-rows-3 bg-cyan-100 w-fit p-1 rounded-lg">\n\t\t\t').concat(n&&"image"===e?n.map((function(t){return'<img src="'.concat(t,'" alt="Uploaded Image" class="rounded-md w-14 h-14 my-auto mx-1" />')})).join(""):"document"===e?n.map((function(t){return'<div class="inline-flex items-center"><svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n\t\t\t<path stroke-linecap="round" stroke-linejoin="round" d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 16V4a2 2 0 0 1 2 2v12a2 2 0 0 0-2-2zm1-1h4v10h-4V4z"/></svg><span>'.concat(t,"</span></div>")})).join(""):"","\n\t\t\t</article>\n\t\t\t</div>\n\t\t\t"),u=document.createElement("div");u.className="flex justify-end",u.innerHTML=l,i.appendChild(u)}return s.innerHTML=c,i.appendChild(s),scrollToBottom(i),window.copyBMan(),window.implementUserCopy(),s}window.check=l;var u=function(){return t=function t(e){v(this,t),this.chatArea=e},e=[{key:"errorHandler",value:(a=E(b().mark((function t(e,n){var r,o,a,i,s,c,l=this;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{console.log(e),this._Timer.trackTime("interrupt"),r=document.getElementById("errorContainer"),o=document.getElementById("errorArea"),a=document.getElementById("closeEModal"),i=document.getElementById("retryBt"),this.removeLoader(),s=i.cloneNode(!0),i.replaceWith(s),(i=document.getElementById("retryBt")).addEventListener("click",E(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l.removeLoader(),t.next=3,l.createImage(e);case 3:case"end":return t.stop()}}),t)})))),a.addEventListener("click",(function(t){if(t.stopPropagation(),l.hideErrorModal(),l.removeLoader(),"undefined"!=typeof VS_url&&VS_url&&VS_url[1]){var e=document.getElementById(VS_url[2]);e&&e.remove()}})),setTimeout((function(){r.classList.remove("hidden"),r.classList.add("left-1/2","opacity-100","pointer-events-auto")}),200),c="Failed to fetch"===n.message?"Connection Error: Check your Internet!":n.message,"[object Object]"===n.message&&(c="This model is unreachable: It might be overloaded!"),o.textContent=c}catch(t){console.error("Error handling request error:",t)}case 1:case"end":return t.stop()}}),t,this)}))),function(t,e){return a.apply(this,arguments)})},{key:"hideErrorModal",value:function(){var t=document.getElementById("errorContainer");setTimeout((function(){t.classList.remove("left-1/2","-translate-x-1/2"),t.classList.add("-translate-x-full","opacity-0","pointer-events-none")}),0),setTimeout((function(){t.classList.remove("opacity-100","-translate-x-full"),t.classList.add("hidden","-translate-x-1/2")}),1e3)}},{key:"removeLoader",value:function(){var t=document.getElementById(this.loaderId);t&&t.remove()}},{key:"generateImage",value:(r=E(b().mark((function t(e){var n,r,a,i=arguments;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]&&i[1]?"https://api-inference.huggingface.co/models/black-forest-labs/FLUX.1-dev":"https://api-inference.huggingface.co/models/stabilityai/stable-diffusion-3.5-large",t.prev=2,t.next=5,fetch(n,{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)});case 5:if(!0!==(r=t.sent).ok){t.next=16;break}return t.next=9,r.blob();case 9:if(!(a=t.sent)){t.next=13;break}return console.log(a),t.abrupt("return",URL.createObjectURL(a));case 13:return t.abrupt("return",null);case 16:this.errorHandler(e.inputs,new Error("Failed with status:".concat(r.status)));case 17:t.next=23;break;case 19:t.prev=19,t.t0=t.catch(2),console.error("Image generation error:",t.t0),this.errorHandler(e.inputs,t.t0);case 23:case"end":return t.stop()}}),t,this,[[2,19]])}))),function(t){return r.apply(this,arguments)})},{key:"createLoadingMessage",value:function(t){this.loaderId=t||null;var e=document.createElement("div");return e.innerHTML='\n\t\t<div id="'.concat(t,'" class="w-fit dark:text-gray-100 rounded-lg font-normal bg-gray-50 dark:bg-zinc-900 max-w-3xl mb-[7%] lg:mb-[5%]">\n\t\t<div class="space-x-1 flex">\n\t\t<svg width="48" height="48" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg" class="transform scale-75">\n\t\t<circle cx="12" cy="24" r="4" class="fill-green-500">\n\t\t<animate attributeName="cy" values="24;10;24;38;24" keyTimes="0;0.2;0.5;0.8;1" dur="1s" repeatCount="indefinite" />\n\t\t<animate attributeName="fill-opacity" values="1;.2;1" keyTimes="0;0.5;1" dur="1s" repeatCount="indefinite" />\n\t\t</circle>\n\t\t<circle cx="24" cy="24" r="4" class="fill-blue-500">\n\t\t<animate attributeName="cy" values="24;10;24;38;24" keyTimes="0;0.2;0.5;0.8;1" dur="1s" repeatCount="indefinite" begin="-0.4s" />\n\t\t<animate attributeName="fill-opacity" values="1;.2;1" keyTimes="0;0.5;1" dur="1s" repeatCount="indefinite" begin="-0.4s" />\n\t\t</circle>\n\t\t<circle cx="36" cy="24" r="4" class="fill-yellow-500">\n\t\t<animate attributeName="cy" values="24;10;24;38;24" keyTimes="0;0.2;0.5;0.8;1" dur="1s" repeatCount="indefinite" begin="-0.8s" />\n\t\t<animate attributeName="fill-opacity" values="1;.2;1" keyTimes="0;0.5;1" dur="1s" repeatCount="indefinite" begin="-0.8s" />\n\t\t</circle>\n\t\t</svg>\n\t\t<span class="text-sm mt-3 text-gray-700 dark:text-gray-200">0s</span>\n\t\t</div>\n\t\t</div>'),this.chatArea.appendChild(e),this.chatArea.scrollTop=this.chatArea.scrollHeight,e}},{key:"createImage",value:(n=E(b().mark((function t(e){var n,r,o,a,i,s,c,l=this;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this._Timer=new Timer,this._Timer.trackTime("start"),console.log("Timer started"),n={inputs:e.replace("/image","").trim()},r="image_".concat(Math.random().toString(36).substring(2,7)),o=this.createLoadingMessage(r),a=0,i=setInterval((function(){a++,o.querySelector("span").textContent="".concat(a,"s")}),1e3),s=document.getElementById("CModel").checked,t.next=12,this.generateImage(n,s);case 12:c=t.sent,clearInterval(i),c?/^https?:\/\//.test(c)&&fetch(c,{method:"HEAD"}).then((function(t){var e;if(null===(e=t.headers.get("Content-Type"))||void 0===e||!e.startsWith("image/"))throw new Error("Invalid image type");o.innerHTML="",o.appendChild(l.createImageElement(c))})).catch(console.error):o.innerHTML='\n\t\t\t\t<div id="'.concat(r,'" class="w-fit bg-red-400 text-gray-950 dark:bg-rose-500 rounded-lg p-2 font-normal shadow-lg dark:shadow-red-500 max-w-3xl mb-[5%]">\n\t\t\t\t<span class="text-sm text-gray-950 dark:text-black">Could not Process request!</span>\n\t\t\t\t</div>'),this._Timer.trackTime("stop"),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(0),console.error("Error handling request error:",t.t0),this.errorHandler(e,t.t0);case 22:case"end":return t.stop()}}),t,this,[[0,18]])}))),function(t){return n.apply(this,arguments)})},{key:"createImageElement",value:function(t){var e=document.createElement("div");e.className="relative mb-[5%]";var n=document.createElement("img");n.src=t,n.className="rounded-lg shadow-lg mt-4 max-w-xs cursor-pointer",n.onclick=function(){return n.requestFullscreen()},e.appendChild(n);var r=document.createElement("button");r.className="absolute flex items-center text-white rounded-bl-md bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 font-semibold py-2 px-4 focus:outline-none shadow-md w-fit h-fit bottom-0 left-0 opacity-60 hover:opacity-100";var o=document.createElement("a");o.href=t,o.download="generated_image.png",o.className="flex items-center text-white no-underline";var a=document.createElement("span");a.textContent="Download",o.appendChild(a);var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("width","24"),i.setAttribute("height","24"),i.setAttribute("viewBox","0 0 24 24"),i.setAttribute("fill","none"),i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.classList.add("ml-2");var s=document.createElementNS("http://www.w3.org/2000/svg","path");return s.setAttribute("fill-rule","evenodd"),s.setAttribute("clip-rule","evenodd"),s.setAttribute("d","M12 21C11.7348 21 11.4804 20.8946 11.2929 20.7071L4.29289 13.7071C3.90237 13.3166 3.90237 12.6834 4.29289 12.2929C4.68342 11.9024 5.31658 11.9024 5.70711 12.2929L11 17.5858V4C11 3.44772 11.4477 3 12 3C12.5523 3 13 3.44772 13 4V17.5858L18.2929 12.2929C18.6834 11.9024 19.3166 11.9024 19.7071 12.2929C20.0976 12.6834 20.0976 13.3166 19.7071 13.7071L12.7071 20.7071C12.5196 20.8946 12.2652 21 12 21Z"),s.setAttribute("fill","currentColor"),i.appendChild(s),o.appendChild(i),r.appendChild(o),e.appendChild(r),e}}],e&&w(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r,a}();window.VisionChat=j,window.routeToHf=_,e()}catch(O){e(O)}}),1)},981:(t,e,n)=>{n.d(e,{Uy:()=>J});var r=Object.defineProperty,o={};function a(t,e){const n=Array.isArray(e)?e:[e];return function(t,e){return Object.assign({},...e.map((e=>{if(void 0!==t[e])return{[e]:t[e]}})))}(t,Object.keys(t).filter((t=>{return e=t,!n.includes(e);var e})))}function i(t){return/^http(s?):/.test(t)||t.startsWith("/")}((t,e)=>{for(var n in e)r(t,n,{get:e[n],enumerable:!0})})(o,{audioClassification:()=>b,audioToAudio:()=>x,automaticSpeechRecognition:()=>v,chatCompletion:()=>R,chatCompletionStream:()=>F,documentQuestionAnswering:()=>Q,featureExtraction:()=>S,fillMask:()=>j,imageClassification:()=>k,imageSegmentation:()=>C,imageToImage:()=>L,imageToText:()=>E,objectDetection:()=>A,questionAnswering:()=>B,request:()=>h,sentenceSimilarity:()=>M,streamingRequest:()=>y,summarization:()=>O,tableQuestionAnswering:()=>I,tabularClassification:()=>W,tabularRegression:()=>G,textClassification:()=>N,textGeneration:()=>P,textGenerationStream:()=>U,textToImage:()=>T,textToSpeech:()=>w,tokenClassification:()=>z,translation:()=>q,visualQuestionAnswering:()=>$,zeroShotClassification:()=>D,zeroShotImageClassification:()=>_});var s=new Map,c=6e5,l=1e3,u="https://huggingface.co";async function d(t,e,n){if(i(t))return null;const r=`${t}:${e}`;let o=s.get(r);if(o&&o.date<new Date(Date.now()-c)&&(s.delete(r),o=void 0),void 0===o){const a=await(n?.fetch??fetch)(`${u}/api/models/${t}?expand[]=pipeline_tag`,{headers:e?{Authorization:`Bearer ${e}`}:{}}).then((t=>t.json())).then((t=>t.pipeline_tag)).catch((()=>null));if(!a)return null;o={task:a,date:new Date},s.set(r,{task:a,date:new Date}),s.size>l&&s.delete(s.keys().next().value)}return o.task}var f="https://api-inference.huggingface.co",p=null;async function m(t,e){const{accessToken:n,endpointUrl:r,...o}=t;let{model:s}=t;const{forceTask:c,includeCredentials:l,taskHint:d,wait_for_model:m,use_cache:h,dont_load_model:y,chatCompletion:g}=e??{},b={};if(n&&(b.Authorization=`Bearer ${n}`),!s&&!p&&d){const t=await fetch(`${u}/api/tasks`);t.ok&&(p=await t.json())}if(!s&&p&&d){const t=p[d];t&&(s=t.models[0].id)}if(!s)throw new Error("No model provided, and no default model found for this task");const v="data"in t&&!!t.data;v||(b["Content-Type"]="application/json"),m&&(b["X-Wait-For-Model"]="true"),!1===h&&(b["X-Use-Cache"]="false"),y&&(b["X-Load-Model"]="0");let w,x=(()=>{if(r&&i(s))throw new TypeError("Both model and endpointUrl cannot be URLs");return i(s)?(console.warn("Using a model URL is deprecated, please use the `endpointUrl` parameter instead"),s):r||(c?`${f}/pipeline/${c}/${s}`:`${f}/models/${s}`)})();return g&&!x.endsWith("/chat/completions")&&(x+="/v1/chat/completions"),"string"==typeof l?w=l:!0===l&&(w="include"),{url:x,info:{headers:b,method:"POST",body:v?t.data:JSON.stringify({...o.model&&i(o.model)?a(o,"model"):o}),...w&&{credentials:w},signal:e?.signal}}}async function h(t,e){const{url:n,info:r}=await m(t,e),o=await(e?.fetch??fetch)(n,r);if(!1!==e?.retry_on_error&&503===o.status&&!e?.wait_for_model)return h(t,{...e,wait_for_model:!0});if(!o.ok){if(o.headers.get("Content-Type")?.startsWith("application/json")){const n=await o.json();if([400,422,404,500].includes(o.status)&&e?.chatCompletion)throw new Error(`Server ${t.model} does not seem to support chat completion. Error: ${n.error}`);if(n.error)throw new Error(JSON.stringify(n.error))}throw new Error("An error occurred while fetching the blob")}return o.headers.get("Content-Type")?.startsWith("application/json")?await o.json():await o.blob()}async function*y(t,e){const{url:n,info:r}=await m({...t,stream:!0},e),o=await(e?.fetch??fetch)(n,r);if(!1!==e?.retry_on_error&&503===o.status&&!e?.wait_for_model)return yield*y(t,{...e,wait_for_model:!0});if(!o.ok){if(o.headers.get("Content-Type")?.startsWith("application/json")){const n=await o.json();if([400,422,404,500].includes(o.status)&&e?.chatCompletion)throw new Error(`Server ${t.model} does not seem to support chat completion. Error: ${n.error}`);if(n.error)throw new Error(n.error)}throw new Error(`Server response contains error: ${o.status}`)}if(!o.headers.get("content-type")?.startsWith("text/event-stream"))throw new Error("Server does not support event stream content type, it returned "+o.headers.get("content-type"));if(!o.body)return;const a=o.body.getReader();let i=[];const s=function(t){let e,n,r,o=!1;return function(a){void 0===e?(e=a,n=0,r=-1):e=function(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}(e,a);const i=e.length;let s=0;for(;n<i;){o&&(10===e[n]&&(s=++n),o=!1);let a=-1;for(;n<i&&-1===a;++n)switch(e[n]){case 58:-1===r&&(r=n-s);break;case 13:o=!0;case 10:a=n}if(-1===a)break;t(e.subarray(s,a),r),s=n,r=-1}s===i?e=void 0:0!==s&&(e=e.subarray(s),n-=s)}}(function(){let t={data:"",event:"",id:"",retry:void 0};const e=new TextDecoder;return function(n,r){if(0===n.length)o=t,i.push(o),t={data:"",event:"",id:"",retry:void 0};else if(r>0){const o=e.decode(n.subarray(0,r)),a=r+(32===n[r+1]?2:1),i=e.decode(n.subarray(a));switch(o){case"data":t.data=t.data?t.data+"\n"+i:i;break;case"event":t.event=i;break;case"id":t.id=i;break;case"retry":const e=parseInt(i,10);isNaN(e)||(t.retry=e)}}var o}}());try{for(;;){const{done:t,value:e}=await a.read();if(t)return;s(e);for(const t of i)if(t.data.length>0){if("[DONE]"===t.data)return;const e=JSON.parse(t.data);if("object"==typeof e&&null!==e&&"error"in e)throw new Error(e.error);yield e}i=[]}}finally{a.releaseLock()}}var g=class extends TypeError{constructor(t){super(`Invalid inference output: ${t}. Use the 'request' method with the same parameters to do a custom call with no type checking.`),this.name="InferenceOutputError"}};async function b(t,e){const n=await h(t,{...e,taskHint:"audio-classification"});if(!Array.isArray(n)||!n.every((t=>"string"==typeof t.label&&"number"==typeof t.score)))throw new g("Expected Array<{label: string, score: number}>");return n}async function v(t,e){const n=await h(t,{...e,taskHint:"automatic-speech-recognition"});if("string"!=typeof n?.text)throw new g("Expected {text: string}");return n}async function w(t,e){const n=await h(t,{...e,taskHint:"text-to-speech"});if(!(n&&n instanceof Blob))throw new g("Expected Blob");return n}async function x(t,e){const n=await h(t,{...e,taskHint:"audio-to-audio"});if(!Array.isArray(n)||!n.every((t=>"string"==typeof t.label&&"string"==typeof t.blob&&"string"==typeof t["content-type"])))throw new g("Expected Array<{label: string, blob: string, content-type: string}>");return n}async function k(t,e){const n=await h(t,{...e,taskHint:"image-classification"});if(!Array.isArray(n)||!n.every((t=>"string"==typeof t.label&&"number"==typeof t.score)))throw new g("Expected Array<{label: string, score: number}>");return n}async function C(t,e){const n=await h(t,{...e,taskHint:"image-segmentation"});if(!Array.isArray(n)||!n.every((t=>"string"==typeof t.label&&"string"==typeof t.mask&&"number"==typeof t.score)))throw new g("Expected Array<{label: string, mask: string, score: number}>");return n}async function E(t,e){const n=(await h(t,{...e,taskHint:"image-to-text"}))?.[0];if("string"!=typeof n?.generated_text)throw new g("Expected {generated_text: string}");return n}async function A(t,e){const n=await h(t,{...e,taskHint:"object-detection"});if(!Array.isArray(n)||!n.every((t=>"string"==typeof t.label&&"number"==typeof t.score&&"number"==typeof t.box.xmin&&"number"==typeof t.box.ymin&&"number"==typeof t.box.xmax&&"number"==typeof t.box.ymax)))throw new g("Expected Array<{label:string; score:number; box:{xmin:number; ymin:number; xmax:number; ymax:number}}>");return n}async function T(t,e){const n=await h(t,{...e,taskHint:"text-to-image"});if(!(n&&n instanceof Blob))throw new g("Expected Blob");return n}function H(t){if(globalThis.Buffer)return globalThis.Buffer.from(t).toString("base64");{const e=[];return t.forEach((t=>{e.push(String.fromCharCode(t))})),globalThis.btoa(e.join(""))}}async function L(t,e){let n;n=t.parameters?{...t,inputs:H(new Uint8Array(t.inputs instanceof ArrayBuffer?t.inputs:await t.inputs.arrayBuffer()))}:{accessToken:t.accessToken,model:t.model,data:t.inputs};const r=await h(n,{...e,taskHint:"image-to-image"});if(!(r&&r instanceof Blob))throw new g("Expected Blob");return r}async function _(t,e){const n={...t,inputs:{image:H(new Uint8Array(t.inputs.image instanceof ArrayBuffer?t.inputs.image:await t.inputs.image.arrayBuffer()))}},r=await h(n,{...e,taskHint:"zero-shot-image-classification"});if(!Array.isArray(r)||!r.every((t=>"string"==typeof t.label&&"number"==typeof t.score)))throw new g("Expected Array<{label: string, score: number}>");return r}async function S(t,e){const n=t.model?await d(t.model,t.accessToken,e):void 0,r=await h(t,{...e,taskHint:"feature-extraction",..."sentence-similarity"===n&&{forceTask:"feature-extraction"}});let o=!0;const a=(t,e,n=0)=>!(n>e)&&(t.every((t=>Array.isArray(t)))?t.every((t=>a(t,e,n+1))):t.every((t=>"number"==typeof t)));if(o=Array.isArray(r)&&a(r,3,0),!o)throw new g("Expected Array<number[][][] | number[][] | number[] | number>");return r}async function j(t,e){const n=await h(t,{...e,taskHint:"fill-mask"});if(!Array.isArray(n)||!n.every((t=>"number"==typeof t.score&&"string"==typeof t.sequence&&"number"==typeof t.token&&"string"==typeof t.token_str)))throw new g("Expected Array<{score: number, sequence: string, token: number, token_str: string}>");return n}async function B(t,e){const n=await h(t,{...e,taskHint:"question-answering"});if("object"!=typeof n||!n||"string"!=typeof n.answer||"number"!=typeof n.end||"number"!=typeof n.score||"number"!=typeof n.start)throw new g("Expected {answer: string, end: number, score: number, start: number}");return n}async function M(t,e){const n=t.model?await d(t.model,t.accessToken,e):void 0,r=await h(t,{...e,taskHint:"sentence-similarity",..."feature-extraction"===n&&{forceTask:"sentence-similarity"}});if(!Array.isArray(r)||!r.every((t=>"number"==typeof t)))throw new g("Expected number[]");return r}async function O(t,e){const n=await h(t,{...e,taskHint:"summarization"});if(!Array.isArray(n)||!n.every((t=>"string"==typeof t?.summary_text)))throw new g("Expected Array<{summary_text: string}>");return n?.[0]}async function I(t,e){const n=await h(t,{...e,taskHint:"table-question-answering"});if(!("string"==typeof n?.aggregator&&"string"==typeof n.answer&&Array.isArray(n.cells)&&n.cells.every((t=>"string"==typeof t))&&Array.isArray(n.coordinates)&&n.coordinates.every((t=>Array.isArray(t)&&t.every((t=>"number"==typeof t))))))throw new g("Expected {aggregator: string, answer: string, cells: string[], coordinates: number[][]}");return n}async function N(t,e){const n=(await h(t,{...e,taskHint:"text-classification"}))?.[0];if(!Array.isArray(n)||!n.every((t=>"string"==typeof t?.label&&"number"==typeof t.score)))throw new g("Expected Array<{label: string, score: number}>");return n}function V(t){return Array.isArray(t)?t:[t]}async function P(t,e){const n=V(await h(t,{...e,taskHint:"text-generation"}));if(!Array.isArray(n)||!n.every((t=>"string"==typeof t?.generated_text)))throw new g("Expected Array<{generated_text: string}>");return n?.[0]}async function*U(t,e){yield*y(t,{...e,taskHint:"text-generation"})}async function z(t,e){const n=V(await h(t,{...e,taskHint:"token-classification"}));if(!Array.isArray(n)||!n.every((t=>"number"==typeof t.end&&"string"==typeof t.entity_group&&"number"==typeof t.score&&"number"==typeof t.start&&"string"==typeof t.word)))throw new g("Expected Array<{end: number, entity_group: string, score: number, start: number, word: string}>");return n}async function q(t,e){const n=await h(t,{...e,taskHint:"translation"});if(!Array.isArray(n)||!n.every((t=>"string"==typeof t?.translation_text)))throw new g("Expected type Array<{translation_text: string}>");return 1===n?.length?n?.[0]:n}async function D(t,e){const n=V(await h(t,{...e,taskHint:"zero-shot-classification"}));if(!Array.isArray(n)||!n.every((t=>Array.isArray(t.labels)&&t.labels.every((t=>"string"==typeof t))&&Array.isArray(t.scores)&&t.scores.every((t=>"number"==typeof t))&&"string"==typeof t.sequence)))throw new g("Expected Array<{labels: string[], scores: number[], sequence: string}>");return n}async function R(t,e){const n=await h(t,{...e,taskHint:"text-generation",chatCompletion:!0});if("object"!=typeof n||!Array.isArray(n?.choices)||"number"!=typeof n?.created||"string"!=typeof n?.id||"string"!=typeof n?.model||"string"!=typeof n?.system_fingerprint||"object"!=typeof n?.usage)throw new g("Expected ChatCompletionOutput");return n}async function*F(t,e){yield*y(t,{...e,taskHint:"text-generation",chatCompletion:!0})}async function Q(t,e){const n={...t,inputs:{question:t.inputs.question,image:H(new Uint8Array(t.inputs.image instanceof ArrayBuffer?t.inputs.image:await t.inputs.image.arrayBuffer()))}},r=V(await h(n,{...e,taskHint:"document-question-answering"}))?.[0];if("string"!=typeof r?.answer||"number"!=typeof r.end&&void 0!==r.end||"number"!=typeof r.score&&void 0!==r.score||"number"!=typeof r.start&&void 0!==r.start)throw new g("Expected Array<{answer: string, end?: number, score?: number, start?: number}>");return r}async function $(t,e){const n={...t,inputs:{question:t.inputs.question,image:H(new Uint8Array(t.inputs.image instanceof ArrayBuffer?t.inputs.image:await t.inputs.image.arrayBuffer()))}},r=(await h(n,{...e,taskHint:"visual-question-answering"}))?.[0];if("string"!=typeof r?.answer||"number"!=typeof r.score)throw new g("Expected Array<{answer: string, score: number}>");return r}async function G(t,e){const n=await h(t,{...e,taskHint:"tabular-regression"});if(!Array.isArray(n)||!n.every((t=>"number"==typeof t)))throw new g("Expected number[]");return n}async function W(t,e){const n=await h(t,{...e,taskHint:"tabular-classification"});if(!Array.isArray(n)||!n.every((t=>"number"==typeof t)))throw new g("Expected number[]");return n}var J=class{accessToken;defaultOptions;constructor(t="",e={}){this.accessToken=t,this.defaultOptions=e;for(const[n,r]of Object.entries(o))Object.defineProperty(this,n,{enumerable:!1,value:(n,o)=>r({...n,accessToken:t},{...e,...o})})}endpoint(t){return new Z(t,this.accessToken,this.defaultOptions)}},Z=class{constructor(t,e="",n={}){for(const[r,a]of Object.entries(o))Object.defineProperty(this,r,{enumerable:!1,value:(r,o)=>a({...r,accessToken:e,endpointUrl:t},{...n,...o})})}}}},a={};function i(t){var e=a[t];if(void 0!==e)return e.exports;var n=a[t]={exports:{}};return o[t](n,n.exports,i),n.exports}t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=t=>{t&&t.d<1&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},i.a=(o,a,i)=>{var s;i&&((s=[]).d=-1);var c,l,u,d=new Set,f=o.exports,p=new Promise(((t,e)=>{u=e,l=t}));p[e]=f,p[t]=t=>(s&&t(s),d.forEach(t),p.catch((t=>{}))),o.exports=p,a((o=>{var a;c=(o=>o.map((o=>{if(null!==o&&"object"==typeof o){if(o[t])return o;if(o.then){var a=[];a.d=0,o.then((t=>{i[e]=t,r(a)}),(t=>{i[n]=t,r(a)}));var i={};return i[t]=t=>t(a),i}}var s={};return s[t]=t=>{},s[e]=o,s})))(o);var i=()=>c.map((t=>{if(t[n])throw t[n];return t[e]})),l=new Promise((e=>{(a=()=>e(i)).r=0;var n=t=>t!==s&&!d.has(t)&&(d.add(t),t&&!t.d&&(a.r++,t.push(a)));c.map((e=>e[t](n)))}));return a.r?l:i()}),(t=>(t?u(p[n]=t):l(f),r(s)))),s&&s.d<0&&(s.d=0)},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i(127)})();
//# sourceMappingURL=packed_hfaichat.js.map