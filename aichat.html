<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>QuickAi - Chat</title>
    <link rel="stylesheet" href="src/renderer/css/aichat.css">
    <!--<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>-->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/highlight.min.js"></script>-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/default.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" crossorigin="anonymous"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.2/katex.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-polyfill/7.12.1/polyfill.min.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)'], ['[', ']']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                packages: {'[+]': ['ams', 'newcommand', 'textmacros']}
            },
    };
</script>
    <script id="MathJax-script" type="text/javascript" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

</head>
<!-- Main Container -->
<body id="main" class="h-[100vh] w-[100vw] max-h-[100vh] max-w-[100vw] px-3 py-4 mt-0 bg-white bg-opacity-90 rounded-b-none shadow-lg shadow-inner dark:bg-neutral-900  rounded-t-none overflow-hidden">
    <!--Notification Modal Background -->
    <div id="quickaiNotify" class="fixed top-0 left-1/2 transform -translate-x-1/2 z-50 opacity-0 pointer-events-none transition-all duration-500 ease-in-out">
        <!-- Modal Content -->
        <div class="items-center justify-center bg-white dark:bg-gray-950 p-6 rounded-lg shadow-lg w-full max-w-md">
            <!-- Close Button -->
            <button id="closeMessageModal" class="absolute top-4 right-4 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-300 dark:focus:ring-gray-600">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>

            <!-- Modal Title -->
            <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-4">Message</h2>

            <!-- Message Content -->
            <p id="messageContent" class="text-gray-700 dark:text-gray-300">
                Request completed in <span id="timeTaken" class="font-semibold text-blue-600 dark:text-blue-400">5 seconds</span>
            </p>

            <!-- Submit Button -->
            <button class="hidden mt-6 bg-blue-500 text-white p-2 px-4 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300">
                OK
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
            </button>
        </div>
    </div>

    <!-- Error Modal -->
    <div id="errorContainer" role="alert" aria-modal="true" class="hidden fixed top-0 left-0 transform -translate-x-1/2 z-50 opacity-0 pointer-events-none transition-all duration-500 ease-in-out p-4">
    <!-- Modal content -->
    <div class="bg-[#fea97f] p-4 rounded-lg shadow-lg max-w-md w-full">
        <h1 class="text-red-500 text-2xl text-center">Error</h1>
        <div class="bg-red-100 border border-red-300 p-4 text-center">
            <p id="errorArea" class="text-red-700 font-bold">Error during Ai Response</p>
            <div class="flex justify-between gap-2 mt-4">
                <button id="retryBt" title="Retry" aria-label="Retry" class="bg-red-500 text-white p-2 rounded-lg flex gap-2 hover:bg-green-700">
                    <svg class="loader spin h-8 w-8 hover:bg-green-400 rounded-full" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50">
                        <circle cx="25" cy="25" r="20" class="stroke-[#ffaa00]" stroke-width="5" fill="none"/>
                        <circle cx="25" cy="25" r="20" class="stroke-blue-500" stroke-width="5" fill="none" stroke-dasharray="31.4" stroke-dashoffset="0">
                            <animate attributeName="stroke-dashoffset" from="0" to="360" dur="4s" repeatCount="indefinite" />
                        </circle>
                    </svg>Retry
                </button>
                <button id="closeEModal" class="bg-gray-500 text-white p-2 rounded-lg justify-end">Close</button>
            </div>
        </div>
    </div>
    </div>

        <!-- Header -->
    <header class="space-b-2 mb-2">
        <div class="flex justify-between">
            <section class="flex justify-start">
                <!-- Toggle Button -->
                <button id="togglePane" title="View Chats" class="p-3 bg-blue-500 text-white rounded-full hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500" onclick="document.getElementById('conversationPane').classList.toggle('-translate-x-full')">
                    <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h8m-8 6h16" />
                    </svg>
                </button>
                <select id="mode" class="hidden">
                    <option value="basic">Basic mode</option>
                    <option value="coding">Coding mode</option>
                    <option value="vision">Vision</option>
                </select>

                <div class="relative">
                    <button id="modeButton" class="rounded-lg ml-1 p-2 font-semibold bg-gray-200 hover:bg-blue-200 text-sky-900 dark:text-gray-100 rounded-md dark:bg-zinc-950 dark:hover:bg-stone-600 outline-none cursor-pointer">
                    <div class="flex">
                        <span id="selectedModeText" class="text-lg">Basic mode</span>
                        <svg class="mt-1" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 9L12 15L18 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
                    </div>
                    </button>
                    <div id="modeDropdown" class="fixed z-50 mt-1 hidden min-w-fit max-h-[var(--radix-dropdown-menu-content-available-height)] overflow-y-auto py-2 min-w-fit bg-white border-2 border-gray-300 dark:border-none dark:bg-neutral-700 text-gray-800 dark:text-gray-300 rounded-lg shadow-lg">
                        <div role="menu" aria-orientation="vertical">
                            <div role="menuitem" class="flex items-center m-1.5 p-2.5 text-sm cursor-pointer focus-visible:outline-0 radix-disabled:pointer-events-none radix-disabled:opacity-50 group relative hover:bg-gray-200 dark:hover:bg-zinc-800 focus-visible:bg-zinc-700 radix-state-open:bg-zinc-700 rounded-md py-3 px-3 gap-2.5" tabindex="-1" data-value="basic">
                                <div class="flex grow items-center justify-between gap-2">
                                    <div class="flex items-center gap-3">
                                        <div class="flex h-7 w-7 flex-shrink-0 items-center justify-center rounded-full bg-gray-300 dark:bg-zinc-700">
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-black dark:text-gray-200">
                                            <path d="M15.11 14.285a.41.41 0 0 1 .78 0c.51 2.865.96 3.315 3.825 3.826.38.12.38.658 0 .778-2.865.511-3.315.961-3.826 3.826a.408.408 0 0 1-.778 0c-.511-2.865-.961-3.315-3.826-3.826a.408.408 0 0 1 0-.778c2.865-.511 3.315-.961 3.826-3.826Zm2.457-12.968a.454.454 0 0 1 .866 0C19 4.5 19.5 5 22.683 5.567a.454.454 0 0 1 0 .866C19.5 7 19 7.5 18.433 10.683a.454.454 0 0 1-.866 0C17 7.5 16.5 7 13.317 6.433a.454.454 0 0 1 0-.866C16.5 5 17 4.5 17.567 1.317Z" fill="currentColor"></path>
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M7.001 4a1 1 0 0 1 .993.887c.192 1.7.701 2.877 1.476 3.665.768.783 1.913 1.3 3.618 1.452a1 1 0 0 1-.002 1.992c-1.675.145-2.849.662-3.638 1.452-.79.79-1.307 1.963-1.452 3.638a1 1 0 0 1-1.992.003c-.152-1.706-.67-2.851-1.452-3.62-.788-.774-1.965-1.283-3.665-1.475a1 1 0 0 1-.002-1.987c1.73-.2 2.878-.709 3.646-1.476.767-.768 1.276-1.916 1.476-3.646A1 1 0 0 1 7 4Zm-2.472 6.998a6.11 6.11 0 0 1 2.468 2.412 6.232 6.232 0 0 1 1.037-1.376 6.232 6.232 0 0 1 1.376-1.036 6.114 6.114 0 0 1-2.412-2.469 6.163 6.163 0 0 1-1.053 1.416 6.163 6.163 0 0 1-1.416 1.053Z" fill="currentColor"></path>
                                        </svg>
                                        </div>
                                        <div>
                                        Basic mode
                                        <div class="text-gray-500 dark:text-gray-400 text-xs">Default conversation mode</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div role="menuitem" class="flex items-center m-1.5 p-2.5 text-sm cursor-pointer focus-visible:outline-0 radix-disabled:pointer-events-none radix-disabled:opacity-50 group relative hover:bg-gray-200 dark:hover:bg-zinc-800 focus-visible:bg-zinc-700 radix-state-open:bg-zinc-700 rounded-md py-3 px-3 gap-2.5" tabindex="-1" data-value="coding">
                                <div class="flex grow items-center justify-between gap-2">
                                <div class="flex items-center gap-3">
                                    <div class="flex h-7 w-7 flex-shrink-0 items-center justify-center rounded-full bg-gray-300 dark:bg-zinc-700">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-black dark:text-gray-200">
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M12 7.42a22.323 22.323 0 0 0-2.453 2.127A22.323 22.323 0 0 0 7.42 12a22.32 22.32 0 0 0 2.127 2.453c.807.808 1.636 1.52 2.453 2.128a22.335 22.335 0 0 0 2.453-2.128A22.322 22.322 0 0 0 16.58 12a22.326 22.326 0 0 0-2.127-2.453A22.32 22.32 0 0 0 12 7.42Zm1.751-1.154a24.715 24.715 0 0 1 2.104 1.88 24.722 24.722 0 0 1 1.88 2.103c.316-.55.576-1.085.779-1.59.35-.878.507-1.625.503-2.206-.003-.574-.16-.913-.358-1.111-.199-.199-.537-.356-1.112-.36-.58-.003-1.328.153-2.205.504-.506.203-1.04.464-1.59.78Zm3.983 7.485a24.706 24.706 0 0 1-1.88 2.104 24.727 24.727 0 0 1-2.103 1.88 12.7 12.7 0 0 0 1.59.779c.878.35 1.625.507 2.206.503.574-.003.913-.16 1.111-.358.199-.199.356-.538.36-1.112.003-.58-.154-1.328-.504-2.205a12.688 12.688 0 0 0-.78-1.59ZM12 18.99c.89.57 1.768 1.03 2.605 1.364 1.026.41 2.036.652 2.955.646.925-.006 1.828-.267 2.5-.94.673-.672.934-1.575.94-2.5.006-.919-.236-1.929-.646-2.954A15.688 15.688 0 0 0 18.99 12a15.6 15.6 0 0 0 1.364-2.606c.41-1.025.652-2.035.646-2.954-.006-.925-.267-1.828-.94-2.5-.672-.673-1.575-.934-2.5-.94-.919-.006-1.929.235-2.954.646-.838.335-1.716.795-2.606 1.364a15.69 15.69 0 0 0-2.606-1.364C8.37 3.236 7.36 2.994 6.44 3c-.925.006-1.828.267-2.5.94-.673.672-.934 1.575-.94 2.5-.006.919.235 1.929.646 2.955A15.69 15.69 0 0 0 5.01 12c-.57.89-1.03 1.768-1.364 2.605-.41 1.026-.652 2.036-.646 2.955.006.925.267 1.828.94 2.5.672.673 1.575.934 2.5.94.92.006 1.93-.235 2.955-.646A15.697 15.697 0 0 0 12 18.99Zm-1.751-1.255a24.714 24.714 0 0 1-2.104-1.88 24.713 24.713 0 0 1-1.88-2.104c-.315.55-.576 1.085-.779 1.59-.35.878-.507 1.625-.503 2.206.003.574.16.913.359 1.111.198.199.537.356 1.111.36.58.003 1.328-.153 2.205-.504.506-.203 1.04-.463 1.59-.78Zm-3.983-7.486a24.727 24.727 0 0 1 1.88-2.104 24.724 24.724 0 0 1 2.103-1.88 12.696 12.696 0 0 0-1.59-.779c-.878-.35-1.625-.507-2.206-.503-.574.003-.913.16-1.111.359-.199.198-.356.537-.36 1.111-.003.58.153 1.328.504 2.205.203.506.464 1.04.78 1.59Z" fill="currentColor"></path>
                                    </svg>
                                    </div>
                                    <div>
                                    Coding mode
                                    <div class="text-gray-500 dark:text-gray-400 text-xs">Supports advanced coding tasks</div>
                                    </div>
                                </div>
                                </div>
                            </div>
                            <div role="menuitem" class="flex items-center m-1.5 p-2.5 text-sm cursor-pointer focus-visible:outline-0 radix-disabled:pointer-events-none radix-disabled:opacity-50 group relative hover:bg-gray-200 dark:hover:bg-zinc-800 focus-visible:bg-zinc-700 radix-state-open:bg-zinc-700 rounded-md py-3 px-3 gap-2.5" tabindex="-1" data-value="vision">
                                <div class="flex grow items-center justify-between gap-2">
                                <div class="flex items-center gap-3">
                                    <div class="flex h-7 w-7 flex-shrink-0 items-center justify-center rounded-full bg-gray-300 dark:bg-zinc-700">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-black dark:text-gray-200">
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM16.0755 7.93219C16.5272 8.25003 16.6356 8.87383 16.3178 9.32549L11.5678 16.0755C11.3931 16.3237 11.1152 16.4792 10.8123 16.4981C10.5093 16.517 10.2142 16.3973 10.0101 16.1727L7.51006 13.4227C7.13855 13.014 7.16867 12.3816 7.57733 12.0101C7.98598 11.6386 8.61843 11.6687 8.98994 12.0773L10.6504 13.9039L14.6822 8.17451C15 7.72284 15.6238 7.61436 16.0755 7.93219Z" fill="currentColor"></path>
                                    </svg>
                                    </div>
                                    <div>
                                    Vision
                                    <div class="text-gray-500 dark:text-gray-400 text-xs">Supports image upload and download</div>
                                    </div>
                                </div>
                                </div>
                            </div>
                            <div role="separator" aria-orientation="horizontal" class="mx-5 my-1 h-px bg-gray-700"></div>
                        </div>
                    </div>
                </div>
            </section>
            <section class="flex justify-end">
                <button id="settings" title="Settings" class="mr-[3vw]">
                    <svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="h-8 w-8 fill-current text-gray-800 dark:text-gray-200 transition-colors duration-200">
                        <path d="M19.14 12.936c.06-.437.06-.874 0-1.31l2.007-1.55c.21-.16.27-.44.14-.67l-2.4-4.155c-.12-.21-.36-.29-.57-.21l-2.337 1.017c-.56-.43-1.17-.79-1.83-1.07l-.354-2.6c-.04-.26-.27-.46-.54-.46h-5c-.27 0-.51.2-.54.46l-.354 2.6c-.66.28-1.28.64-1.83 1.07L5.22 5.89c-.21-.08-.45 0-.57.21l-2.4 4.155c-.12.21-.07.51.14.67l2.007 1.55c-.06.437-.06.874 0 1.31l-2.007 1.55c-.21.16-.27.44-.14.67l2.4 4.155c.12.21.36.29.57.21l2.337-1.017c.56.43 1.17.79 1.83 1.07l.354 2.6c.04.26.27.46.54.46h5c.27 0 .51-.2.54-.46l.354-2.6c.66-.28 1.28-.64 1.83-1.07l2.337-1.017c.21-.08.45 0 .57.21l2.4 4.155c.12.21.07.51-.14.67l-2.007 1.55c.06.437.06.874 0 1.31zM12 16a4 4 0 110-8 4 4 0 010 8z"/>
                    </svg>
                </button>
            </section>
        </div>
    </header>

    <!-- Conversation Pane -->
    <div id="conversationPane" class="fixed top-[10vh] h-[90vh] left-0 rounded-r-lg w-fit max-w-[45%] sm:max-w-[40vw] md:max-w-[30vw] lg:max-w-[20vw] bg-teal-900 dark:bg-stone-950 p-4 transform -translate-x-full transition duration-300 ease-in-out z-40 border-r-2 border-y-2 border-sky-300 dark:border-gray-600 shadow-md overflow-hidden">
        <section class="fixed w-full bg-indigo-800 dark:bg-cyan-950 mb-8 left-0 top-[0vh] z-50">
            <div class="relative flex space-x-2 w-full">
                <h2 class="text-2xl p-1 font-bold bg-gradient-to-r from-blue-400 to-pink-400 dark:from-cyan-400 dark:to-cyan-400 bg-clip-text text-transparent">Chats</h2>
                <button id="new-chat" title="Open New Chat" aria-label="open new conversation" class="absolute top-2 right-5 font-bold dark:text-sky-500">
                   <svg class="w-6 h-6 pulse-hover stroke-white dark:stroke-current" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"  stroke-width="2">
                        <!-- Pen/pencil Cover -->
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                    </svg>
                </button>
            </div>
            <hr>
        </section>
        <div id="conversations" class="h-[calc(90vh-72px)] overflow-y-auto mb-2 w-full space-y-2 mt-7 scrollbar-hide overflow-x-hidden">
            <!-- Conversation items will be added here -->
        </div>
    </div>

    <!-- Copied feedback modal -->
    <div id="copyModal" class="fixed top-0 left-1/2 transform -translate-x-1/2 w-4/5 max-w-md bg-white dark:bg-zinc-700 text-gray-800 dark:text-gray-100 p-4 shadow-md rounded text-center z-50 opacity-0 pointer-events-none transition-all duration-500 ease-in-out">
        <div class="flex items-center justify-center">
            <svg class="w-6 h-6 text-green-500 dark:text-green-400 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <p id="text-space" class="text-lg">Text copied</p>
        </div>
    </div>

    <!-- Chat Area -->
    <section id="chatArea" class="bg-gray-50 dark:bg-stone-900 h-[75vh] p-2 shadow-inner shadow-gray-400 dark:shadow-none md:p-4 rounded-lg  dark:shadow-gray-950 overflow-y-auto overflow-x-hidden space-y-4 scrollbar-hide">
        <!-- Quick query options -->
        <section id='suggestions' class="mx-auto">
            <div class="justify-center mt-[var(--screen-optical-compact-offset-amount)] flex h-full flex-shrink flex-col items-center overflow-hidden text-token-text-primary" style="opacity: 1; will-change: auto;">
                <div class="relative inline-flex justify-center text-center text-2xl font-semibold leading-9 dark:text-white">
                    <h1>What can I help you with? </h1><h1 class="result-streaming absolute left-full transition-opacity" style="opacity: 0;"><span></span></h1>
                </div>
                <div class="h-fit" style="opacity: 1; will-change: auto;">
                    <div class="mt-5 flex items-center justify-center gap-x-2 transition-opacity xl:gap-x-2.5 opacity-100 flex-wrap">
                        <ul id="SQ-UL" class="relative flex items-stretch gap-x-2 gap-y-4 overflow-hidden py-2 sm:gap-y-2 xl:gap-x-2.5 xl:gap-y-2.5 flex-wrap justify-center">
                            <li id="create-image" class="SG" style="opacity: 1; will-change: auto; transform: none;">
                                <button class="relative flex h-[42px] items-center gap-1.5 rounded-full border border-token-border-light px-3 py-2 text-start text-[13px] shadow-xxs transition enabled:hover:bg-token-main-surface-secondary disabled:cursor-not-allowed xl:gap-2 xl:text-[14px]"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-md" style="color: rgb(53, 174, 71);"><path d="M4.5 17.5L7.56881 14.3817C8.32655 13.6117 9.55878 13.5826 10.352 14.316L16.5 20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M19 12H18.3798C17.504 12 16.672 11.6173 16.102 10.9524L11.898 6.04763C11.328 5.38269 10.496 5 9.6202 5H6C4.89543 5 4 5.89543 4 7V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M19 5H18.3798C17.504 5 16.672 5.38269 16.102 6.04763L14 8.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><circle cx="8.5" cy="9.5" r="1.5" fill="currentColor"></circle><path d="M18 14V10C18 9.58798 18.4704 9.35279 18.8 9.6L21.4667 11.6C21.7333 11.8 21.7333 12.2 21.4667 12.4L18.8 14.4C18.4704 14.6472 18 14.412 18 14Z" fill="currentColor"></path><path d="M18 7V3C18 2.58798 18.4704 2.35279 18.8 2.6L21.4667 4.6C21.7333 4.8 21.7333 5.2 21.4667 5.4L18.8 7.4C18.4704 7.64721 18 7.41202 18 7Z" fill="currentColor"></path></svg><span class="max-w-full select-none whitespace-nowrap text-gray-600 transition group-hover:text-token-text-primary dark:text-gray-500">Create image</span></button>
                            </li>
                            <li id="get-advice" class="SG" style="opacity: 1; will-change: auto; transform: none;">
                                <button class="relative flex h-[42px] items-center gap-1.5 rounded-full border border-token-border-light px-3 py-2 text-start text-[13px] shadow-xxs transition enabled:hover:bg-token-main-surface-secondary disabled:cursor-not-allowed xl:gap-2 xl:text-[14px]"><svg width="26" height="24" viewBox="0 0 26 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-md" style="color: rgb(118, 208, 235);"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.4544 4.10451C13.1689 3.95886 12.8309 3.95886 12.5455 4.10451L2.98609 8.98175L2.07715 7.20022L11.6365 2.32298C12.493 1.88603 13.5069 1.88603 14.3634 2.32298L23.9227 7.20022C24.7332 7.61373 25.091 8.44008 24.9999 9.2194V15C24.9999 15.5523 24.5522 16 23.9999 16C23.4477 16 22.9999 15.5523 22.9999 15V11.2156L20.9666 12.2115V16.3052C20.9666 17.409 20.3605 18.4237 19.3885 18.9468L14.4219 21.6203C13.5341 22.0981 12.4657 22.0981 11.578 21.6203L6.61135 18.9468C5.63941 18.4237 5.03328 17.409 5.03328 16.3052V12.2115L2.10635 10.7779C0.626202 10.0529 0.609039 7.94926 2.07715 7.20022L2.98608 8.98175L12.5601 13.671C12.8376 13.807 13.1623 13.807 13.4398 13.671L23 8.9885C23.0001 8.98394 23.0001 8.97938 23.0003 8.97483L13.4544 4.10451ZM7.03328 13.1911V16.3052C7.03328 16.6732 7.23532 17.0114 7.5593 17.1858L12.526 19.8592C12.8219 20.0185 13.178 20.0185 13.4739 19.8592L18.4406 17.1858C18.7646 17.0114 18.9666 16.6732 18.9666 16.3052V13.1911L14.3195 15.4672C13.4871 15.8749 12.5128 15.8749 11.6803 15.4672L7.03328 13.1911Z" fill="currentColor"></path></svg><span class="max-w-full select-none whitespace-nowrap text-gray-600 transition group-hover:text-token-text-primary dark:text-gray-500">Get advice</span></button>
                            </li>
                            <li id="summarize" class="SG" style="opacity: 1; will-change: auto; transform: none;">
                                <button class="relative flex h-[42px] items-center gap-1.5 rounded-full border border-token-border-light px-3 py-2 text-start text-[13px] shadow-xxs transition enabled:hover:bg-token-main-surface-secondary disabled:cursor-not-allowed xl:gap-2 xl:text-[14px]"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-md" style="color: rgb(234, 132, 68);"><path fill-rule="evenodd" clip-rule="evenodd" d="M4 5C4 3.34315 5.34315 2 7 2H14.1716C14.9672 2 15.7303 2.31607 16.2929 2.87868L19.1213 5.70711C19.6839 6.26972 20 7.03278 20 7.82843V19C20 20.6569 18.6569 22 17 22H7C5.34315 22 4 20.6569 4 19V5ZM7 4C6.44772 4 6 4.44772 6 5V19C6 19.5523 6.44772 20 7 20H17C17.5523 20 18 19.5523 18 19V7.82843C18 7.56321 17.8946 7.30886 17.7071 7.12132L14.8787 4.29289C14.6911 4.10536 14.4368 4 14.1716 4H7ZM8 10C8 9.44772 8.44772 9 9 9H15C15.5523 9 16 9.44772 16 10C16 10.5523 15.5523 11 15 11H9C8.44772 11 8 10.5523 8 10ZM8 14C8 13.4477 8.44772 13 9 13H13C13.5523 13 14 13.4477 14 14C14 14.5523 13.5523 15 13 15H9C8.44772 15 8 14.5523 8 14Z" fill="currentColor"></path></svg><span class="max-w-full select-none whitespace-nowrap text-gray-600 transition group-hover:text-token-text-primary dark:text-gray-500">Summarize text</span></button>
                            </li>
                            <li id="suprise" class="SG" style="opacity: 1; will-change: auto; transform: none;">
                                <button class="relative flex h-[42px] items-center gap-1.5 rounded-full border border-token-border-light px-3 py-2 text-start text-[13px] shadow-xxs transition enabled:hover:bg-token-main-surface-secondary disabled:cursor-not-allowed xl:gap-2 xl:text-[14px]"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-md" style="color: rgb(118, 208, 235);"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.9969 3.39017C14.5497 2.17402 15.961 1.60735 17.2013 2.10349L19.4044 2.98475C20.7337 3.51645 21.3458 5.05369 20.7459 6.35358L19.0629 10H20C20.5523 10 21 10.4477 21 11V19C21 20.6569 19.6569 22 18 22H6C4.34315 22 3 20.6569 3 19V11C3 10.4504 3.44331 10.0044 3.99183 10L3.84325 9.89871C3.83307 9.89177 3.82303 9.88465 3.81311 9.87733C2.55917 8.9526 2.79737 7.01262 4.23778 6.41871L6.35774 5.5446L7.08184 3.36883C7.57382 1.8905 9.49246 1.51755 10.5024 2.70393L11.9888 4.45002L13.5103 4.46084L13.9969 3.39017ZM15.5096 4.89554C16.2552 5.48975 16.5372 6.59381 15.9713 7.51403L14.8266 9.37513C14.8265 9.38763 14.8266 9.40262 14.8273 9.42012C14.8294 9.47125 14.8357 9.52793 14.8451 9.58262C14.8548 9.63855 14.8654 9.67875 14.8714 9.69773C14.9032 9.79819 14.9184 9.89994 14.9184 10H16.8602L18.93 5.51547C19.0499 5.25549 18.9275 4.94804 18.6617 4.8417L16.4585 3.96044C16.2105 3.86122 15.9282 3.97455 15.8176 4.21778L15.5096 4.89554ZM12.8885 10C12.8572 9.84122 12.8358 9.66998 12.8289 9.50115C12.8194 9.26483 12.8254 8.81125 13.0664 8.41953L14.2677 6.46628L11.9746 6.44997C11.3934 6.44584 10.8427 6.18905 10.4659 5.74646L8.97951 4.00037L8.25541 6.17614C8.07187 6.72765 7.65748 7.17203 7.12012 7.39359L5.00091 8.26739L7.06338 9.67378C7.19188 9.7614 7.29353 9.87369 7.3663 10H12.8885ZM5 12V19C5 19.5523 5.44772 20 6 20H18C18.5523 20 19 19.5523 19 19V12H5ZM9.5 14.5C9.5 13.9477 9.94771 13.5 10.5 13.5H13.5C14.0523 13.5 14.5 13.9477 14.5 14.5C14.5 15.0523 14.0523 15.5 13.5 15.5H10.5C9.94771 15.5 9.5 15.0523 9.5 14.5Z" fill="currentColor"></path></svg><span class="max-w-full select-none whitespace-nowrap text-gray-600 transition group-hover:text-token-text-primary dark:text-gray-500">Surprise me</span></button>
                            </li>
                            <div id="more" class="inline-block" style="opacity: 1; will-change: auto; transform: none;">
                                <button class="relative flex h-[42px] items-center gap-1.5 rounded-full border border-token-border-light px-3 py-2 text-start text-[13px] shadow-xxs transition enabled:hover:bg-token-main-surface-secondary disabled:cursor-not-allowed xl:gap-2 xl:text-[14px]"><span class="max-w-full select-none whitespace-nowrap text-gray-600 transition group-hover:text-token-text-primary dark:text-gray-500">More</span></button>
                            </div>
                            <li id="code" class="extra hidden SG" style="opacity: 1; will-change: auto;">
                                <button class="relative flex h-[42px] items-center gap-1.5 rounded-full border border-token-border-light px-3 py-2 text-start text-[13px] shadow-xxs transition enabled:hover:bg-token-main-surface-secondary disabled:cursor-not-allowed xl:gap-2 xl:text-[14px]"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-md" style="color: rgb(108, 113, 255);"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 6C3 4.34315 4.34315 3 6 3H18C19.6569 3 21 4.34315 21 6V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V6ZM6 5C5.44772 5 5 5.44772 5 6V18C5 18.5523 5.44772 19 6 19H18C18.5523 19 19 18.5523 19 18V6C19 5.44772 18.5523 5 18 5H6ZM7.29289 9.29289C7.68342 8.90237 8.31658 8.90237 8.70711 9.29289L10.7071 11.2929C11.0976 11.6834 11.0976 12.3166 10.7071 12.7071L8.70711 14.7071C8.31658 15.0976 7.68342 15.0976 7.29289 14.7071C6.90237 14.3166 6.90237 13.6834 7.29289 13.2929L8.58579 12L7.29289 10.7071C6.90237 10.3166 6.90237 9.68342 7.29289 9.29289ZM12 14C12 13.4477 12.4477 13 13 13H16C16.5523 13 17 13.4477 17 14C17 14.5523 16.5523 15 16 15H13C12.4477 15 12 14.5523 12 14Z" fill="currentColor"></path></svg><span class="max-w-full select-none whitespace-nowrap text-gray-600 transition group-hover:text-token-text-primary dark:text-gray-500">Code</span></button>
                            </li>
                            <li id="analyze-images" class="extra hidden SG" style="opacity: 1; will-change: auto;">
                                <button class="relative flex h-[42px] items-center gap-1.5 rounded-full border border-token-border-light px-3 py-2 text-start text-[13px] shadow-xxs transition enabled:hover:bg-token-main-surface-secondary disabled:cursor-not-allowed xl:gap-2 xl:text-[14px]"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-md" style="color: rgb(108, 113, 255);"><path fill-rule="evenodd" clip-rule="evenodd" d="M5.91444 7.59106C4.3419 9.04124 3.28865 10.7415 2.77052 11.6971C2.66585 11.8902 2.66585 12.1098 2.77052 12.3029C3.28865 13.2585 4.3419 14.9588 5.91444 16.4089C7.48195 17.8545 9.50572 19 12 19C14.4943 19 16.518 17.8545 18.0855 16.4089C19.6581 14.9588 20.7113 13.2585 21.2295 12.3029C21.3341 12.1098 21.3341 11.8902 21.2295 11.6971C20.7113 10.7415 19.6581 9.04124 18.0855 7.59105C16.518 6.1455 14.4943 5 12 5C9.50572 5 7.48195 6.1455 5.91444 7.59106ZM4.55857 6.1208C6.36059 4.45899 8.84581 3 12 3C15.1542 3 17.6394 4.45899 19.4414 6.1208C21.2384 7.77798 22.4152 9.68799 22.9877 10.7438C23.4147 11.5315 23.4147 12.4685 22.9877 13.2562C22.4152 14.312 21.2384 16.222 19.4414 17.8792C17.6394 19.541 15.1542 21 12 21C8.84581 21 6.36059 19.541 4.55857 17.8792C2.76159 16.222 1.58478 14.312 1.01232 13.2562C0.58525 12.4685 0.585249 11.5315 1.01232 10.7438C1.58478 9.688 2.76159 7.77798 4.55857 6.1208ZM12 9.5C10.6193 9.5 9.49999 10.6193 9.49999 12C9.49999 13.3807 10.6193 14.5 12 14.5C13.3807 14.5 14.5 13.3807 14.5 12C14.5 10.6193 13.3807 9.5 12 9.5ZM7.49999 12C7.49999 9.51472 9.51471 7.5 12 7.5C14.4853 7.5 16.5 9.51472 16.5 12C16.5 14.4853 14.4853 16.5 12 16.5C9.51471 16.5 7.49999 14.4853 7.49999 12Z" fill="currentColor"></path></svg><span class="max-w-full select-none whitespace-nowrap text-gray-600 transition group-hover:text-token-text-primary dark:text-gray-500">Analyze images</span></button>
                            </li>
                            <li id="help-me-write" class="extra hidden SG" style="opacity: 1; will-change: auto;">
                                <button class="relative flex h-[42px] items-center gap-1.5 rounded-full border border-token-border-light px-3 py-2 text-start text-[13px] shadow-xxs transition enabled:hover:bg-token-main-surface-secondary disabled:cursor-not-allowed xl:gap-2 xl:text-[14px]"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-md" style="color: rgb(203, 139, 208);"><path d="M3 6H10" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path><path d="M3 10H7" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path><path d="M13.4282 17.5718L20.5 10.5C21.6046 9.39543 21.6046 7.60457 20.5 6.5C19.3954 5.39543 17.6046 5.39543 16.5 6.5L9.42819 13.5718C9.14899 13.851 8.95868 14.2066 8.88124 14.5938L8 19L12.4062 18.1188C12.7934 18.0413 13.149 17.851 13.4282 17.5718Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="max-w-full select-none whitespace-nowrap text-gray-600 transition group-hover:text-token-text-primary dark:text-gray-500">Help me write</span></button>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
    </section>


     <!--scroll to bottom-->
    <button id="scroll-bottom" class="hidden z-40 cursor-pointer absolute rounded-full bg-fuchsia-400 border border-blue-400 dark:border-gray-300 dark:bg-white right-1/2 translate-x-1/2 shadow w-8 h-8 flex items-center justify-center bottom-[18%]" title="scrollðŸ‘‡">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-md text-token-text-primary"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 21C11.7348 21 11.4804 20.8946 11.2929 20.7071L4.29289 13.7071C3.90237 13.3166 3.90237 12.6834 4.29289 12.2929C4.68342 11.9024 5.31658 11.9024 5.70711 12.2929L11 17.5858V4C11 3.44772 11.4477 3 12 3C12.5523 3 13 3.44772 13 4V17.5858L18.2929 12.2929C18.6834 11.9024 19.3166 11.9024 19.7071 12.2929C20.0976 12.6834 20.0976 13.3166 19.7071 13.7071L12.7071 20.7071C12.5196 20.8946 12.2652 21 12 21Z" fill="currentColor"></path>
            </svg>
    </button>

   <!-- User Message Input Section -->
    <div class="fixed flex left-0 lg:left-auto w-full lg:items-center lg:justify-center z-30 bottom-[1%] transition-opacity duration-200">
        <section class="w-full lg:w-[80vw] flex space-x-4 z-30">
            <section class="relative w-full p-2 border dark:border-black dark:bg-gray-700 rounded-lg">
                <textarea id="userInput"
                    oninput="this.style.height = 'auto'; this.style.height = (this.scrollHeight) + 'px';" cols="10"
                    class="w-full rows-10 scrollbar-hide resize-none overflow-wrap py-1 px-[10%] md:py-3 md:pl-[4%] md:pr-[7%] max-h-[15vh] border border-gray-500 dark:border-none rounded-lg focus:outline-none dark:outline-sky-600 focus:ring-2 focus:ring-purple-500 dark:focus:ring-gray-900 dark:ring-1 dark:bg-gray-800 dark:text-white"
                    autofocus
                    placeholder="Message QuickAi ðŸ’« To generate an image, start with `/image`" aria-label="Message input">
                </textarea>

                <div id="AttachFiles" class="absolute left-3 bottom-5 flex rounded-lg opacity-70 hover:opacity-90" title="Attach files">
                    <button aria-label="Attach files" class="items-center justify-center h-8 w-8 rounded-lg rounded-bl-xl text-token-text-primary dark:text-white focus-visible:outline-black dark:focus-visible:outline-white hover:bg-black/10">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M9 7C9 4.23858 11.2386 2 14 2C16.7614 2 19 4.23858 19 7V15C19 18.866 15.866 22 12 22C8.13401 22 5 18.866 5 15V9C5 8.44772 5.44772 8 6 8C6.55228 8 7 8.44772 7 9V15C7 17.7614 9.23858 20 12 20C14.7614 20 17 17.7614 17 15V7C17 5.34315 15.6569 4 14 4C12.3431 4 11 5.34315 11 7V15C11 15.5523 11.4477 16 12 16C12.5523 16 13 15.5523 13 15V9C13 8.44772 13.4477 8 14 8C14.5523 8 15 8.44772 15 9V15C15 16.6569 13.6569 18 12 18C10.3431 18 9 16.6569 9 15V7Z" fill="currentColor"></path>
                        </svg>
                    </button>
                </div>

                <button
                    id="sendBtn"
                    class="absolute right-2 h-14 w-14 bottom-4 rounded-full transition ease-in-out duration-200 z-32"
                    aria-label="Send message" title="Send message">
                    <i class="fasfa-paper-plane"></i>
                    <div id="normalSend" class="">
                        <svg class="w-full h-full fill-black dark:fill-stone-600 stroke-blue-500 hover:stroke-green-500 dark:stroke-gray-700 dark:hover:stroke-green-200 dark:hover:fill-gray-900 dark:hover:fill-opacity-50" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"  stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-send">
                            <circle cx="12" cy="12" r="10"></circle>
                            <polyline points="12 8 16 12 12 16"></polyline>
                            <line x1="8" y1="12" x2="16" y2="12"></line>
                        </svg>
                    </div>
                    <div id="spinningSquares" class="hidden">
                        <svg width="48" height="48" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg" class="transform scale-75">
                            <rect x="10" y="10" width="8" height="8" class="fill-green-500">
                                <animateTransform attributeName="transform" type="rotate" from="0 14 14" to="360 14 14" dur="1s" repeatCount="indefinite" />
                            </rect>
                            <rect x="28" y="10" width="8" height="8" class="fill-blue-500">
                                <animateTransform attributeName="transform" type="rotate" from="0 34 14" to="360 34 14" dur="1s" repeatCount="indefinite" begin="-0.5s" />
                            </rect>
                            <rect x="10" y="28" width="8" height="8" class="fill-yellow-500">
                                <animateTransform attributeName="transform" type="rotate" from="0 14 34" to="360 14 34" dur="1s" repeatCount="indefinite" begin="-0.25s" />
                            </rect>
                            <rect x="28" y="28" width="8" height="8" class="fill-pink-500">
                                <animateTransform attributeName="transform" type="rotate" from="0 34 34" to="360 34 34" dur="1s" repeatCount="indefinite" />
                            </rect>
                        </svg>
                    </div>
                </button>
            </section>
        </section>
    </div>
    </div>

    <!--Attachment modal and file input -->
    <section>
    <!-- Attachment modal -->
        <div id="dropZoneModal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 dark:bg-black dark:bg-opacity-40 hidden z-40" title="Attach files" onclick="this.classList.add('hidden');">
            <!-- Modal Content -->
            <div id="dropZone" class="relative bg-white dark:bg-stone-800 p-6 rounded-lg shadow-lg w-full h-full md:mx-auto max-w-[70vw] max-h-[70vh] md:max-h-[80vh] md:max-w-md 2xl:max-w-lg cursor-pointer" onclick="event.stopPropagation()">
                <button id="closeFileEModal" title="Close" class="absolute top-2 right-2 text-gray-400 dark:text-gray-500 hover:text-blue-300 dark:hover:text-gray-300" aria-label="Close">
                    <svg class="fill-current h-6 w-6" role="img" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                        <path d="M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.65-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"></path>
                    </svg>
                </button>
                <p id="dropZoneText" class="text-gray-500 dark:text-gray-300 mt-4 text-lg">Drag and drop files here or click to select</p>
                <div id="dropZoneSVG" class="mt-6 flex items-center justify-center">
                    <svg class="fill-current h-10 w-10 text-gray-300" role="img" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                        <path d="M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"></path>
                        <path d="M14 2H6a2 2 0 00-2 2v6a2 2 0 002 2h8a2 2 0 002-2V4a2 2 0 00-2-2z"></path>
                    </svg>
                </div>
                <div class="preview-container mt-3 overflow-y-auto scrollbar-hide max-h-[75%]">
                    <div id="uploadedFiles" class="space-y-2"></div>
                </div>
                <section class="w-[90%] absolute bg-cyan-300 dark:bg-zinc-700 flex space-x-2 bottom-0 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                    <textarea type="text" aria-label="prompt input field" title="prompt field" id="imagePrompt" class="w-full pt-5 scrollbar-hide resize-none text-black dark:text-white max-h-[15vh] overflow-wrap rows-3 bg-cyan-100 dark:bg-zinc-700" oninput="this.style.height = 'auto'; this.style.height = (this.scrollHeight) + 'px';" cols="10" placeholder="Enter your prompt here" />
                    </textarea>
                    <div class="flex justify-end">
                        <button id="submitImage" aria-label="submit button" title="submit" class="p-3 bg-blue-500 text-white rounded focus:outline-none focus:bg-blue-600 hover:bg-blue-600 w-fit" onclick="submitImageAndText()">Submit<i class="fas fa-paper-plane"></i></button>
                    </div>
                </section>
            </div>
        </div>
    </section>
    <!-- File Input -->
    <input multiple class="absolute opacity-0" accept=".txt, .doc, .docx, .rtf, .md, .markdown, .epub, .mobi, .pdf, .png, .jpg, .jpeg, .svg, .gif, .bmp" type="file" id="fileInput" onclick="handleFileInputClick();"/>

    <!-- Conversation options -->
    <!-- Background Overlay -->
    <div id="chatOptions-overlay" class="fixed inset-0 bg-gray-900 bg-opacity-50 z-40 hidden w-full h-full">

        <!-- Main Modal -->
        <div id="chatOptions" class="fixed flex inset-0 items-center justify-center rounded-lg shadow-xl z-50">
        <div class="bg-white p-6 rounded-lg shadow-xl max-w-md w-full bg-gradient-to-r from-blue-400 to-sky-400">
            <div class="text-center">
            <h2 class="text-2xl font-semibold text-gray-800 mb-6">Options</h2>
            <section class="grid grid-rows-2 space-y-4">
                <div class="flex flex-row justify-center space-x-4">
                <button id="renameBt" class="bg-blue-800 text-white p-1 rounded-lg w-full shadow-sm transition duration-300 ease-in-out transform hover:scale-105">
                    Rename
                </button>
                <button id="deleteBt" class="bg-red-500 text-white p-2 rounded-lg w-full shadow-sm transition duration-300 ease-in-out transform hover:scale-105" onclick="document.getElementById('confirm-modal').classList.remove('hidden');">
                    Delete
                </button>
                </div>
                <div class="items-center">
                <button id="cancelBt" class="bg-gray-300 text-gray-700 mt-4 p-3 rounded-lg w-fit shadow-sm transition duration-300 ease-in-out transform hover:scale-105" onclick="document.getElementById('chatOptions-overlay').classList.add('hidden');">
                    Cancel
                </button>
                </div>
            </section>
            </div>
        </div>
    </div>

    <div id="confirm-modal" class="fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white p-4 rounded-lg shadow-xl max-w-md w-fit z-50 hidden">
        <div class="text-center">
            <h2 class="text-2xl font-semibold text-gray-800 mb-6">Confirm Deletion</h2>
            <p class="text-gray-700 mb-4">Are you sure you want to delete this item?</p>
            <div class="flex justify-between space-x-4">
            <button id="CancelDelete" class="bg-blue-500 text-white p-3 rounded-lg w-1/2 shadow-sm transition duration-300 ease-in-out transform hover:scale-105" onclick="document.getElementById('confirm-modal').classList.add('hidden'); document.getElementById('chatOptions-overlay').classList.add('hidden');">
                Cancel
            </button>
            <button id="CornfirmDelete" class="bg-red-500 text-white p-3 rounded-lg w-1/2 shadow-sm transition duration-300 ease-in-out transform hover:scale-105">
                Delete
            </button>
            </div>
            </div>
        </div>
    </div>

    <!--Conversation Rename modal-->
    <div id="renameModal" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 hidden">
        <div class="bg-white p-6 rounded-lg shadow-lg">
        <h3 id="modalTitle" class="text-2xl font-bold text-gray-800 mb-4"></h3>
        <div class="mb-4">
            <label for="newName" class="block text-gray-700 mb-2">New Name:</label>
            <input type="text" id="newName" class="w-full p-2 border rounded" placeholder="Enter new name">
        </div>
        <div class="flex justify-end space-x-4">
            <button id="renameButton" class="px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600">Rename</button>
            <button id="cancelButton" class="px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600">Cancel</button>
        </div>
        </div>
    </div>

    <!-- Settings Modal Background -->
    <div id="settingsModal" class="hidden fixed inset-2 z-50 flex items-center justify-center bg-black bg-opacity-60 dark:bg-opacity-80 dark:bg-gray-900 dark:bg-opacity-50" onclick="if (event.target.id === 'settingsModal') {                       this.classList.add('hidden');}">
    <!-- Modal Content -->
    <div class="relative bg-white dark:bg-zinc-900 dark:border-2 dark:border-black dark:shadow-md dark:shadow-black p-6 rounded-lg w-full mx-2 md:mx-auto max-w-md lg:max-w-lg xl:max-w-xl max-h-full">

    <!-- Close Button -->
        <button id="closeModal" class="absolute top-2 right-2 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-400">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
            </svg>
        </button>

        <!-- Modal Title -->
        <h2 class="text-xl font-bold text-gray-800 dark:text-white mb-4">Settings</h2>

        <!--Scrollable content container-->
        <section class="bg-white dark:bg-zinc-800 overflow-auto max-h-[80vh] scrollbar-hide shadow-inner shadow-slate-400 dark:shadow-sky-400 rounded-md p-2">

            <section class="grid grid-cols-2 grid-rows-2 md:grid-cols-3 mb-4 space-y-1" arial-label="switch theme" title="switch theme">
                <!-- Theme Switching Option -->
                <div class="flex items-center">
                    <label for="themeSwitch" class="text-gray-700 dark:text-gray-200">Dark Mode</label>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input id="themeSwitch" type="checkbox" class="sr-only peer">
                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"></div>
                    </label>
                </div>

                <!-- AutoScroll option -->
                <div class="flex items-center" title="scroll on content" aial-label="scroll on content">
                    <label for="AutoScroll" class="text-gray-700 dark:text-gray-200">Auto scroll</label>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input id="AutoScroll" checked type="checkbox" class="sr-only peer">
                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"></div>
                    </label>
                </div>
                <!-- Image Generation model change -->
                <div class="flex items-center">
                    <label class="relative inline-flex items-center cursor-pointer text-gray-700 dark:text-gray-200">Use Flux</label>
                    <label class="relative inline-flex items-center cursor-pointer" title="Change image generation model to FLUX">
                        <input id="CModel" type="checkbox" class="sr-only peer">
                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"></div>
                    </label>
                </div>
            </section>

            <!--Misceleneous-->

            <div id="pref-inputSection" class="mb-6">
                <label for="recommendations" class="block text-lg font-medium mb-2 text-gray-600 dark:text-gray-300 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2 text-blue-600 dark:text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m4 0h1M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                    </svg>
                    Enter Your &nbsp<i> <span class="text-orange-500">wish</span></i> /<span class="text-pink-500"> infor</span>/<span class="text-purple-500"> preference</span>:
                </label>
                <section title="What would you like quickai to know about you? Tell me what you would want me to do for you and in what manner?" class="w-full rounded-lg border-2 border-blue-500 dark:border-blue-300 focus:outline-none focus:ring-2 focus:ring-orange-500 bg-gray-50 dark:bg-gray-700">
                     <textarea id="pref-input" class="scrollbar-hide resize-none overflow-wrap w-full text-rose-950 dark:text-green-600 pt-3 px-4 rounded-lg bg-gray-50 dark:bg-gray-700 ring-none outline-none" placeholder="What would you like quickai to do or know about you?..."></textarea>
                     <div class="flex justify-end">
                        <!-- Checkmark Circle Icon Button -->
                        <button id="pref-submit" class="bg-green-500 hover:bg-yellow-500 text-white p-1 rounded-md focus:outline-none focus:ring-2 focus:ring-green-300">
                            Submit
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                        </button>
                     </div>
                </section>
            </div>

            <div id="pref-section" class="mb-6">
                <label class="block text-lg font-medium mb-2 text-gray-600 dark:text-gray-300 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mr-2 text-blue-600 dark:text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 4 12 4c4.477 0 8.268 3.943 9.542 9-.145 1.326-.678 2.43-1.482 3.379l-.548-.548c.139-.441.208-.901.208-1.374 0-1.11-.89-2-2-2s-2 .89-2 2c0 .473.069.933.209 1.374l-.548.549c-.804-.879-1.91-1.482-3.166-1.482zm0 0C5.522 8.268 2.733 5.477 2.458 12C3.732 16.057 7.523 20 12 20s8.268-3.943 9.542-9-.145-1.326-.678-2.43-.208-.901-.208-1.374 0-1.11.89-2 2-2s2 .89 2 2c0 .473-.069.933-.209 1.374l-.548-.549C16.866 13.912 15.76 12 12 12z"></path>
                    </svg>
                    Current Info:
                </label>
                <div id="pref-preview" class="relative p-6 bg-blue-200 dark:bg-stone-900 border-none border-blue-300 rounded-lg shadow-md shandow-gray-700">
                    <p id="pref-content" class="text-gray-800 dark:text-orange-400"></p>
                    <section class="absolute top-0.5 right-1 flex flex-col space-y-2">
                        <button id="pref-delete" aria-label="Delete preference" title="Delete preference" class="rounded-md p-1 bg-slate-600 dark:bg-gray-800 text-red-400 hover:text-red-500 shadow-md">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.981-1.858L5 7m5 4v6m4-6v6"></path>
                            </svg>
                        </button>
                        <button id="pref-edit" aria-label="Edit" title="Edit" class="p-1 rounded-md bg-blue-500 text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300 shadow-md">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white hover:text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                            </svg>
                        </button>
                    </section>
                </div>
            </div>

            <!-- Additional Settings Options -->
            <div class="mb-4">
            <label class="block text-gray-700 dark:text-gray-300 mb-2">Language:</label>
            <select class="form-select w-fit font-bold bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500">
                <option value="en" class="text-yellow-400 font bold"><b>English</b></option>
                <option value="fr">French</option>
                <option value="es">Spanish</option>
            </select>
            </div>

            <!-- Save Settings Button -->
            <section class="w-full flex justify-center">
                <button id="saveSettings" class="w-fit bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400">
                Save Settings
                </button>
            </section>
        </section>
    </div>
</body>
<script src="src/renderer/js/script.js"></script>
<script src="src/renderer/js/_aichat.js"></script>
<!--<script src="src/renderer/js/_utility.js"></script>-->
</html>
